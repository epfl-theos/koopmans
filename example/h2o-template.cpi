&CONTROL
  calculation = 'cp' 					! the type of calculation (always cp) 
  iprint = 1						! see CP documentaion
  ndr = 50						! units for input restart (see CP documentation)
  ndw = 51						! units for output restart (see CP documentation)
  outdir = './TMP-CP/'					! Directory for tep files and for restart 
  prefix = 'pbe'					! prepended to input/outputs filenames (see CP documentation)
  pseudo_dir = './pseudo/'				! The directory where the pseudopotentials are 
  restart_mode = 'restart'				! calculation from scratch (see CP documentation)
  verbosity = 'low'					! see CP documentation
  disk_io='high'					! Set to true if you want to dump on file the KS (Canonical) WFCs.
/
&SYSTEM
  do_ee = .true.					! Counter charge corrections (relevant for KC and finite systems)
  do_wf_cmplx = .true.					! wheter to minimize in the space of complex orbital or not
  do_orbdep = .false.					! switch on the orbital dependent calculation)
  ecutrho =   260.0					! Always 4xecutwfc for NC pseudopotentials
  ecutwfc =   65.0					! The cutoff for the Plane Wave expansion (Convergence parameter) 
  ibrav = 0						! The Bravais lattice (in this case not specified, eed to use CELL_PARAMETER card, below)
  nat = 3						! number of atoms 
  neldw = 4						! number of electron up
  nelec = 8						! total number of electrons
  nelup = 4						! number of electrons down
  nspin = 1						! spin polarized calculation (2) or not (1) We set it to 2 to be consistent with N+1 and N-1 calculation
  ntyp = 2						! number of different atomic type 
  fixed_band = 1
  fixed_state = .true.
  f_cutoff = 1.0
/
&ELECTRONS
  conv_thr =   1.0000000000d-10				! Threshold on the energy convergence
  empty_states_nbnd = 0
  empty_states_ethr = 1.0e-8
  electron_dynamics = 'cg'				! the minimization alg (conjugated gradient, but also dump-dynamics (much slower))
  maxiter = 200						! maximum number of iterations
  ortho_para = 1					! number of procs for the parallel iagonalization (never really used)
  passop =   2.0000000000d+00				! trial step for the CG minimization
/
&IONS							! Ions dynamic. NOT RELEVANT
  ion_dynamics = 'none'
  ion_nstepe = 5
  ion_radius(1) =   1.0000000000d+00
  ion_radius(2) =   1.0000000000d+00
  ion_radius(3) =   1.0000000000d+00
  ion_radius(4) =   1.0000000000d+00
/
&EE
  which_compensation = 'tcc'				! if do_ee=.true. specify which copensation, tcc is the one for 0-D systems
/
&NKSIC							! KOOPMANS CARD
  do_innerloop = .false.				! Do the innerloop or not (see borghi 2015 on the minimization of a ODD functional)
  do_innerloop_cg = .true.				! use a CG algorithm for the innerloop
  esic_conv_thr =   1.0000000000d-08			! convergence on the ODD part of the energy (the one that depends on the unitary trnsformation)
  innerloop_cg_nreset = 7				! reset the CG every 7 steps (restart with a simple steepest discent step) 
  innerloop_cg_nsd = 2					! number of the initial Steepest discent steps 
  innerloop_init_n = 3					! tune when to start a hard convergence for the ODD energy
  innerloop_nmax = 300					! maximum number of innerloop steps
  nkscalfact =  1.0					! the screening parameter
  odd_nkscalfact = .false.				! switch to a ODD alpha (one for each orbitals) 
  which_orbdep = 'pz'					! WHICH ODD flavour (pz, nki, nkipz) 
  one_innerloop_only=.true. 				! do just one unitary roation without modify the manifold
  hartree_only_sic=.false.				! do not add the self-xc to the ODD energy
/
ATOMIC_SPECIES
H 1 H_ONCV_PBE-1.0.upf 					! the pseudopotential file (has to be inside "pseudo_dir"
 O 1 O_ONCV_PBE-1.0.upf 

ATOMIC_POSITIONS angstrom				! Specify the atomic positions (see CP documentation)
O 4.7571 4.0000 3.902317 
H 5.5142 4.0000 4.488417 
H 4.0000 4.0000 4.488417 

CELL_PARAMETERS angstrom				! The cell paramters
9.5142 0.0 0.0 
0.0 8.0 0.0 
0.0 0.0 8.5861 
