
  -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+-
   NOTE: This file was automatically generated by `cvs2cl.pl'.  If you
   edit this file, your changes will be lost when someone next runs cvs2cl.pl.
  -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+- -+-

2009-07-18 21:06  tag QE-4-1

2009-07-18 21:06  degironc

	* PW/compute_dip.f90:

	definition of volume element corrected

2009-07-18 11:48  giannozz

	* examples/: README, environment_variables:

	Updated

2009-07-18 11:32  giannozz

	* examples/XSpectra_example/run_example_diamond:

	Fixed TMP_DIR

2009-07-18 11:21  giannozz

	* examples/CLS_FS_example/run_example:

	Fixed, now it works

2009-07-18 10:58  giannozz

	* examples/WAN90_example/run_example:

	Updated with a more likely path for W90 executable, but this example
	DOESN'T WORK

2009-07-18 10:36  giannozz

	* examples/Restart_example/: README, run_example,
	  reference/sio2.cp.restart.out, reference/sio2.cp.start.out,
	  reference/sio2.pw.restart.out:

	Example updated

2009-07-17 11:14  giannozz

	* tests/dipole.ref:

	Forgot this one

2009-07-17 10:44  kokalj

	* examples/daily_test:

	adding a toplevel "make doc" to the daily test,
	which will help enforce the good state of *.def and *.tex files

2009-07-17 10:41  kokalj

	* Doc/Makefile, dev-tools/Makefile, doc-def/Makefile:

	small adaptation needed by toplevel "make doc"

2009-07-17 10:39  kokalj

	* Makefile:

	making a doc target (to be used by daily_test), which compiles:

	* latex documentation in Doc/
	* helpdoc *.def files in doc-def/

2009-07-17 10:02  kokalj

	* GUI/PWgui/: INSTALL, pwgui.activeTcl:

	Paolo noticed that newer ActiveTcl (versions 8.5 and 8.6) have been stripped off the many packages including Itcl. Therefore the ActiveTcl8.4 is the one that is good. Making an explicit notice in the INSTALL file.

2009-07-17 09:36  kokalj

	* GUI/PWgui/examples/pp/psi2.pp.inp:

	small update

2009-07-17 09:30  kokalj

	* GUI/PWgui/INSTALL:

	small update

2009-07-17 09:13  kokalj

	* GUI/PWgui/modules/pp/: pp-help.tcl, pp.tcl:

	adopting to plot_num = 9, which is no longer in use

2009-07-17 09:12  kokalj

	* GUI/PWgui/modules/: pw/pw-help.tcl, atomic/atomic-help.tcl:

	small update

2009-07-16 19:00  kokalj

	* GUI/PWgui/modules/pw/pw.tcl:

	oops

2009-07-16 18:58  kokalj

	* GUI/PWgui/src/: menustate.itcl, run.itcl, settings.itcl,
	  view.itcl:

	several new features:
	- executables can now be specified by path only
	- making ld1.x runable
	- new xcrysden versions don't need XCRYSDEN_TOPDIR, but pwgui needs it to run xcrysden (for some specific reasons), Making a notification to the user is such case occurs

2009-07-16 18:56  kokalj

	* GUI/PWgui/pwgui.settings:

	updating

2009-07-16 18:55  kokalj

	* GUI/PWgui/modules/pw/pw.tcl:

	corresting possible values for CI_scheme

2009-07-16 17:05  kokalj

	* GUI/PWgui/modules/pw/: pw-event.tcl, pw-help.tcl, pw.tcl:

	updating pw.x module

2009-07-16 16:28  kokalj

	* GUI/PWgui/doc/pwdocs/Makefile:

	user_guide.tex is back to Doc/; making Makefile awa<re of it

2009-07-16 16:25  kokalj

	* GUI/PWgui/doc/pwdocs/: democritos.eps, democritos.png, pwscf.eps,
	  pwscf.png, user_guide.html, user_guide.tex:

	deleting local copy of user guide: user_guide.tex is back to Doc/!

2009-07-16 16:09  kokalj

	* doc-def/input_xx.xsl:

	html tables that describe the cards syntax are now made in nowrap fashion
	(if the syntax lines breaks, it is difficult to understand). The side effect is that the main document's table is now wider.

2009-07-16 16:07  kokalj

	* doc-def/INPUT_PW.def:

	supplementing Andrea's description of tpiba_b and crystal_b kpoints flags

2009-07-16 14:37  kokalj

	* pwtools/band_plot.f90:

	band_plot.x couldn't read the bands file created by bands.x:
	mismatch in the format. Fixing it.

2009-07-16 10:51  dalcorso

	* doc-def/INPUT_PW.def:

	Added documentation for tpiba_b and crystal_b options in k-points flags.
	Added default value for report.
	A few corrections.

2009-07-16 08:26  giannozz

	* PW/data_structure.f90:

	format increased to deal with > 1000 processors

2009-07-16 08:21  giannozz

	* D3/make.depend, flib/make.depend:

	Updated

2009-07-16 08:20  giannozz

	* atomic/Makefile:

	atomic doesn't depend upon phonon

2009-07-16 08:19  giannozz

	* makedeps.sh:

	Multigrid doesn't depend upon anything

2009-07-15 17:49  kokalj

	* doc-def/INPUT_PW.def:

	correcting a small but fatal typo (prevented def->html|txt compilation)

2009-07-15 17:08  giannozz

	* dev-tools/release.sh:

	Updated

2009-07-15 16:34  giannozz

	* Doc/: README, developer_man.tex, devman.tex, user_guide.tex,
	  userguide.tex:

	Files renamed with their previous names

2009-07-15 12:15  giannozz

	* Doc/: README, release-notes:

	Updated

2009-07-15 12:09  giannozz

	* upftools/UPF:

	UPF format specifications: keep only the copy on the wiki

2009-07-14 20:02  giannozz

	* tests/: README, atom-lsda.ref, atom-pbe.ref, atom-sigmapbe.ref,
	  atom.ref, berry.ref, berry.ref2, dipole.in, electric0.ref,
	  electric1.ref, electric2.ref, eval_infix.ref, eval_infix.ref2,
	  lattice-ibrav0-abc.ref, lattice-ibrav0-cell_parameters+a.ref,
	  lattice-ibrav0-cell_parameters+celldm.ref,
	  lattice-ibrav0-cell_parameters.ref, lattice-ibrav1-kauto.ref,
	  lattice-ibrav1.ref, lattice-ibrav10-kauto.ref,
	  lattice-ibrav10.ref, lattice-ibrav11-kauto.ref,
	  lattice-ibrav11.ref, lattice-ibrav12-kauto.ref,
	  lattice-ibrav12.ref, lattice-ibrav13-kauto.ref,
	  lattice-ibrav13.ref, lattice-ibrav14-kauto.ref,
	  lattice-ibrav14.ref, lattice-ibrav2-kauto.ref,
	  lattice-ibrav2.ref, lattice-ibrav3-kauto.ref, lattice-ibrav3.ref,
	  lattice-ibrav4-kauto.ref, lattice-ibrav4.ref,
	  lattice-ibrav5-kauto.ref, lattice-ibrav5.ref,
	  lattice-ibrav6-kauto.ref, lattice-ibrav6.ref,
	  lattice-ibrav7-kauto.ref, lattice-ibrav7.ref,
	  lattice-ibrav8-kauto.ref, lattice-ibrav8.ref,
	  lattice-ibrav9-kauto.ref, lattice-ibrav9.ref, lda+U-noU.ref,
	  lda+U-user_ns.ref, lda+U.ref, lda+U_force.ref, lda+U_gamma.ref,
	  lsda-cg.ref, lsda-mixing_TF.ref, lsda-mixing_localTF.ref,
	  lsda-mixing_ndim.ref, lsda-nelup+neldw.ref,
	  lsda-tot_magnetization.ref, lsda.ref, lsda.ref2,
	  md-pot_extrap1.ref, md-pot_extrap2.ref, md-wfc_extrap1.ref,
	  md-wfc_extrap2.ref, md.ref, metaGGA.ref, metadyn.ref,
	  metal-fermi_dirac.ref, metal-gaussian.ref, metal-tetrahedra.ref,
	  metal-tetrahedra.ref2, metal.ref, metal.ref2, neb1-H2+H.ref,
	  neb2-H2+H-symm.ref, neb3-H2+H-asym.ref, noncolin-cg.ref,
	  noncolin-constrain_angle.ref, noncolin-constrain_atomic.ref,
	  noncolin-constrain_total.ref, noncolin.ref, noncolin.ref2,
	  paw-atom.ref, paw-atom_l=2.ref, paw-atom_lda.ref,
	  paw-atom_spin.ref, paw-atom_spin_lda.ref, paw-atom_tqr.ref,
	  paw-bfgs.ref, paw-vcbfgs.ref, relax-damped.ref, relax-el.ref,
	  relax.ref, relax2-bfgs_ndim3.ref, relax2.ref, scf-cg.ref,
	  scf-disk_io.ref, scf-gamma.ref, scf-k0.ref, scf-kauto.ref,
	  scf-mixing_TF.ref, scf-mixing_beta.ref, scf-mixing_localTF.ref,
	  scf-mixing_ndim.ref, scf-ncpp.ref, scf-wf_collect.ref, scf.ref,
	  scf.ref2, spinorbit.ref, spinorbit.ref2, uspp-cg.ref,
	  uspp-mixing_TF.ref, uspp-mixing_localTF.ref,
	  uspp-mixing_ndim.ref, uspp-singlegrid.ref, uspp.ref, uspp.ref2,
	  uspp1-coulomb.ref, uspp1.ref, uspp2.ref, vc-relax1.ref,
	  vc-relax2.ref, vc-relax3.ref, vc-relax4.ref, vdw.ref:

	tests updated

2009-07-14 19:01  giannozz

	* Doc/: democritos.pdf, devman.tex, quantum_espresso.pdf,
	  release-notes, userguide.tex:

	Added item for a last-minute bug - still waiting for contributions to
	release-notes: what should we put in there??? added pdf pictures for
	pdflatex. Not sure what the most transferrable way to include graphics
	into tex file is. This one is the only one that works on my stupid PC

2009-07-14 18:27  ccavazzoni

	* CPV/cpr.f90:

	- CP: code that set the total force equal to zero at every
	  cp step removed. Now it is used only when an external force is specified

2009-07-14 09:03  ccavazzoni

	* examples/example18/reference/: sio2.cp.restart.out,
	  sio2.cp.start.out, sio2.vc-cp.out, sio2.vc-cp.restart.out:

	- new reference outputs for example18

2009-07-14 08:53  ccavazzoni

	* examples/example20/reference/nh3.out:

	- new reference output for example20

2009-07-14 08:43  ccavazzoni

	* examples/example19/reference/: h2o-mol1.out, h2o-mol2.out,
	  h2o-mol3.out:

	- new reference values for example19

2009-07-13 16:26  giannozz

	* Modules/version.f90:

	Version number moved to 4.1

2009-07-13 15:59  giannozz

	* Modules/radial_grids.f90:

	Obscure bug leading to NaNs in PAW calculations fixed (or in any event,
	neutralized)

2009-07-13 12:07  giannozz

	* D3/: d3_readin.f90, d3_setup.f90, openfild3.f90:

	Workaround to make D3 working again

2009-07-11 14:59  dalcorso

	* examples/example08/reference/ni.scf.out:

	Example 8 updated.

2009-07-11 12:52  dalcorso

	* examples/example13/reference/: cu.cg.out, cu.scf.out,
	  fe.angl.out, fe.pen.out, fe.scf.out, fe.total.out, ni.scf.out,
	  o2.relax.out:

	Example 13 updated.

2009-07-11 11:17  dalcorso

	* examples/example01/reference/: al.scf.cg.out, al.scf.david.out,
	  cu.band.cg.out, cu.band.david.out, cu.bands.out, cu.scf.cg.out,
	  cu.scf.david.out, ni.scf.cg.out, ni.scf.david.out, si.scf.cg.out,
	  si.scf.david.out:

	Example 1 updated.

2009-07-10 21:22  dalcorso

	* examples/example02/reference/: c.phG.out, c.scf.out, ni.phX.out,
	  ni.scf.out, si.phG.out, si.phX.out, si.phXsingle.out, si.scf.out:

	Example 2 updated.

2009-07-10 21:12  dalcorso

	* examples/example06/reference/: alas.freq, alas.ph.out,
	  alas.phdos, alas.scf.out, matdyn.modes, q2r.out:

	Example 6 updated.

2009-07-10 21:02  dalcorso

	* examples/example05/reference/si.scf.out:

	Example 5 updated.

2009-07-10 20:23  tag QE-4-1-

2009-07-10 20:23  giannozz

	* Doc/devman.tex:

	First attempt to bring the developer manual back to cvs

2009-07-10 18:52  dalcorso

	* examples/example07/reference/: al.elph.out, al.scf.fit.out,
	  al.scf.out:

	Example 7 updated.

2009-07-10 18:43  giannozz

	* Doc/: release-notes, userguide.tex:

	Documentation updated. Please add whatever is needed to file release-notes.
	The user guide needs to be verified for completeness and accuracy; then itl
	also needs some beautification
	exact

2009-07-10 18:42  dalcorso

	* examples/example09/reference/: ch4.scf.out, sih4.scf.out:

	Example 9 updated.

2009-07-10 18:36  dalcorso

	* examples/example10/reference/chg.out:

	Example 10 updated.

2009-07-10 18:29  dalcorso

	* examples/example11/reference/: O.out, O_gamma.out, al.out:

	Example 11 updated.

2009-07-10 18:25  dalcorso

	* examples/example12/reference/: AlwireH.scf.out, al.scf.out,
	  alwire.scf.out, alwire1.scf.out, ni.scf.out:

	Example 12 updated.

2009-07-10 18:05  dalcorso

	* examples/example15/reference/: alas.dynG, alas.ph.out,
	  alas.scf.out:

	Example 15 updated.

2009-07-10 18:00  dalcorso

	* examples/example16/reference/AlAs110re.scf.out:

	example 16 updated.

2009-07-10 17:54  dalcorso

	* examples/example22/reference/: pt.ph.out, pt.phX.out, pt.scf.out,
	  pt.scf_ph.out, pt.tet.out, pt4.out:

	example 22 updated.

2009-07-10 17:45  dalcorso

	* examples/example24/reference/: ni.phG.out, ni.phX.out,
	  ni.scf.out, ni_so.phG.out, ni_so.phX.out, ni_so.scf.out,
	  pt.phG.out, pt.phX.out, pt.scf.out:

	example 24 updated

2009-07-10 17:27  dalcorso

	* examples/example32/reference/: Cu.phG_pbe.out, Cu.scf_pbe.out,
	  c.phG.out, c.scf.out, ch4.scf.out:

	example 32 updated.

2009-07-10 17:15  dalcorso

	* examples/example35/reference/: c.phG.out, c.scf.out, si.phG.out,
	  si.scf.out:

	example35 updated.

2009-07-10 15:19  giannozz

	* examples/: README, EXX_example/README, example19/run_example,
	  example20/run_example:

	Obsolete statements removed, a few scripts updated (xc_type -> input_dft).

	Examples are an out-of-control mess. It takes many hours just to check and
	update them. I am not going to do it.

2009-07-10 14:57  giannozz

	* PW/: divide_class_so.f90, sgam_at.f90:

	Dimmok -> Dimmock ; better message, repeated only once, when fractional
	translations are disabled

2009-07-10 12:51  giannozz

	* Modules/functionals.f90:

	Variable exceeding maximum length (32 characters in standard fortran 90/95)(
	shortened. Please stick to the standard.

2009-07-09 18:51  dalcorso

	* PW/divide_class_so.f90:

	A few signs in the double group character tables of C_3 and S_6 have been
	changed.
	The new signs agree with the tables of Koster, Dimmok, Wheeler, Statz,
	Properties of the 32 point groups, and differ from those of
	Koster, Space groups and their representations that were implemented so far.
	In at least one example the former are correct. If somebody has evidence
	that previous signs were correct, please provide an example.

2009-07-09 18:22  ccavazzoni

	* PW/dqvan2.f90:

	- workaround for a weird IBM xlf bug

2009-07-09 18:13  giannozz

	* PP/wannier_umatrix_subroutines.f:

	Ooops...

2009-07-09 18:07  giannozz

	* Modules/cell_base.f90, Modules/xml_io_base.f90,
	  PP/wannier_umatrix_subroutines.f, PW/electrons.f90,
	  PW/forces.f90, PW/stress.f90, pwtools/bands_FS.f90:

	Tabulators and unused variables removed

2009-07-09 16:23  giannozz

	* Modules/constraints_module.f90:

	Unitialized variable (was used in MD to calculate T)

2009-07-08 21:26  ccavazzoni

	* install/Make.bluegeneP:

	- file updated according to the new setup of Jugene (Juelich BlueGene)
	  added support for ScaLAPACK libraries

2009-07-08 12:29  giannozz

	* CPV/adjef.f90, CPV/cp_fpmd.f90, CPV/efermi.f90,
	  CPV/potentials.f90, CPV/pseudo_base.f90, D3/d3ionq.f90,
	  EE/setlocalcoul.f90, Gamma/d2ion.f90, Modules/read_ncpp.f90,
	  PH/d2ionq.f90, PH/hdiag.f90, PH/setlocq.f90, PP/do_shift_ew.f90,
	  PW/dvloc_of_g.f90, PW/ewald.f90, PW/ewald_dipole.f90,
	  PW/force_ew.f90, PW/g2_kin.f90, PW/stres_ewa.f90,
	  PW/vloc_of_g.f90, PW/wgauss.f90, VdW/check_v_eff.f90,
	  VdW/eff_pot.f90, atomic/read_pseudo_ncpp.f90, flib/erf.f90,
	  upftools/casino2upf.f90, upftools/fpmd2upf.f90,
	  upftools/ncpp2upf.f90, upftools/oldcp2upf.f90:

	There can be conflicts between the erf and erfc in QE and those provided
	by external libraries (e.g. recent ESSL). In order to prevent such problems,
	erf has been renamed qe_erf and erfc qe_erfc

2009-07-07 08:46  giannozz

	* XSpectra/xspectra.f90:

	Added support for ESPRESSO_TMPDIR; removed nonstandard commas in write
	that some compilers don't like

2009-07-06 18:17  dalcorso

	* PP/plotband.f90:

	Bug fix: a problem in the plotting routine could give wrong band plots
	even when the symmetry classification was correct.

2009-07-03 20:11  giannozz

	* flib/make.depend:

	[no log message]

2009-07-03 20:11  giannozz

	* PW/: make.depend, potinit.f90:

	Minor changes, make.depend updated

2009-07-03 20:10  giannozz

	* Modules/functionals.f90:

	Minore updates, make.depend updated

2009-07-03 20:08  giannozz

	* PW/vcsubs.f90:

	Modified algorithm by SdG implemented by default instead of the original
	one. There are cases in which the former works nicely and the latter
	loses the symmetry: not great for a symmetry=preserving method.

2009-07-03 15:15  giannozz

	* Modules/version.f90:

	Version number moved to 4.1a

2009-07-02 17:53  degironc

	* examples/dipole_example/: run_example, reference/ni+co.eps,
	  reference/ni+co.pp.out, reference/ni+co.scf.in,
	  reference/ni+co.scf.out, reference/ni+co.vpot,
	  reference/ni+co.vpot-z:

	dipole_example modified so as to better center the dipole-layer in the
	ni+co slab calculation (in the previous version some residual electronic
	charge was still present in the dipole-layer region).
	corresponding output files are also updated

2009-06-30 07:26  paulatto

	* doc-def/INPUT_PW.def:

	Better description of tstress

2009-06-29 18:11  paulatto

	* flib/erf.f90:

	Added f_defs.h: it may become necessary to add some workaround for erfc on
	some versions of the xlf compiler, better to keep the standard fortran
	definitions in all files

2009-06-29 18:07  paulatto

	* PW/ewald.f90:

	#include "f_defs.h" was missing in this file (and possibly in many others)

2009-06-29 17:59  paulatto

	* PP/do_shift_ew.f90:

	Error message was referring to the wrong function name
	LP

2009-06-28 15:21  dalcorso

	* atomic/atomic_paw.f90:

	Introduced a check to forbid the generation of PAW datasets with negative
	pseudocharge.

2009-06-27 22:45  degironc

	* Modules/read_namelists.f90, PW/add_efield.f90:

	correction of a bug introduced with the new treatment of dipolar correction
	and macroscopic field in a slab.
	There is still a ~ 1.d-4 Ry difference in the total energy of the test example
	to be investigated.

2009-06-26 12:52  degironc

	* examples/dipole_example/reference/ni+co.avg.in,
	  examples/dipole_example/reference/ni+co.eps,
	  examples/dipole_example/reference/ni+co.pp.in,
	  examples/dipole_example/reference/ni+co.pp.out,
	  examples/dipole_example/reference/ni+co.scf.in,
	  examples/dipole_example/reference/ni+co.scf.out,
	  examples/dipole_example/reference/ni+co.vpot,
	  examples/dipole_example/reference/ni+co.vpot-z,
	  examples/dipole_example/reference/water.avg.in,
	  examples/dipole_example/reference/water.eps,
	  examples/dipole_example/reference/water.pp.in,
	  examples/dipole_example/reference/water.pp.out,
	  examples/dipole_example/reference/water.scf.in,
	  examples/dipole_example/reference/water.scf.out,
	  examples/dipole_example/reference/water.vpot,
	  examples/dipole_example/reference/water.vpot-z,
	  pseudo/C.pbe-rrkjus.UPF:

	an example added that test the dipole correction for a Ni+CO slab and
	for an isolated water molecule
	R.Sabatini and SdG

2009-06-26 12:49  degironc

	* examples/dipole_example/: README, run_example:

	an example is added that tests the dipole correction in a Ni+CO slab and
	for an isolated water molecule
	R.Sabatini and SdG

2009-06-25 16:06  degironc

	* Modules/cell_base.f90, PW/add_efield.f90, PW/compute_dip.f90,
	  PW/scf_mod.f90:


	Reformulation of the dipole and macroscopic electric field treatment in slab
	calculations using a unique saw(x) function (included in cell_base) in
	all e-field related routines (energy, potential, forces, ..) and inclusion
	of a macroscopic electronic dipole contribution in the mixing scheme.
	This should solve charge sloshing problems that appeared with the prevous
	version in metallic slabs.

	Riccardo Sabatini and Stefano deGironcoli

2009-06-25 15:33  degironc

	* PW/: set_hubbard_l.f90, tabd.f90:

	   default value for localized orbital occupation number and angular momentum defined
	for all transition metalls and rare earth elements.
	 sdg

2009-06-25 15:16  giannozz

	* Doc/release-notes, PP/chdens.f90, PP/make.depend:

	Serious bug in plotting code "pp.x" . All plots requiring Fourier space
	interpolation, i.e.: 1d, 2d, user-supplied 3d grid, spherical average,
	yield incorrect results if performed on data produced by pw.x using
	Gamma-only option (and of course the same holds for cp.x data). This
	commit introduces a workaround that works (around) only if the desired
	data is first saved to file, then plotted, using pp.x . A better workaround
	would be needed, but I think it is wiser to rethink pp.x,  the way it
	is structured, the way it (doesn't) works.

2009-06-25 12:16  giannozz

	* PW/setup.f90:

	Added check for unimplemented case: exact exchange/hybrids + USPP/PAW

2009-06-25 10:07  calandra

	* XSpectra/xspectra.f90:

	Corrected bug in restart in the case of a quadrupolar calculation.

	Christos Gougoussis and Matteo Calandra

2009-06-25 10:05  calandra

	* XSpectra/xspectra.f90:

	Deleted a line that should have been deleted in the last update.
	It affects the quadrupolar calculation in the case of ultrasoft pseudopotentials.

	Christos Gougoussis and Matteo Calandra

2009-06-23 10:47  giannozz

	* CPV/input.f90, Doc/INPUT_CP, Modules/functionals.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  doc-def/INPUT_PW.def:

	xc_type (CP) replaced by input_dft (same meaning, in PW). Documentation
	updated or added. B3LYP now is B3LYP and not B3LP (which is still valid)

2009-06-19 15:40  giannozz

	* D3/d3_setup.f90, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PH/matdyn.f90, PW/input.f90, PW/setup.f90, PW/sgam_at.f90,
	  PW/sgama.f90, doc-def/INPUT_PW.def:

	Yet another input option: remove symmetries with fractional translations

2009-06-19 15:33  dalcorso

	* PW/mix_rho.f90:

	Added a check to stop the code if dr2 is negative.

2009-06-18 12:45  giannozz

	* Doc/release-notes:

	Please do not forget to update release-notes every time something new is
	added or a bug is fixed or whatever relevant happens!

2009-06-18 10:38  paulatto

	* PW/stop_run.f90:

	In the NEB and other path calculations, the restart files are not saved in
	"outdir/" but in "outdir/prefix_#/". Furthermore, if using more than one
	image, the processor ID nd_nmbr is repeated for each image.
	As a consequence, at the end of the calculation, pw.x tries to delete the
	restart files several time concurrently, crashing.
	This is a temporary fix, as a way to delete the files properly should
	be found. All the other file deletions are also wrong, but not harmful;
	probably the entire stop_run is innapropriate for multi-image optimization
	(i.e. it calls io_path_stop which has just been called directly by pwscf!).
	LP

2009-06-18 08:06  giannozz

	* doc-def/INPUT_PW.def, PW/input.f90:

	B field temporarily disabled

2009-06-17 17:17  ccavazzoni

	* PW/sum_band.f90:

	- bug fix, OpenMP parallelization: missing !$omp barrier

2009-06-17 16:28  ccavazzoni

	* PW/qvan2.f90:

	- bug fix, OpenMP parallelization

2009-06-16 14:10  ccavazzoni

	* PW/sum_band.f90:

	- bug fix in OpenMP parallelization

2009-06-15 17:36  giannozz

	* Doc/INPUT_CP, Doc/release-notes, doc-def/INPUT_PW.def:

	Added statement about the dangers of tabs, dos cr-lf characters, and the like
	(that nobody will understand since nobody knows what we are talking about)
	Added note in release-notes about dft-d - please complete Doc/release-notes!

2009-06-15 16:24  giannozz

	* Doc/userguide.tex, Modules/mm_dispersion.f90,
	  doc-def/INPUT_PW.def, tests/README, tests/vdw.in, tests/vdw.ref,
	  pseudo/C.pbe-van_bm.UPF:

	Missing pieces for DFT-D: tests, documentation (but not the gui)

2009-06-15 14:28  paulatto

	* PP/paw_postproc.f90:

	Unit of measure mismatch fixed, now it works, but requires ridiculous cutoff
	to provide a meaningful plot.
	LP

2009-06-15 10:29  giannozz

	* PP/make.depend:

	updated

2009-06-15 10:28  giannozz

	* GIPAW/Makefile, Gamma/Makefile, PH/Makefile:

	Makefiles updated

2009-06-15 10:27  giannozz

	* XSpectra/: make.depend, xspectra.f90:

	Compilation error in serial case

2009-06-15 10:19  giannozz

	* Modules/Makefile, PW/Makefile, PW/make.depend:

	The makefile for dft-d wasn't really doing what was expected

2009-06-15 10:19  giannozz

	* PP/: make.depend, punch_plot.f90, pw2gw.f90:

	Misc problems

2009-06-15 09:54  paulatto

	* PW/paw_onecenter.f90, PP/Makefile, PP/paw_postproc.f90:

	Circular dependency removed (offending subroutine moved to PP/paw_postproc.f90)
	LP

2009-06-14 21:27  ccavazzoni

	* PW/startup.f90:

	- when OpenMP parallelism is used print out the total number
	  of CPU cores, the number of MPI processes and the number of threads
	  per process

2009-06-14 21:25  ccavazzoni

	* PW/electrons.f90:

	- change output format for energies, from 15.8 to 17.8
	  this is because for large systems with thousands of atoms and electrons
	  one can get only "******"

2009-06-14 21:20  ccavazzoni

	* CPV/: nl_base.f90, ortho_base.f90:

	- bug fix in OpenMP parallelization
	- avoid mesuring cpu time for scalar diag when number of states>=1000

2009-06-14 21:06  giannozz

	* Modules/mm_dispersion.f90:

	...and this file was also missing!

2009-06-14 21:05  giannozz

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/io_files.f90, Modules/make.depend,
	  Modules/read_namelists.f90, PW/Makefile, PW/electrons.f90,
	  PW/forces.f90, PW/input.f90, PW/make.depend,
	  PW/paw_onecenter.f90, PW/pwcom.f90, PW/scf_mod.f90,
	  PW/stop_run.f90, PW/stress.f90:

	Added DFT-D, i.e. plus semiempirical dispersions (courtesy of Daniel Forrer)
	Example and documentation still missing, coming soon

2009-06-13 08:52  giannozz

	* PW/input.f90:

	Yesterday's commit wasn't complete: a check had to be changed.
	By the way, it seems to me that a more straightforward approach would be:
	'relax' and 'vc-relax': use bfgs, ignore ion_dynamics and cell_dynamics
	'md', 'vc-md': use molecular dynamics, either free or damped

2009-06-12 17:38  paulatto

	* PP/postproc.f90, PP/punch_plot.f90, PW/paw_onecenter.f90:

	Added plot of all-electron valence charge for PAW, still undocumented it
	can be accessed with plot_num=15.
	LP

2009-06-12 17:37  paulatto

	* PP/plot_io.f90:

	Dimension of subroutine array arguments changed to implicit (*), you cannot
	assume the dimension based on an un-initialzed variable (even if it does
	indeed work it causes problem with runtime checks and debuggers).
	LP

2009-06-12 16:48  giannozz

	* doc-def/INPUT_PW.def:

	Updated to reflect the new defaults for vc-relax

2009-06-12 16:48  giannozz

	* Modules/: input_parameters.f90, read_namelists.f90:

	'vc-relax' defaults to BFGS for pw.x - the previous default was damped
	dynamics for ions and nothing for the cell, so it wasn't working.
	Cleanup of Modules/input_parameters.f90: removed many obsolete comments
	(but too many are still there)

2009-06-12 09:26  giannozz

	* Modules/metagga.f90:

	Recent additions to XC functionals had broken metaGGA

2009-06-11 08:25  giannozz

	* PW/: input.f90, pw_restart.f90:

	Minor change suggested by AF: file data-file.xml is not deleted but renamed
	when a non-scf calculation is started.

2009-06-11 07:44  giannozz

	* atomic/: atomic_paw.f90, write_upf.f90:

	"shortname" for XC functionals made longer

2009-06-10 15:31  giannozz

	* Doc/release-notes, Doc/userguide.tex, Modules/functionals.f90,
	  flib/functionals.f90, flib/lsda_functionals.f90:

	New functionals (courtesy of William Parker, Ohio State Univ.):
	PBEsol and WC (Wu-Cohen)

2009-06-09 09:01  dalcorso

	* atomic/: dmixp.f90, run_pseudo.f90, scf.f90:

	Bug fix: Avoid to leave allocated variables in dmixp when self consistency
	is not reached.

2009-06-05 14:43  calandra

	* examples/XSpectra_example/reference/: Si.wfc, SiO2.scf.in,
	  SiO2.scf.out, SiO2.xspectra_dip_c.dat, SiO2.xspectra_dip_c.in,
	  SiO2.xspectra_dip_c.out, SiO2.xspectra_dip_c.sav,
	  SiO2.xspectra_dip_plane.dat, SiO2.xspectra_dip_plane.in,
	  SiO2.xspectra_dip_plane.out, SiO2.xspectra_dip_plane.sav,
	  SiO2.xspectra_dip_restart_1.in, SiO2.xspectra_dip_restart_1.out,
	  SiO2.xspectra_dip_restart_1.sav, SiO2.xspectra_dip_restart_2.dat,
	  SiO2.xspectra_dip_restart_2.in, SiO2.xspectra_dip_restart_2.out,
	  SiO2.xspectra_dip_restart_2.sav:

	Added reference outputs, inputs and 1s core function for the
	XSpectra alpha-quartz example using ultrasoft pseudopotentials.

	Christos Gougoussis and Matteo Calandra

2009-06-05 14:42  calandra

	* examples/XSpectra_example/pseudo/: O_PBE_USPP.UPF,
	  Si_PBE_USPP.UPF:

	Added ultrasoft pseudopotentials including informations for
	GIPAW reconstruction for the alpha-quartz XSpectra example.

	Christos Gougoussis and Matteo Calandra

2009-06-05 14:40  calandra

	* examples/XSpectra_example/run_example_SiO2_USPP:

	Added script for the SiO2 (alpha-quartz) example using Ultrasoft
	pseudopotentials. The example calculate Si K-edge XAS in alpha-quartz using
	ultrasoft pseudopotentials. Restart is also tested in the script.

	Christos Gougoussis and Matteo Calandra

2009-06-05 14:37  calandra

	* Doc/INPUT_XSPECTRA:

	Added explanations for the new instructyions of the pwscf package.

	Christos Gougoussis and Matteo Calandra

2009-06-05 14:00  calandra

	* examples/XSpectra_example/reference/: diamond.scf.in,
	  diamond.scf.out, diamondh.scf.in, diamondh.scf.out,
	  diamondh.xspectra.dat, diamondh.xspectra.in,
	  diamondh.xspectra.out, diamondh.xspectra.sav,
	  diamondh.xspectra_fermi.in, diamondh.xspectra_fermi.out,
	  NiO.scf.in, NiO.scf.out, NiO.xspectra_dip.dat,
	  NiO.xspectra_dip.in, NiO.xspectra_dip.out, NiO.xspectra_dip.sav,
	  NiO.xspectra_dip_replot.dat, NiO.xspectra_dip_replot.in,
	  NiO.xspectra_dip_replot.out, NiO.xspectra_qua.dat,
	  NiO.xspectra_qua.in, NiO.xspectra_qua.out, NiO.xspectra_qua.sav,
	  diamond.xspectra.dat, diamond.xspectra.in, diamond.xspectra.out,
	  diamond.xspectra.sav, diamond.xspectra_fermi.in,
	  diamond.xspectra_fermi.out, diamond.xspectra_replot.dat,
	  diamond.xspectra_replot.in, diamond.xspectra_replot.out:

	Repleced reference files for NiO and diamond examples due to
	change in the output format.

	Christos Gougoussis and Matteo Calandra

2009-06-05 13:58  calandra

	* examples/XSpectra_example/run_example_NiO:

	Updated reference cited in the script and correct ortographic errors.

	Christos Gougoussis and Matteo Calandra

2009-06-05 13:52  calandra

	* XSpectra/Makefile:

	Makefile for the new version of XSpectra

	Christos Gougoussis and Matteo Calandra

2009-06-05 13:50  calandra

	* XSpectra/lr_sm1_psi.f90:

	  Routine applying the S^{-1} matrix to m wavefunctions psi
	      and putting the results in spsi.
	      as in

	2006 Hasnip, PJ; Pickard, CJ,
	"Electronic energy minimisation with ultrasoft pseudopotentials",
	Computer Physics Communications, Vol 174, Issue 1, Page 24-29.

	and in

	 B. Walker and R. Gebauer, "Ultrasoft Pseudopotentials in time
	 dependent density funcional theory", J. Chem. Phys. {\bf 127}, 164106
	 (2007)

	  Original routine written by Ralph Gebauer
	        Modified by Christos Gougoussis

	  Christos Gougoussis and Matteo Calandra

2009-06-05 13:43  calandra

	* XSpectra/xspectra.f90:

	New version of the xspectra code. The following features
	have been added:

	1) Generalization of the continued fraction to the ultrasoft
	pseudopotentials case (see Christos Gougoussis et al. arXiv:0906.0897 )

	2) New .sav file format with version, old versions are compatible.

	3) Restart in continued fraction (experimental).

	4) Several modification to have a code more uniform with the
	QE-style standards

	Christos Gougoussis and Matteo Calandra

2009-06-05 13:37  calandra

	* XSpectra/xspectra_mod.f90:

	Added variables for timing and restart in continued fraction.
	New format of save file with version (old formats are compatible).

	Christos Gougoussis and Matteo Calandra.

2009-06-05 10:04  calandra

	* GIPAW/paw_gipaw.f90:

	Corrected bug in paw_gipaw. In the case that
	the reconstruction data are not included in the pseudo
	the program cores.

	Christos Gougoussis and Matteo Calandra

2009-06-04 10:17  paulatto

	* Modules/read_cards.f90, PW/input.f90:

	A few modifications trying to make input parsing more user-friendly:
	1. added error handling for card_atomic_species
	   (ntyp too large produced funny but cryptic errors)
	2. added visual feedback for parsing of costraints
	   (unless they are used for collective-variables constraints does give no
	    feedback during the entire calculation)
	3. added a print of "waiting for input" just before actually reading it
	   (trying to reduce the number of "pw.x does nothing" requests for support)
	LP

2009-06-04 09:48  paulatto

	* Modules/clocks.f90:

	Minor problem in debug code: debug output was only printed on io-node, which
	did not make sense in that contest.
	LP

2009-06-02 15:44  giannozz

	* Doc/release-notes:

	Updated again (sorry, I hadn't noticed an item that was not only replicated
	but also no linger valid)

2009-06-02 15:38  giannozz

	* Doc/release-notes:

	Updated

2009-06-02 15:27  giannozz

	* Modules/read_namelists.f90:

	Incorrect broadcast of variable efield_cart (done before the variable was
	actually read) - courtesy of AF

2009-06-02 15:25  giannozz

	* CPV/make.depend, PP/make.depend, PW/make.depend:

	Dependencies updated

2009-05-31 09:57  ccavazzoni

	* CPV/environment.f90:

	- print out the number of threads, when QE is compiled with OpenMP

2009-05-31 09:26  ccavazzoni

	* flib/int_to_char.f90:

	- now manage also negative numbers

2009-05-29 17:50  ccavazzoni

	* CPV/: cplib.f90, ortho_base.f90, wave.f90:

	- some more OpenMP parallelization
	- bug fix, computing Self Interaction Corrections with CP

2009-05-29 17:48  ccavazzoni

	* Modules/: fft_base.f90, fft_parallel.f90, fft_types.f90,
	  mp_global.f90, task_groups.f90:

	- Some update in task groups stuff

2009-05-24 19:33  ccavazzoni

	* flib/ylmr2.f90:

	- OpenMP parallelization

2009-05-24 19:29  ccavazzoni

	* CPV/chargedensity.f90, CPV/cplib.f90, CPV/exch_corr.f90,
	  CPV/forces.f90, CPV/nl_base.f90, CPV/ortho_base.f90,
	  CPV/phasefactor.f90, CPV/potentials.f90, CPV/runcp.f90,
	  PW/dqvan2.f90, PW/newd.f90, PW/qvan2.f90, PW/sum_band.f90,
	  PW/v_of_rho.f90:

	- OpenMP parallelization

2009-05-24 19:28  ccavazzoni

	* Modules/fft_parallel.f90:

	- more OpenMP parallelization

2009-05-23 18:23  ccavazzoni

	* Modules/: fft_base.f90, fft_parallel.f90:

	- further OpenMP parallelization

2009-05-21 10:25  dalcorso

	* PW/setup.f90:

	Small change. Avoid to write a noninitialized string in the xml file.

2009-05-20 18:21  dalcorso

	* PH/: elphon.f90, make.depend, phq_readin.f90, solve_linter.f90:

	A possible fix to the problem pointed out by A. Marini. Now el-ph calculations
	with trans=.false. and ldisp=.true. should be possible if dvscf was
	saved on file.

2009-05-20 15:42  campagnari

	* iotk/README:

	added line

2009-05-14 16:43  dalcorso

	* PH/: dynmatrix.f90, openfilq.f90:

	Small change. When start_irr==0 and last_irr==0 ph.x does not write the
	empty dynamical matrix files.

2009-05-14 15:18  paulatto

	* PW/move_ions.f90:

	No need to reprint the cell in fixed cell relax when convergence is reached
	furthermore, I suspect this is causing problems when comverting output to
	xcrysden animation.
	LP

2009-05-12 13:55  degironc

	* Modules/read_cards.f90, PP/initial_state.f90,
	  examples/CLS_FS_example/README,
	  examples/CLS_FS_example/run_example,
	  examples/CLS_FS_example/reference/final-state.txt,
	  examples/CLS_FS_example/reference/rh011bulk.scf.out,
	  examples/CLS_FS_example/reference/rh011layer1.scf.out,
	  examples/CLS_FS_example/reference/rh011surf.scf.out,
	  examples/CLS_IS_example/README,
	  examples/CLS_IS_example/run_example,
	  examples/CLS_IS_example/reference/initial-state.txt,
	  examples/CLS_IS_example/reference/rh011slab.istate.out,
	  examples/CLS_IS_example/reference/rh011slab.scf.out,
	  pseudo/Rh.pbe-rrkjus_lb.UPF, pseudo/Rhs.pbe-rrkjus_lb.UPF:

	PP/initial_state.f90 code for caluclation of initial-state CLS fixed and
	example CLS_FS_example and CLS_IS_example added.

	          SdG and Riccardo Sabatini

2009-05-10 11:16  ccavazzoni

	* flib/int_to_char.f90:

	- int_to_char without WRITE statements.
	  In FORTRAN you cannot embed an I/O statement into an I/O statement.
	  So the FORTRAN statement:
	    WRITE(...) something // int_to_char(..)
	  where int_to_char contains another WRITE it is an ERROR.
	  In fact with some compiler QE was hanging on that function.

2009-05-09 10:15  degironc

	* PP/pw2gw.f90:

	undeclared unused variable removed

2009-05-08 17:13  degironc

	* CPV/potentials.f90:

	spelling of Martyna corrected

2009-05-08 10:28  sclauzer

	* PW/: set_hubbard_l.f90, setup.f90, tabd.f90:


	Fixed set_hubbard_l.f90 and tabd.f90 in order for LDA+U to work properly also with UPFv2 (atomic species with single character names were not recognized).
	Set the default for Hubbard_l to -1 instead of 0 for the atomic species with U=0.

2009-05-07 09:27  dalcorso

	* PH/phonon.f90:

	[no log message]

2009-05-07 09:21  dalcorso

	* PH/: openfilq.f90, phonon.f90:

	The case lgamma+modenum was not included in previous commit.

2009-05-05 18:23  dalcorso

	* Modules/xml_io_base.f90, PH/check_restart_recover.f90,
	  PH/make.depend, PH/openfilq.f90, PH/ph_restart.f90, PH/phcom.f90,
	  PH/phonon.f90, PH/phq_readin.f90, PH/save_ph_input.f90:

	Ph.x does not overwrite any more the files written by pw.x.
	xml_not_of_pw variable removed.

2009-05-05 10:14  dalcorso

	* PH/write_rec.f90:

	Bug fix (only in cvs version): the phonon recover was not working in the
	noncollinear/spin-orbit case when the number of representations was
	larger than 3.

2009-05-05 09:11  giannozz

	* Modules/read_upf_v2.f90:

	Bug fix: Coulomb PP in  UPF v.2 format was not working (courtesy of
	Andrea Ferretti)

2009-05-04 17:19  dalcorso

	* PH/: ph_restart.f90, phq_setup.f90:

	The symmetry types of the modes are written in the recover files.

2009-05-04 15:21  giannozz

	* tests/: README, lda+U_force.in, lda+U_force.ref, lda+U_gamma.in,
	  lda+U_gamma.ref:

	Tests for gamma, forces, stresses in LDA + U added

2009-05-04 10:57  ccavazzoni

	* PP/pw2gw.f90:

	- added changes by Adriano Mosca Conte

2009-05-03 09:35  ccavazzoni

	* Modules/clocks.f90:

	- clock.f90 changed so that if __WALLTIME is specified compile time
	  clocks return walltime insted of cputime.
	  This is very useful for benchmarking and optimization works,
	  especially when mixed MPI+OpenMP paradigm is used

2009-05-02 16:00  degironc

	* upftools/virtual.f90:

	virtual.f90 was not working properly in the case of mixing of two
	pseudopotentials with different meshes.
	Corrections contributed by Jivtesh Gang and Nicola Marzari.

2009-05-01 15:41  dalcorso

	* clib/eval_infix.c:

	ctrl+M removed.

2009-05-01 15:05  dalcorso

	* atomic/Makefile:

	Cleanup.

2009-05-01 15:01  dalcorso

	* atomic/gener_pseudo.f90:

	In the paw case Q pseudization is done elsewhere. No need to make it here.

2009-05-01 14:53  dalcorso

	* atomic/c6_tfvw.f90:

	Output shortened.

2009-05-01 14:44  dalcorso

	* atomic/pseudo_q.f90:

	Use rmatch_augfun also in the US case.

2009-04-30 18:13  dalcorso

	* PW/: paw_init.f90, paw_onecenter.f90:

	Bugs fix: two allocated, unused and nondeallocated variables removed.
	Added two missing deallocations.

2009-04-29 17:42  paulatto

	* PW/paw_init.f90:

	No need to print every time that PAW data is being deallocated... (now it
	will only be printed for iverbosity>0)
	LP

2009-04-29 12:43  giannozz

	* Doc/userguide.tex:

	More userguide tweaking

2009-04-29 10:57  giannozz

	* Doc/userguide.tex:

	User Guide almost complete (i.e. as incomplete as it used to be)

2009-04-28 18:27  giannozz

	* Doc/userguide.tex:

	More cleanup

2009-04-28 17:13  giannozz

	* Doc/: release-notes, userguide.tex:

	Installation section added to user guide. I am impressed by the number
	of things that should have been updated but weren't (and I didn't even
	lok carefully).

2009-04-28 12:41  giannozz

	* Doc/: democritos.png, quantum_espresso.png, userguide.tex:

	User Guide is back...presently only the introduction, which was updated
	so as to be in line with the content of the soon-to-(dis)apper QE-paper.
	Please carefully check for consistency, affiliations, who didi what,
	what is missing, etc etc

2009-04-28 10:48  giannozz

	* PW/input.f90:

	Misleading error message

2009-04-27 10:54  dalcorso

	* Modules/pseudo_types.f90:

	Bug fix: missing deallocation.

2009-04-22 17:07  giannozz

	* Doc/: BUGS, release-notes:

	File BUGS renamed to release-notes. This file should contain:
	- what is new in the current release
	- bugs the were present in previous releases and fixed by this release
	PLEASE DO NOT FORGET TO UPDATE THIS FILE EVERY TIME YOU FIX A BUG

2009-04-22 17:06  giannozz

	* PH/phq_readin.f90:

	electron-phonon calculation on a uniform grid of q-points +
	Delta Vscf and dynamical matrices read from file = bad results:
	the Delta Vscf saved to file are overwritten at each q-point.
	Check added to disable this case.

2009-04-21 11:58  giannozz

	* Doc/BUGS:

	Updated

2009-04-21 11:57  giannozz

	* PP/wannier_ham.f90:

	Usage of real numbers as limits in a DO statement should be avoided

2009-04-21 11:56  giannozz

	* PWCOND/do_cond.f90:

	SOme compilers do not like the "X" format descriptor alone

2009-04-21 11:54  giannozz

	* PW/divide_class_so.f90, Doc/BUGS:

	Yet Another Final Bug in stable release

2009-04-20 13:59  dalcorso

	* PW/divide_class_so.f90:

	Bug fix: problem in the character table of C_4h double group.

2009-04-17 10:34  giannozz

	* PWCOND/do_cond.f90:

	Yet another bug fix for stable version: PWCOND hadn't been properly patched.
	This will be version 4.0.5 and will be the last version published on
	www.quantum-espresso.org; next versions should be published on qe-forge.org

2009-04-15 09:11  giannozz

	* Doc/BUGS:

	Updated

2009-04-15 09:11  giannozz

	* Modules/read_upf_v2.f90:

	Nonstandard line continuantions again

2009-04-15 09:10  giannozz

	* PW/: Makefile, dndepsilon.f90, dndtau_of_k.f90,
	  dprojdepsilon.f90, dprojdtau.f90, force_hub.f90, stres_hub.f90,
	  vhpsi.f90:

	Forces and stresses for LDA+U in the Gamma case are implemented.
	Not yet tested in parallel. Some cleanup in LDA+U part.

2009-04-15 09:09  giannozz

	* PW/input.f90:

	Nonstandard continuation lines made standard (some compilers complain)

2009-04-14 16:54  ccavazzoni

	* PW/vloc_psi.f90:

	- bug fix in the task_group source lines,
	  a sum with a temporary array was dropped in a recent clean-ups

2009-04-10 13:20  kokalj

	* clib/eval_infix.c:

	Fixing an overflow bug:

	  for(i=0;i-len-1;i++) strHelper[i]=' '

	This was probably a typo and i<len-1 was meant.
	This overflow bug had a very severe consequence on one of my
	machine: all negative values were parsed as being positive.

	Adding a check that a maximum size of len is 256, and also the length
	of strHelper/strError strings changed to 257, or the last char in
	strExpression was eaten. For more detailes see the file.

2009-04-08 15:24  obm

	* Modules/xml_io_base.f90, PW/pw_restart.f90, PW/read_file.f90,
	  PW/realus.f90:

	Added support for reading and writing real_space and tqr control flags (
	to pwscf punch card).

	Since the norm of the wfs change, knowing the level of approximation used
	in the ground state calculation is crucial for post processing programs.

2009-04-07 10:34  obm

	* PW/realus.f90:

	Corrected the interpolation scheme of beta functions.

2009-04-06 13:54  obm

	* Modules/: Makefile, read_cards.f90:

	The "compiler bug" I have mentioned is gone now. Tried both with Intel compiler
	10.1 and 11.0. Removing modifications.

2009-04-06 10:21  ccavazzoni

	* PP/wannier_ham.f90:

	- bug fix: the correct way of representing
	  a "back slash" in Fortran string is " \\ " and not " \ ".
	  IBM xlf compiler was not able to compile this source file

2009-04-05 10:47  giannozz

	* CPV/: cg.f90, cglib.f90, cplib.f90, wrapper.f90:

	wraper.f90 was actually already unused

2009-04-05 10:37  giannozz

	* CPV/: cplib.f90, ortho_base.f90, wrapper.f90:

	Old wrappers for ssum and mxma should be removed. For the time being,
	I have removed ssum and a few (outdated) references to MXMA

2009-04-05 10:36  giannozz

	* Modules/wrappers.f90:

	Added a few lines of comment

2009-04-05 10:35  giannozz

	* GIPAW/Makefile:

	Added wrapper module

2009-04-05 10:35  giannozz

	* Doc/BUGS:

	Updated with info on the fortran-to-C string bug. Baris, please verify
	if your "compiler bug" is still around, remove your workarounds if not

2009-04-05 10:24  ccavazzoni

	* flib/lapack_all.f:

	-adding lapack subroutine required by ScaLAPACK
	 and not included in essl. These are required
	 to link ScaLAPACK (and not pessl) on IBM AIX
	 systems

2009-04-05 10:02  ccavazzoni

	* atomic/make.depend:

	- outdated dependencies

2009-04-05 09:56  ccavazzoni

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PH/make.depend,
	  PWCOND/Makefile, PWCOND/make.depend, VdW/Makefile:

	- adding module wrappers.o

2009-04-05 09:54  ccavazzoni

	* PP/: Makefile, make.depend, pw_export.f90, qexml.f90:

	- call to c_mkdir replaced with call to f_mkdir

2009-04-05 09:51  ccavazzoni

	* clib/: c_mkdir.c, eval_infix.c:

	- char array (string) substituted with int array, name of function
	  modified with the addition of _int suffix

2009-04-05 09:47  ccavazzoni

	* CPV/Makefile, CPV/make.depend, CPV/path_routines.f90,
	  PW/Makefile, PW/input.f90, PW/make.depend:

	- direct call to C functions substituted with a call to wrappers

2009-04-05 09:45  ccavazzoni

	* Modules/: Makefile, fft_scalar.f90, make.depend, read_cards.f90,
	  wrappers.f90, xml_io_base.f90:

	- wrappers module containing wrapper subroutines/functions
	  used to call C functions with char arguments consistently

2009-04-04 14:05  ccavazzoni

	* Modules/: fft_parallel.f90, fft_scalar.f90:

	- First implementation of a mixed MPI+OpenMP parallel FFT,
	  working with: FFTW, ACML, ESSL drivers.
	- OpenMP support is still experimental, it can be selected
	  using the preprocessor parameter -D__OPENMP
	  but this is not enought, you have to use a compiler
	  that parse OpenMP directives and MPI have to be thread safe!
	  Tests have been done with IBM mpxlf compiler (under AIX) and
	  OpenMPI 1.3.1 with intel 10.1 (under LINUX)

2009-04-03 11:28  dalcorso

	* atomic/find_qi.f90:

	Added a check to avoid the possibility of an infinite loop.

2009-04-02 22:37  dalcorso

	* PH/: bcast_ph_input.f90, phcom.f90, phq_readin.f90:

	nrapp or nat_todo with gamma_gamma tricks is not programmed. Added
	a check to avoid these cases and a new input variable to disable
	gamma_gamma tricks from input.

2009-04-02 22:17  giannozz

	* Doc/BUGS:

	Updated

2009-04-02 20:48  giannozz

	* Modules/upf.f90:

	Minor corrections

2009-04-02 18:11  paulatto

	* Modules/read_upf_v2.f90, atomic/export_upf.f90:

	UPFv2.0.1 introduced with a check for bug reported by ADC on 2009/03/16
	(In the new UPF-PP format some components of qrad were not written in the
	UPF file) in order to force re-generation of bad pseudos.
	LP

2009-04-02 18:07  paulatto

	* CPV/read_pseudo.f90:

	Fixed compatibility with UPFv2 that was broken.
	Please check consistency of results, as I'm not really expert of CP.
	LP

2009-04-02 18:05  obm

	* Modules/Makefile, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/read_cards.f90,
	  Modules/read_namelists.f90, PW/h_1psi.f90, PW/h_psi.f90,
	  PW/hinit0.f90, PW/input.f90, PW/print_clock_pw.f90,
	  PW/read_file.f90, PW/realus.f90, PW/regterg.f90,
	  PW/rotate_wfc_gamma.f90, PW/s_1psi.f90, PW/sum_band.f90:

	This is the first iteration in trying to implement a real space treatment of
	projectors in USPPs. Hopefully this will allow one to study larger systems.
	The modifications are done primarily keeping TDDFPT code in mind
	(a branch of QE, you may see detailed explanation in qe-forge which I am trying
	to keep tightly integrated). Please do not modify/beautify/make more elegant
	 the corresponding subroutines without prior notice, due to their dependencies.
	I have tested that the current modifications do not alter the behaviour of pw.x
	other than designed with a number of small tests in HG1.
	Some Pointers:
	-All the new subroutines reside in PW/realus.f90
	-A new flag real_space in &electrons control the implementation
	-tqr flag is treated seperately.
	-The implementation works only for (serial) gamma point single point calculations.
	ToDo:
	-I have written K point and task groups implementations of most of the corresponding routines, but did not have time to implement.
	-Parallelism issues are still to be checked.
	-The discrepancy in total energy is <0.002 eV for cutoff of 55Ry/550Ry however,
	there are some strange force components. I do not know how this will effect
	a possible optimization scheme.

	Other:
	Trying the compile CVS version in HG1 of sissa, using the "default" compiler
	sets, I encountered a very strange compiler bug. Please have a look at
	Modules/read_cards.f90 for details. Remove the stupid workaround to your liking.

2009-04-01 21:17  dalcorso

	* PH/allocate_phq.f90:

	Small bug fix: variable not initialized in recent commit.

2009-04-01 17:39  giannozz

	* doc-def/INPUT_PW.def:

	Tone's explanations added to documentation of use_masses

2009-04-01 17:19  giannozz

	* PW/stress.f90:

	Message issued for unimplemented USPP + electric field stress calculation

2009-03-31 21:09  giannozz

	* Modules/xml_io_base.f90, PW/io_rho_xml.f90:

	Check when reading or writing "occup" and "paw" files were not parallel-safe

2009-03-31 16:49  ccavazzoni

	* clib/fft_stick.c:

	- few more drivers useful in the MPI+OpenMP parallel FFT

2009-03-30 17:38  giannozz

	* PW/: input.f90, read_conf_from_file.f90:

	My previous change to read atomic positions from file in a non-scf calculation
	was not working as expected - workaround not completely satisfactory, though

2009-03-30 10:07  giannozz

	* pwtools/bands_FS.f90:

	bands_FS.f90 updated (courtesy of Eyvaz Isaev)

2009-03-27 16:54  dalcorso

	* PH/zstar_eu_us.f90:

	Bug fix: effective charges dF/dE + LSDA + US were wrong.

2009-03-25 18:20  dalcorso

	* Modules/: mp_base.f90, mp_wave.f90:

	Small cleanup. Just to test the mailing system.

2009-03-25 16:26  dalcorso

	* atomic_doc/pseudo_library/: LDA/REL/N.rel-pz-rrkjus.in,
	  LDA/SR/N.pz-rrkjus.in, PBE/REL/N.rel-pbe-rrkjus.in,
	  PBE/SR/N.pbe-rrkjus.in:

	Added NLCC to N pseudopotential.

2009-03-25 16:11  giannozz

	* CPV/cprstart.f90, CPV/fpmdpp.f90, GIPAW/gipaw_main.f90,
	  Gamma/phcg.f90, PH/phonon.f90, PP/start_postproc.f90,
	  PW/pwscf.f90, clib/stack.c:

	#ifdef __INTEL moved inside clib/stack.c .The C code used to be compiled
	in all cases, causing problems in at least one obscure software configuration

2009-03-25 09:53  giannozz

	* Multigrid/: Makefile, secd.c:

	Unused routine removed

2009-03-19 18:53  giannozz

	* Modules/bfgs_module.f90, PW/move_ions.f90:

	Added printout of convergence criteria in bfgs

2009-03-19 12:46  giannozz

	* PW/setup.f90:

	Added check to prevent exact exchange in 'nscf' or 'bands' calculations
	(it doesn't seem to work)

2009-03-17 18:26  giannozz

	* tests/: vc-relax3.out, vc-relax4.out:

	Removed files that shouldn't be there - PG

2009-03-17 18:24  giannozz

	* tests/: README, vc-relax3.in, vc-relax3.out, vc-relax3.ref,
	  vc-relax4.in, vc-relax4.out, vc-relax4.ref:

	Added new tests for variable-cell bfgs - PG

2009-03-17 12:27  giannozz

	* atomic_doc/pseudo_library/: LDA/SR/Au.pz-rrkj.in,
	  LDA/SR/Cd.pz-rrkj.in, PBE/SR/Au.pbe-rrkj.in,
	  PBE/SR/Cd.pbe-rrkj.in, PBE/SR/Sn.pbe-rrkjus.in:

	A few more additions to pseudopotential input file library:
	norm-conserving Au and Cd (PZ and PBE), ultrasoft Sn (PBE)

2009-03-17 11:30  dalcorso

	* Modules/autopilot.f90, flib/sort.f90:

	Small cleanup.

2009-03-17 11:28  giannozz

	* examples/: README, example26/README, example26/run_example,
	  example26/reference/h2o.scf.out,
	  example26/reference/h2o.wannier.out:

	Added example for Wannier function calculation using Jacobi localization.
	Courtesy of Sylvie Stucki and IRRMA Lausanne

2009-03-16 15:23  dalcorso

	* Modules/write_upf_v2.f90:

	Bug fix: In the new UPF-PP format some components of qrad were not
	written in the UPF file.

2009-03-13 18:37  giannozz

	* PW/input.f90:

	Compilation problem with PGI

2009-03-12 11:01  giannozz

	* CPV/para.f90, Doc/BUGS:

	calwf=1 option (CP with Wannier functions) was not working due to incorrect
	call to mpi_broadcast (courtesy of Sylvie Stucki and AP, Lausanne)

2009-03-11 15:56  dalcorso

	* PH/gmressolve_all.f90:

	Bug fix: this routine was not correct in the parallel case.

2009-03-11 15:17  dalcorso

	* Modules/read_cards.f90:

	Bug fix: if some occupations were missing the code started an infinite loop
	that filled the disk with garbage.

2009-03-11 14:35  dalcorso

	* PH/: allocate_phq.f90, deallocate_phq.f90, dynmatrix.f90,
	  find_mode_sym.f90, phcom.f90, phq_setup.f90, phq_summary.f90,
	  set_irr.f90:

	The displacement patterns are classified according to the irreducible
	representations of the small group of q. (Thanks to J. Mullen for suggesting
	this improvement)

2009-03-11 14:21  dalcorso

	* Modules/read_namelists.f90:

	nspin=4 allowed in input.

2009-03-10 16:12  giannozz

	* PW/input.f90:

	nelup, neldw, nelec should be compared to real numbers

2009-03-07 00:27  degironc

	* examples/EXX_example/: run_example,
	  reference/c.pbe0.1nlcc.out-80, reference/co.pbe0.1nlcc.out-80,
	  reference/n.pbe0.1nlcc.out-80, reference/n2.pbe0.1nlcc.out-80,
	  reference/o.pbe0.1nlcc.out-80, reference/o2.pbe0.1nlcc.out-80,
	  reference/si.PBE0_nq=1.out, reference/si.PBE0_nq=2.out,
	  reference/si.PBE0_nq=4.out:

	EXX_example has been updated

2009-03-06 23:11  degironc

	* PW/electrons.f90:

	printout of EXX energy contributions to total energy has been corrected.

	CSV: Enter Log.  Lines beginning with `CVS:' are removed automatically

2009-03-06 16:16  dalcorso

	* VdW/vdw.f90:

	vdw updated with the recent changes to phonon.

2009-03-06 10:26  paulatto

	* flib/atomic_number.f90:

	It is not a good idea to check the second element of an array which could
	be only one element long... added case 'X' for symbol-to-number.
	LP

2009-03-06 09:17  dalcorso

	* Modules/xml_io_base.f90, PH/ph_restart.f90, PH/q_points.f90:

	Variable lnscf removed from the phonon recover file.

2009-03-05 18:29  dalcorso

	* atomic_doc/: make_clean, pseudo_library/make_clean:

	Added a small script to clean all the pseudopotentials in pseudo_library.

2009-03-05 17:11  dalcorso

	* D3/: d3_setup.f90, d3toten.f90:

	D3 updated with the recent changes to phonon.

2009-03-04 11:43  giannozz

	* CPV/wannier.f90, CPV/wannier_base.f90, CPV/wf.f90, Doc/INPUT_CP,
	  Modules/input_parameters.f90, Modules/read_namelists.f90:

	Added possibility to calculate Wannier functions through Jacobi rotations
	(for code CP) - Courtesy of Sylvie Stucki et al, IRRMA Lausanne

2009-03-03 18:49  giannozz

	* PW/electrons.f90:

	Fixed error message "charge is wrong" (charge is still wrong, but
	at least the error message is correct :-)

2009-03-03 18:40  giannozz

	* examples/: example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.im, example12/reference/bands.al.re,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.alwire.re,
	  example12/reference/bands.ni_down.im,
	  example12/reference/bands.ni_down.re,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example12/reference/trans.alwireh,
	  example22/reference/bands.pt.im,
	  example22/reference/pt.bands.out,
	  example22/reference/pt.cond.out,
	  example22/reference/pt.cond_t.out,
	  example22/reference/pt.nscf.out, example22/reference/pt.ph.out,
	  example22/reference/pt.phX.out, example22/reference/pt.scf.out,
	  example22/reference/pt.scf_ph.out,
	  example22/reference/pt.tet.out, example22/reference/pt4.out:

	Changed reference files of example12 and example22 (A. Smogunov)
	(this commit was lost when the repository was moved to qe-forge)

2009-02-26 14:43  paulatto

	* W90/doc/user_guide/user_guide.tex:

	fancyheading is being replaced with fancyhdr in all linux distributions
	at the point that it is not present in most of them nowadays. This check-in
	ports the W90 user_guide to the new package.
	LP

2009-02-26 11:39  smogunov

	* PWCOND/do_cond.f90:

	Added the check on the number of allowed CPUs (A. Smogunov)

2009-02-26 10:54  smogunov

	* PWCOND/transmit.f90:

	Slightly modified (simplified) the format of the output (A. Smogunov)

2009-02-26 10:07  dalcorso

	* PH/dynmat0.f90, PH/phonon.f90, PH/psyme2.f90, PP/projwfc.f90:

	Small cleanup.

2009-02-25 19:11  paulatto

	* PW/read_file.f90:

	Fixed previous commit (swapped left and right side of assignment),
	thanks to AdC for pointing out the mistake.
	LP

2009-02-25 19:08  giannozz

	* PP/postproc.f90, doc-def/INPUT_PP.def:

	I don't see any good reason why the postprocessing shouldn't work in
	most cases even with constrained magnetization. Only the local density
	of states at e_fermi, the local density of electronic entropy, the
	STM images should be affected by constraints on occupations. Documentation
	updated (plot_num=9 is obsolete)

2009-02-25 18:38  smogunov

	* PWCOND/: allocate_cond.f90, compbs.f90, condcom.f90, do_cond.f90,
	  scat_states_plot.f90, transmit.f90:

	Added the possibility to calculate and to plot left moving scattering states (A. Smogunov)

2009-02-25 17:50  dalcorso

	* Modules/error_handler.f90, Modules/functionals.f90,
	  Modules/mp_global.f90, Modules/read_upf_v1.f90,
	  Modules/upf_to_internal.f90, Modules/write_upf_v2.f90,
	  PH/star_q.f90, PH/sym_elop.f90, PH/symdyn_munu.f90,
	  PP/add_shift_us.f90, PP/average.f90, PP/plot_io.f90,
	  PP/sumpdos.f90, PW/dvloc_of_g.f90, PW/wfcinit.f90,
	  PWCOND/local.f90, atomic/Makefile, atomic/ascheqps_old.f90,
	  atomic/c6_dft.f90, atomic/compute_det.f90, atomic/lschps.f90:

	Other routines with unused variables, and removed old unused routines.

2009-02-25 17:45  giannozz

	* configure, configure.ac:

	Some configure tweaking: added options --enable-scalapack, --disable-wrappers,
	better message from --help

2009-02-25 17:30  dalcorso

	* atomic/ascheqps.f90:

	Small bug fix: problem with format.

2009-02-25 16:58  dalcorso

	* PH/addusdbec.f90, PH/addusdbec_nc.f90, PH/cft_wave.f90,
	  PH/chi_test.f90, PH/compute_dvloc.f90, PH/compute_vsgga.f90,
	  PH/dhdrhopsi.f90, PH/dvkb3.f90, PH/dynmat.f90, PH/dynmatcc.f90,
	  PH/el_opt.f90, PH/find_mode_sym.f90,
	  PH/generate_effective_charges_c.f90, PH/incdrhoscf.f90,
	  PH/orthogonalize.f90, PH/pcgreen.f90, PH/random_matrix.f90,
	  PH/rigid.f90, PH/set_drhoc.f90, PH/setlocq.f90, PH/stop_ph.f90,
	  PH/symm.f90, PP/bands.f90, PP/chdens.f90, PP/compute_ppsi.f90,
	  PP/compute_sigma_avg.f90, PP/dos.f90, PP/local_dos1d.f90,
	  PP/plotband.f90, PP/plotrho.f90, PP/poormanwannier.f90,
	  PP/postproc.f90, PP/punch_plot.f90, PP/stm.f90, PP/voronoy.f90,
	  PP/wfdd.f90, PP/work_function.f90, PP/xsf.f90,
	  PW/allocate_bp_efield.f90, PW/allocate_nlpot.f90, PW/c_bands.f90,
	  PW/cegterg.f90, PW/compute_becsum.f90, PW/compute_qdipol.f90,
	  PW/deriv_drhoc.f90, PW/dprojdepsilon.f90, PW/drhoc.f90,
	  PW/electrons.f90, PW/ewald.f90, PW/force_hub.f90,
	  PW/get_locals.f90, PW/ggen.f90, PW/h_psi_meta.f90,
	  PW/init_at_1.f90, PW/init_vloc.f90, PW/input.f90,
	  PW/kpoint_grid.f90, PW/make_pointlists.f90, PW/ortho_wfc.f90,
	  PW/potinit.f90, PW/print_ks_energies.f90, PW/punch.f90,
	  PW/pw_restart.f90, PW/remove_atomic_rho.f90, PW/report_mag.f90,
	  PW/setup.f90, PW/startup.f90, PW/stres_har.f90, PW/stres_hub.f90,
	  PW/sum_band.f90, PW/summary.f90, PW/symmetrize_at.f90,
	  PW/symscalar.f90, PW/trnvecc.f90, PW/update_pot.f90,
	  PW/v_of_rho.f90, PW/vloc_of_g.f90, PW/vloc_psi.f90,
	  PW/weights.f90, PW/wsweight.f90, PWCOND/bessj.f90,
	  PWCOND/compbs.f90, PWCOND/eigenchnl.f90, PWCOND/four.f90,
	  PWCOND/gramsh.f90, PWCOND/init_cond.f90, PWCOND/integrals.f90,
	  PWCOND/jbloch.f90, PWCOND/openfil_cond.f90, PWCOND/poten.f90,
	  PWCOND/realus_scatt.f90, PWCOND/rotproc.f90,
	  PWCOND/scat_states_plot.f90, PWCOND/transmit.f90,
	  atomic/ascheq.f90, atomic/compute_phi.f90,
	  atomic/compute_phi_tm.f90, atomic/compute_phius.f90,
	  atomic/compute_potps.f90, atomic/compute_potps_new.f90,
	  atomic/compute_solution.f90, atomic/descreening.f90,
	  atomic/dfx_new.f90, atomic/dir_outward.f90, atomic/dirsol.f90,
	  atomic/drhoofv.f90, atomic/elsd_highv.f90, atomic/elsdps.f90,
	  atomic/elsdps_paw.f90, atomic/esic.f90, atomic/export_upf.f90,
	  atomic/integrate_outward.f90, atomic/ld1.f90,
	  atomic/ld1_readin.f90, atomic/ld1_setup.f90, atomic/lderiv.f90,
	  atomic/lderivps.f90, atomic/new_potential.f90,
	  atomic/partial_wave_expansion.f90, atomic/pseudo_q.f90,
	  atomic/pseudovloc.f90, atomic/read_pseudo_ncpp.f90,
	  atomic/run_test.f90, atomic/sic_correction.f90,
	  atomic/write_results.f90, atomic/write_resultsps.f90,
	  atomic/write_upf.f90:

	Minor partial cleanup. Many routines declared unused variables. Many others
	could be cleaned.

2009-02-25 16:45  paulatto

	* PW/read_file.f90:

	Little modification on how PAW data is read at restart, I think this is the
	correct way (but cannot be 100% sure it is).
	LP

2009-02-25 16:36  paulatto

	* PW/paw_init.f90:

	message was printed to unit "*" instead of stdout, causing extra output in
	multi-image calculation.
	LP

2009-02-24 11:13  seitsonen

	* GIPAW/init_gipaw_1.f90:

	Removed the scaling of the pseudo wave functions after a discussion
	with Matteo Calandra.

	       apsi (Ari P Seitsonen, IMPMC/Paris)

2009-02-23 18:44  giannozz

	* Gamma/d2ion.f90, PH/d2ionq.f90:

	erfc set to external, i.e. the one in erf.f90 - the system erfc on some
	versions of some compilers is not accurate enough, or not at all

2009-02-20 09:25  paulatto

	* tests/paw-atom_tqr.ref:

	Reference fixed (the previous version was computed with another dataset)
	LP

2009-02-19 18:47  dalcorso

	* PH/transform_alphasum_so.f90:

	Removed the declaration of another unused variable.

2009-02-19 18:10  dalcorso

	* examples/: example02/run_example, example14/run_example,
	  example22/run_example, example24/run_example,
	  example32/run_example:

	Variable lnscf is no more necessary in the ph input. Removed from all
	examples.

2009-02-19 17:38  dalcorso

	* PH/: addnlcc.f90, addnlcc_zstar_eu_us.f90, addusddens.f90,
	  addusddense.f90, drho.f90, drhodvus.f90, dv_of_drho.f90,
	  ef_shift.f90, newdq.f90, zstar_eu_us.f90:

	Another small change to phonon. After recent changes, variable domag is no
	more necessary in several routines.

2009-02-19 10:49  giannozz

	* CPV/cp_restart.f90, CPV/cplib.f90, CPV/electrons.f90,
	  CPV/init_run.f90, CPV/input.f90, CPV/main.f90, CPV/mainvar.f90,
	  CPV/make.depend, CPV/nlcc.f90, CPV/wave_types.f90,
	  Modules/input_parameters.f90, Modules/ions_nose.f90,
	  Modules/make.depend, Modules/parameters.f90,
	  Modules/read_namelists.f90, PP/projwfc.f90, PW/pwcom.f90:

	Cleanup of fixed parameters - only a few remains in parameters.f90.
	The others have been either removed or moved to where they belong

2009-02-19 10:45  giannozz

	* PH/: addusdynmat.f90, phq_setup.f90:

	Compilation problems after recent changes

2009-02-19 10:38  giannozz

	* XSpectra/xspectra.f90:

	iargc shouldn't be defined external (gfortran doesn't like it)
	Same constants used in the rest of the code (please check!)

2009-02-19 10:14  giannozz

	* PWCOND/do_cond.f90:

	Name conflict between module start_k and variable with the same name

2009-02-19 10:05  giannozz

	* PP/: wannier_ham.f90, wannier_plot.f90:

	gfortran complains about length of lines (standard is 132) - do loop with
	real bounds is nonstandard, should be changed

2009-02-17 15:51  giannozz

	* Modules/input_parameters.f90, Modules/make.depend,
	  Modules/parameters.f90, Modules/stick_base.f90,
	  Modules/wannier_new.f90, PP/wannier_ham.f90,
	  PP/wannier_hamiltonians.f90, PP/wannier_plot.f90,
	  PP/wannier_u_matrix.f90, PW/buffers.f90, PW/electrons.f90,
	  PW/make.depend, PW/ortho_wfc.f90, PW/wannier_check.f90,
	  PW/wannier_enrg.f90, PW/wannier_init.f90, PW/wannier_occ.f90,
	  PW/wannier_proj.f90, XSpectra/xspectra.f90, pwtools/bands_FS.f90:

	Tabulators replaced by white spaces (they confuse some compilers).
	Recent additions to parameters.f90 moved into the place where they
	belong (in my opinion). I don't think it is such a great idea to put
	parameters there, unless they are used throughout the distribution

2009-02-17 12:43  giannozz

	* TODO, PH/ch_psi_all.f90, PH/dvpsi_e.f90, PH/h_psiq.f90,
	  PH/orthogonalize.f90, PW/h_1psi.f90, PW/h_psi.f90,
	  PW/orthoatwfc.f90, PW/s_1psi.f90, PW/s_psi.f90, PW/vloc_psi.f90,
	  Gamma/a_h.f90, Gamma/dvpsi_kb.f90, Gamma/h_h.f90, PP/projwfc.f90,
	  PP/sym_band.f90:

	More h_psi and s_psi cleanup and harmonization. There shouldn't be any
	side effects, but who knows

2009-02-17 12:41  giannozz

	* XSpectra/: Makefile, init_xspectra_ldau.f90:

	Compilation problem (wannier_new module missing)

2009-02-17 09:32  paulatto

	* tests/: paw-atom_tqr.in, paw-atom_tqr.ref:

	test for real-space augmentation with paw
	LP

2009-02-16 15:56  giannozz

	* PW/: h_psi.f90, rcgdiagg.f90, regterg.f90, rotate_wfc_gamma.f90:

	h_psi in the Gamma case used to force the input psi(G=0) to be real, in order
	to prevent numerical trouble. Changed to set the output h*psi(G=0) to be real:
	it should be equivalent and it is much more logical. Just in case, and in order
	to have the same behavior,  Im [psi(G=0)] is set to 0 before calls to h_psi

2009-02-16 14:48  giannozz

	* doc-def/INPUT_LD1.def:

	Updated

2009-02-16 11:03  giannozz

	* PH/: dvpsi_e2.f90, pcgreen.f90, solve_e2.f90, solve_e_fpol.f90,
	  solve_linter.f90:

	Unused declarations removed

2009-02-16 10:12  dalcorso

	* PH/: add_zstar_ue.f90, cgsolve_all.f90, chi_test.f90,
	  dhdrhopsi.f90, dielec.f90, dielec_test.f90, dvpsi_e2.f90,
	  dvqpsi_us_only.f90, find_mode_sym.f90, gmressolve_all.f90,
	  pcgreen.f90, polariz.f90, punch_plot_ph.f90, raman_mat.f90,
	  solve_e2.f90:

	Minor phonon cleanup. ZDOTC declared external.

2009-02-16 09:00  giannozz

	* flib/atomic_number.f90:

	Yet another fix to the routines producing atomic numbers

2009-02-15 18:29  giannozz

	* PW/h_psi.f90:

	Ooops...stop -> stop_clock

2009-02-14 15:26  giannozz

	* PW/: Makefile, h_psi.f90, print_clock_pw.f90, scf_mod.f90,
	  vhpsi_nc.f90, vloc_psi.f90:

	Some (unfinished) cleanup in h_psi: Vloc*psi moved to a separate routine
	in all cases

2009-02-14 15:01  dalcorso

	* D3/solve_linter_d3.f90, VdW/dvpsi_e.f90, VdW/solve_e.f90:

	A few conflicts with the changes in phcom. These conflicts are due to
	the fact that these routines USE phcom instead of multiple USE statements.

2009-02-14 14:37  dalcorso

	* PH/drho.f90:

	Needed for PAW recover.

2009-02-14 13:54  dalcorso

	* PH/: add_for_charges.f90, compute_vsgga.f90, dielec.f90,
	  dynmat_us.f90:

	Minor phonon cleanup. Removed a few declared but unused variables.

2009-02-14 13:43  dalcorso

	* PH/phq_init.f90:

	Phonon cleanup. The structure factor and the local potential are
	already calculated by read_file.

2009-02-14 12:20  dalcorso

	* PH/: make.depend, phqscf.f90, solve_e.f90, solve_e2.f90,
	  solve_linter.f90, write_rec.f90:

	Added phonon recover in the PAW case.

2009-02-14 11:25  dalcorso

	* PH/orthogonalize.f90:

	Small change.

2009-02-14 11:18  dalcorso

	* PH/: Makefile, dvpsi_e.f90, orthogonalize.f90, solve_e.f90,
	  solve_linter.f90:

	Phonon cleanup. A single routine applies the projector in the conduction
	band P^+_c.

2009-02-14 10:05  dalcorso

	* examples/example02/run_example:

	Improved output messages.

2009-02-14 08:46  dalcorso

	* PH/: allocate_phq.f90, deallocate_phq.f90, dvpsi_e.f90,
	  pcgreen.f90, phq_init.f90, solve_e.f90, solve_e_fpol.f90,
	  solve_linter.f90:

	Phonon cleanup. The preconditioning variable eprec is calculated in a single
	place. h_diag is calculated outside the loop on the perturbations.

2009-02-14 07:43  dalcorso

	* PH/: drho.f90, set_int12_nc.f90, solve_e.f90, solve_linter.f90,
	  zstar_eu_us.f90:

	Minor phonon cleanup. The rotation of dbecsum_nc is done in a single routine.

2009-02-14 07:33  dalcorso

	* PH/: phcom.f90, phq_setup.f90, solve_e.f90, solve_e2.f90,
	  solve_e_fpol.f90, solve_linter.f90:

	Minor cleanup of the phonon. Default value of flmixdpot set in a single place.

2009-02-13 17:11  giannozz

	* PW/h_psi.f90:

	Harmonization of the three h*psi routines (two were contain-ed, one
	was not: now none is contain-ed)

2009-02-13 13:12  giannozz

	* PP/do_initial_state.f90:

	Misspells

2009-02-13 13:11  giannozz

	* doc-def/INPUT_PW.def:

	tqr no longer experimental - it works

2009-02-13 13:11  giannozz

	* GIPAW/Makefile:

	Compilation problem after last addition

2009-02-12 19:15  paulatto

	* PW/realus.f90:

	Realus fixed again (second derivative in first point is not first derivative
	in second point), actually it makes almost no difference.
	LP

2009-02-12 18:32  paulatto

	* PW/realus.f90:

	For real-space augmentation only:

	For pseudopotentials not using analitical expression of aug.charge close to
	nuclei (i.e. all those generated with ld1.x), random meaningless numbers
	were feed to the spline interpolators for the points closer to the nucleus.

	This caused unexpected "wrong charge" errors and low accuracy. Agreement
	with G-space algorithm is now increased 10 times.

	LP

2009-02-12 15:53  paulatto

	* Modules/read_upf_v2.f90, PW/realus.f90:

	Added PAW (and UPF with l-dependent augmentation) support for real-space
	augmentation. Fixed an harmless but annoying bug that caused the coed to
	access upf%qfcoef even when they were not used.
	LP

2009-02-12 10:08  dalcorso

	* PH/dvanqq.f90, PW/addusdens.f90:

	Futher comments and cleanup.

2009-02-12 09:56  dalcorso

	* PH/: adddvepsi_us.f90, adddvscf.f90, addusdbec.f90,
	  compute_alphasum.f90, compute_becalp.f90, compute_becsum_ph.f90,
	  compute_weight.f90, dvqpsi_us.f90, dynmat_us.f90:

	Some comments in the phonon code updated. References to the formulas in notes
	substituted with references to the formulas in PRB 64, 235118 (2001).

2009-02-12 09:24  giannozz

	* PH/make.depend:

	Dependencies updated

2009-02-12 09:22  giannozz

	* Modules/parallel_types.f90, Modules/ptoolkit.f90,
	  Modules/zhpev_drv.f90, flib/Makefile, flib/blockset.f90,
	  flib/ilcm.f, flib/indxg2l.f, flib/indxg2p.f, flib/indxl2g.f,
	  flib/infog1l.f, flib/infog2l.f, flib/npreroc.f, flib/numroc.f,
	  flib/ownerof.f90:

	Unused routines removed

2009-02-12 09:09  degironc

	* CPV/Makefile, D3/Makefile, Gamma/Makefile, PH/Makefile,
	  PWCOND/Makefile, VdW/Makefile:

	additions to makefile files needed by the new DFT+DMFT part

2009-02-12 09:07  degironc

	* PW/Makefile, PW/allocate_wfc.f90, PW/clean_pw.f90,
	  PW/close_files.f90, PW/hinit1.f90, PW/init_run.f90, PW/input.f90,
	  PW/make.depend, PW/openfil.f90, PW/ortho_wfc.f90,
	  PW/wannier_check.f90, PP/Makefile, PP/make.depend,
	  PP/wannier_ham.f90, PP/wannier_hamiltonians.f90,
	  PW/wannier_clean.f90, PW/wannier_enrg.f90, PW/wannier_init.f90,
	  PW/wannier_occ.f90, PW/wannier_proj.f90, PW/wfcinit.f90,
	  Modules/Makefile, Modules/input_parameters.f90,
	  Modules/io_files.f90, PP/wannier_plot.f90,
	  PP/wannier_u_matrix.f90, PP/wannier_umatrix_subroutines.f,
	  Modules/make.depend, Modules/parameters.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90,
	  Modules/wannier_new.f90:

	new files and modifications needed to extract a TB hamiltonian in order to
	perform a DFT+DMFT calculation.
	contributed by Dmtry Korotin, V.I. Anisimov, N. Binggeli et al.
	The DMFT part will be loaded separately into QE-forge.

	SdG

2009-02-10 18:36  giannozz

	* examples/example07/README:

	Explicit statement that unshifted grids are needed

2009-02-10 16:18  giannozz

	* PP/: dos.f90, pw2casino.f90:

	Minor change and suggestions by Karoly Nemeth about pw2casino

2009-02-10 16:15  giannozz

	* PW/realus.f90:

	Real-space calculation of Q(r) had a bug that becomes apparent only with v.2
	UPF pseudopotentials (qfunc not allocated for non-ultrasoft pp)

2009-02-09 18:01  seitsonen

	* GIPAW/: gipaw_module.f90, paw_gipaw.f90:

	Moved the initialisation of 'paw_recon[nsp]' into a new location where it
	is more logical and easier to catch errors. Thanks to error report from
	Christos Gougoussis and Matteo Calandra (IMPMC, Paris).

	       apsi = Ari P Seitsonen

2009-02-09 17:58  giannozz

	* PW/: make.depend, read_pseudo.f90:

	Less alarmistic message when atomic wavefunction are renormalized.
	Reminder: never ever write "WARNING" on output without a good reason

2009-02-09 09:27  dalcorso

	* CPV/cp_restart.f90, Modules/xml_io_base.f90, PW/pw_restart.f90:

	Problem with compilation.

2009-02-08 18:48  dalcorso

	* PH/bcast_ph_input.f90:

	Bug fix: missing broadcast of the frequencies.

2009-02-08 18:27  dalcorso

	* PH/: solve_e.f90, solve_e2.f90, solve_linter.f90, write_rec.f90:

	Phonon cleanup. The reading of the recover file is done by a single routine.

2009-02-08 18:14  dalcorso

	* PH/phq_setup.f90:

	Bug fix: the phonon recover with modenum /= 0 was not working any more.
	This bug was introduced in the cvs version on 01 Sep, 2008.

2009-02-08 18:06  dalcorso

	* Modules/xml_io_base.f90, PW/pw_restart.f90:

	Bug fix: the phonon recover with US-PPs was not working any more. This bug was
	introduced in the cvs version on Sep. 18, 2008.

2009-02-06 19:17  giannozz

	* atomic/: write_results.f90, write_resultsps.f90:

	First attempt towards an easier to plot format for atomic pseudo-wavefunctions.
	Not sure it works in all cases, though. The format of file_wavefunctionsps
	is basically unchanged, but all-electron wavefunctions are added in the
	right side of the file, with the same ordering and lables

2009-02-05 17:17  giannozz

	* PW/input.f90:

	Last commit broke metadynamics - should be fixed now. Anybody knowing
	what the option 'phase_space' is supposed to do, and whether it can be
	used independently of metadynamics?

2009-02-04 21:57  giannozz

	* atomic/ld1_readin.f90:

	More explicit error message

2009-02-04 21:54  giannozz

	* Modules/: autopilot.f90, input_parameters.f90, read_cards.f90:

	Spelling errors

2009-02-04 19:16  giannozz

	* Doc/BUGS:

	Updated - please do not forget to mention fixed bugs here!

2009-02-04 19:15  giannozz

	* Doc/BUGS, Modules/read_upf_v2.f90, PW/divide_class.f90,
	  PW/divide_class_so.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PH/solve_e.f90, PH/solve_e_fpol.f90, dev-tools/release.sh:

	More minor bugs backported

2009-02-04 18:18  dalcorso

	* PH/addnlcc.f90, PH/addnlcc_zstar_eu_us.f90, PH/addusddens.f90,
	  PH/addusddense.f90, PH/addusdynmat.f90, PH/compute_vsgga.f90,
	  PH/drho.f90, PH/drhodvloc.f90, PH/drhodvus.f90,
	  PH/dv_of_drho.f90, PH/dvanqq.f90, PH/dynmat_us.f90,
	  PH/ef_shift.f90, PH/newdq.f90, PH/symdvscf.f90, PH/syme.f90,
	  PH/zstar_eu_us.f90, PW/addusdens.f90, PW/compute_dip.f90,
	  PW/newd.f90, PW/noncol.f90, PW/read_file.f90, PW/realus.f90,
	  PW/setup.f90, PW/stres_loc.f90:

	Cleanup of the phonon code. In the noncollinear case, the spin
	indeces are calculated only once, not in every routine.

2009-02-04 16:28  giannozz

	* Doc/BUGS, PH/addnlcc_zstar_eu_us.f90:

	One more bug fix backported

2009-02-04 16:10  giannozz

	* PW/input.f90, Doc/BUGS:

	starting_magnetization should not exceed +/- 1

2009-02-04 16:08  giannozz

	* Doc/BUGS, Modules/version.f90, PW/compute_dip.f90:

	Final bug from Lorenzo. Any more?

2009-02-04 15:14  paulatto

	* Doc/BUGS:

	Detailed specification of previous bug-fix.
	LP

2009-02-04 14:44  dalcorso

	* PH/addnlcc_zstar_eu_us.f90:

	Bug fix: problem with effective charges d Force / d E  in the
	noncollinear+NLCC case.

2009-02-04 14:44  paulatto

	* PW/compute_dip.f90:

	In the tefield case, code assumed external electric field parallel to z axis
	all the other cases produced grossly wrong results.
	LP

2009-02-04 14:38  giannozz

	* Doc/BUGS, PH/matdyn.f90, PWCOND/do_cond.f90,
	  PWCOND/init_gper.f90:

	Final bug fixes to 4.0.4

2009-02-04 12:08  giannozz

	* doc-def/INPUT_PW.def:

	Documentation updated

2009-02-04 11:25  dalcorso

	* PH/: adddvscf.f90, addusdbec.f90, addusdbec_nc.f90,
	  cch_psi_all.f90, ch_psi_all.f90, compute_alphasum.f90,
	  compute_becalp.f90, compute_becsum_ph.f90, compute_drhous.f90,
	  compute_drhous_nc.f90, compute_nldyn.f90, compute_weight.f90,
	  deallocate_phq.f90, drhodv.f90, dvqpsi_us.f90,
	  dvqpsi_us_only.f90, dynmat_us.f90, incdrhoscf.f90,
	  incdrhoscf_nc.f90, incdrhous.f90, incdrhous_nc.f90, phcom.f90,
	  phonon.f90, phq_init.f90, solve_linter.f90:

	Further cleanup of the phonon code. The indeces of k and k+q are no more
	recalculated in every routine.

2009-02-04 10:41  giannozz

	* Gamma/make.depend, PH/make.depend, PW/input.f90,
	  PW/symmetrize_at.f90:

	1) Non scf calculations use atomic positions from the data filem no longer
	those provided in input. I think that this is the correct behaviour and that
	the previous one was a source of trouble and of useless additional work.
	I cannot see any reason why one should perform a non scf calculation with
	one set of atomic positions and the scf potential relative to a different one.
	2) After a reshuffling of input.f90 (which has become a mess beyond control),
	the check on starting_magnetization works again. input.f90 should be
	rewritten like the corresponding routine of CP. 3) Dependencies updated

2009-02-04 09:36  dalcorso

	* PW/compute_becsum.f90:

	Small cleanup.

2009-02-04 09:28  dalcorso

	* PH/: addnlcc.f90, addnlcc_zstar_eu_us.f90, addusdbec.f90,
	  addusdbec_nc.f90, addusddens.f90, addusddense.f90,
	  addusdynmat.f90, allocate_part.f90, allocate_phq.f90,
	  cch_psi_all.f90, ch_psi_all.f90, compute_alphasum.f90,
	  compute_becsum_ph.f90, compute_drhous.f90, compute_drhous_nc.f90,
	  compute_nldyn.f90, compute_weight.f90, deallocate_phq.f90,
	  drho.f90, drhodv.f90, drhodvloc.f90, drhodvus.f90,
	  dv_of_drho.f90, dvanqq.f90, dvqpsi_us.f90, dvqpsi_us_only.f90,
	  dynmat_us.f90, incdrhoscf.f90, incdrhoscf_nc.f90, newdq.f90,
	  ph_restart.f90, phq_readin.f90, phq_setup.f90, symdvscf.f90,
	  syme.f90, zstar_eu_us.f90:

	Minor cleanup of the phonon code (part 2). USE phcom and USE pwcom
	substituted by multiple USE statements.

2009-02-02 11:52  dalcorso

	* PH/: add_dkmds.f90, add_for_charges.f90, add_zstar_ue.f90,
	  add_zstar_ue_us.f90, adddvepsi_us.f90, addusldos.f90,
	  bcast_ph_input.f90, cft_wave.f90, chi_test.f90, clinear.f90,
	  compute_becalp.f90, compute_dvloc.f90, deallocate_part.f90,
	  dhdrhopsi.f90, dielec.f90, dielec_test.f90, drhodvnl.f90,
	  dvkb3.f90, dvpsi_e.f90, dvpsi_e2.f90, dynmat0.f90, dynmatcc.f90,
	  dynmatrix.f90, el_opt.f90, h_psiq.f90, incdrhous.f90,
	  incdrhous_nc.f90, localdos.f90, mode_group.f90, pcgreen.f90,
	  phq_init.f90, phq_recover.f90, phq_summary.f90, phqscf.f90,
	  polariz.f90, print_clock_ph.f90, psidspsi.f90, psym_dmag.f90,
	  psym_dmage.f90, psymdvscf.f90, punch_plot_e.f90,
	  punch_plot_ph.f90, raman.f90, raman_mat.f90, set_drhoc.f90,
	  set_dvscf.f90, setup_dgc.f90, sgam_ph.f90, solve_e.f90,
	  solve_e2.f90, solve_e_fpol.f90, solve_e_nscf.f90,
	  sym_and_write_zue.f90, sym_def.f90, sym_dmag.f90, sym_dmage.f90,
	  syme2.f90, zstar_eu.f90:

	Minor cleanup of the phonon code. USE phcom substituted with multiple USE statements
	in many routines.

2009-02-02 09:35  dalcorso

	* PH/: davcio_drho.f90, psyme.f90, psyme2.f90, stop_ph.f90:

	Minor cleanup.

2009-02-02 09:25  dalcorso

	* PH/solve_e_fpol.f90:

	Bug fix: missing deallocation.

2009-02-01 16:50  giannozz

	* flib/: startup.f90, syncronize.f90:

	Unused routines removed

2009-02-01 15:27  giannozz

	* atomic/: export_upf.f90, import_upf.f90, ld1_readin.f90:

	Uninitialized variables related to 1/r pseudopotentials

2009-01-31 15:42  cavazzon

	* PW/setup.f90:

	- bug fix: there was a synchronization problem between processor groups
	  associated with different images (ex. NEB) when the code was compiled for
	  SCALAPACK.

2009-01-30 15:52  dalcorso

	* PH/ef_shift.f90:

	Problem with the Fermi energy shift in the noncollinear magnetic case.

2009-01-30 15:47  dalcorso

	* PH/: solve_e.f90, transform_dbecsum_so.f90:

	Missing deallocation in solve_e in the noncollinear/spin-orbit case.
	Cleanup.

2009-01-30 15:41  dalcorso

	* PW/: gen_us_dj.f90, gen_us_dy.f90:

	Missing deallocation when spline_ps is true.

2009-01-30 10:14  dalcorso

	* PW/: divide_class.f90, divide_class_so.f90:

	Bug fix: yet another problem with D_2h.

2009-01-27 11:25  dalcorso

	* PW/: divide_class.f90, divide_class_so.f90:

	Bug fix: a problem with D_2h in special cases.

2009-01-26 22:12  giannozz

	* configure, configure.ac:

	Better treatment of the case of mismatching serial/parallel compiler:
	parallel one prevails

2009-01-26 18:15  giannozz

	* PW/electrons.f90:

	Cleanup

2009-01-21 17:59  dalcorso

	* atomic_doc/pseudo_library/: LDA/REL/H.rel-pz-rrkjus.in,
	  LDA/REL/O.rel-pz-rrkjus_h.in, LDA/SR/H.pz-rrkjus.in,
	  LDA/SR/O.pz-rrkjus_h.in, PBE/REL/H.rel-pbe-rrkjus.in,
	  PBE/REL/O.rel-pbe-rrkjus_h.in, PBE/SR/H.pbe-rrkjus.in,
	  PBE/SR/O.pbe-rrkjus_h.in:

	A hard oxygen PP added (to be used for short OH bonds). H PPs modified.

2009-01-20 22:00  giannozz

	* PH/matdyn.f90:

	Not sure the calculation of dynamical matrices for supercells works,
	but for sure, it wasn't working

2009-01-15 17:55  dalcorso

	* Gamma/: Makefile, cg_setupdgc.f90, dgcxc.f90, dgcxc_spin.f90:

	Further cleanup.

2009-01-15 17:34  dalcorso

	* Modules/read_upf_v2.f90:

	Bug fix: some variables were allocated twice in the reader of the new pp
	format.

2009-01-15 13:54  paulatto

	* Modules/fft_scalar.f90:

	I've added #error preprocessor directives to stop compilation when no
	fft driver is specified. This prevents confusing and annoying errors
	at runtime.

	This is standard ANSI C, so should be supported by all preprocessors, anyway I've
	left the runtime checks there just in case.

	LP

2009-01-13 18:30  paulatto

	* atomic_doc/paw_library/input/Fe.in:

	previous versione of the Fe pseudopotential was not working correctly
	in some random cases for some not very well undestood reason.

	This works fine and is considerably softer. Thanks to Dario Alfé who pointed
	it out and helped fixing it.

	LP

2009-01-13 09:30  giannozz

	* PH/make.depend:

	dependencies updated

2009-01-13 09:29  giannozz

	* Modules/: mp_wave.f90, read_namelists.f90:

	Compilation in serial case fixed

2009-01-12 18:25  cavazzon

	* CPV/: bforceion.f90, cg_sub.f90, cglib.f90, chargedensity.f90,
	  cp_interfaces.f90, cplib.f90, cplib_meta.f90, cpr.f90,
	  dealloc.f90, dforceb.f90, exch_corr.f90, fromscra.f90,
	  gtable.f90, init_run.f90, inner_loop.f90, inner_loop_cold.f90,
	  mainvar.f90, make.depend, modules.f90, nl_base.f90, ortho.f90,
	  ortho_base.f90, para.f90, qmatrixd.f90, vol_clu.f90, wannier.f90,
	  wannier_base.f90, wf.f90:

	- Explicit MPI_XXXX calls substituted by calls to "mp" wrappers.
	- Parallelization of some beta.dot.c arrays to reduce the
	  memory requirement of the code when using many processors
	- cleanup in wannier functions related subroutines
	- various cleanup

2009-01-12 18:20  cavazzon

	* Modules/: mp.f90, mp_base.f90, mp_wave.f90, ptoolkit.f90:

	- new "mp" subroutines required by CP with wannier functions
	- cleanup

2009-01-12 09:08  giannozz

	* TODO, doc-def/INPUT_PW.def, flib/functionals.f90:

	Minor documentation updates: added references for more functionals
	(please check), removed nonexistent option cell_dofree='volume'

2009-01-01 13:50  dalcorso

	* examples/example32/: run_example, reference/Cu.phG_pbe.out,
	  reference/Cu.scf_pbe.out:

	Added an example of DFPT+PAW+GGA.

2009-01-01 13:44  dalcorso

	* PH/phq_setup.f90, PW/paw_onecenter.f90:

	Added support for DFPT+PAW+GGA.(Still experimental)

2009-01-01 11:38  dalcorso

	* PH/: Makefile, apply_dpot.f90, solve_e.f90, solve_linter.f90:

	Cleanup.

2009-01-01 11:31  dalcorso

	* Modules/functionals.f90, PH/Makefile, PH/dgcxc.f90,
	  PH/dgcxc_spin.f90, PH/setup_dgc.f90:

	dgcxc and dgcxc_spin moved to Modules/functionals.f90.

2008-12-23 16:58  giannozz

	* Modules/functionals.f90:

	References and documentation updated for latest functionals

2008-12-22 17:28  cavazzon

	* Modules/ptoolkit.f90, CPV/cg_sub.f90, CPV/inner_loop_cold.f90,
	  PP/projwfc.f90:

	- substitution of deferred dimensions (*) with actual dimensions .
	  This will remove compilation problems with some version of gfortran compiler

2008-12-22 15:35  giannozz

	* atomic_doc/pseudo_library/PBE/SR/Mg.pbe-rrkj.in:

	Added input file for Mg - PP currently under testing (not sure it is good)

2008-12-15 13:01  cavazzon

	* CPV/: cp_interfaces.f90, cpr.f90, fromscra.f90, init_run.f90,
	  make.depend, restart.f90, restart_sub.f90, wannier.f90:

	- cleanup

2008-12-12 16:48  paulatto

	* PW/paw_onecenter.f90:

	Removed obsolete comment
	LP

2008-12-12 11:14  dalcorso

	* PH/: ef_shift.f90, localdos.f90, solve_linter.f90:

	Added the case DFPT+PAW+shift of Fermi energy.

2008-12-11 11:02  paulatto

	* examples/README:

	Some of the question more frequently asked in the mailing list have a specific
	example, e.g. WorkFct_example, GIPAW_example. I've added minimal documentation
	for these examples in the README file.
	LP

2008-12-10 18:52  dalcorso

	* PH/solve_linter.f90:

	A problem with mixing in DFPT+PAW+parallel_case.

2008-12-08 13:55  cavazzon

	* Modules/dspev_drv.f90, Modules/make.depend, Modules/ptoolkit.f90,
	  Modules/zhpev_drv.f90, CPV/Makefile, CPV/eigs0.f90,
	  CPV/ortho_base.f90, PW/cdiaghg.f90, PW/rdiaghg.f90:

	- cleanup of scalapack and other linear algebra subroutines

2008-12-05 11:13  giannozz

	* CPV/eigs0.f90, CPV/ortho_base.f90, Modules/ptoolkit.f90,
	  PW/make.depend, PH/make.depend:

	Added missing #ifdef SCALAPACK to fix compilation problem in serial case;
	make.depend updated

2008-12-05 10:31  kokalj

	* GUI/PWgui/make.usage:

	improved description

2008-12-05 10:30  kokalj

	* GUI/PWgui/: BUGS, COPYRIGHT, INSTALL, README, THANKS, TODO:

	updating the readme-files: in particular INSTALL files have been substantially shortened (hopefully its more understandable now)

2008-12-05 09:33  kokalj

	* GUI/PWgui/VERSION:

	updating version to 4.1CVS

2008-12-05 09:33  kokalj

	* GUI/PWgui/Makefile:

	one image file was not inluded in the tar.gz file, which prevented the source PWgui-VERSION.tar.gz file from working

2008-12-04 18:32  cavazzon

	* PW/rdiaghg.f90:

	- contained subroutine scalapack_drv in PW/rdiaghg.f90 and CPV/ortho_base.f90
	  moved to Modules/ptoolkit.f90

2008-12-04 18:32  cavazzon

	* CPV/: eigs0.f90, ortho_base.f90:

	- contained subroutine scalapack_drv in PW/rdiaghg.f90 and CPV/ortho_base.f90
	  moved to Modules/ptoolkit.f90
	- eigenvalues computed with the distributed matrix

2008-12-04 18:31  cavazzon

	* Modules/: dspev_drv.f90, ptoolkit.f90:

	- contained subroutine scalapack_drv in PW/rdiaghg.f90 and CPV/ortho_base.f90
	  moved to Modules/ptoolkit.f90
	- pdspev driver modified to include the possibility to compute only the eigenvalues
	  of a distributed matrix

2008-12-03 10:22  dalcorso

	* examples/README, examples/example32/README,
	  examples/example32/run_example,
	  examples/example32/reference/c.phG.out,
	  examples/example32/reference/c.phX.out,
	  examples/example32/reference/c.scf.out,
	  examples/example32/reference/ch4.nm.out,
	  examples/example32/reference/ch4.scf.out,
	  pseudo/C.lda-paw_kj.UPF, pseudo/H.lda-paw_kj.UPF:

	Added an example of ph.x with PAW.

2008-12-02 18:47  dalcorso

	* PH/addusddens.f90, PH/allocate_phq.f90, PH/deallocate_phq.f90,
	  PH/drho.f90, PH/drhodvus.f90, PH/newdq.f90, PH/phcom.f90,
	  PH/phq_readin.f90, PH/phq_setup.f90, PH/set_defaults_pw.f90,
	  PH/solve_e.f90, PH/solve_linter.f90, PH/zstar_eu_us.f90,
	  PW/paw_init.f90, PW/paw_onecenter.f90:

	DFPT with PAW (initial implementation).

2008-12-02 13:38  giannozz

	* PWCOND/make.depend:

	make.depend updated

2008-12-02 13:13  kokalj

	* dev-tools/helpdoc.d/guihelp.tcl:

	adding one exception to def vs module file comparison for automatic
	pwgui help file creation (alpha_mix(1) <--> alpha_mix(niter))

2008-12-02 13:11  kokalj

	* dev-tools/check_gui:

	check_gui now works even if PWGUI env.variable is not defined. It tries to guess the location of CVS PWgui directory

2008-12-02 13:09  kokalj

	* doc-def/INPUT_PW.def:

	typo correction, some re-formating, and cleanup

2008-12-02 13:07  kokalj

	* GUI/Guib/ChangeLog:

	updating ...

2008-12-02 13:07  kokalj

	* GUI/Guib/src/gui.itcl:

	adding kind of limited-support for mouse-wheel to scrolled notebook's pages

2008-12-02 13:03  kokalj

	* GUI/Guib/guib.theme:

	enlarged windows ... (tabnotebook & scrolledframe)

2008-12-02 13:02  kokalj

	* GUI/PWgui/ChangeLog:

	updating ...

2008-12-02 13:01  kokalj

	* GUI/PWgui/modules/atomic/atomic.tcl:

	updating pwgui's atomic module

2008-12-02 13:01  kokalj

	* GUI/PWgui/modules/ph/: ph-event.tcl, ph-help.tcl, ph.tcl:

	updating pwgui's ph.x module

2008-12-02 13:00  kokalj

	* GUI/PWgui/modules/pw/: pw-event.tcl, pw-help.tcl, pw.tcl:

	updating pwgui's pw.x module

2008-12-02 12:59  kokalj

	* GUI/PWgui/images/pwgui-logo.gif:

	new enalred image for the pwgui splash screen

2008-12-02 12:57  kokalj

	* GUI/PWgui/src/pwscf.theme:

	enlarging a bit pwgui main window

2008-12-02 12:57  kokalj

	* GUI/PWgui/src/pwscf.itcl:

	larger image for the pwgui splash screen

2008-11-28 22:02  kokalj

	* GUI/PWgui/sys_utils/repack.sh:

	Attempt to synchronize PWgui version with QE version.
	Now the dev-tools/release.sh will assign to both  QE and PWgui the same version, as specified by the VERSION variable in that script.

2008-11-28 21:56  kokalj

	* dev-tools/release.sh:

	Ups. Correcting the last commit (the make log has been commented-out for speed&testing)

2008-11-28 21:53  kokalj

	* dev-tools/release.sh:

	Attempt to synchronize PWgui version with QE version.
	Now the dev-tools/release.sh will assign to both  QE and PWgui the same version, as specified by the VERSION variable in that script.

2008-11-28 15:55  kokalj

	* Makefile:

	- make tar now creates a tar file without GUI/ directory.
	Use "make tar-gui" to create the corresponding PWgui-VERSION tar file.

	- also discarding *~ (i.e. emacs backup files) from being added to tar file

2008-11-28 15:46  kokalj

	* GUI/PWgui/src/pwscf.itcl:

	clenup

2008-11-28 15:45  kokalj

	* GUI/PWgui/Makefile:

	improved cvsinit target: check for the existence of lib/ directory

2008-11-28 15:44  kokalj

	* GUI/Guib/lib/tclIndex:

	updated

2008-11-28 15:42  kokalj

	* GUI/Guib/src/save.itcl:

	corrected handling of default file extension

2008-11-28 15:41  kokalj

	* GUI/Guib/src/gui.itcl:

	cleanup

2008-11-27 17:28  dalcorso

	* PH/dynmatrix.f90:

	Bug fix: problem with lgamma_gamma + zue + noncubic cells.

2008-11-27 08:50  giannozz

	* tests/berry.in, tests/berry.in2, tests/berry.ref,
	  tests/berry.ref2, Doc/BUGS:

	Last small changes to v.4.0.4: documentation and a test updated

2008-11-26 15:44  kokalj

	* GUI/PWgui/src/run.itcl:

	cleanup

2008-11-26 15:44  kokalj

	* doc-def/INPUT_PWCOND.def:

	didn't compile, "default" tag was mistyped as "deafult": fixed

2008-11-26 15:30  dalcorso

	* PH/generate_effective_charges_c.f90:

	Bug fix: lgamma_gamma + zue + asr could give problems in some cases.

2008-11-25 13:53  sclauzer

	* Modules/io_files.f90, PWCOND/Makefile, PWCOND/cond_restart.f90,
	  PWCOND/condcom.f90, PWCOND/condmain.f90, PWCOND/do_cond.f90,
	  PWCOND/transmit.f90, doc-def/INPUT_PWCOND.def:

	Added a simple restart mechanism for transmission calculations. The partial transmission for each scattering energy and k-point will be saved in a dedicated directory (by specifying tran_prefix), and a run can be then restated using the recover flag. Added also the possibility to stop a job smoothly using the max_seconds variable from the check_stop module.

2008-11-25 12:22  giannozz

	* tests/: relax-el.in, relax-el.ref:

	New test had not been added in previous commit

2008-11-23 18:17  dalcorso

	* PH/solve_linter.f90:

	Small bug fix with new recover.

2008-11-23 18:12  dalcorso

	* PH/: ph_restart.f90, phq_summary.f90:

	Two small changes.

2008-11-22 19:13  cavazzon

	* PW/rdiaghg.f90:

	- SCALAPACK interface added for cholesky factorization of real matrix

2008-11-21 18:36  giannozz

	* Doc/BUGS, Modules/read_namelists.f90, PW/input.f90,
	  doc-def/INPUT_PW.def:

	Complain if unexpected diagonalization is required

2008-11-21 18:12  dalcorso

	* PP/plotband.f90:

	Small format change.

2008-11-21 18:09  giannozz

	* tests/: berry.in, berry.in2, berry.ref, berry.ref2:

	Berry test updated with higher rho cutoff so that option tqr is stable

2008-11-21 17:23  giannozz

	* tests/: README, atom-lsda.ref, atom-pbe.ref, atom-sigmapbe.ref,
	  atom.ref, berry.ref, berry.ref2, electric0.ref, electric1.ref,
	  electric2.ref, eval_infix.ref, eval_infix.ref2,
	  lattice-ibrav0-abc.ref, lattice-ibrav0-cell_parameters+a.ref,
	  lattice-ibrav0-cell_parameters+celldm.ref,
	  lattice-ibrav0-cell_parameters.ref, lattice-ibrav1-kauto.ref,
	  lattice-ibrav1.ref, lattice-ibrav10-kauto.ref,
	  lattice-ibrav10.ref, lattice-ibrav11-kauto.ref,
	  lattice-ibrav11.ref, lattice-ibrav12-kauto.ref,
	  lattice-ibrav12.ref, lattice-ibrav13-kauto.ref,
	  lattice-ibrav13.ref, lattice-ibrav14-kauto.ref,
	  lattice-ibrav14.ref, lattice-ibrav2-kauto.ref,
	  lattice-ibrav2.ref, lattice-ibrav3-kauto.ref, lattice-ibrav3.ref,
	  lattice-ibrav4-kauto.ref, lattice-ibrav4.ref,
	  lattice-ibrav5-kauto.ref, lattice-ibrav5.ref,
	  lattice-ibrav6-kauto.ref, lattice-ibrav6.ref,
	  lattice-ibrav7-kauto.ref, lattice-ibrav7.ref,
	  lattice-ibrav8-kauto.ref, lattice-ibrav8.ref,
	  lattice-ibrav9-kauto.ref, lattice-ibrav9.ref, lda+U-noU.ref,
	  lda+U-user_ns.ref, lda+U.ref, lsda-cg.ref, lsda-mixing_TF.ref,
	  lsda-mixing_localTF.ref, lsda-mixing_ndim.ref,
	  lsda-nelup+neldw.ref, lsda-tot_magnetization.ref, lsda.ref,
	  lsda.ref2, md-pot_extrap1.ref, md-pot_extrap2.ref,
	  md-wfc_extrap1.ref, md-wfc_extrap2.ref, md.ref, metaGGA.ref,
	  metadyn.ref, metal-fermi_dirac.ref, metal-gaussian.ref,
	  metal-tetrahedra.ref, metal-tetrahedra.ref2, metal.ref,
	  metal.ref2, neb1-H2+H.ref, neb2-H2+H-symm.ref,
	  neb3-H2+H-asym.ref, noncolin-cg.ref,
	  noncolin-constrain_angle.ref, noncolin-constrain_atomic.ref,
	  noncolin-constrain_total.ref, noncolin.ref, noncolin.ref2,
	  paw-atom.ref, paw-atom_l=2.ref, paw-atom_lda.ref,
	  paw-atom_spin.ref, paw-atom_spin_lda.ref, paw-bfgs.ref,
	  paw-vcbfgs.ref, relax-damped.ref, relax.ref,
	  relax2-bfgs_ndim3.ref, relax2.ref, scf-cg.ref, scf-disk_io.ref,
	  scf-gamma.ref, scf-k0.ref, scf-kauto.ref, scf-mixing_TF.ref,
	  scf-mixing_beta.ref, scf-mixing_localTF.ref, scf-mixing_ndim.ref,
	  scf-ncpp.ref, scf-wf_collect.ref, scf.ref, scf.ref2,
	  spinorbit.ref, spinorbit.ref2, uspp-cg.ref, uspp-mixing_TF.ref,
	  uspp-mixing_localTF.ref, uspp-mixing_ndim.ref,
	  uspp-singlegrid.ref, uspp.ref, uspp.ref2, uspp1-coulomb.ref,
	  uspp1.ref, uspp2.ref, vc-relax1.ref, vc-relax2.ref:

	tests updated, test for sawtooth potential added

2008-11-19 23:16  cavazzon

	* PW/: cdiaghg.f90, rdiaghg.f90:

	- change of subroutine name to avoid conflict with SCALAPACK
	- added SCALAPACK subroutine also for cholesky factorization

2008-11-19 23:13  cavazzon

	* Modules/ptoolkit.f90:

	- change of subroutine name to avoid conflict with SCALAPACK

2008-11-19 11:05  giannozz

	* PW/add_efield.f90, PW/compute_dip.f90, PW/setlocal.f90,
	  PW/v_of_rho.f90, PP/punch_plot.f90:

	Fixes to electric field backported

2008-11-18 19:02  giannozz

	* Doc/BUGS, Modules/fft_scalar.f90:

	FFTW3 fix by Davide backported in stable version

2008-11-18 18:26  ceresoli

	* Modules/fft_scalar.f90:

	Tell FFTW3 to plan out-of-place FFTs. (D.C.)

2008-11-18 09:35  giannozz

	* Doc/BUGS, doc-def/INPUT_PW.def:

	Documentation updated

2008-11-11 10:50  giannozz

	* configure, configure.ac:

	Lapck testing uses dspev instead of zggev (the latter is not part of essl)

2008-11-11 10:46  giannozz

	* configure, configure.ac:

	The fix for some IBM machines broke some others (including Cineca sp5):
	the check for lapack was performed on a lapack routine that is not in essl

2008-11-10 11:12  sclauzer

	* PWCOND/: cond_out.f90, condcom.f90, do_cond.f90,
	  summary_tran.f90:

	Added the possibility to do transmission calculation for a subset of points in the energy grid (using the new input variables start_e and last_e) and for a subset of k-points (using start_k and last_k). This enables to split the whole calculation into smaller pieces, suitable for usage on the GRID. (Gabriele Sclauzero)

2008-11-06 15:07  giannozz

	* CPV/make.depend, Doc/BUGS, PW/pw_restart.f90, PH/phq_readin.f90,
	  PH/phq_setup.f90:

	More small bugs: unused and unallocated array in restart, warning added
	for unimplemented option maxirr

2008-11-06 09:16  giannozz

	* PW/pw_restart.f90:

	unused (and unallocated) array removed

2008-11-05 21:25  giannozz

	* CPV/wave.f90, GIPAW/compute_u_kq.f90, Modules/ions_base.f90,
	  Modules/metadyn_base.f90, Modules/random_numbers.f90,
	  Modules/uspp.f90, Modules/wave_base.f90, Multigrid/mikpckd.f,
	  PH/make.depend, PH/random_matrix.f90, PH/set_irr.f90,
	  PP/d_matrix_nc.f90, PP/d_matrix_so.f90, PP/pw2wannier90.f90,
	  PW/d_matrix.f90, PW/dynamics_module.f90, PW/paw_init.f90,
	  PW/wfcinit.f90, atomic/trou.f90, pwtools/ev.f90:

	Only one random number generator is used everywhere ("randy", which
	seems to be the most uniform). Beware all kinds of unexpected side
	effects.

2008-11-05 18:05  dalcorso

	* PH/phonon.f90:

	Problem with yesterday commit.

2008-11-05 16:03  giannozz

	* configure, PH/phonon.f90, PH/rigid.f90:

	1) forgotten to run autoconf 2) last bug fixes were buggy as well

2008-11-04 23:19  giannozz

	* PWCOND/scat_states_plot.f90:

	integer index should be defined before its usage (some compilers complain)

2008-11-04 19:59  seitsonen

	* GIPAW/paw_gipaw.f90:

	Replaced ALLOCATABLE's within derived types (not allowed by the standard
	FORTRAN90) via POINTER's.

	       Ari P Seitsonen

2008-11-04 19:02  giannozz

	* configure.ac, Doc/BUGS, Modules/version.f90, PH/phonon.f90,
	  PH/rigid.f90, dev-tools/release.sh:

	More bugs found in the stable version - ready for another one

2008-11-04 19:01  dalcorso

	* PH/: bcast_ph_input.f90, ph_restart.f90, phcom.f90, phonon.f90,
	  phq_readin.f90:

	Try to control better when to recalculate bands in recover runs of ph.x.

2008-11-04 18:19  dalcorso

	* PH/elphon.f90:

	Small cleanup.

2008-11-04 17:40  dalcorso

	* PW/divide_class.f90:

	Added a check.

2008-11-04 12:04  giannozz

	* configure, configure.ac, Doc/BUGS, clib/memstat.c,
	  include/defs.h.README:

	Minor changes for Sun Sparcs

2008-11-04 11:35  dalcorso

	* PW/read_pseudo.f90:

	Small change. ! confuses the scripts that search for the total energy, please
	do not write ! on output.

2008-11-03 18:36  dalcorso

	* PH/: phonon.f90, phq_readin.f90:

	Small change to the ph output in a recover run.

2008-11-03 09:40  dalcorso

	* PH/dielec.f90, PH/dvpsi_e.f90, PH/phq_recover.f90, PH/rigid.f90,
	  PH/write_epsilon_and_zeu.f90, PW/hexsym.f90:

	1) One further grid optimiziation.
	2) Some cleanup.
	3) With lgamma_gamma the polarization is written also in the final summary.

2008-11-03 09:21  dalcorso

	* PH/: close_phq.f90, phonon.f90:

	Further grid optimization and cleanup of the files after the phonon run.

2008-11-02 17:45  cavazzon

	* CPV/ortho_base.f90:

	- fix to make parallel diagonalization working
	  even with nspin=2 and very different number of up and down spins.
	  For example with nelup = 200 and neldw = 100, or nelup = nelec and neldw = 0

2008-11-02 17:05  cavazzon

	* Modules/: descriptors.f90, dspev_drv.f90, ptoolkit.f90:

	- cleanup

2008-11-02 17:04  cavazzon

	* PW/: cdiaghg.f90, cegterg.f90, regterg.f90:

	- small cleanup

2008-10-31 08:07  giannozz

	* PH/rigid.f90:

	Ooops...misspell

2008-10-30 16:31  giannozz

	* configure, configure.ac:

	Bug in configure for some IBM SP machines

2008-10-30 09:04  giannozz

	* configure, configure.ac:

	configure slightly simplified and better explained

2008-10-30 09:03  giannozz

	* PH/rigid.f90:

	Fixed recently introduced bug in force constant calculation

2008-10-28 19:54  ceresoli

	* PW/dndtau_of_k.f90:

	I changed this because I've got an 'array out of bounds' in some calculations.
	Can someone please check if my fix is ok? (D.C.)

2008-10-28 18:37  cavazzon

	* CPV/: chargedensity.f90, cpr.f90, eigs0.f90, electrons.f90,
	  init_run.f90, input.f90, main.f90, mainvar.f90, make.depend,
	  print_out.f90:

	- New verbosity rules:
	  iprint defines how often quantities are written to trajectory files,
	  whereas the same quantities are printed on standard output
	  depending on the value of the verbosity keyword.
	  With verbosity = 'default' or verbosity = 'low'
	  quantities are replicated on stdout every 10*iprint steps,
	  with verbosity = 'minimal' every 100*iprint steps and
	  with verbosity = 'normal' every iprint steps

	WARNING: THIS WILL CHANGE THE OUTPUT OF THE EXAMPLES

2008-10-28 08:46  giannozz

	* pwtools/bands_FS.f90:

	Bug for spin-polarized case (noticed by Ding Yi)

2008-10-28 08:44  giannozz

	* CPV/ortho_base.f90:

	Yet another compilation problem in serial case

2008-10-27 12:04  giannozz

	* configure, configure.ac:

	More configure tweakings, preventing env. variable F77 to make trouble

2008-10-27 11:12  giannozz

	* configure, configure.ac:

	Detection of ffts in acml now really seems to work

2008-10-27 10:41  giannozz

	* configure, configure.ac:

	More configure tweakings, removal of obsolete stuff. Blas, Lapack, fft from
	ACML should be recognized when using PGI and pathscale, intel not yet.

2008-10-27 09:33  giannozz

	* PH/make.depend, PW/cdiaghg.f90, PW/make.depend, PW/rdiaghg.f90,
	  PWCOND/make.depend:

	#ifdef __SCALAPACK moved around so that serial compilation works.
	make.depend's updated

2008-10-26 12:08  cavazzon

	* CPV/ortho_base.f90:

	- Scalapack interface

2008-10-26 10:28  cavazzon

	* PW/rdiaghg.f90:

	- SCALAPACK interface for real matrix too

2008-10-26 08:39  cavazzon

	* Modules/mp_global.f90, PW/cdiaghg.f90:

	completed the interface with SCALAPACK, now is working but is not fully tested.
	Scalapack is used to diagonalize block distributed matrixes (cdiaghg),
	great speed-up are possible for large matrixes ( > 1000 ) when
	using a large number of processors ( > 512 ) .
	If you want to test scalapack you have to compile adding -D__SCALAPACK
	to DFLAGS in make.sys and you have to modify the LAPACK_LIBS varaible
	like in:
	SCALAPACK_LIBS = /cineca/prod/libraries/SCALAPACK/1.8.0/openmpi--1.2.5--intel--10.1/libscalapack.a
	BLACS_LIBS     = /cineca/prod/libraries/BLACS/1.1/openmpi--1.2.5--intel--10.1/libblacs.a
	BLACS_INI      = /cineca/prod/libraries/BLACS/1.1/openmpi--1.2.5--intel--10.1/libblacsF77init.a
	LAPACK_LIBS    = $(SCALAPACK_LIBS) $(BLACS_LIBS) $(BLACS_INI) $(BLACS_LIBS) /cineca/prod/acml/4.1.0/ifort64/lib/libacml.a

2008-10-24 16:24  giannozz

	* configure, configure.ac:

	Ooops..

2008-10-24 14:41  giannozz

	* configure, configure.ac, make.sys.in, include/defs.h.README:

	Minor changes to installation and its documentation

2008-10-24 11:46  paulatto

	* atomic_doc/paw_library/input/: Cu.in, Pd.in:

	Some of the files contained dos-style line terminations that can confuse
	qe compiled with xlf.

	LP

2008-10-23 17:07  dalcorso

	* Modules/: input_parameters.f90, read_cards.f90:

	Added the possibility to read as input k-points only the first and
	last point of a line. The weight of the first k-point
	is the number of points along the line. (use the keyword tpiba_b or
	crystal_b to use this feature).

2008-10-23 16:47  dalcorso

	* PH/add_zstar_ue.f90, PH/add_zstar_ue_us.f90, PH/allocate_phq.f90,
	  PH/bcast_ph_input.f90, PH/deallocate_phq.f90, PH/dynmatrix.f90,
	  PH/ph_restart.f90, PH/phcom.f90, PH/phonon.f90,
	  PH/phq_readin.f90, PH/phq_recover.f90, PH/phq_setup.f90,
	  PH/phqscf.f90, PH/solve_linter.f90, doc-def/INPUT_PH.def:

	Several improvements, problems/bug fixes needed for the grid.
	(Thanks to R. Di Meo for pointing out some of the problems).

2008-10-23 15:47  smogunov

	* PWCOND/: Makefile, allocate_cond.f90, compbs.f90, condcom.f90,
	  do_cond.f90, free_mem.f90, init_cond.f90, init_gper.f90,
	  local.f90, realus_scatt.f90, rotproc.f90, scat_states_plot.f90,
	  scatter_forw.f90, transmit.f90, write_states.f90:

	Added the possibility to calculate and plot the scattering states (A. Smogunov).

2008-10-23 09:04  dalcorso

	* PH/phonon.f90:

	Bug fix: the ph.x code was not working when wf_collect=.true. and lnscf=.true.
	or ldisp=.true..

2008-10-22 22:13  ceresoli

	* Modules/mp_global.f90:

	`#endif' instead of `#end if' (D.C.)

2008-10-22 14:16  cavazzon

	* flib/: localdim.f90, localindex.f90:

	- adding dimension and mapping functions required to interface QE with SCALAPACK

2008-10-22 14:14  cavazzon

	* Modules/: descriptors.f90, mp_global.f90:

	- adding variables and setup required to interface QE with SCALAPACK

2008-10-20 11:25  fratesi

	* doc-def/INPUT_LD1.def:

	Reference for NIST results corrected (PRB->PRA)
	Guido F

2008-10-18 16:43  giannozz

	* Doc/BUGS:

	Incorrect commit reverted

2008-10-18 16:40  giannozz

	* configure, configure.ac, make.sys.in, Doc/BUGS,
	  Modules/fft_scalar.f90, clib/fft_stick.c, include/defs.h.README:

	Configure modified so that it recognizes FFTW3 and FFT libraries from ACML.
	Mostly untested. Support for external fftw v.2 removed.

2008-10-18 16:17  dalcorso

	* PH/phonon.f90:

	Corrected another problem introduced with recent commit.

2008-10-18 16:11  dalcorso

	* PH/: phonon.f90, phq_recover.f90:

	Corrected some problems when start_irr=0 and last_irr=0.

2008-10-17 18:15  giannozz

	* CPV/cplib.f90, Doc/BUGS, Modules/version.f90,
	  PP/atomic_wfc_nc_proj.f90, PW/divide_class.f90,
	  PW/divide_class_so.f90, PW/sum_band.f90,
	  PWCOND/init_orbitals.f90:

	Bug fixes for v.4.0.3

	PLEASE LET ME KNOW IF YOU AWARE OF MORE BUGS THAT CAN BE EASILY FIXED

2008-10-17 18:04  giannozz

	* Doc/BUGS, doc-def/INPUT_PW.def:

	Documentation updated

2008-10-17 18:02  giannozz

	* pwtools/kpoints.f:

	Minor changes to initial printout

2008-10-10 16:50  dalcorso

	* PH/: drho.f90, phcom.f90, phq_init.f90, phq_recover.f90,
	  phq_setup.f90:

	Some speed-up in the final diagonalization when different representations
	are calculated in different machines.

2008-10-10 11:52  giannozz

	* doc-def/INPUT_PH.def:

	Units of q vectors explicitly specified

2008-10-10 10:35  paulatto

	* PW/add_efield.f90:

	Printout format fixed and clarified
	LP

2008-10-07 18:00  giannozz

	* CPV/cplib.f90:

	array qv allocated in newd wasn't deallocated in all cases,
	leading to either a crash or a memory leak (Ralph)

2008-10-06 13:49  paulatto

	* PW/mix_rho.f90:

	removed unnecessary used module
	LP

2008-10-05 09:48  cavazzon

	* PW/sum_band.f90:

	- Task groups bug fix, array tg_rho was not cleared at every k point cycle.
	  This was causing problems with some combinations of "-npool" and "-ntg".

2008-10-02 21:50  ceresoli

	* PW/exx_loop.f90:

	Added missing call to setup(). (D.C.)

2008-09-30 11:16  dalcorso

	* PH/: phcom.f90, set_defaults_pw.f90, star_q.f90:

	Small bug fix. After the recent changes to the symmetry routines the phonon code
	in some cases wrote strange output such as: 48 Sym.Ops. (no inversion).

2008-09-25 10:32  giannozz

	* EE/dvdr_tao.f90:

	Input variables were used in a declaration before they were defined - some
	compilers complain, some don't

2008-09-24 15:14  dalcorso

	* PW/cubicsym.f90:

	Small change.

2008-09-24 15:08  dalcorso

	* PH/phq_summary.f90:

	Small output change in the case iverbosity=1.

2008-09-24 13:50  giannozz

	* PH/: compute_drhous.f90, compute_drhous_nc.f90,
	  compute_dvloc.f90, compute_nldyn.f90, compute_weight.f90,
	  dhdrhopsi.f90, dielec_test.f90, drho.f90, drhodv.f90,
	  drhodvloc.f90, drhodvnl.f90, drhodvus.f90, dv_of_drho.f90,
	  dvkb3.f90, dvpsi_e.f90, dvpsi_e2.f90, dvqpsi_us.f90,
	  dvqpsi_us_only.f90, dynmatcc.f90, ef_shift.f90, h_psiq.f90,
	  incdrhoscf.f90, incdrhoscf_nc.f90, incdrhous.f90,
	  incdrhous_nc.f90, io_pattern.f90, localdos.f90, newdq.f90,
	  pcgreen.f90, phq_init.f90, phqscf.f90, psidspsi.f90:

	More pwcom splitting into modules

2008-09-24 13:30  smogunov

	* PWCOND/init_orbitals.f90:

	A bug with some array bounds fixed (A. Smogunov)

2008-09-23 11:19  giannozz

	* Multigrid/maind.f90:

	Forgot to modify f77 to f90 format as weel

2008-09-23 11:10  giannozz

	* Multigrid/: Makefile, maind.f, maind.f90, matvecd.f, wjd.f:

	Multigrid *.f files should be f77 files but actually they contain some
	elements of f90 syntax, that makes them not compilable by f77. I renamed
	a single file containing allocatable arrays to *.f90, removed array syntax
	in a few places, so that now the naming convention is consistent with the
	rest of q-e. There are still a few problems left: routines cgmg and fbound00
	are called with a variable number of arguments (this is incorrect by the way),
	routine random_number shouldn't be used, headers should be updated to reflect
	the cahnges to the orginal code

2008-09-22 19:30  giannozz

	* Doc/BUGS, PH/make.depend, PH/psym_dmag.f90, PH/psym_dmage.f90,
	  PH/psymdvscf.f90, PH/psyme.f90, PH/psyme2.f90,
	  PH/punch_plot_e.f90, PH/punch_plot_ph.f90, PH/raman.f90,
	  PH/raman_mat.f90, PH/set_dvscf.f90, PH/setup_dgc.f90,
	  PH/solve_e.f90, PH/solve_e2.f90, PH/solve_e_fpol.f90,
	  PH/solve_e_nscf.f90, PH/solve_linter.f90, PH/syme2.f90,
	  PH/zstar_eu_us.f90:

	Minor cleanup

2008-09-22 11:28  dalcorso

	* PP/atomic_wfc_nc_proj.f90:

	Bug fix: problem with the generation of the atomic wavefunctions in the
	projwfc code when a scalar relativistic PP is used with lspinorb=.true..

2008-09-19 11:53  giannozz

	* PW/allocate_bp_efield.f90, PW/clean_pw.f90, PW/make.depend,
	  PW/pwcom.f90, PW/stop_run.f90, PWCOND/do_cond.f90:

	Better workaround for clean_pw

2008-09-19 10:46  giannozz

	* D3/make.depend, PH/make.depend, PW/Makefile,
	  PW/allocate_nlpot.f90, PW/allocate_wfc.f90, PW/make.depend,
	  PWCOND/do_cond.f90:

	Some undesired changes slipped into yesterday's commit.
	Workaround for crash in pwcond after recenbt changes to phonon symmetry:
	a more definitive solution is needed for clean_pw, though

2008-09-18 22:27  giannozz

	* PW/Makefile, PW/allocate_nlpot.f90, PW/input.f90,
	  PW/pw_restart.f90, PW/pwcom.f90, D3/d3_readin.f90, D3/dvdpsi.f90,
	  D3/solve_linter_d3.f90, PH/phonon.f90, PH/phq_readin.f90,
	  PH/set_defaults_pw.f90:

	Removed q-point from PWscf (variable xqq), removed phonon-related variables
	from xml file (beware unexpected side effects in phonon restart).

2008-09-18 15:21  dalcorso

	* PH/Makefile, PH/dynmatrix.f90,
	  PH/generate_effective_charges_c.f90, PH/phq_summary.f90,
	  PH/sym_and_write_zue.f90, examples/example09/run_example,
	  examples/example09/reference/ch4.nm.out:

	Problem fix: zue + gamma_gamma tricks was not implemented. Example09
	updated to calculate also the response to the electric field.

2008-09-16 18:14  cavazzon

	* iotk/src/: iotk_attr+CHARACTER1_0.f90, iotk_attr+COMPLEX1_0.f90,
	  iotk_attr+COMPLEX1_3.f90, iotk_attr+COMPLEX1_6.f90,
	  iotk_attr+COMPLEX2_0.f90, iotk_attr+COMPLEX2_3.f90,
	  iotk_attr+COMPLEX2_6.f90, iotk_attr+COMPLEX3_0.f90,
	  iotk_attr+COMPLEX3_3.f90, iotk_attr+COMPLEX3_6.f90,
	  iotk_attr+COMPLEX4_0.f90, iotk_attr+COMPLEX4_3.f90,
	  iotk_attr+COMPLEX4_6.f90, iotk_attr+INTEGER1_0.f90,
	  iotk_attr+INTEGER1_3.f90, iotk_attr+INTEGER1_6.f90,
	  iotk_attr+INTEGER2_0.f90, iotk_attr+INTEGER2_3.f90,
	  iotk_attr+INTEGER2_6.f90, iotk_attr+INTEGER3_0.f90,
	  iotk_attr+INTEGER3_3.f90, iotk_attr+INTEGER3_6.f90,
	  iotk_attr+INTEGER4_0.f90, iotk_attr+INTEGER4_3.f90,
	  iotk_attr+INTEGER4_6.f90, iotk_attr+LOGICAL1_0.f90,
	  iotk_attr+LOGICAL1_3.f90, iotk_attr+LOGICAL1_6.f90,
	  iotk_attr+LOGICAL2_0.f90, iotk_attr+LOGICAL2_3.f90,
	  iotk_attr+LOGICAL2_6.f90, iotk_attr+LOGICAL3_0.f90,
	  iotk_attr+LOGICAL3_3.f90, iotk_attr+LOGICAL3_6.f90,
	  iotk_attr+LOGICAL4_0.f90, iotk_attr+LOGICAL4_3.f90,
	  iotk_attr+LOGICAL4_6.f90, iotk_attr+REAL1_0.f90,
	  iotk_attr+REAL1_3.f90, iotk_attr+REAL1_6.f90,
	  iotk_attr+REAL2_0.f90, iotk_attr+REAL2_3.f90,
	  iotk_attr+REAL2_6.f90, iotk_attr+REAL3_0.f90,
	  iotk_attr+REAL3_3.f90, iotk_attr+REAL3_6.f90,
	  iotk_attr+REAL4_0.f90, iotk_attr+REAL4_3.f90,
	  iotk_attr+REAL4_6.f90:

	- removed debug messages

2008-09-16 16:46  dalcorso

	* PH/ph_restart.f90:

	Missing broadcast in the new recover (usually harmless).

2008-09-16 16:40  dalcorso

	* PH/: ph_restart.f90, phq_setup.f90, solve_e.f90, solve_e2.f90,
	  solve_linter.f90, write_rec.f90:

	Bug fix: the new recover + zue was not working in the parallel case.

2008-09-16 16:25  dalcorso

	* PH/: sym_and_write_zue.f90, write_epsilon_and_zeu.f90,
	  zstar_eu.f90:

	Improved output of the Born effective charges.

2008-09-16 16:20  matteo.calandra

	* examples/XSpectra_example/pseudo/: Ni_PBE_TM_2pj.UPF,
	  O_PBE_TM.UPF:

	Added norm conserving pseudopotential for Ni and O. The Ni pseudopotential
	includes data for GIPAW reconstruction and are in upf version 1.
	These pseudopotential are necessary to run the XSpectra example to
	calculate Ni K-edge XAS in NiO.

	Matteo Calandra

2008-09-16 16:17  matteo.calandra

	* examples/XSpectra_example/: run_example_NiO,
	  reference/NiO.scf.in, reference/NiO.scf.out,
	  reference/NiO.xspectra_dip.dat, reference/NiO.xspectra_dip.in,
	  reference/NiO.xspectra_dip.out, reference/NiO.xspectra_dip.sav,
	  reference/NiO.xspectra_dip_replot.dat,
	  reference/NiO.xspectra_dip_replot.in,
	  reference/NiO.xspectra_dip_replot.out,
	  reference/NiO.xspectra_qua.dat, reference/Ni.wfc,
	  reference/NiO.xspectra_qua.in, reference/NiO.xspectra_qua.out,
	  reference/NiO.xspectra_qua.sav:

	Added example for the calculation of Ni K-edge XAS in NiO.
	This example calculates Ni K-edge XAS in the absence of a core-hole
	in the final state using the code XSpectra.

	Matteo Calandra

2008-09-16 16:05  matteo.calandra

	* XSpectra/upf2plotcore.sh:

	Corrected a bug in the script extracting the core states
	from the pseudo in upf version one.
	Now in this new version it does not only extract the 1s core
	state but all the core states.

	Matteo Calandra

2008-09-16 15:52  dalcorso

	* D3/d3_setup.f90, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  Modules/xml_io_base.f90, PH/matdyn.f90, PH/phq_setup.f90,
	  PW/input.f90, PW/pw_restart.f90, PW/setup.f90, PW/sgama.f90,
	  doc-def/INPUT_PW.def:

	Introduced a new variable nosym_evc. If .true. the code does not use
	symmetry. The k-points are forced to have the symmetry of the Bravais
	lattice and if available the time reversal symmetry is used to reduce
	the k points, but no other quantity is symmetrized.

	Variable noinv passed to the phonon code. If noinv is .true. the q => -q
	symmetry is not used in the phonon code and time reversal symmetry is
	not used anywhere.

2008-09-12 18:59  cavazzon

	* D3/Makefile:

	- missing Modules object files (XLF v11.1  complains)

2008-09-12 18:55  cavazzon

	* PP/Makefile, PWCOND/Makefile:

	- missing Modules object files

2008-09-12 14:39  cavazzon

	* iotk/: src/iotk_attr+CHARACTER1_0.f90,
	  src/iotk_attr+COMPLEX1_0.f90, src/iotk_attr+COMPLEX1_3.f90,
	  src/iotk_attr+COMPLEX1_6.f90, src/iotk_attr+COMPLEX2_0.f90,
	  src/iotk_attr+COMPLEX2_3.f90, src/iotk_attr+COMPLEX2_6.f90,
	  src/iotk_attr+COMPLEX3_0.f90, src/iotk_attr+COMPLEX3_3.f90,
	  src/iotk_attr+COMPLEX3_6.f90, src/iotk_attr+COMPLEX4_0.f90,
	  src/iotk_attr+COMPLEX4_3.f90, src/iotk_attr+COMPLEX4_6.f90,
	  src/iotk_attr+INTEGER1_0.f90, src/iotk_attr+INTEGER1_3.f90,
	  src/iotk_attr+INTEGER1_6.f90, src/iotk_attr+INTEGER2_0.f90,
	  src/iotk_attr+INTEGER2_3.f90, src/iotk_attr+INTEGER2_6.f90,
	  src/iotk_attr+INTEGER3_0.f90, src/iotk_attr+INTEGER3_3.f90,
	  src/iotk_attr+INTEGER3_6.f90, src/iotk_attr+INTEGER4_0.f90,
	  src/iotk_attr+INTEGER4_3.f90, src/iotk_attr+INTEGER4_6.f90,
	  src/iotk_attr+LOGICAL1_0.f90, src/iotk_attr+LOGICAL1_3.f90,
	  src/iotk_attr+LOGICAL1_6.f90, src/iotk_attr+LOGICAL2_0.f90,
	  src/iotk_attr+LOGICAL2_3.f90, src/iotk_attr+LOGICAL2_6.f90,
	  src/iotk_attr+LOGICAL3_0.f90, src/iotk_attr+LOGICAL3_3.f90,
	  src/iotk_attr+LOGICAL3_6.f90, src/iotk_attr+LOGICAL4_0.f90,
	  src/iotk_attr+LOGICAL4_3.f90, src/iotk_attr+LOGICAL4_6.f90,
	  src/iotk_attr+REAL1_0.f90, src/iotk_attr+REAL1_3.f90,
	  src/iotk_attr+REAL1_6.f90, src/iotk_attr+REAL2_0.f90,
	  src/iotk_attr+REAL2_3.f90, src/iotk_attr+REAL2_6.f90,
	  src/iotk_attr+REAL3_0.f90, src/iotk_attr+REAL3_3.f90,
	  src/iotk_attr+REAL3_6.f90, src/iotk_attr+REAL4_0.f90,
	  src/iotk_attr+REAL4_3.f90, src/iotk_attr+REAL4_6.f90,
	  src/iotk_attr.spp, src/iotk_write.f90, include/iotk_config.h,
	  include/iotk_config.h.in:

	- new __WORKAROUND9 for XLF v11 on Power6 linux machine

2008-09-11 18:05  dalcorso

	* PH/phonon.f90:

	Bug fix: after recent changes modenum was not working with lgamma=.true..

2008-09-11 11:43  matteo.calandra

	* XSpectra/xspectra.f90:

	Corrected a loop variable I forgot to change in my
	commit from yesterday.

	Matteo Calandra

2008-09-10 17:48  matteo.calandra

	* examples/XSpectra_example/reference/: diamondh.scf.out,
	  diamondh.xspectra.dat, diamondh.xspectra.out,
	  diamondh.xspectra.sav, diamondh.xspectra_fermi.out,
	  diamond.scf.out, diamond.xspectra.dat, diamond.xspectra.out,
	  diamond.xspectra.sav, diamond.xspectra_fermi.out,
	  diamond.xspectra_replot.dat, diamond.xspectra_replot.out:

	Replaced reference results for the example after the memory leak.

	Matteo Calandra

2008-09-10 17:29  matteo.calandra

	* XSpectra/xspectra.f90:

	Corrected memory leak in the definition of r_paw.

	Matteo Calandra

2008-09-10 16:01  degironc

	* PW/read_pseudo.f90:

	bug fix: check_atwfc_norm is called after the pathological case of a
	zero atomic wfc is dealt with. Reported by Matteo Calandra.

2008-09-09 17:25  dalcorso

	* PW/: divide_class.f90, divide_class_so.f90:

	Bug fix. Bug reported in S_6 by Marino Vetuschi Zuccolini.
	Possible problems also in: S_4, S_6, T_h, C_3h, C_4h, C_6h.

2008-09-07 12:09  cavazzon

	* CPV/: fromscra.f90, init_run.f90, restart_sub.f90:

	- cleanup, arrays bec* accessed through modules

2008-09-07 12:07  cavazzon

	* CPV/cg_sub.f90:

	- Output file named "prefix.procid_imageid" renamed to "outdir/prefix.procid_imageid"

2008-09-07 12:05  cavazzon

	* CPV/ortho_base.f90:

	- Change in the computation of the ortho group (for CP),
	  now, if -northo is not specified on the command line,
	  the maximum number of cpu is taken.

2008-09-07 11:57  cavazzon

	* Modules/fft_base.f90:

	- cleanup and elimination of some arrays

2008-09-06 09:43  giannozz

	* GIPAW/gipaw_module.f90:

	Forgotten one occurrence of "startingwfc" (apparently unused)

2008-09-05 19:11  giannozz

	* PH/phonon.f90, PW/c_bands.f90, PW/compute_fes_grads.f90,
	  PW/compute_scf.f90, PW/electrons.f90, PW/exx_loop.f90,
	  PW/input.f90, PW/openfil.f90, PW/paw_init.f90, PW/potinit.f90,
	  PW/pwcom.f90, PW/setup.f90, PW/wfcinit.f90, dev-tools/release.sh:

	name redirection in moduli should be avoided unless strictly necessary

2008-09-05 16:55  giannozz

	* Doc/BUGS, Modules/version.f90, PW/sgam_at.f90:

	Minor things

2008-09-05 16:11  giannozz

	* dev-tools/release.sh:

	Script for release packaging updated

2008-09-05 15:50  giannozz

	* PP/postproc.f90, PP/start_postproc.f90,
	  atomic_doc/paw_library/README:

	Last changes to 4.0.2

2008-09-05 11:52  giannozz

	* D3/d3_init.f90, D3/d3matrix.f90, PH/dynmatrix.f90, PH/elphon.f90,
	  PH/phcom.f90, PH/phonon.f90, PH/phq_readin.f90, PH/phq_setup.f90,
	  PH/set_defaults_pw.f90:

	Option lnscf always set to .true.. More phonon symmetry cleanup:
	nrot  is the number of sym.ops. of the Bravais lattice,
	read from data file, only used in set_default_pw.
	nsym  is the number of sym.ops. of the crystal symmetry group,
	read from data file, should never be changed.
	nsymq is the number of sym.ops. of the small group of q,
	it is calculated in set_defaults_pw for each q.
	The matrices "s" of sym.ops are ordered as follows:
	first the nsymq sym.ops. of the small group of q
	(the ordering is done in subroutine copy_sym in set_defaults_pw),
	followed by the remaining nsym-nsymq sym.ops. of the crystal group,
	followed by the remaining nrot-nsym sym.ops. of the Bravais  group

2008-09-05 10:44  giannozz

	* PH/: dynmatrix.f90, phcom.f90, phonon.f90, phq_setup.f90,
	  set_defaults_pw.f90:

	More minor changes to the phonon code

2008-09-04 17:27  giannozz

	* D3/Makefile, D3/d3_setup.f90, D3/make.depend, D3/sgama_d3.f90,
	  PH/make.depend, PH/set_defaults_pw.f90, PW/make.depend:

	More symmetry cleanup

2008-09-04 12:56  giannozz

	* PH/dynmatrix.f90, PH/elphon.f90, PH/star_q.f90, D3/d3_setup.f90,
	  D3/d3matrix.f90:

	Some cleanup in symmetry

2008-09-04 12:01  paulatto

	* PP/: postproc.f90, start_postproc.f90:

	Function remove_stack_limit is now called by start_postproc (which is
	called by most postprocessing utilities).
	LP

2008-09-04 11:31  degironc

	* PW/gradcorr.f90:

	complex allocatable arrays are zeroed using explicitly complex zeros ...
	failing to do that created some spurious negative charge in a solvation routine under development and not yet introduced in the distribution ...
	To be sure let's fix that also here.
	stefano

2008-09-04 11:19  paulatto

	* PW/paw_onecenter.f90:

	Reverting yesterday's commit: in the end the problem with paw_gcxc_potential
	was the dear old stack limit. Wasn't it disabled automagically?
	LP

2008-09-03 21:20  paulatto

	* atomic_doc/paw_library/README:

	bad grammar
	LP

2008-09-03 21:19  paulatto

	* PW/paw_onecenter.f90:

	Subroutine paw_gcxc_potential was being somhow miscompiled by intel compiler
	causing misterious segmentation faults when called under reproducible but
	apparently irrelevant conditions. The bug may be related to some misbehaviour
	of derived types.

	Changing the subroutine to "contained" (inside paw_xc_potential) seems to
	work around the problem and have no collateral effects.

	LP

2008-09-03 18:39  giannozz

	* PH/dynmatrix.f90, PH/elphon.f90, PH/phq_setup.f90,
	  PW/memory_report.f90, PW/summary.f90, PH/star_q.f90:

	More phonon symmetry simplification

2008-09-03 11:02  giannozz

	* PW/: input.f90, pw_restart.f90, pwcom.f90, summary.f90:

	Nuclear masses incorrectly printed for variable-cell calculations

2008-09-03 10:57  giannozz

	* Doc/BUGS, PW/input.f90, PW/summary.f90:

	Nuclear masses incorrectly printed for variable-cell calculations

2008-09-02 18:17  giannozz

	* PH/make.depend, PH/mode_group.f90, PH/set_defaults_pw.f90,
	  PW/make.depend:

	More oops...

2008-09-02 17:59  giannozz

	* PH/set_defaults_pw.f90:

	Oops..

2008-09-02 17:56  giannozz

	* PW/Makefile, PH/Makefile, PH/mode_group.f90, PH/phonon.f90,
	  PH/set_defaults_pw.f90, PW/make.depend, PW/mode_group.f90:

	More minor cleanup

2008-09-02 16:32  giannozz

	* PH/matdyn.f90, PH/polariz.f90, PH/set_defaults_pw.f90,
	  PW/irrek.f90, PW/setup.f90, PW/sgama.f90:

	More minor cleanup

2008-09-02 10:24  giannozz

	* Modules/control_flags.f90, PH/phonon.f90, PH/set_defaults_pw.f90,
	  PW/a2fmod.f90, PW/pwcom.f90, PW/setup.f90:

	Fixed side effect of yesterdays's changes: neb was no longer working.
	set_defaults_pw should no longer be useful, since all variables that
	are used in a non-scf calculation should be properly initialized
	elsewhere, while those that are not initialized are not used

2008-09-01 20:52  giannozz

	* PW/sgama.f90:

	A logical variable was "illogical", since it contained an integer

2008-09-01 18:37  giannozz

	* CPV/make.depend, D3/make.depend, Modules/make.depend,
	  PH/make.depend, PH/openfilq.f90, PH/phonon.f90,
	  PH/set_defaults_pw.f90, PW/divide_et_impera.f90, PW/make.depend,
	  PW/openfil.f90, PW/para.f90, PW/read_file.f90:

	Some minor phonon cleanup

2008-09-01 16:17  giannozz

	* Modules/xml_io_base.f90, PH/matdyn.f90, PH/phcom.f90,
	  PH/phonon.f90, PH/set_defaults_pw.f90, PH/sgam_ph.f90,
	  PH/star_q.f90, PW/clean_pw.f90, PW/pw_restart.f90,
	  PW/read_file.f90, PW/setup.f90, PW/sgama.f90, PW/stop_run.f90:

	Phonon symmetries simplified a bit.

2008-09-01 12:21  giannozz

	* Doc/BUGS, PW/ewald_dipole.f90:

	Yet Another Bug in 4.0.1

2008-09-01 12:11  seitsonen

	* PW/ewald_dipole.f90:

	Moved the multiplication of "r" with "alat" from inside the loop (where it
	was multiplied with "alat" at each iteration of the loops. This had lead
	to WRONG results for EFG (electric field gradients). Probably ALL results
	using the routine had been incorrect.

	    apsi (Ari P Seitsonen)

2008-09-01 11:42  giannozz

	* CPV/cpr.f90:

	oops, spurious variable removed

2008-08-31 10:29  giannozz

	* tests/: noncolin-cg.ref, noncolin-constrain_atomic.ref,
	  noncolin-constrain_total.ref, noncolin.ref, noncolin.ref2:

	A fw tests updated

2008-08-31 10:24  giannozz

	* PW/: compute_fes_grads.f90, compute_scf.f90, input.f90,
	  reset_k_points.f90:

	Minor cleanup: replicated piece of code removed

2008-08-30 18:24  giannozz

	* D3/d3_setup.f90, D3/sgama_d3.f90, Modules/xml_io_base.f90,
	  PH/set_defaults_pw.f90, PW/pw_restart.f90, PW/setup.f90,
	  PW/sgama.f90, PW/stres_hub.f90:

	Lattice symmetries saved to xml file and read by the phonon and 3rd-order
	code. The latter used lattice symmetries but the trick to restore them
	(i.e. set to 0 the first rotation that was not a lattice symmetry) was
	broken, except for high-symmetry cases, because only true crystal symmetries
	were written to file. Presently there is an incompatibility with previous
	versions of the xml file that should be removed sooner or later (documentation
	is also no longer consistent). Minor cleanup here and there.

2008-08-29 15:32  dalcorso

	* examples/example35/run_example:

	Not all pseudopotential names were changed correctly in this script.

2008-08-29 15:24  cavazzon

	* Modules/fft_scalar.f90, CPV/fft.f90, PW/cft3s.f90:

	- new interface for ACML(AMD Core Math Library) fft driver
	  thanks to Filippo Spiga

2008-08-29 15:15  giannozz

	* configure, configure.ac, CPV/cg_sub.f90, CPV/cp_fpmd.f90,
	  CPV/cpr.f90, CPV/main.f90, CPV/read_pseudo.f90, Doc/BUGS,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  Modules/version.f90, PH/add_dkmds.f90, PH/phq_setup.f90,
	  PH/star_q.f90, PW/add_bfield.f90, PW/pw_restart.f90,
	  PW/setlocal.f90, clib/stack.c:

	Almost final v.4.0.2 with a few more bugs fixed (see Doc/BUGS) - if you have
	more bugs to fix, please do it or send detailed instructions

2008-08-28 17:57  dalcorso

	* PH/set_defaults_pw.f90, examples/example24/run_example,
	  examples/example24/reference/ni.nscf.out,
	  examples/example24/reference/ni.phG.out,
	  examples/example24/reference/ni.phX.out,
	  examples/example24/reference/ni.scf.out,
	  examples/example24/reference/ni_so.nscf.out,
	  examples/example24/reference/ni_so.phX.out,
	  examples/example24/reference/pt.nscf.out,
	  examples/example24/reference/pt.phX.out:

	Bug fix: Recent changes to the symmetry part of the phonon had broken example24.
	Reference results for example24 updated.

2008-08-28 17:10  paulatto

	* PW/compute_dip.f90:

	Slipped debug line
	LP

2008-08-28 14:28  dalcorso

	* examples/example22/run_example:

	The PPs names were not updated in example22.

2008-08-28 14:09  paulatto

	* PP/punch_plot.f90, PW/add_efield.f90, PW/compute_dip.f90,
	  PW/setlocal.f90, PW/v_of_rho.f90:

	Fixed a big that prevented relax calculation with sawtooth potential from
	working correctly. Printing of infos on stdout has been made clearer and
	not redundant for parallel runs.
	LP

2008-08-28 14:06  paulatto

	* Modules/bfgs_module.f90:

	Intent of variable changed from INOUT to OUT
	LP

2008-08-28 14:05  paulatto

	* PW/summary.f90:

	Minor change in output format
	LP

2008-08-28 14:04  paulatto

	* PW/read_file.f90:

	Removed unused variable
	LP

2008-08-28 14:03  paulatto

	* PW/: move_ions.f90, output_tau.f90:

	Minor cleanups
	LP

2008-08-28 11:10  paulatto

	* D3/d3_init.f90:

	Fixing last days compilation error. I have no idea when/why it was broken.
	LP

2008-08-28 10:22  dalcorso

	* PH/incdrhous_nc.f90:

	Clean-up.

2008-08-27 18:45  dalcorso

	* PH/: addusdbec.f90, addusdbec_nc.f90, incdrhoscf.f90,
	  incdrhoscf_nc.f90, incdrhous.f90:

	Clean up.

2008-08-26 17:21  cavazzon

	* CPV/: cp_interfaces.f90, wave.f90:

	- removed unused subroutines

2008-08-26 17:21  cavazzon

	* Modules/: dspev_drv.f90, mp_base.f90, ptoolkit.f90,
	  zhpev_drv.f90:

	- clean up and increased robustness against the possibility that
	  different processors give different results on the same FP operation

2008-08-26 13:56  cavazzon

	* CPV/: cprsub.f90, init_run.f90, nl_base.f90:

	- array dbec distributed across processors of the ortho group

2008-08-26 11:52  dalcorso

	* PW/compute_becsum.f90:

	Clean up and problem fix in the case nks=1.

2008-08-26 10:26  cavazzon

	* PW/add_bfield.f90:

	- syntax error fixed, please check!

2008-08-25 12:43  paulatto

	* PW/add_bfield.f90:

	Old bug prevented calculation with fixed magnetization and nspin=2 (using 2
	fermi levels).
	LP

2008-08-24 07:56  giannozz

	* PH/addusdbec_nc.f90:

	uffa...

2008-08-23 20:01  giannozz

	* PW/smallg_q.f90:

	Forgot this: moved into PH/ at the end of sgam_ph.f90 (onlt place
	where it is actually used)

2008-08-23 19:54  giannozz

	* D3/allocate_d3.f90, D3/ch_psi_all2.f90, D3/d0rhod2v.f90,
	  D3/d3_readin.f90, D3/d3_setup.f90, D3/d3_summary.f90,
	  D3/d3matrix.f90, D3/dpsidvdpsi.f90, D3/dqrhod2v.f90,
	  D3/dvdpsi.f90, D3/gen_dpdvp.f90, D3/incdrhoscf2.f90,
	  D3/make.depend, D3/psymd0rho.f90, D3/set_d3irr.f90,
	  D3/solve_linter_d3.f90, GIPAW/apply_vel.f90,
	  GIPAW/ch_psi_all.f90, GIPAW/g_tensor_crystal.f90,
	  GIPAW/greenfunction.f90, GIPAW/h_psiq.f90, GIPAW/make.depend,
	  GIPAW/suscept_crystal.f90, GIPAW/symmetrize_field.f90,
	  GIPAW/test_sum_rule.f90, Gamma/cg_readin.f90, Gamma/cg_setup.f90,
	  Gamma/dvpsi_e.f90, Gamma/make.depend, Gamma/phcg.f90,
	  Gamma/rhod2vkb.f90, Gamma/solve_e.f90, Gamma/solve_ph.f90,
	  PH/add_dkmds.f90, PH/add_for_charges.f90, PH/add_zstar_ue.f90,
	  PH/add_zstar_ue_us.f90, PH/adddvepsi_us.f90, PH/addusdbec.f90,
	  PH/addusdbec_nc.f90, PH/addusddens.f90, PH/addusddense.f90,
	  PH/addusdynmat.f90, PH/addusldos.f90, PH/allocate_phq.f90,
	  PH/cch_psi_all.f90, PH/ch_psi_all.f90, PH/compute_alphasum.f90,
	  PH/compute_becalp.f90, PH/compute_becsum_ph.f90,
	  PH/compute_drhous.f90, PH/compute_drhous_nc.f90,
	  PH/compute_nldyn.f90, PH/dhdrhopsi.f90, PH/dielec.f90,
	  PH/dielec_test.f90, PH/drho.f90, PH/drhodv.f90, PH/drhodvnl.f90,
	  PH/drhodvus.f90, PH/dvanqq.f90, PH/dvkb3.f90, PH/dvpsi_e.f90,
	  PH/dvqpsi_us_only.f90, PH/h_psiq.f90, PH/incdrhous.f90,
	  PH/incdrhous_nc.f90, PH/localdos.f90, PH/make.depend,
	  PH/newdq.f90, PH/phq_init.f90, PH/phqscf.f90, PH/polariz.f90,
	  PH/psidspsi.f90, PH/raman.f90, PH/raman_mat.f90, PH/sgam_ph.f90,
	  PH/solve_e.f90, PH/solve_e2.f90, PH/solve_e_fpol.f90,
	  PH/solve_linter.f90, PH/sym_and_write_zue.f90, PH/sym_dmage.f90,
	  PH/syme.f90, PH/syme2.f90, PH/zstar_eu.f90, PH/zstar_eu_us.f90,
	  PP/make.depend, PP/pw_export.f90, PW/Makefile, PW/make.depend,
	  PW/pwcom.f90, PW/symme.f90, PWCOND/do_cond.f90,
	  PWCOND/make.depend, VdW/dvpsi_e.f90, VdW/make.depend,
	  VdW/polariz.f90, VdW/solve_e.f90:

	More cleanup (?): modules "uspp" and "symme" extracted from "pwcom"
	everywhere. I didn't like the previous half-baked state.

2008-08-23 10:00  giannozz

	* TODO, D3/bcast_d3_input.f90, D3/d3_readin.f90, D3/d3_summary.f90,
	  D3/d3matrix.f90, D3/make.depend, Gamma/make.depend,
	  Gamma/writedyn.f90, PH/bcast_ph_input.f90, PH/make.depend,
	  PH/punch_plot_e.f90, PH/punch_plot_ph.f90,
	  PH/set_defaults_pw.f90:

	Fixed yesterday's commit

2008-08-23 06:43  dalcorso

	* examples/example22/run_example:

	Clean-up of unused mass variables. (Thanks to Fan Yang)

2008-08-22 17:53  giannozz

	* CPV/cpr.f90, EE/make.depend, GIPAW/make.depend,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  Modules/xml_io_base.f90, PH/make.depend, PH/phq_summary.f90,
	  PH/set_defaults_pw.f90, PH/sym_dmag.f90, PP/average.f90,
	  PP/chdens.f90, PP/cubicspinsym.f90, PP/hexspinsym.f90,
	  PP/make.depend, PP/plan_avg.f90, PP/projwfc.f90,
	  PP/punch_plot.f90, PP/pw2casino.f90, PP/pw2gw.f90,
	  PP/sym_band.f90, PP/voronoy.f90, PW/Makefile, PW/input.f90,
	  PW/make.depend, PW/pw_restart.f90, PW/pwcom.f90, PW/setup.f90,
	  PW/summary.f90, PW/symme.f90, PW/symrho_mag.f90,
	  XSpectra/make.depend, clib/make.depend, upftools/make.depend:

	Common "symme" moved to a separate file; some cleanup. Symmetries of the
	Bravais lattice are written (but not yet read nor used) to the xml file

2008-08-22 10:09  giannozz

	* pseudo/: C.tpss-mt.UPF, H.tpss-mt.UPF:

	Headers updated

2008-08-22 10:09  giannozz

	* PP/projwfc.f90:

	projwfc explicitly says where the atomic states come from

2008-08-21 19:01  cavazzon

	* CPV/: cg_sub.f90, chargedensity.f90, cp_interfaces.f90,
	  cplib.f90, cpr.f90, cprsub.f90, dealloc.f90, fromscra.f90,
	  main.f90, mainvar.f90, make.depend, modules.f90, nl_base.f90,
	  potentials.f90, pseudo_base.f90, pseudopot.f90,
	  pseudopot_sub.f90, restart_sub.f90, stress.f90:

	- cleanup: removed duplicate subroutines, removed the awkward section
	  in the restart subroutine related to the possibility of "correclty"
	  restart a simulation setting to zero the velocities of some degree
	  of freedom.
	  Simple tests shows that if a simulation is restarted setting to
	  zero the velocities of electrons without setting to zero the velocities
	  of ions and vice versa, the generated trajectories of ions contain
	  unphysical fast oscillations.
	- Some improvement in the parallelism when cell dynamics is active.

2008-08-21 18:02  giannozz

	* PW/gradcorr.f90:

	Minor cleanup as suggested by Steven Kirk

2008-08-21 16:47  giannozz

	* flib/: atomic_number.f90, capital.f90:

	More robust algorithm for atomic numbers of 1-letter elements: X1, X_*, X-*
	are all accepted

2008-08-12 00:34  cavazzon

	* CPV/: Makefile, chargedensity.f90, cp_interfaces.f90,
	  fromscra.f90, main.f90, make.depend, nl.f90, pseudopot_sub.f90,
	  restart_sub.f90:

	- further cleanups, redundant subroutine removed

2008-08-10 20:39  cavazzon

	* CPV/: cp_interfaces.f90, cpr.f90, fromscra.f90, main.f90,
	  move_electrons.f90, nl.f90, nl_base.f90, potentials.f90,
	  restart_sub.f90, wannier.f90, wf.f90:

	- clean ups

2008-08-10 11:35  giannozz

	* PW/Makefile, PW/input.f90, PH/Makefile, PH/make.depend,
	  PH/matdyn.f90, PH/set_defaults_pw.f90, PW/make.depend,
	  PW/set_defaults_pw.f90, PW/setup.f90, PW/sgam_ph.f90,
	  PW/sgama.f90, PH/sgam_ph.f90:

	Phonon-specific stuff moved away from PW into PH, calculation='phonon'
	(temporarily) disabled

2008-08-09 17:39  giannozz

	* PH/phonon.f90, PW/pwcom.f90, PW/set_defaults_pw.f90,
	  PW/setup.f90:

	Call to "setup" in phonon replaced by a call to a new routine "setup_ph".
	No real advantage yet, but this will allow some badly needed cleanup in
	"setup" and later to disentangle pwscf from phonon. Removed unused variable
	"starting_diag_threshold".

2008-08-09 15:05  giannozz

	* Modules/cell_base.f90, PW/input.f90, PW/setup.f90:

	Minor cleanup

2008-08-08 22:40  giannozz

	* PW/compute_fes_grads.f90, PW/compute_scf.f90, PH/phonon.f90,
	  PW/init_run.f90, PW/pwscf.f90, PW/sgam_ph.f90:

	Call to "setup()" moved out from init_run . Nothing changes for now.

2008-08-08 18:51  dalcorso

	* PH/add_dkmds.f90:

	Bug fix: effective charges + US + so where not correct in noncubic cases.

2008-08-07 00:25  ceresoli

	* GIPAW/gipaw_main.f90:

	Unlimited stack also for GIPAW. (D.C.)

2008-08-06 09:55  degironc

	* EE/: add_boundary.f90, add_dcc_field.f90, add_dccdil_forces.f90,
	  dvdr_tao.f90, ee_mod.f90, init_ee.f90, write_ee_summary.f90:

	cleanup

2008-08-05 11:03  giannozz

	* PH/: Makefile, make.depend, xk_wk_collect.f90:

	Obsolete file removed

2008-08-03 21:04  cavazzon

	* CPV/: Makefile, cp_interfaces.f90, cpr.f90, init.f90, ions.f90,
	  ions_positions.f90, main.f90, make.depend, restart_sub.f90,
	  wave.f90:

	- FPMD/CP merging of ions dynamics

2008-08-03 21:00  cavazzon

	* Modules/cell_base.f90:

	- FPMD/CP merging of ions dynamics

2008-08-03 08:48  cavazzon

	* CPV/read_pseudo.f90:

	- Bug fix: non linear core correction was not detected in FPMD run

2008-08-01 21:30  kokalj

	* doc-def/INPUT_PH.def:

	documentation enhancements:
	- text at the end of document turned into "additional info" section
	- grouping the variables { nrapp, start_irr, last_irr, nat_todo, modenum}
	  and { start_q, last_q }

2008-08-01 19:35  giannozz

	* examples/README, tests/spinorbit.in, tests/spinorbit.in2:

	Forgot again something

2008-08-01 19:34  degironc

	* PW/pw_restart.f90:

	BUGFIX: symm_type was not properly set by pw_restart (used in various
	post-processing including phonons) when using free lattice (ibrav=0) and
	symm_type=hexagonal.
	As symm_type is actually written in pw_writefile it is simply read from the
	file.

2008-08-01 19:28  giannozz

	* pseudo/Pt.rel-pz-n-rrkjus.UPF:

	...and this was missing

2008-08-01 19:27  giannozz

	* pseudo/NirelPBE.RRKJ3.UPF, pseudo/NisrPBE.RRKJ3.UPF,
	  pseudo/Pt.rel-pbe-n-rrkjus.UPF, pseudo/Ptrel.RRKJ3.UPF,
	  pseudo/PtrelPBE.RRKJ3.UPF, pseudo/Si.rel-pbe-rrkj.UPF,
	  examples/example24/run_example, examples/example35/run_example,
	  pseudo/SirelPBE.RRKJ3.UPF:

	More PP cleanup

2008-08-01 15:50  giannozz

	* pseudo/Ni.rel-pbe-nd-rrkjus.UPF:

	More PP cleanup

2008-08-01 15:03  giannozz

	* pseudo/O.pz-van_ak.UPF, pseudo/O.vdb.UPF, pseudo/Pb.pz-d-van.UPF,
	  pseudo/Pb.vdb.UPF, pseudo/Ti.pz-sp-van_ak.UPF, pseudo/Ti.vdb.UPF,
	  examples/README, examples/example10/run_example, tests/berry.in,
	  tests/berry.in2:

	More PP cleanup

2008-08-01 12:47  giannozz

	* examples/README, pseudo/O.recon, pseudo/Si.recon,
	  pseudo/SiPBE_nc.UPF:

	More PP cleanup

2008-08-01 12:30  giannozz

	* examples/README, examples/example27/run_example,
	  pseudo/C.meta.tm.UPF, pseudo/C.tpss-mt.UPF, pseudo/H.tpss-mt.UPF,
	  tests/metaGGA.in, pseudo/Hmeta.tm.UPF, pseudo/OPBE_nc.UPF:

	More of the same - it would be nice to know where those PP come from,
	since there is no code that generates them

2008-08-01 10:30  giannozz

	* pseudo/As.gon.UPF, pseudo/As.pz-bhs.UPF, pseudo/H.blyp-vbc.UPF,
	  pseudo/H.fpmd.UPF, pseudo/N.BLYP.UPF, pseudo/N.blyp-mt.UPF,
	  pseudo/O.BLYP.UPF, pseudo/O.blyp-mt.UPF, tests/vc-relax1.in,
	  tests/vc-relax2.in, examples/README,
	  examples/VCSexample/run_example, examples/example06/run_example,
	  examples/example15/run_example, examples/example16/run_example,
	  examples/example19/run_example, examples/example20/run_example,
	  examples/example21/run_example:

	More pseudopotential renaming - note that some PP are actually
	different from those used until now

2008-08-01 08:49  giannozz

	* pseudo/Ni.pz-nd-rrkjus.UPF, pseudo/NiUS.RRKJ3.UPF,
	  examples/README, examples/environment_variables,
	  examples/example01/run_example, examples/example08/run_example,
	  examples/example12/run_example, examples/example24/README,
	  examples/example24/run_example, tests/lsda-cg.in,
	  tests/lsda-mixing_TF.in, tests/lsda-mixing_localTF.in,
	  tests/lsda-mixing_ndim.in, tests/lsda-nelup+neldw.in,
	  tests/lsda-tot_magnetization.in, tests/lsda.in, tests/lsda.in2,
	  tests/uspp2.in:

	More of the same

2008-07-31 19:04  giannozz

	* tests/lattice-ibrav0-abc.in,
	  tests/lattice-ibrav0-cell_parameters+a.in,
	  tests/lattice-ibrav0-cell_parameters+celldm.in,
	  tests/lattice-ibrav0-cell_parameters.in,
	  tests/lattice-ibrav1-kauto.in, tests/lattice-ibrav1.in,
	  tests/lattice-ibrav10-kauto.in, tests/lattice-ibrav10.in,
	  tests/lattice-ibrav11-kauto.in, tests/lattice-ibrav11.in,
	  tests/lattice-ibrav12-kauto.in, tests/lattice-ibrav12.in,
	  tests/lattice-ibrav13-kauto.in, tests/lattice-ibrav13.in,
	  tests/lattice-ibrav14-kauto.in, tests/lattice-ibrav14.in,
	  tests/lattice-ibrav2-kauto.in, tests/lattice-ibrav2.in,
	  tests/lattice-ibrav3-kauto.in, tests/lattice-ibrav3.in,
	  tests/lattice-ibrav4-kauto.in, tests/lattice-ibrav4.in,
	  tests/lattice-ibrav5-kauto.in, examples/example09/run_example,
	  tests/lattice-ibrav5.in, tests/lattice-ibrav6-kauto.in,
	  tests/lattice-ibrav6.in, tests/lattice-ibrav7-kauto.in,
	  tests/lattice-ibrav7.in, tests/lattice-ibrav8-kauto.in,
	  tests/lattice-ibrav8.in, tests/lattice-ibrav9-kauto.in,
	  tests/lattice-ibrav9.in, tests/metadyn.in,
	  examples/example12/run_example, examples/example17/run_example,
	  examples/example28/run_example, examples/example33/run_example,
	  examples/example34/run_example, pseudo/H.pz-vbc.UPF,
	  pseudo/H.vbc.UPF:

	More of the same

2008-07-31 18:51  giannozz

	* tests/eval_infix.in, tests/md-pot_extrap1.in,
	  tests/md-pot_extrap2.in, tests/md-wfc_extrap1.in,
	  tests/md-wfc_extrap2.in, tests/md.in, tests/metadyn.in,
	  tests/metal-fermi_dirac.in, tests/metal-gaussian.in,
	  tests/metal-tetrahedra.in, tests/metal-tetrahedra.in2,
	  tests/metal.in, tests/metal.in2, tests/relax2-bfgs_ndim3.in,
	  tests/relax2.in, tests/scf-cg.in, tests/scf-disk_io.in,
	  tests/scf-gamma.in, tests/scf-k0.in, tests/scf-kauto.in,
	  tests/scf-mixing_TF.in, tests/scf-mixing_beta.in,
	  tests/scf-mixing_localTF.in, tests/scf-mixing_ndim.in,
	  tests/scf-wf_collect.in, tests/scf.in, tests/scf.in2,
	  examples/README, examples/check_example,
	  examples/example01/run_example, examples/example02/run_example,
	  examples/example03/run_example, examples/example04/run_example,
	  examples/example05/run_example, examples/example06/run_example,
	  examples/example07/run_example, examples/example09/run_example,
	  examples/example11/run_example, examples/example12/run_example,
	  examples/example14/run_example, examples/example15/run_example,
	  examples/example16/run_example, examples/example18/run_example,
	  examples/example28/run_example, pseudo/Al.pz-vbc.UPF,
	  pseudo/Al.vbc.UPF, pseudo/Si.pz-vbc.UPF, pseudo/Si.vbc.UPF:

	Pseudopotentials for Al and Si have the same naming convention than
	in the pseudopotential table

2008-07-31 17:59  giannozz

	* PW/: cdiagh.f90, cdiaghg.f90, rdiagh.f90, rdiaghg.f90:

	Obscure error messages slightly clarified

2008-07-31 16:10  dalcorso

	* PW/bp_calc_btq.f90:

	Problem fix: the Berry phase routine did not support the US PPs and
	the PAW dataset generated by the ld1 code.

2008-07-30 15:01  dalcorso

	* PH/dielec.f90:

	In the lgamma_gamma case this routine prints also the polarizability as phcg.x.

2008-07-30 14:54  dalcorso

	* examples/README:

	Small update of the documentation.

2008-07-30 13:57  giannozz

	* doc-def/INPUT_PW.def:

	vc-relax cell with BFGS wasn't properly documented

2008-07-29 18:44  cavazzon

	* CPV/main.f90:

	- fix of the previous commit

2008-07-29 17:32  cavazzon

	* Modules/cell_base.f90, CPV/init.f90, CPV/main.f90:

	- minor changes

2008-07-29 11:35  umari

	* CPV/: cg_sub.f90, eigs0.f90:

	Bugs corrected for parallel execution
	P.U.

2008-07-29 04:23  kkudin

	* CPV/cpr.f90:

	Small correction to the previous check-in.
	Kostya

2008-07-29 04:16  kkudin

	* CPV/cpr.f90:

	 Make fictitious energy more symmetric in order to address subtle
	energy conservation issues. The problem was found by Federico Zipoli.
	With some probability this is the fix for the following:
	http://www.democritos.it/pipermail/pw_forum/2006-May/004138.html
	 Kostya

2008-07-29 04:04  kkudin

	* CPV/cprstart.f90, CPV/environment.f90, Modules/check_stop.f90,
	  Modules/printout_base.f90, Modules/xml_io_base.f90:

	 Small changes and comment lines to run CP with nimage>1. Grep for
	"KNK_nimage" and uncomment the lines underneath. The images will write
	trajectory files as in "prefix_N.*", the restarts will be "RESTART_N",
	and the outputs will be "out.N_0". For the first image things are as
	usual ("_N" is skipped).  Now, this won't do anything useful, and will
	just run non-communicating copies. For useful stuff (path integral,
	string method, etc) setup some communication between images in cpr.f90
	 Kostya

2008-07-29 03:48  kkudin

	* CPV/: cglib.f90, cg_sub.f90:

	Fix an MPI call and give CG convergence file better name.
	Kostya

2008-07-29 03:46  kkudin

	* Modules/: constraints_module.f90, input_parameters.f90,
	  read_namelists.f90:

	Fix CG default (=100), and export more stuff from the constraints module.
	Kostya

2008-07-28 10:11  dalcorso

	* PH/phq_init.f90:

	Cleanup.

2008-07-28 10:08  dalcorso

	* PH/phq_setup.f90:

	Small bug fix. alpha_pv depended on the number of unoccupied bands in
	insulators.

2008-07-28 10:06  dalcorso

	* PH/openfilq.f90:

	Cleanup. File iunigk is opened only when used.

2008-07-28 10:02  dalcorso

	* PH/: bcast_ph_input.f90, phq_readin.f90:

	Cleanup. broadcast of nq1,nq2,nq3,iq1,iq2,iq3 moved to bcast_ph_input.

2008-07-28 09:56  dalcorso

	* PH/add_zstar_ue.f90:

	Generalized to the noncollinear/spin-orbit case.

2008-07-27 20:01  giannozz

	* configure, configure.ac:

	Minor changes for Pathscale compiler

2008-07-27 17:06  cavazzon

	* CPV/: cp_fpmd.f90, main.f90, make.depend, restart_sub.f90:

	- bug fix in 'fpmd' and variable cell: constant ema0bg was not properly set
	- cleanups

2008-07-27 10:33  cavazzon

	* CPV/: cp_fpmd.f90, main.f90, restart_sub.f90:

	- Bug fix in 'fpmd' calculation: wrong forces were used to propagate cell variables
	- Larger interpolation tables for variable cell simulation (not yet dynamic)
	- clean ups

2008-07-26 10:20  cavazzon

	* CPV/vanderwaals.f90:

	- forgotten commit, mostly clean-ups

2008-07-25 15:09  dalcorso

	* PH/phonon.f90:

	Cleanup.

2008-07-25 10:53  dalcorso

	* PW/input.f90:

	lberry + noncolin not implemented. Introduced a check to stop the pw.x code
	in this case.

2008-07-24 16:20  dalcorso

	* atomic_doc/pseudo_library/: LDA/REL/Pb.rel-pz-rrkjus.in,
	  LDA/SR/Pb.pz-rrkjus.in, PBE/REL/Pb.rel-pbe-rrkjus.in,
	  PBE/SR/Pb.pbe-rrkjus.in:

	Added Pb pseudopotential.

2008-07-24 11:56  cavazzon

	* upftools/casino2upf.f90:

	- token out of place, this was causing XLF to stop with an error

2008-07-24 11:29  cavazzon

	* PH/ph_restart.f90:

	- XLF compiler complains that:
	  "Expression used in a logical IF or block IF must be of type logical"

2008-07-23 16:31  dalcorso

	* PH/: ph_restart.f90, phq_recover.f90:

	Two small bugs in the new recover.

2008-07-23 10:46  dalcorso

	* Modules/xml_io_base.f90, PH/Makefile, PH/addnlcc.f90,
	  PH/allocate_part.f90, PH/allocate_phq.f90, PH/bcast_ph_input.f90,
	  PH/check_restart_recover.f90, PH/deallocate_part.f90,
	  PH/deallocate_phq.f90, PH/drhodv.f90, PH/drhodvus.f90,
	  PH/dynmat0.f90, PH/dynmatrix.f90, PH/make.depend,
	  PH/ph_restart.f90, PH/phcom.f90, PH/phonon.f90,
	  PH/phq_readin.f90, PH/phq_recover.f90, PH/phq_setup.f90,
	  PH/phq_summary.f90, PH/phqscf.f90, PH/raman.f90,
	  PH/save_ph_input.f90, PH/set_irr.f90, PH/solve_e.f90,
	  PH/solve_e2.f90, PH/solve_e_fpol.f90, PH/solve_linter.f90,
	  PH/write_rec.f90, PW/pw_restart.f90, PW/pwcom.f90,
	  PW/set_defaults_pw.f90, PW/setup.f90, doc-def/INPUT_PH.def:

	A tentative to improve the phonon recover.
	Introduced four new input variables:

	start_q, last_q  Makes the phonon calculation for a subset of the q points.
	                 From start_q to last_q.

	start_irr, last_irr Makes the phonon calculation for a subset of the
	                 irreducible representations.

	Removed the input variable maxirr.

	Starting k points now written in the punch file.

2008-07-23 10:09  cavazzon

	* Modules/ions_base.f90:

	- Forgotten commit for the external forces stuff

2008-07-22 18:59  cavazzon

	* PW/: electrons.f90, forces.f90, input.f90, make.depend,
	  read_file.f90:

	- Added the possibility to perform system relaxation in the presence of
	  (constant) external forces on ions.
	  External forces can be assigned to single ions through the input card
	  ATOMIC_FORCES (same units of the standard output, this
	  implies different units between CP and PW!)

	WARNING: not yet documented and fully tested.

2008-07-22 18:53  cavazzon

	* CPV/: cplib.f90, cpr.f90, input.f90, ions.f90, potentials.f90,
	  print_out.f90, restart_sub.f90:

	- Added the possibility to perform MD simulations in the presence of
	  (constant) external forces on ions

2008-07-22 18:48  cavazzon

	* Modules/: control_flags.f90, energies.f90, input_parameters.f90,
	  read_cards.f90:

	- Few additions to implement the possibility to add external forces to ions

2008-07-22 14:41  paulatto

	* PW/paw_onecenter.f90, PW/setup.f90, atomic/gener_pseudo.f90:

	Little voodoo change in paw_onecenter to prevent extremely uncommond but
	strange problems with more recent versions of openmpi libraries.

	Removed unnecessary debug prints from gener_pseudo

	LP

2008-07-22 14:40  paulatto

	* Modules/read_cards.f90, clib/eval_infix.c, tests/eval_infix.in,
	  tests/eval_infix.in2, tests/eval_infix.ref,
	  tests/eval_infix.ref2:

	Simple espressions parser re-inroduced in code for atomic positions and
	occupations. Added two very simple tests to check it. Not yet implemented
	for NEB path selection.

2008-07-22 11:32  giannozz

	* flib/latgen.f90:

	Added further check to triclinic case, as suggested by Javier Montoya

2008-07-22 11:20  giannozz

	* examples/example15/: run_example, reference/alas.dynG,
	  reference/alas.ph.out, reference/alas.scf.out:

	Example 15 updated: masses were not correct

2008-07-22 11:09  giannozz

	* PW/read_pseudo.f90:

	Missing continuation character - come compilers complained

2008-07-21 10:47  dalcorso

	* PH/: phq_readin.f90, phq_setup.f90:

	Added two checks to stop the phonon code in non implemented cases:
	lraman+GGA,
	fpol+noncolinear

2008-07-21 10:15  dalcorso

	* PH/: bcast_ph_input1.f90, phq_init.f90:

	Cleanup.

2008-07-14 23:50  degironc

	* PW/read_pseudo.f90:

	Normalization of atomic wavefuncitons is checked (only for those with
	non-negative occupation) after pseudopotential reading and if it found to
	be different from 1 by more than 1.d-6 the wavefunction is renormalized.

	Should make no difference in all usual cases since atomic wfcs are only
	used in order to generate the initial set of trial wfcs and normalization
	is not important there...

	It is VERY important for LDA+U calculations using atomic wfc in the progector
	(the default case) since proper normalization is assumed and lack of it leads
	to disasters.

	Hopefully this will solve many of the difficulties people have encounterd
	when using LDA+U with older RRKJ pseudopotentials, where normalization
	was not imposed properly (and nobody realizes except when doing LDA+U) or
	pseudopotentials of unknown origin.

2008-07-11 14:05  varini

	* PW/: cdiaghg.f90, exx.f90:

	Parallelization of EXX by images replica (the q mesh are distributed over images).

	Nicola Varini

2008-07-10 13:33  cavazzon

	* PP/pw2gw.f90:

	- minor change to better interface PW with GW,
	  thanks to A. Mosca Conte

2008-07-09 10:10  varini

	* PW/exx.f90:

	minor change in exx.f90

2008-07-08 17:56  giannozz

	* examples/example22/: README, run_example, reference/bands.pt.im,
	  reference/bands.pt.re, reference/pt.bands.out,
	  reference/pt.cond.out, reference/pt.cond_t.out,
	  reference/pt.nscf.out, reference/pt.nscf_ph.out,
	  reference/pt.ph.out, reference/pt.phX.out, reference/pt.scf.out,
	  reference/pt.scf_ph.out, reference/pt.tet.out, reference/pt4.out:

	Example 22 updated (removed nscf before phonon calculation)
	(please verify)

2008-07-08 14:30  giannozz

	* doc-def/INPUT_PH.def:

	Documentation updated

2008-07-08 14:26  giannozz

	* examples/example02/: README, run_example, reference/c.phG.out,
	  reference/c.scf.out, reference/ni.phX.out, reference/ni.scf.out,
	  reference/si.nscfXsingle.out, reference/si.phG.out,
	  reference/si.phX.out, reference/si.phXsingle.out,
	  reference/si.scf.out:

	Example 02 updated (in particular, single-mode case)

2008-07-08 14:08  giannozz

	* PH/: bcast_ph_input.f90, phq_readin.f90:

	Mode number for single-mode calculation can be passed to phonon as well.
	This was the last type of phonon calculation requiring three-step
	procedure: separate scf + non-scf + phonon calculations.

2008-07-07 22:33  giannozz

	* upftools/: Makefile, casino2upf.f90, make.depend, write_upf.f90:

	Added converter of Casino pseudopotentials to upf format (Simon Binnie
	and Dario Alfe')

2008-07-07 17:13  paulatto

	* Modules/read_cards.f90:

	Temporary returned to previous version: problem with scientific notation
	which I cannot fix right now.

2008-07-06 22:11  giannozz

	* clib/stack.c:

	Changed according to da Silva's suggestions

2008-07-06 21:52  giannozz

	* clib/eval_infix.c:

	Incorrect definition of function eval_infix (in)fixed:
	F77_FUNC (func,FUNC) for functions without underscore(s) in name
	F77_FUNC_(f_nc,F_NC) for functions with    underscore(s) in name

2008-07-03 17:09  paulatto

	* clib/eval_infix.c:

	reverting smal fix...

2008-07-03 16:47  paulatto

	* clib/eval_infix.c:

	Mini fix.
	LP

2008-07-03 16:30  paulatto

	* Modules/parser.f90, Modules/read_cards.f90, clib/eval_infix.c,
	  clib/Makefile:

	Adding a simple mathematical expression parser written in C and the necessary
	wrapper and functions to allow the input of atomic coordinates.
	The author of the parser is Vincenzo Lo Cicero who I wish to thank.

	PLEASE READ THIS PARAGRAPH:
	fortran strings and c strings are different in very subtle ways, thus I am
	far from sure that it will work with all compiler. Please try this patch
	on you system and report to me if it's giving strange problems!

	The parser understands only +, -, *, / and ^ (power), which is more than
	enough for out purposes.

	At the moment a single card must not contain spaces, e.g. the following line
	is correct:
	 Si 1/4 1/4 1/4
	while the following would return an error:
	 Si 1 / 4  1 / 4   1 / 4
	this can be improved, but I have not time now.

	Additional colums are NOT parsed.

	LICENCE:
	The parser is copyrighted by Vincenzo Lo Cicero, originally released
	under the GPL v3 licence has been relicenced under the GPL v2 in order
	to be included in the Quantum-ESPRESSO code.

	The author permission has been expressed in the following way by email:
	``Per me va bene. Potete includere il codice nel vostro
	software sotto licenza GPLv2.''

2008-07-02 09:37  dalcorso

	* PH/star_q.f90:

	Small change: mismatch in output format.

2008-07-01 16:38  tag QE-4-0-1

2008-07-01 16:38  giannozz

	* CPV/ensemble_dft.f90, CPV/fpmdpp.f90, CPV/path_routines.f90,
	  Doc/BUGS, GIPAW/efg.f90, GIPAW/init_gipaw_1.f90,
	  GUI/Guib/init.tcl, GUI/PWgui/ChangeLog, GUI/PWgui/NEWS,
	  GUI/PWgui/README.developer, GUI/PWgui/VERSION,
	  GUI/PWgui/init.tcl, GUI/PWgui/pwgui.tcl,
	  GUI/PWgui/modules/pw/pw-event.tcl, Modules/read_cards.f90,
	  Modules/version.f90, Modules/xml_io_base.f90,
	  Modules/zhpev_drv.f90, PH/matdyn.f90, PH/rigid.f90,
	  PP/chdens.f90, PP/projwfc.f90, PP/pw_export.f90, PP/qexml.f90,
	  PW/allocate_nlpot.f90, PW/becmod.f90, PW/force_us.f90,
	  PW/forces.f90, PW/input.f90, PW/stress.f90, PWCOND/local.f90,
	  dev-tools/release.sh, dev-tools/helpdoc.d/txt_leave.tcl,
	  doc-def/INPUT_PW.def, examples/check_example,
	  examples/check_failure.sh, tests/check-pw.x.j:

	Bug fixes for v. 4.0.1 - details in Doc/BUGS - please verify

2008-07-01 11:19  giannozz

	* TODO, Doc/BUGS:

	Minor update to documentation

2008-06-30 19:19  degironc

	* PW/electrons.f90:

	print a reassurring message when using   mixing_fixed_ns.
	stefano

2008-06-30 19:13  degironc

	* EE/add_dcc_field.f90, EE/add_dccdil_forces.f90,
	  EE/add_ele_corr.f90, EE/calc_ecomp.f90, EE/dvdr_tao.f90,
	  EE/ee_mod.f90, EE/init_ee.f90, EE/v_h_from_rho_r.f90,
	  EE/write_ee_summary.f90, PW/forces.f90, PW/init_run.f90:

	changes to the parallelization strategy by Eduardo and inclusion of some
	preliminary solvent stuff

2008-06-30 17:44  matteo.calandra

	* XSpectra/: init_xspectra_ldau.f90, read_file_xspectra.f90,
	  xspectra.f90, xspectra_mod.f90:

	Minor modifications to the xspectra code:

	1) rename of several variables and routines having still
	   the old suffix xanes that now has become xspectra
	2) Corrected small bug when running on a single processor
	   with no mpi and  xonly_plot=.true. .
	3) Error in the printout of the memory required by the code
	4) Input option use_paratec_recon has been removed
	5) Variable xang_mom is not anymore an input variable, the
	   calculation is chosen changing the variable
	   calculation="xanes_dipole" or "xanes_quadrupole"

	Matteo Calandra

2008-06-30 17:38  matteo.calandra

	* examples/XSpectra_example/: run_example_diamond,
	  pseudo/C_PBE_TM_2pj.UPF, pseudo/Ch_PBE_TM_2pj.UPF,
	  reference/C.wfc, reference/diamond.scf.in,
	  reference/diamond.scf.out, reference/diamond.xspectra.dat,
	  reference/diamond.xspectra.in, reference/diamond.xspectra.out,
	  reference/diamond.xspectra.sav,
	  reference/diamond.xspectra_fermi.in,
	  reference/diamond.xspectra_fermi.out,
	  reference/diamond.xspectra_replot.dat,
	  reference/diamond.xspectra_replot.in,
	  reference/diamond.xspectra_replot.out, reference/diamondh.scf.in,
	  reference/diamondh.scf.out, reference/diamondh.xspectra.dat,
	  reference/diamondh.xspectra.in, reference/diamondh.xspectra.out,
	  reference/diamondh.xspectra.sav,
	  reference/diamondh.xspectra_fermi.in,
	  reference/diamondh.xspectra_fermi.out:

	Example of calculation with the xspectra.x code.
	This example calculate K-edge X-ray absorption spectroscopy
	in diamond in the presence and in the absence of a core-hole
	in the final state.
	Two projectors are used for the p-channel in the GIPAW
	reconstruction.
	All the parameters are underconverged (this is a simple test).

	Matteo Calandra

2008-06-30 16:57  matteo.calandra

	* Doc/INPUT_XSPECTRA:

	Reference guide for the program XSpectra.

	Matteo Calandra

2008-06-30 16:44  matteo.calandra

	* GIPAW/init_gipaw_1.f90:

	Eliminated debug writing forgotten in init_gipaw_1.f90
	with the label 'ZZZ' probably inserted by Ari at some point
	to debug the code.

	Matteo Calandra

2008-06-30 11:31  matteo.calandra

	* XSpectra/upf2plotcore.sh:

	Added script upf2plotcore.sh in directory XSpectra.
	This script allows to extract the core wavefunctions
	from a pseudo upf version 1 and to use the corresponding
	output directly as input for the XSpectra code.

	Matteo Calandra

2008-06-28 15:21  paulatto

	* atomic/gener_pseudo.f90:

	Removed unnecessary call (augmentation for PAW is computed later).

	LP

2008-06-27 12:45  umari

	* CPV/ensemble_dft.f90:

	Bug corrected for cg and ensemble dft calculations.
	P.U.

2008-06-27 10:52  degironc

	* Modules/functionals.f90, PW/input.f90, flib/functionals.f90:

	A new LDA-like XC functional with finite size corrections (contributed by
	Ester Sola and Dario Alfe`) added.
	When this DFT is chosen it requires the definition of a simulation
	cell volume (set in PW/input.f90).
	If this is not defined it stops and complains.

	 stefano

2008-06-27 08:34  giannozz

	* PW/setup.f90:

	Bad format

2008-06-26 23:19  matteo.calandra

	* XSpectra/Makefile:

	Removed broken link in directory bin
	xspectra.x --> ../XSpectra/xspectra.x
	and not
	xspectra.x --> ../Xanes/xspectra.x

	Matteo Calandra

2008-06-26 22:09  giannozz

	* GIPAW/Makefile:

	Makefile updated

2008-06-26 21:53  giannozz

	* PW/setup.f90:

	Minor cleanup, grouping of related instructions

2008-06-26 20:16  giannozz

	* flib/make.depend, flib/more_functionals.f90, CPV/exch_corr.f90:

	Two CP wrappers moved to a more appropriate (I hope) (I hope) (I hope) (I hope) (I hope) (I hope) (I hope) (I hope) (I hope) location

2008-06-26 10:39  giannozz

	* doc-def/INPUT_PW.def:

	Reference to nonexistent variable "emaxprog" corrected to "emaxpos"

2008-06-25 19:52  giannozz

	* examples/check_failure.sh, tests/check-pw.x.j:

	POSIX-ization of scripts - thanks to Axel

2008-06-25 15:16  smogunov

	* PWCOND/: do_cond.f90, init_gper.f90:

	Automatically generated 2D k points are converted to crystallographic
	coordinates and a small bug in the generation of 2D G vectors fixed
	(A. Smogunov).

2008-06-25 14:50  smogunov

	* PWCOND/summary_band.f90:

	Corrected and slightly modified output of complex k vectors (A. Smogunov).

2008-06-25 13:24  giannozz

	* PH/: q2r.f90, rigid.f90:

	Better attempt at fixing the strange behavior of force constants in
	a large cell: a more general convergence criterion for the sum over
	G vectors is introduced

2008-06-25 11:13  paulatto

	* Modules/read_cards.f90:

	Maybe an error message, instead of a crash, won't hurt (btw I've lost 1 hours
	looking for it).

	LP

2008-06-23 14:12  giannozz

	* PH/matdyn.f90:

	Bug in matdyn.x (v.4 only): incorrect call to "sgama" in matdyn.f90 could
	lead to failures with strange messages when calculating phonon DOS

2008-06-20 17:00  varini

	* PW/exx.f90:

	introducing exxbuff in order to using a buffer instead io routine.

	Nicola Varini

2008-06-20 14:07  paulatto

	* PW/: output_tau.f90, scale_h.f90:

	[no log message]

2008-06-20 13:37  giannozz

	* PH/: matdyn.f90, q2r.f90, rigid.f90:

	Misc changes to phonon postprocessing tools: i) calculation of rigid-ion
	term made simpler and faster if many atoms are present. It should make
	any difference in final results, but on a 40-atom cell q2r.x now yields
	correct results, while the previous version didn't. ii) Large automatic
	arrays in ASR routine replace by allocatable so that for many atoms
	the routine doesn't instantly crash any longer. The fancy ASR badly
	need some serious work to reduce the amount of cpu time and memory
	they use, or else they are unusable on large and not-so-large systems.

2008-06-20 10:30  giannozz

	* Modules/input_parameters.f90, PH/sym_dmag.f90, PW/electrons.f90,
	  PW/pwcom.f90, PW/summary.f90, PW/symrho_mag.f90:

	"Cartesian", not "Carthesian" !!!!!

2008-06-19 18:15  matteo.calandra

	* Makefile, make.sys.in, makedeps.sh:

	Added compilation for xspectra.x
	Added dependencies of xspectra on GIPAW in make.sys.in in variable
	           "MODFLAGS".
	Added XSpectra dependencies in makedeps.sh
	Added options and message in Makefile.

	Matteo Calandra

2008-06-19 17:40  varini

	* PW/: exx_loop.f90, make.depend, pwscf.f90:

	change to exx working both nimage>1 and nimage=1

	Nicola Varini

2008-06-19 17:14  giannozz

	* PH/: phonon.f90, phq_summary.f90, q_points.f90:

	Printout of q-points made uniform to f12.7 (may lead to errors if somebody
	gets the q-points from a list with too few significant figures)

2008-06-19 17:13  paulatto

	* doc-def/INPUT_LD1.def:

	Missing documentation of upf_v1_format option added.

	LP

2008-06-19 16:47  varini

	* Multigrid/mikpckd.f:

	change tsecnd() in scnds() and
	x(i) = dble(rand(iflag)) in  call random_number(x(i))   [check if it's correct]
	for sp5 compatibility reason

	Nicola Varini

2008-06-19 15:20  matteo.calandra

	* XSpectra/: Makefile, init_xspectra_ldau.f90, ipoolscatter.f90,
	  mygetK.f90, paw_read_recon_paratec.f90, radin_mod.f90,
	  read_file_xspectra.f90, xspectra.f90, xspectra_mod.f90,
	  make.depend:

	Initial release of the package XSpectra calculating K-edge
	X-ray absorption spectropy in materials.
	The program uses GIPAW and the Lanczos method.
	Working only with norm-conserving pseudopotentials (at the moment).

	  Authors: Christos Gougoussis, Matteo Calandra,
	           Ari Paavo Seitsonen and Francesco Mauri

	Matteo Calandra

2008-06-18 22:32  giannozz

	* PW/checkallsym.f90, PW/setup.f90, PW/sgama.f90, PH/matdyn.f90,
	  PH/star_q.f90, PP/pw2gw.f90:

	Subroutine "sgama" split into two pieces, one finding symmetries and the
	other one finding k-points. More "sgama" deconstruction will follow. PG

2008-06-18 18:28  paulatto

	* PW/: becmod.f90, force_us.f90:

	Changes from May 20th reverted as ATLAS libraries have been fixed.

	LP

2008-06-18 17:08  giannozz

	* Makefile, D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PWCOND/Makefile, VdW/Makefile:

	Updated Makefiles. a) a target name should not coincide with a directory
	name (remember tha some machines like Mac OSX have case-insensitive file
	systems! ee == EE) b) some linkers require an explicit presence of all
	modules in the list of files to be linked

2008-06-18 15:25  umari

	* examples/example31/reference/: si.scf.efield.out,
	  si.scf.efield2.out:

	Wrong spelling corrected.
	P.U.

2008-06-18 15:23  umari

	* PW/electrons.f90:

	Wrong spelling corrected

	P.U.

2008-06-18 15:02  umari

	* examples/example31/: README, run_example:

	Updated example 31 with new options for finite electric field.

	P.U.

2008-06-18 15:01  umari

	* examples/example31/reference/: si.scf.efield.out,
	  si.scf.efield2.out:


	New output files for example 31 with new electric field options.

	P.U.

2008-06-18 15:00  umari

	* examples/example31/reference/si.scf.out:


	Removed not longer existing output file for finite electric field
	P.U.

2008-06-18 14:53  paulatto

	* EE/init_ee.f90:

	sinh and cosh functions are not external (they are intrinsic), g95 was
	complaining during link

	LP

2008-06-18 14:43  paulatto

	* PW/h_epsi_her_set.f90:

	g95 complains for symbol not present in module

	LP

2008-06-18 14:43  paulatto

	* EE/write_ee_summary.f90:

	g95 complains for missing &

	LP

2008-06-17 17:46  varini

	* PW/input.f90:

	EXX parallelization, fix in creating separate directory for the images.

	Nicola Varini

2008-06-17 11:00  seitsonen

	* atomic/write_upf.f90:

	Changed the format of the version of UPF from 'a3' (was: "0.1") to 'a1',
	in reality integer, because this is the format that some one changed for
	reading in: less flexible, but easier. This should fix the "incompatibility"
	that some people have experienced when performing calculations with GIPAW;
	does not affect other calculations!

	       apsi = Ari P Seitsonen

2008-06-16 19:15  giannozz

	* PP/pw_export.f90:

	Yet another mistake in a not-too-careful commit of mine

2008-06-16 18:49  giannozz

	* CPV/path_routines.f90, Modules/make.depend,
	  Modules/xml_io_base.f90:

	Oops, USE kind => USE kinds

2008-06-16 18:44  degironc

	* PW/: Makefile, make.depend, setup.f90:

	This should restore changes to Makefile and setup.f90 that went lost in a
	recent checkin

2008-06-16 16:51  varini

	* PW/: Makefile, exx_loop.f90, input.f90, pwscf.f90, setup.f90,
	  stop_run.f90:


	Start working on image parallelization for EXX.
	Warning: for time being no real data distribution has been done yet,
	only the logic of mutiple images has been extended from path-NEB computation
	to EXX.
	WARNING: not yet fully tested.

	Nicola Varini

2008-06-16 14:15  paulatto

	* examples/example09/README:

	Trivial
	LP

2008-06-16 14:14  paulatto

	* PW/stress.f90:

	Symmetrization of stress actively enforced, this seems to prevent "non-orthogonal
	operation" errors, or at least to delay them.

	LP

2008-06-16 14:13  paulatto

	* PW/forces.f90:

	Prevent display of confusing "SCF correction compared to forces is too large,
	 reduce conv_thr" message when forces are zero.

	LP

2008-06-16 14:08  giannozz

	* CPV/path_routines.f90, Doc/BUGS, Modules/atom.f90,
	  Modules/xml_io_base.f90, PP/pw_export.f90, PP/qexml.f90,
	  PW/allocate_nlpot.f90, PW/input.f90, dev-tools/release.sh:

	c_mkdir is explicitly defined as integer*4 (as suggested by AF) in order
	to prevent problems in 64-bit machines with default 64-bit integers

2008-06-13 13:06  degironc

	* dev-tools/README.helpdoc:

	added instructions for package installation on Redhat based distributions

2008-06-13 09:45  giannozz

	* PP/chdens.f90:

	Fixed incorrect test for vector orthogonality

2008-06-12 18:34  degironc

	* PW/electrons.f90:

	micro-(nano-)simplification in the EE part

2008-06-12 17:04  degironc

	* PW/electrons.f90:

	EE bug fix: vloc_of_g_zero was incorrectly defined in the parallel case.
	this had no influence on the result, though.
	stefano

2008-06-12 16:52  smogunov

	* PWCOND/do_cond.f90:

	Missing broadcast of the variable nkpts (A. Smogunov)

2008-06-11 16:34  paulatto

	* PW/: allocate_nlpot.f90, scale_h.f90:

	added a check to prevent unpredictable behaviour when cell shrinks too
	much during vc-relax

	LP

2008-06-11 16:27  degironc

	* EE/make.depend:

	yet another one

2008-06-11 16:24  degironc

	* Multigrid/secd.c:

	one more missing file in the Multigrid part

2008-06-11 12:48  degironc

	* EE/write_ee_summary.f90:

	one missing file in the previous commit.

2008-06-11 12:47  degironc

	* Makefile, make.sys.in, makedeps.sh, CPV/make.depend, EE/Makefile,
	  EE/add_boundary.f90, EE/add_dcc_field.f90,
	  EE/add_dccdil_forces.f90, EE/add_ele_corr.f90, EE/calc_ecomp.f90,
	  EE/data_structure_coarse.f90, EE/dvdr_tao.f90, EE/ee_mod.f90,
	  EE/gcoarse_mod.f90, EE/ggen_coarse.f90, EE/init_ee.f90,
	  EE/mg_pb_solver.f90, EE/multiscale.f90,
	  EE/set_fft_dim_coarse.f90, EE/set_mltgrid_dim.f90,
	  EE/setlocalcoul.f90, EE/v_h_from_rho_r.f90, EE/writetofile.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  Multigrid/Makefile, Multigrid/buildAd.f, Multigrid/buildBd.f,
	  Multigrid/buildGd.f, Multigrid/buildPd.f, Multigrid/cgd.f,
	  Multigrid/cgmgd.f, Multigrid/cgmgdrvd.f, Multigrid/maind.f,
	  Multigrid/mainsubd.f, Multigrid/matvecd.f, Multigrid/mgcsd.f,
	  Multigrid/mgdrvd.f, Multigrid/mgfasd.f, Multigrid/mgsubd.f,
	  Multigrid/mikpckd.f, Multigrid/mlinpckd.f, Multigrid/ncgd.f,
	  Multigrid/ninterpd.f, Multigrid/nsmoothd.f, Multigrid/nsord.f,
	  Multigrid/nwjd.f, Multigrid/pded.f, Multigrid/smoothd.f,
	  Multigrid/wjd.f, PW/Makefile, PW/allocate_fft.f90,
	  PW/electrons.f90, PW/forces.f90, PW/init_run.f90, PW/input.f90,
	  PW/make.depend, PW/pwscf.f90, PW/setup.f90, PW/summary.f90,
	  atomic/make.depend, doc-def/INPUT_PW.def:

	New feature, density counter-charge correction (I.Dabo+N.marzari), added.
	It allows to treat a molecular system in open boundary conditions.

2008-06-10 21:36  ceresoli

	* GIPAW/efg.f90:

	10^3 factor missing in conversion. (D.C.)

2008-06-10 16:24  degironc

	* PW/makov_payne.f90:

	Makov-Payne reference corrected.

2008-06-10 16:20  degironc

	* doc-def/INPUT_PH.def, PH/make.depend, PH/phq_readin.f90:

	a bit more reasonable tr2_ph threshold . Used to be 1.d-10 now it is 1.d-12

2008-06-10 16:03  degironc

	* PW/: electrons.f90, exx.f90, restart_in_electrons.f90,
	  save_in_cbands.f90, save_in_electrons.f90, save_in_ions.f90:

	Added some "restart" capability in the EXX part

2008-06-09 18:43  umari

	* Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/allocate_bp_efield.f90, PW/c_bands.f90, PW/c_phase_field.f90,
	  PW/electrons.f90, PW/forces.f90, PW/forces_bp_efield.f90,
	  PW/h_epsi_her_apply.f90, PW/h_epsi_her_set.f90, PW/h_psi.f90,
	  PW/input.f90, PW/kpoint_grid.f90, PW/pwcom.f90, PW/setup.f90,
	  PW/stress.f90, PW/summary.f90:

	New options for Berry's phase electric field.
	Now the field can be defined on an arbitrary direction.

	P.U.

2008-06-06 12:08  paulatto

	* PW/: scale_h.f90, v_of_rho.f90:

	Previous commit slipped by mistake. Changes to paw_onecenter were required
	to prevente sefgfault in dos calculation + paw with intel 10 compiler.

	The other changes weren't really supposed to happen, they are aestetics
	changes which I'm partially reverting now.

	LP

2008-06-06 12:03  paulatto

	* PW/: paw_onecenter.f90, scale_h.f90, v_of_rho.f90:

	[no log message]

2008-06-04 15:33  seitsonen

	* GIPAW/init_gipaw_1.f90:

	'paw_recon[]%paw_betar[]' was not initialised and caused 'NaN's with IBM
	compilers. Corrected thanks to Christos Gougoussis (IMPMC, Paris).

	       Ari P Seitsonen (IMPMC, Paris)

2008-06-02 15:22  kokalj

	* GUI/Guib/init.tcl:

	cleanup

2008-06-02 15:21  kokalj

	* GUI/PWgui/pwgui:

	Discarding Lorenzo's commit, which breaks things for non-CVS version of PWgui: in order to run CVS version of pwgui,
	one need to execute: cd O-sesame/GUI/PWgui; make cvsinit.
	This will set things properly.

2008-06-02 15:12  kokalj

	* GUI/PWgui/pwgui.tcl:

	adding a warning message if one tries to run an uninitialized CVS version of PWgui

2008-06-02 15:06  kokalj

	* GUI/PWgui/README.developer:

	adding an explicit message to see INSTALL.cvs file for instuctions on how to run the CVS version of PWgui

2008-06-02 14:50  kokalj

	* GUI/PWgui/init.tcl:

	cleanup

2008-06-02 14:50  kokalj

	* GUI/PWgui/: ChangeLog, NEWS, VERSION:

	updating ...

2008-06-02 14:49  kokalj

	* GUI/PWgui/modules/pw/pw-event.tcl:

	fixing bug spotted by Lorenzo concerning the widgets state for various type of k-points input

2008-05-30 11:43  sclauzer

	* atomic/: Makefile, all_electron.f90, compute_relpert.f90,
	  grad_log.f90, ld1_readin.f90, ld1inc.f90, scf.f90,
	  write_results.f90:

	Added subroutine compute_relpert in atomic/ in order to compute
	relativistic corrections to AE eigenvalues in perturbation theory.
	The option is activated with the flag relpert and is available
	only for non-relativistic, spin-unpolarized AE calculations.
	Minor modifications to scf and all_electron were needed to access SIC potentials,
	that now are global and allocated in all_electron (no more in scf).
	G. Sclauzero

2008-05-29 14:51  paulatto

	* flib/lapack_all.f:

	Removed zlaswp wich I just added lapack_atlas
	LP

2008-05-29 14:27  paulatto

	* PWCOND/do_cond.f90:

	g95 does not like when you use .ne. to compare logical variables: .neqv. or
	.xor. have to be used instead.

	LP

2008-05-29 14:22  paulatto

	* PH/find_mode_sym.f90:

	typo fix

2008-05-29 14:19  paulatto

	* flib/invmat.f90:

	Revert: it looks like n=3 actually *is* the most common choice
	LP

2008-05-29 14:15  paulatto

	* flib/: invmat.f90, lapack_atlas.f:

	1. in lapack_atlas.f: recently added zgbtrf requires missing zlaswp
	2. in invmat.f90: it is better to put the most common branch first
	LP

2008-05-28 12:03  paulatto

	* GUI/PWgui/pwgui:

	Only setting the GUIB variable I was able to start PWgui.

	LP

2008-05-26 19:56  giannozz

	* PW/: eqvect.f90, lchk_tauxk.f90, make.depend, setup.f90,
	  sgam_at.f90, sgam_at_mag.f90, sgama.f90, vloc_of_g.f90:

	Misc cleanup of symmetries

2008-05-26 11:56  giannozz

	* examples/VCSexample/: README, run_example:

	Duplicated lattice specification removed

2008-05-24 10:48  cavazzon

	* CPV/fpmdpp.f90:

	- bug fix, related to the new data-file format
	- bug fix, mpi should be initialized even if cppp.x run only on one proc
	- todo: rename the file fpmpp.f90 in cppp.f90

2008-05-22 19:13  giannozz

	* Makefile:

	Makefile updated. Note that the removal of *.F90 files from the tar file
	wil remove the sources of W90 unless they are renamed *.f90

2008-05-22 19:09  giannozz

	* Modules/zhpev_drv.f90:

	BlueGene workaround for complex parallel subspace diagonalization
	(same as in real case, dpsev_drv.f90: make inverse iteration pn
	one processor, broadcast to all others)
	in

2008-05-20 17:21  paulatto

	* PW/force_us.f90:

	Same ATLAS workaround for forces

	LP

2008-05-20 16:46  cavazzon

	* PP/projwfc.f90:

	- bug fix, problem in naming projection files when the number of atoms
	  is greather than 1000

2008-05-20 15:51  paulatto

	* PW/becmod.f90:

	Same as before, when spinorb = .true.

	LP

2008-05-20 15:47  paulatto

	* PW/becmod.f90:

	There is a bug in ATLAS libraries: when calling ZGEMM, if beta is zero
	than C matrix needs not be initialized in input. ATLAS bug add beta*C
	even when beta is zero, hence if C contains some NaN they propagate
	to entire code causing random "cdiaghg info =/= 0" errors.

	This workaround just sets C (which here is betapsi) to complex zero.

	LP

2008-05-17 12:36  dalcorso

	* atomic/: Makefile, ld1.f90, write_ae_pseudo.f90:

	Routine write_fake_pseudo extracted from ld1.f90 and named write_ae_pseudo.
	Initialized some uninitialized variables that are written in the UPF file.
	A bug fix: the list of the wavefunctions was not written correctly by
	pseudo_header.

2008-05-16 22:30  kokalj

	* dev-tools/helpdoc.d/txt_leave.tcl:

	fixing small bug: adding syntaxFlush to linecard { ... }

2008-05-16 18:36  dalcorso

	* doc-def/INPUT_PH.def:

	Cleanup.

2008-05-16 09:14  dalcorso

	* PWCOND/local.f90:

	Bug fix: problem with orthorombic cells. (Contributed by Zhiping)

2008-05-15 17:06  umari

	* CPV/: dforceb.f90, efield.f90, gtable.f90, init.f90,
	  init_run.f90, qmatrixd.f90, stop_run.f90:

	[no log message]

2008-05-15 16:56  dalcorso

	* PH/: cft_wave.f90, solve_linter.f90:

	Starting cleanup of the phonon code. Routine cft_wave generalized to
	the noncollinear/spin-orbit case and used also in solve linter.

2008-05-15 15:33  dalcorso

	* Modules/fft_base.f90:

	This is needed for bands+pool. Was this barrier necessary? (Carlo please
	check).

2008-05-15 15:26  dalcorso

	* PH/find_mode_sym.f90:

	In the lgamma_gamma case skip the symmetry analysis of rotations and
	translations.

2008-05-15 15:22  dalcorso

	* PH/phq_summary.f90:

	A few additional information on electric field calculations printed on
	output.

2008-05-15 15:18  dalcorso

	* PP/local_dos.f90:

	plotnum=7 + pools.

2008-05-15 15:13  dalcorso

	* PP/: bands.f90, sym_band.f90:

	Bands + pools.

2008-05-15 15:03  dalcorso

	* PWCOND/do_cond.f90:

	Introduced a check to avoid mixing calculations with and without spin-orbit.

2008-05-15 14:58  dalcorso

	* PH/compute_alphasum.f90, PH/compute_becsum_ph.f90, PH/drho.f90,
	  PH/dvanqq.f90, PH/localdos.f90, PH/set_int12_nc.f90,
	  PH/solve_e.f90, PH/solve_linter.f90, PH/zstar_eu_us.f90,
	  PP/atomic_wfc_nc_proj.f90, PP/compute_sigma_avg.f90,
	  PP/local_dos.f90, PP/local_dos1d.f90, PP/local_dos_mag.f90,
	  PP/projwfc.f90, PW/atomic_wfc.f90, PW/average_pp.f90,
	  PW/compute_becsum.f90, PW/compute_qdipol_so.f90,
	  PW/init_us_1.f90, PW/newd.f90, PW/pwcom.f90, PW/read_file.f90,
	  PW/realus.f90, PW/setup.f90, PW/sum_band.f90, atomic_doc/README:

	Variable so(nt) removed: so(nt) -> upf(nt)%has_so.

2008-05-15 12:58  giannozz

	* Makefile, GUI/PWgui/doc/pwdocs/Makefile,
	  GUI/PWgui/doc/pwdocs/user_guide.tex, dev-tools/release.sh:

	Final documentation fixes for the release

2008-05-15 07:51  kokalj

	* GUI/PWgui/doc/pwdocs/: Makefile, user_guide.tex:

	using user_guide.tex instead of user_guide.html (not everybody has gnuhtml2latex)

2008-05-15 07:51  giannozz

	* GUI/PWgui/doc/pwdocs/user_guide.tex:

	file user_guide.tex was added on branch QE-4-0 on 2008-05-15 10:58:09 +0000

2008-05-14 20:40  giannozz

	* GUI/PWgui/: Makefile, doc/pwdocs/Makefile, doc/pwdocs/htmlise.sh,
	  doc/pwdocs/users-guide.tex, src/pwscf.itcl:

	Added last changes by Tone

2008-05-14 16:26  kokalj

	* GUI/PWgui/Makefile:

	adopting to change of users-guide.tex to user_guide.html

2008-05-14 16:22  kokalj

	* GUI/PWgui/src/pwscf.itcl:

	adopting to change of users-guide.tex to user_guide.html

2008-05-14 16:20  kokalj

	* GUI/PWgui/doc/pwdocs/: htmlise.sh, Makefile:

	adopting makefile accordingly to users-guide.tex to user_guide.html transition.

2008-05-14 16:19  kokalj

	* GUI/PWgui/doc/pwdocs/: html2latex.sh, user_guide.html:

	adding user_guide.html, which is a patched version of wiki's user-guide, Doc/user_guide.html, and a script for distiling it to simpler html.

2008-05-14 16:16  kokalj

	* GUI/PWgui/doc/pwdocs/users-guide.tex:

	removing old users-guide.tex in favor of wiki's user_guide.html

2008-05-14 15:32  giannozz

	* PP/chdens.f90:

	Fix for atoms on the border

2008-05-14 15:32  giannozz

	* Makefile:

	"make tar" simplified and updated

2008-05-14 15:04  giannozz

	* Doc/: ChangeLog, ChangeLog.old, README:

	Minor updates to documentation

2008-05-14 14:44  giannozz

	* PP/chdens.f90:

	Minor bug: atoms exactly at the boundary of the visualisation cell were
	missing

2008-05-14 13:16  giannozz

	* dev-tools/release.sh:

	Packaging script updated

2008-05-14 12:00  giannozz

	* Doc/: ChangeLog, ChangeLog.old, README:

	Documentation updated

2008-05-13 18:43  giannozz

	* GUI/PWgui/Makefile:

	Same fix applied to the CVS branch

2008-05-13 18:40  giannozz

	* GUI/PWgui/Makefile:

	Minor correction

2008-05-13 18:21  giannozz

	* PW/force_ew.f90:

	erfc should be defined external, consistently with the rest of the code

2008-05-13 17:35  giannozz

	* TODO, Doc/BUGS, PW/make.depend:

	Last minor fixes

2008-05-13 15:31  kokalj

	* dev-tools/: Makefile, check_gui:

	adopting check_gui to change of *def location from Doc/ to doc-def/

2008-05-13 15:29  kokalj

	* doc-def/: INPUT_BANDS.def, INPUT_DOS.def, INPUT_D3.def,
	  INPUT_CPPP.def, INPUT_PP.def, INPUT_PROJWFC.def, INPUT_GIPAW.def,
	  INPUT_pw_export.def, Makefile, INPUT_LD1.def, INPUT_PH.def,
	  INPUT_PW.def, INPUT_PWCOND.def, input_xx.xsl:

	moving *.def and input_xx.xsf from Doc/ to a dedicated doc-def/ directory

2008-05-13 15:28  kokalj

	* Doc/: INPUT_LD1.def, INPUT_PH.def, INPUT_PWCOND.def, Makefile,
	  INPUT_BANDS.def, INPUT_CPPP.def, INPUT_D3.def, INPUT_DOS.def,
	  INPUT_GIPAW.def, INPUT_PP.def, INPUT_PROJWFC.def, INPUT_PW.def,
	  INPUT_pw_export.def, input_xx.xsl:

	moving *.def and input_xx.xsf to a dedicated doc-def/ directory

2008-05-13 15:16  kokalj

	* Doc/INPUT_PW.def:

	cleanup

2008-05-13 15:16  kokalj

	* Doc/input_xx.xsl:

	implementing "Back to Top" link, as suggested by Guido

2008-05-13 15:15  kokalj

	* dev-tools/helpdoc.d/txt_leave.tcl:

	fixing bug: under some circumstances, card's flags description has not been printed to *.txt file

2008-05-13 14:20  paulatto

	* Modules/paw_variables.f90, PW/paw_init.f90, PW/paw_onecenter.f90,
	  tests/paw-atom.ref, tests/paw-atom_l=2.ref,
	  tests/paw-atom_lda.in, tests/paw-atom_lda.ref,
	  tests/paw-atom_spin.ref, tests/paw-atom_spin_lda.in,
	  tests/paw-atom_spin_lda.ref, tests/paw-bfgs.ref,
	  tests/paw-vcbfgs.ref:

	Last minute fix: precision of radial integrals kicked up a notch,
	except for s-only elements where it has been reduced. Examples updated
	accordingly.

2008-05-10 10:25  giannozz

	* W90/: LICENSE, Makefile, README, make.sys, doc/tutorial/Makefile,
	  doc/tutorial/cnt.tran.eps, doc/tutorial/cnt.win.eps,
	  doc/tutorial/cu.eps, doc/tutorial/lead.eps, doc/tutorial/si.eps,
	  doc/tutorial/tutorial.tex, doc/user_guide/Makefile,
	  doc/user_guide/developers.tex, doc/user_guide/faq.tex,
	  doc/user_guide/files.tex, doc/user_guide/other_thoughts.tex,
	  doc/user_guide/overview.eps, doc/user_guide/overview.fig,
	  doc/user_guide/overview.tex, doc/user_guide/parameters.tex,
	  doc/user_guide/projections.tex,
	  doc/user_guide/sample_input_files.tex,
	  doc/user_guide/user_guide.tex, doc/user_guide/wannier-pp.tex,
	  doc/user_guide/wannier.tex, examples/Makefile, examples/README,
	  examples/example05/diamond.nscf,
	  examples/example05/diamond.pw2wan,
	  examples/example05/diamond.scf, examples/example05/diamond.win,
	  examples/example06/copper.nscf, examples/example06/copper.pw2wan,
	  examples/example06/copper.scf, examples/example06/copper.win,
	  examples/example07/silane.nscf, examples/example07/silane.pw2wan,
	  examples/example07/silane.scf, examples/example07/silane.win,
	  examples/example10/graphite.nscf,
	  examples/example10/graphite.pw2wan,
	  examples/example10/graphite.scf, examples/example10/graphite.win,
	  examples/example13/cnt55.nscf, examples/example13/cnt55.pw2wan,
	  examples/example13/cnt55.scf, examples/example13/cnt55.win,
	  src/Makefile, src/constants.F90, src/disentangle.F90,
	  src/hamiltonian.F90, src/io.F90, src/kmesh.F90, src/overlap.F90,
	  src/parameters.F90, src/plot.F90, src/transport.F90,
	  src/utility.F90, src/wannier_lib.F90, src/wannier_prog.F90,
	  src/wannierise.F90, tests/Makefile, tests/run_test.pl,
	  tests/test1/des.dat, tests/test1/stnd.wout,
	  tests/test1/wannier.amn, tests/test1/wannier.mmn,
	  tests/test1/wannier.win, tests/test2/des.dat,
	  tests/test2/stnd.wout, tests/test2/wannier.amn,
	  tests/test2/wannier.eig, tests/test2/wannier.mmn,
	  tests/test2/wannier.win, utility/kmesh.pl:

	Added W90 subdirectory containing the Wannier code (Arash et al)

2008-05-09 21:17  giannozz

	* Makefile, Modules/wannier.f90, PP/pw2wannier90.f90, flib/blas.f,
	  flib/lapack_atlas.f:

	Miscellaneous changes (from Arash) for compatibility with W90:
	(1) Makefile in the Q-E root directory has new "make w90" option
	(2) New "W90" directory and all subdirectories and files therein
	(3) PP/pw2wannier90.f90 has been updated for compatibility with Q-E4.0
	(4) Modules/wannier.f90 has been updated
	(5) flib/lapack_atlas.f -- additional routines added (needed by W90)
	(6) flib/blas.f -- additional routines added (needed by W90)

2008-05-09 17:55  degironc

	* atomic/dfx_new.f90:

	calculation on OEP was problematic for one-electron case

2008-05-09 11:49  kokalj

	* Doc/: INPUT_PROJWFC.def, Makefile:

	updating ...

2008-05-09 11:47  kokalj

	* Doc/: INPUT_BANDS.def, INPUT_CPPP.def, INPUT_PWCOND.def,
	  INPUT_DOS.def, INPUT_GIPAW.def, INPUT_pw_export.def, INPUT_BANDS,
	  INPUT_CPPP, INPUT_DOS, INPUT_GIPAW, INPUT_PWCOND,
	  INPUT_pw_export:

	translation of six additional INPUT_* to INPUT_*.def

2008-05-09 09:44  fratesi

	* Doc/INPUT_PW.def:

	startingpot = 'file' :
	"prefix".pot no more exists since long time...
	Documentation now refers to "charge-density.xml"
	Guido F.

2008-05-08 21:10  kokalj

	* atomic_doc/INPUT_LD1:

	Removing files:

	INPUT_LD1

	This file has been superseded by corresponding Doc/INPUT_LD1.def file.
	Execution of (cd Doc/; make) will create INPUT_LD1.html and INPUT_LD1.txt in atomic_doc/.

2008-05-08 21:08  kokalj

	* Doc/: INPUT_D3, INPUT_PH, INPUT_PP, INPUT_PROJWFC, INPUT_PW:

	Removing files:

	INPUT_PW INPUT_PH INPUT_PP INPUT_PROJWFC INPUT_D3

	These files have been superseded by corresponding INPUT_*.def files from
	which INPUT_*.html and INPUT_*.txt are created (cd Doc/; make).

2008-05-08 21:04  kokalj

	* pwtools/ev.f90:

	changing output format for a0 from f6.2 to f7.3

2008-05-08 21:00  kokalj

	* GUI/PWgui/: doc/pwdocs/Makefile, doc/pwdocs/htmlise.sh,
	  ChangeLog, VERSION:

	updating

2008-05-08 20:58  kokalj

	* GUI/PWgui/modules/atomic/: atomic-event.tcl, atomic-help.tcl,
	  atomic.tcl:

	updating/synchronizing atomic module

2008-05-08 20:58  kokalj

	* GUI/PWgui/modules/d3/d3-help.tcl:

	updating/synchronizing d3 module

2008-05-08 20:57  kokalj

	* GUI/PWgui/modules/ph/: ph-help.tcl, ph.tcl:

	updating/synchronizing ph module

2008-05-08 20:57  kokalj

	* GUI/PWgui/modules/pp/pp-help.tcl:

	updating/synchronizing pp module

2008-05-08 20:57  kokalj

	* GUI/PWgui/modules/projwfc/: projwfc-help.tcl, projwfc.tcl:

	updating/synchronizing projwfc module

2008-05-08 20:56  kokalj

	* GUI/PWgui/modules/pw/: pw.tcl, commands.tcl, pw-event.tcl,
	  pw-help.tcl:

	updating/synchronizing pw module

2008-05-08 20:51  kokalj

	* GUI/PWgui/src/: aindex, pwscf.itcl, tclIndex:

	small updates ...

2008-05-08 20:47  kokalj

	* GUI/Guib/: ChangeLog, VERSION:

	updating ...

2008-05-08 20:46  kokalj

	* GUI/Guib/examples/: dimension.tcl, two_pages.tcl, validate.tcl,
	  kpoints.tcl, pages.tcl, simpleSim.tcl:

	updating guib examples

2008-05-08 20:44  kokalj

	* GUI/Guib/src/: aindex, gui.itcl, guib-keywords-def.tcl,
	  guib.itcl, guibKeywords.itcl, keywordObj.itcl, moduleObj.itcl,
	  optionmenuhelp.itcl, radioboxhelp.itcl, save.itcl,
	  simpleGui.itcl, spininthelp.itcl, table.itcl, tclIndex,
	  text.itcl, build.itcl, dialogshell.itcl, help.itcl,
	  keywidgets.itcl, open.itcl, widgets.itcl:

	many (small) changes:

	* gui.itcl: adding -wrap "option" to addHelp method.

	* guibKeywords.tcl: adding grouphelp guib keyoword for specifying
		a common help to a set of "grouped" variables.

	* guib.tcl: modifying module guib's keyword: instead of object
		name an object prefix is passed to routine and a unique
		object name is then generated and returned (i.e. #auto no
		more require).

	* help.itcl: adding "helpdoc" format for help.

	* making code compatible with Itcl namespace awareness (i.e. class
		--> itcl::class, ...)

2008-05-08 20:43  kokalj

	* GUI/Guib/src/store.itcl:

	adding storeModuleItems public method

2008-05-08 20:30  kokalj

	* GUI/Guib/lib/: tclIndex, tclUtils.tcl:

	updating custom tcl utility library (adding lineread rouutine)

2008-05-08 20:27  kokalj

	* dev-tools/helpdoc.d/helpdoc.tcl,
	  dev-tools/helpdoc.d/readSchema.tcl, dev-tools/helpdoc.d/tclIndex,
	  GUI/Guib/guib.theme:

	small updates

2008-05-08 20:25  kokalj

	* dev-tools/: Makefile, check_gui, guihelp.xsl, helpdoc.d/gui.tcl,
	  helpdoc.d/guihelp.tcl:

	Commiting the "check_gui" utility: a long-wished script that checks for the syncronization of the PWgui, which is now possible due to migration to INPUT_*.def makrup-ed files.

	Now, updating PWgui is almost semi-automatic. "check_gui" cross checks for new/obsolete variables between INPUT_*.def and corresponding PWgui files, and creates an appropritae help file for PWgui.

2008-05-08 20:21  kokalj

	* dev-tools/helpdoc:

	cleanup

2008-05-08 20:20  kokalj

	* dev-tools/: README.helpdoc, helpdoc.schema:

	moving helpdoc.schema README.helpdoc to dev-tools/

2008-05-08 20:19  kokalj

	* Doc/: README.helpdoc, helpdoc.schema:

	mv helpdoc.schema README.helpdoc ../dev-tools

2008-05-08 20:18  kokalj

	* Doc/: INPUT_D3.def, INPUT_LD1.def, INPUT_PH.def, INPUT_PP.def,
	  INPUT_PROJWFC.def, INPUT_PW.def, Makefile:

	updates and typo corrections

2008-05-07 17:34  dalcorso

	* PW/compute_becsum.f90:

	Bug fix: problems with a single k point.

2008-05-07 17:34  paulatto

	* PW/paw_init.f90:

	oops

2008-05-07 17:32  paulatto

	* PW/: paw_init.f90, paw_onecenter.f90, summary.f90:

	Little modification in paw_init to make it work with pwcond (thanks to ADC)
	Removed unuseful summary from summary
	Minor changes in paw_onecenter

	LP

2008-05-07 17:18  umari

	* CPV/cg_sub.f90:

	Bug corrected.
	P.U.

2008-05-07 16:59  dalcorso

	* PW/paw_init.f90:

	Small bug fix: two infomsg had too many arguments.

2008-05-07 13:36  dalcorso

	* atomic_doc/: all-electron/reference/ar.out,
	  all-electron/reference/c_oep.out, all-electron/reference/cu.out,
	  all-electron/reference/cu1.out, all-electron/reference/f.out,
	  all-electron/reference/fe.out, all-electron/reference/h.out,
	  all-electron/reference/he.out, all-electron/reference/mg.out,
	  all-electron/reference/ne_oep.out, all-electron/reference/pt.out,
	  all-electron/reference/u.out, all-electron/reference/u1.out,
	  all-electron/reference/w.out, pseudo-gen/si_nc_paw.in,
	  pseudo-gen/test.job, pseudo-gen/reference/Al.rrkj3,
	  pseudo-gen/reference/Asrel.RRKJ3.UPF,
	  pseudo-gen/reference/OPBE.RRKJ3,
	  pseudo-gen/reference/Ptrel.RRKJ3.UPF,
	  pseudo-gen/reference/Si.recon, pseudo-gen/reference/al.out,
	  pseudo-gen/reference/as.out, pseudo-gen/reference/o.out,
	  pseudo-gen/reference/pt.out, pseudo-gen/reference/si_nc.out,
	  pseudo-gen/reference/si_nc_paw.out, pseudo-test/reference/al.out,
	  pseudo-test/reference/as.out, pseudo-test/reference/ga.out,
	  pseudo-test/reference/ni.out, pseudo-test/reference/o.out,
	  pseudo-test/reference/rh.out, pseudo-test/reference/s.out:

	Atomic examples updated. Paw example in pseudo-gen removed.

2008-05-07 10:36  kokalj

	* dev-tools/helpdoc.d/xml.tcl:

	fixing bug for escape character attributes handling

2008-05-06 09:44  kokalj

	* Doc/: INPUT_LD1.def, Makefile, README.helpdoc:

	small updates

2008-05-06 09:44  kokalj

	* dev-tools/helpdoc.d/xml.tcl:

	improving attributes handling for escape characters

2008-05-05 17:21  kokalj

	* dev-tools/helpdoc.d/: txt_enter.tcl, txt_leave.tcl:

	slight txt-format enhancement

2008-05-05 17:03  kokalj

	* GUI/PWgui/modules/atomic/atomic.tcl:

	adding lsave_wfc variable

2008-05-05 16:49  kokalj

	* GUI/PWgui/modules/pw/pw.tcl:

	typo correction

2008-05-05 16:45  kokalj

	* GUI/Guib/lib/: tclIndex, tclUtils.tcl:

	updating custom tcl/tk utility library

2008-05-05 16:41  kokalj

	* Doc/: INPUT_LD1.def, INPUT_PH.def, INPUT_PW.def, Makefile:

	updating ...

2008-05-05 16:41  kokalj

	* Doc/: helpdoc.schema, input_xx.xsl:

	improving xml to html transformation

2008-05-05 16:32  kokalj

	* dev-tools/: helpdoc.d/auxil.tcl, helpdoc.d/helpdoc.tcl,
	  helpdoc.d/robodoc.tcl, helpdoc.d/txt_leave.tcl,
	  helpdoc.d/xml.tcl, helpdoc.d/outputs.tcl,
	  helpdoc.d/parseTags.tcl, helpdoc.d/syntax_txt.tcl,
	  helpdoc.d/tclIndex, helpdoc.d/tree.tcl, helpdoc.d/txt.tcl,
	  helpdoc.d/txt_enter.tcl, helpdoc:

	updating helpdoc utility: adding the def --> plain TXT support

2008-05-02 15:15  giannozz

	* Modules/version.f90:

	Version number moved to 4.0 . "Official" release: end of next week.

2008-05-02 15:14  giannozz

	* atomic/make.depend, PW/make.depend:

	make.depend updated

2008-05-02 15:04  giannozz

	* examples/autopilot-example/run_example_water:

	Missing ' " '

2008-05-02 13:41  cavazzon

	* PW/input.f90:

	- command line flag "-ndiag" was overwritten by input parameter ortho_para,
	  and this is not what we want

2008-04-30 21:10  giannozz

	* CPV/fpmdpp.f90, PW/input.f90, PW/read_conf_from_file.f90,
	  PW/setup.f90:

	Restart from the first scf calculation could fail because the error code
	returned when the xml data file is not found was not always as expected.
	Explicit filename 'data-file.xml' replaced with xmlpun everywhere.

2008-04-30 16:02  dalcorso

	* atomic/gener_pseudo.f90:

	Misleading output corrected.

2008-04-30 09:30  dalcorso

	* PH/dvqpsi_us.f90:

	Cleanup: do not allocate unused variables.

2008-04-30 09:26  dalcorso

	* PWCOND/do_cond.f90:

	Small bug fix: uninitialized printing variable.

2008-04-29 18:14  giannozz

	* examples/WorkFct_example/reference/: Al.bulkref.avg.out,
	  Al.bulkref.in, Al.bulkref.out, Al.bulkref.pp.in,
	  Al.bulkref.pp.out, Al100.avg.out, Al100.in, Al100.out, Al100.pot,
	  Al100.pp.in, Al100.pp.out, Al100.wf.eps:

	Example for work functon calculation updated

2008-04-29 15:42  giannozz

	* examples/Restart_example/: run_example,
	  reference/sio2.cp.restart.out, reference/sio2.cp.start.out,
	  reference/sio2.pw.restart.out:

	Example of restart between cp and pw updated

2008-04-29 15:36  dalcorso

	* atomic/: atomic_paw.f90, import_upf.f90:

	Bug fix: after the recent commits the atomic code was unable to make the
	test of a paw pseudopotential.

2008-04-29 14:28  degironc

	* PW/report_mag.f90:

	small bug fix: vaiable m1_loc used for local magnetization was incorrectly
	               dimensioned in the case nspin=2 causing clearly wrong printout.

2008-04-29 14:08  giannozz

	* examples/VCSexample/reference/: As.bfgs00.out, As.bfgs500.out,
	  As.vcs00.out, As.vcs500.out:

	Variable-Cell example updated

2008-04-29 14:01  giannozz

	* examples/GIPAW_example/reference/: c.nmr.out, c.scf.out,
	  c2h4.nmr.out, c2h4.scf.out, ch4.nmr.out, ch4.scf.out,
	  quartz.efg.out, quartz.scf.out, si.nmr.out, si.scf.out:

	GIPAW examples updated - untested

2008-04-29 13:24  giannozz

	* CPV/make.depend, Modules/make.depend, PW/make.depend:

	Make.depend updated

2008-04-29 13:01  giannozz

	* examples/EXX_example/reference/: c.pbe0.1nlcc.out-80,
	  co.pbe0.1nlcc.out-80, n.pbe0.1nlcc.out-80, n2.pbe0.1nlcc.out-80,
	  o.pbe0.1nlcc.out-80, o2.pbe0.1nlcc.out-80, si.PBE0_nq=1.out,
	  si.PBE0_nq=2.out, si.PBE0_nq=4.out:

	More examples updated (EXX)

2008-04-29 12:39  giannozz

	* examples/: example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.bands.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.bands.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.phG.out, example02/reference/c.scf.out,
	  example02/reference/ni.phX.out, example02/reference/ni.scf.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.scf.out, example05/reference/sibands.ps,
	  example06/reference/alas.freq, example06/reference/alas.ph.out,
	  example06/reference/alas.phdos, example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes,
	  example07/reference/al.elph.out,
	  example07/reference/al.scf.fit.out,
	  example07/reference/al.scf.out, example07/reference/lambda,
	  example08/reference/ni.dos.out,
	  example08/reference/ni.fs_NSP.bxsf,
	  example08/reference/ni.fs_up.bxsf,
	  example08/reference/ni.pdos.out, example08/reference/ni.scf.out,
	  example09/reference/ch4.nm.out, example09/reference/ch4.scf.out,
	  example09/reference/dynmat.out, example09/reference/sih4.dyn.out,
	  example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.im,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.ni_down.im,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example12/reference/trans.alwireh,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out, example14/reference/si.anh_G,
	  example14/reference/si.anh_X, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.out, example14/reference/si.nscf.out,
	  example14/reference/si.phG.out, example14/reference/si.phX.out,
	  example14/reference/si.scf.out, example15/reference/alas.dynG,
	  example15/reference/alas.ph.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H-cp.axsf,
	  example17/reference/H2+H-cp.dat, example17/reference/H2+H-cp.int,
	  example17/reference/H2+H-cp.out,
	  example17/reference/H2+H-cp.path,
	  example17/reference/H2+H-cp.xyz, example17/reference/H2+H.axsf,
	  example17/reference/H2+H.dat, example17/reference/H2+H.int,
	  example17/reference/H2+H.out, example17/reference/H2+H.path,
	  example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.axsf,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.int,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/asymmetric_H2+H.xyz,
	  example17/reference/symmetric_H2+H.axsf,
	  example17/reference/symmetric_H2+H.dat,
	  example17/reference/symmetric_H2+H.int,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.xyz,
	  example18/reference/sio2.cp.restart.out,
	  example18/reference/sio2.cp.start.out,
	  example18/reference/sio2.vc-cp.out,
	  example18/reference/sio2.vc-cp.restart.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example21/reference/h2o-32.out, example21/reference/h2o-64.out,
	  example22/reference/pt.bands.out,
	  example22/reference/pt.cond.out,
	  example22/reference/pt.cond_t.out,
	  example22/reference/pt.nscf.out,
	  example22/reference/pt.nscf_ph.out,
	  example22/reference/pt.ph.out, example22/reference/pt.phX.out,
	  example22/reference/pt.scf.out,
	  example22/reference/pt.scf_ph.out,
	  example22/reference/pt.tet.out, example22/reference/pt4.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example24/reference/ni.nscf.out, example24/reference/ni.phG.out,
	  example24/reference/ni.phX.out, example24/reference/ni.scf.out,
	  example24/reference/ni_so.nscf.out,
	  example24/reference/ni_so.phG.out,
	  example24/reference/ni_so.phX.out,
	  example24/reference/ni_so.scf.out,
	  example24/reference/pt.nscf.out, example24/reference/pt.phG.out,
	  example24/reference/pt.phX.out, example24/reference/pt.scf.out,
	  example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.out, example25/reference/pmw.out,
	  example27/reference/c4h6.cp.metaGGA.out,
	  example27/reference/c4h6.pw.metaGGA.out,
	  example28/reference/metadyn-cp-T=300K.axsf,
	  example28/reference/metadyn-cp-T=300K.metadyn,
	  example28/reference/metadyn-cp-T=300K.out,
	  example28/reference/metadyn-cp.axsf,
	  example28/reference/metadyn-cp.metadyn,
	  example28/reference/metadyn-cp.out,
	  example28/reference/metadyn-pw.axsf,
	  example28/reference/metadyn-pw.metadyn,
	  example28/reference/metadyn-pw.out,
	  example29/reference/si2.ensemble-dyn.out,
	  example30/reference/mgo.cp.cg.efield.out,
	  example30/reference/mgo.cp.cg.out,
	  example30/reference/mgo.cp.damp.efield.out,
	  example31/reference/si.scf.efield.out,
	  example31/reference/si.scf.efield2.out,
	  example31/reference/si.scf.out, example33/reference/ch4.fpol.in,
	  example33/reference/ch4.fpol.out, example33/reference/ch4.scf.in,
	  example33/reference/ch4.scf.out, example34/reference/ch4.scf.in,
	  example34/reference/ch4.scf.out, example34/reference/ch4.vdw.in,
	  example34/reference/ch4.vdw.out, example35/reference/c.phG.out,
	  example35/reference/c.scf.out, example35/reference/si.phG.out,
	  example35/reference/si.scf.out:

	Examples updated (but not verified)

2008-04-28 15:19  giannozz

	* PW/electrons.f90:

	Previous fix wasn't sufficient

2008-04-28 15:13  giannozz

	* examples/EXX_example/run_example:

	misspell

2008-04-28 15:13  giannozz

	* PW/electrons.f90:

	EXX: uninitialized variables

2008-04-27 10:56  cavazzon

	* Modules/atom.f90, Modules/pseudo_types.f90,
	  Modules/read_upf_v1.f90, Modules/read_upf_v2.f90,
	  Modules/upf.f90, PW/read_pseudo.f90, atomic/export_upf.f90,
	  atomic/import_upf.f90, atomic/ld1_readin.f90,
	  atomic/paw_type.f90, CPV/cplib.f90, CPV/cprsub.f90, CPV/nlcc.f90,
	  CPV/pseudopot_sub.f90, CPV/qqberry.f90, CPV/read_pseudo.f90,
	  upftools/read_upf_tofile.f90:

	- pseudo_type/grid nullification still was giving problem (gfortran).
	- Logic now changed, variables are nullified as soon as they are
	  instantiated. radial_grid rgrid made allocatable
	- all tests passed with ifort. xlf, pgi, gfortran will follow

2008-04-26 11:01  dalcorso

	* Modules/read_namelists.f90:

	Small bug fix: added missing broadcast.

2008-04-24 17:26  paulatto

	* Modules/pseudo_types.f90, Modules/radial_grids.f90,
	  Modules/read_upf_v2.f90, Modules/upf.f90,
	  Modules/write_upf_v2.f90, atomic/ascheqps.f90,
	  atomic/atomic_paw.f90, atomic/export_upf.f90,
	  atomic/gener_pseudo.f90, atomic/ld1_writeout.f90,
	  atomic/make.depend, atomic/normalize.f90,
	  atomic/partial_wave_expansion.f90:

	nullify_pseudo_upf: modified according to advice from Nathalie, plus added a few missing "nullify"
	fixed a few overflows in atomic (atomic/atomic_paw.f90, atomic/partial_wave_expansion.f90)
	fixed a few wrong format specifiers (Modules/write_upf_v2.f90)
	try to make error messages from self-consistency in atomic easier to interpret and fix
	    (atomic/ascheqps.f90)
	added a mechanism to save the configuration used to generate it in the INFO section of
	a pseudopotential.

	LP

2008-04-24 15:07  paulatto

	* atomic_doc/paw_library/: README, clean, plot_dlog, test,
	  input/Be.in, input/C.in, input/Cl.in, input/Cu.in, input/F.in,
	  input/Fe.in, input/Ge.in, input/H.in, input/Li-1s.in,
	  input/Li.in, input/N.in, input/Na-2s2p.in, input/O-lda.in,
	  input/O.in, input/P.in, input/Pd.in, input/S.in, input/Si.in,
	  oxygen/gen.in, oxygen/spin.in, oxygen/test.in,
	  reference/Be-dlog.ps, reference/Be.out, reference/C-dlog.ps,
	  reference/C.out, reference/Cl-dlog.ps, reference/Cl.out,
	  reference/Cu-dlog.ps, reference/Cu.out, reference/F-dlog.ps,
	  reference/F.out, reference/Fe-dlog.ps, reference/Fe.out,
	  reference/Ge-dlog.ps, reference/Ge.out, reference/H-dlog.ps,
	  reference/H.out, reference/Li-1s-dlog.ps, reference/Li-1s.out,
	  reference/Li-dlog.ps, reference/Li.out, reference/N-dlog.ps,
	  reference/N.out, reference/Na-2s2p-dlog.ps,
	  reference/Na-2s2p.out, reference/O-dlog.ps,
	  reference/O-lda-dlog.ps, reference/O-lda.out, reference/O.out,
	  reference/P-dlog.ps, reference/P.out, reference/Pd-dlog.ps,
	  reference/Pd.out, reference/S-dlog.ps, reference/S.out,
	  reference/Si-dlog.ps, reference/Si.out:

	Added a few example for PAW pseudopotential generation; a few examples are ported
	from paw-gen-test (which I will remove later), and have been prepared bu ADC and
	Guido Fratesi, some other are new.

2008-04-23 22:37  giannozz

	* PW/move_ions.f90:

	More NEC fixes from Nathalie: one variable was too long

2008-04-23 22:35  giannozz

	* configure, configure.ac:

	configure updated with small changes for NEC (courtesy of Nathalie Vast)

2008-04-23 17:58  giannozz

	* PW/read_pseudo.f90:

	Yesterday's commit reverted: apparently the nullification of the upf
	pointer is required, because the pointer is later deallocated before
	being re-nullified and re-allocated N more times. I think we should
	simplify this, but ,aybe not now

2008-04-22 23:00  giannozz

	* Modules/upf.f90, PW/read_pseudo.f90:

	Minor cleanup: some operations are alredy performed inside read_upf

2008-04-22 18:01  cavazzon

	* PP/projwfc.f90:

	- eliminating the limitation on the number of atoms (it was 1000)

2008-04-21 17:58  cavazzon

	* PP/projwfc.f90:

	- cleanup of some debugging logs

2008-04-21 16:25  giannozz

	* GIPAW/make.depend, PH/make.depend, PP/make.depend, PW/pwscf.f90:

	Initial message made more explicit (after a suggestion by Guido F.).
	make.depend updated

2008-04-20 23:27  cavazzon

	* PP/projwfc.f90:

	- added a distributed memory version of projwfc (like cegterg, regterg),
	  this sub. should allow computation of projections for very very
	  large systems, thousands of atoms and bands.
	  Not deeply teste

2008-04-20 23:23  cavazzon

	* PW/: add_bfield.f90, addusforce.f90, atomic_rho.f90, becmod.f90,
	  bp_c_phase.f90, c_phase_field.f90, ccgdiagg.f90, cegterg.f90,
	  dndepsilon.f90, dprojdepsilon.f90, dprojdtau.f90, ewald.f90,
	  ewald_dipole.f90, exx.f90, force_cc.f90, force_corr.f90,
	  force_ew.f90, force_hub.f90, force_lc.f90, force_us.f90,
	  forces_bp_efield.f90, get_locals.f90, h_epsi_her_apply.f90,
	  h_epsi_her_set.f90, init_at_1.f90, init_us_1.f90, make.depend,
	  makov_payne.f90, mix_rho.f90, new_ns.f90, newd.f90,
	  orthoatwfc.f90, para.f90, potinit.f90, rcgdiagg.f90, realus.f90,
	  regterg.f90, rotate_wfc_gamma.f90, rotate_wfc_k.f90, scf_mod.f90,
	  set_rhoc.f90, setlocal.f90, stres_cc.f90, stres_ewa.f90,
	  stres_gradcorr.f90, stres_har.f90, stres_loc.f90, v_of_rho.f90,
	  vhpsi.f90, vhpsi_nc.f90:

	- reduce replaced by mp_sum
	- sub. reduce, removed from para!

2008-04-19 18:28  cavazzon

	* PP/: compute_sigma_avg.f90, epsilon.f90, projwfc.f90,
	  sym_band.f90, write_p_avg.f90:

	- reduce replaced by mp_sum

2008-04-19 12:14  cavazzon

	* PH/: dhdrhopsi.f90, drho.f90, drhodvloc.f90, drhodvnl.f90,
	  dvanqq.f90, dvpsi_e.f90, dvpsi_e2.f90, dynmat_us.f90,
	  dynmatcc.f90, ef_shift.f90, el_opt.f90, elphon.f90,
	  gmressolve_all.f90, incdrhous.f90, incdrhous_nc.f90, newdq.f90,
	  pcgreen.f90, print_clock_ph.f90, raman_mat.f90, solve_e.f90,
	  solve_e2.f90, solve_e_fpol.f90, solve_linter.f90,
	  zstar_eu_us.f90:

	- reduce replaced with mp_sum

2008-04-19 12:12  cavazzon

	* Modules/: mp.f90, mp_base.f90:

	- new interfaces required to replace reduce with mp_sum
	- renumbering of communication error codes

2008-04-18 19:05  cavazzon

	* PH/: add_zstar_ue_us.f90, addnlcc.f90, cch_psi_all.f90,
	  cgsolve_all.f90, ch_psi_all.f90, compute_nldyn.f90, d2ionq.f90:

	- reduce replaced by mp_sum

2008-04-18 18:53  cavazzon

	* GIPAW/: cgsolve_all.f90, ch_psi_all.f90, compute_sigma.f90,
	  efg.f90, greenfunction.f90, init_gipaw_1.f90,
	  suscept_crystal.f90:

	- reduce replaced with mp_sum

2008-04-18 14:36  paulatto

	* atomic/compute_chi.f90:

	bugfix, as radial grids are now only allocated up to mesh.

2008-04-18 14:29  giannozz

	* CPV/cp_restart.f90, D3/make.depend, Gamma/make.depend,
	  Modules/xml_io_base.f90, PP/make.depend, PP/qexml.f90,
	  PW/pw_restart.f90, PWCOND/make.depend, VdW/make.depend,
	  atomic/make.depend:

	Minor changes tothe qexml file format, by AF: in particular, added the
	flag reporting whether only half G-vector sphere is present (not
	actually used in q-e but it may be useful for other codes). make.depend
	updated

2008-04-18 13:03  cavazzon

	* PW/: cegterg.f90, regterg.f90:

	- fix for half bug, array sections

2008-04-17 23:50  cavazzon

	* CPV/: nl_base.f90, restart_sub.f90:

	- Bug fix, restart a SIC calculation with force pairing

2008-04-16 15:51  cavazzon

	* Modules/read_cards.f90:

	- added a check in read_card so that if a specie is given and
	  no atom of this specie is entered in ATOMIC_POSITIONS
	  the code stops. This is to avoid that the code stops later
	  with messages unrelated to the real problem.

2008-04-16 15:33  paulatto

	* Modules/read_upf_v2.f90:

	bugfix, thanks to GS
	LP

2008-04-16 14:45  cavazzon

	* PP/qexml.f90:

	- xml fix, wrong tag.
	  Thanks to Axel

2008-04-16 14:40  cavazzon

	* CPV/pseudopot_sub.f90:

	- Bug fix, pseudopot interpolation table.
	  Thanks to Axel and Andrea Ferretti

2008-04-16 14:35  cavazzon

	* CPV/cp_restart.f90:

	- xml fix, wrong tag name

2008-04-16 12:12  paulatto

	* Modules/pseudo_types.f90, Modules/read_upf_v2.f90,
	  Modules/upf.f90, Modules/write_upf_v2.f90,
	  atomic/ascheqps_drv.f90, atomic/export_upf.f90,
	  atomic/import_upf.f90, atomic/ld1_readin.f90, atomic/ld1inc.f90,
	  atomic/normalize.f90, atomic/start_potps.f90,
	  atomic_doc/INPUT_LD1, pseudo/Cu.pbe-paw_kj.UPF,
	  pseudo/Ge.pbe-paw_kj.UPF, pseudo/H.pbe-paw_kj.UPF,
	  pseudo/O.lda-paw_kj.UPF, pseudo/O.pbe-paw_kj.UPF:

	On popular request: added the possibility to save all-electron and pseudo
	wavefunctions in the UPF (only v2) file. Pseudopotential and documentation
	changed accordingly.
	LP

2008-04-16 12:08  paulatto

	* tests/: paw-atom.ref, paw-atom_l=2.ref, paw-atom_lda.ref,
	  paw-atom_spin.ref, paw-bfgs.in, paw-bfgs.ref, paw-vcbfgs.in,
	  paw-vcbfgs.ref:

	PAW tests update and speed-up
	LP

2008-04-16 10:31  paulatto

	* examples/example05/run_example:

	Let's use calculation='bands instead of 'nscf', at least in the example on band calculation.

2008-04-16 09:55  giannozz

	* PP/qexml.f90:

	Updated to the new file format (Andrea F.)

2008-04-16 09:50  giannozz

	* CPV/: cprsub.f90, fpmdpp.f90:

	Format + stack fixes from Axel

2008-04-15 22:28  giannozz

	* CPV/cprstart.f90:

	Added call to subroutine increasing stack size, as suggested by Axel

2008-04-15 15:45  paulatto

	* atomic/atomic_paw.f90:

	bugfixes
	LP

2008-04-15 13:30  giannozz

	* Modules/dspev_drv.f90:

	Fix for BlueGene/P, this time for good: different processors may yield
	different results on the same calculations performed on the same data,
	believe it or not. The results from one processor are broadcast to
	all others in a safe way (the previous fix failed in some cases)

2008-04-15 13:16  cavazzon

	* PP/pw_export.f90:

	- changes suggested by Andrea Ferretti

2008-04-14 14:27  cavazzon

	* Modules/pseudo_types.f90:

	- bug fix, a type component was not nullified

2008-04-13 20:37  cavazzon

	* CPV/ortho_base.f90:

	- parallel diagonalization performance is not tested when
	  the number of ortho processors is given in the command line

2008-04-13 20:31  cavazzon

	* D3/: ch_psi_all2.f90, d0rhod2v.f90, d3_exc.f90, d3vrho.f90,
	  dpsidpsidv.f90, dpsidvdpsi.f90, dqrhod2v.f90, dvdpsi.f90,
	  gen_dpdvp.f90, set_efsh.f90, solve_linter_d3.f90:

	- reduce replaced by mp_sum

2008-04-13 16:35  giannozz

	* atomic/: Makefile, gener_pseudo.f90, make.depend:

	Minor compilation problems: 1) do loops with real bounds are dangerous and
	some compilers complain 2) optimize_ohi.o non existent

2008-04-13 16:29  cavazzon

	* PW/update_pot.f90:

	- ZGESVD workspace computed by calling ZGESVD itself, this solve
	  a problem (bug?) with the ACML library

2008-04-12 19:27  cavazzon

	* PP/pw2wannier90.f90:

	- reduce replaced with mp_sum

2008-04-12 18:21  cavazzon

	* PP/: do_shift_ew.f90, local_dos.f90, pw2wannier90.f90:

	- reduce substituted by mp_sum

2008-04-12 18:12  cavazzon

	* PP/: add_shift_cc.f90, add_shift_lc.f90, addusdens1d.f90,
	  cgracsc.f90, chdens.f90:

	- reduce substituted by mp_sum

2008-04-12 18:09  cavazzon

	* VdW/: cegterg.f90, ch_psi_all.f90, check_v_eff.f90, dvpsi_e.f90,
	  eff_pot.f90, solve_e.f90:

	- reduce substituted by mp_sum

2008-04-12 18:05  cavazzon

	* Gamma/d2ion.f90, Gamma/dielec.f90, Gamma/drhodv.f90,
	  Gamma/dynmatcc.f90, Gamma/pw_dot.f90, Gamma/rhod2vkb.f90,
	  PWCOND/rotproc.f90:

	- reduce substituted by mp_sum

2008-04-12 15:38  cavazzon

	* Modules/dspev_drv.f90:

	- workaround for IBM BlueGene numerical weirdness,
	  to be tested, still in progress!

2008-04-12 15:35  cavazzon

	* CPV/input.f90:

	- command line parameter northo takes priority over ortho_para input
	  value

2008-04-11 14:32  paulatto

	* Modules/read_upf_v1.f90, Modules/read_upf_v2.f90,
	  Modules/upf.f90, Modules/write_upf_v2.f90, PW/make.depend,
	  pseudo/Cu.pbe-paw_kj.UPF, pseudo/Ge.pbe-paw_kj.UPF,
	  pseudo/H.pbe-paw_kj.UPF, pseudo/O.lda-paw_kj.UPF,
	  pseudo/O.pbe-paw_kj.UPF, tests/paw-atom.ref,
	  tests/paw-atom_l=2.ref, tests/paw-atom_lda.ref,
	  tests/paw-atom_spin.ref, tests/paw-bfgs.ref,
	  tests/paw-vcbfgs.ref:

	Bugfixes, Oxygen PAW pseudopotential replaced with more usable ones.

2008-04-10 12:22  cavazzon

	* configure.ac:

	- more configurations for MareNostrum

2008-04-10 01:39  kkudin

	* CPV/cp_autopilot.f90, CPV/cpr.f90, CPV/main.f90,
	  Modules/input_parameters.f90, Modules/ions_nose.f90,
	  Modules/read_namelists.f90, CPV/input.f90, Doc/INPUT_CP:

	Added more functionality to the Nose-Hoover thermostats. Now one can have thermostats for only desired parts of the system. In addition, it is possible to scale thermostats' target energies for the case when some degrees of freedom were removed.

2008-04-09 16:51  paulatto

	* Modules/make.depend, Modules/pseudo_types.f90,
	  Modules/read_upf_v2.f90, Modules/write_upf_v2.f90,
	  PW/electrons.f90, atomic/Makefile, atomic/export_upf.f90,
	  pseudo/Cu.pbe-paw_kj.UPF, pseudo/Ge.pbe-paw_kj.UPF,
	  pseudo/H.pbe-paw_kj.UPF, pseudo/O.lda-paw_kj.UPF,
	  pseudo/O.pbe-paw_kj.UPF, tests/paw-atom.ref,
	  tests/paw-atom_l=2.ref, tests/paw-atom_lda.ref,
	  tests/paw-atom_spin.ref, tests/paw-bfgs.ref,
	  tests/paw-vcbfgs.ref:

	Some more bugfixes and updates in UPF file formats, now it should be almost
	finished.

2008-04-09 16:50  paulatto

	* iotk/src/: iotk_attr+CHARACTER1_0.f90, iotk_attr+COMPLEX1_0.f90,
	  iotk_attr+COMPLEX1_3.f90, iotk_attr+COMPLEX1_6.f90,
	  iotk_attr+COMPLEX2_0.f90, iotk_attr+COMPLEX2_3.f90,
	  iotk_attr+COMPLEX2_6.f90, iotk_attr+COMPLEX3_0.f90,
	  iotk_attr+COMPLEX3_3.f90, iotk_attr+COMPLEX3_6.f90,
	  iotk_attr+COMPLEX4_0.f90, iotk_attr+COMPLEX4_3.f90,
	  iotk_attr+COMPLEX4_6.f90, iotk_attr+INTEGER1_0.f90,
	  iotk_attr+INTEGER1_3.f90, iotk_attr+INTEGER1_6.f90,
	  iotk_attr+INTEGER2_0.f90, iotk_attr+INTEGER2_3.f90,
	  iotk_attr+INTEGER2_6.f90, iotk_attr+INTEGER3_0.f90,
	  iotk_attr+INTEGER3_3.f90, iotk_attr+INTEGER3_6.f90,
	  iotk_attr+INTEGER4_0.f90, iotk_attr+INTEGER4_3.f90,
	  iotk_attr+INTEGER4_6.f90, iotk_attr+LOGICAL1_0.f90,
	  iotk_attr+LOGICAL1_3.f90, iotk_attr+LOGICAL1_6.f90,
	  iotk_attr+LOGICAL2_0.f90, iotk_attr+LOGICAL2_3.f90,
	  iotk_attr+LOGICAL2_6.f90, iotk_attr+LOGICAL3_0.f90,
	  iotk_attr+LOGICAL3_3.f90, iotk_attr+LOGICAL3_6.f90,
	  iotk_attr+LOGICAL4_0.f90, iotk_attr+LOGICAL4_3.f90,
	  iotk_attr+LOGICAL4_6.f90, iotk_attr+REAL1_0.f90,
	  iotk_attr+REAL1_3.f90, iotk_attr+REAL1_6.f90,
	  iotk_attr+REAL2_0.f90, iotk_attr+REAL2_3.f90,
	  iotk_attr+REAL2_6.f90, iotk_attr+REAL3_0.f90,
	  iotk_attr+REAL3_3.f90, iotk_attr+REAL3_6.f90,
	  iotk_attr+REAL4_0.f90, iotk_attr+REAL4_3.f90,
	  iotk_attr+REAL4_6.f90, iotk_attr.spp, iotk_attr_interf.f90,
	  iotk_attr_interf.spp, iotk_write.f90, iotk_write.spp:

	Added an optional argument to iotk_write_attr: logical :: newline,
	if present and set to .true. will insert a newline before the attribute
	the newline will then be parsed in iotk_write_tag to produe a nicely
	formatted output. See the beginning of pseudo/O.pbe-paw_kj.UPF for an
	example.
	No changes are necessary in input. Should not be used for binary files.

2008-04-09 11:53  cavazzon

	* configure.ac:

	- added architecture "ppc64-mn" for MareNostrum BSC machine,
	  which is the only machine around with this configuration

2008-04-08 17:43  giannozz

	* Doc/: INPUT_CP, INPUT_PW.def:

	ortho_para marked as obsolescent

2008-04-08 12:53  giannozz

	* make.sys.in, CPV/cp_restart.f90, Doc/BUGS, Doc/INPUT.HOWTO,
	  Modules/xml_io_base.f90, PW/pw_restart.f90,
	  install/Make.bluegeneL, install/Make.bluegeneP:

	CP/PP interface fixed for the case of spin-polarized calculations
	with a different number of spin-up and spin down states, plus other
	minor problems (courtesy of Anfdrea Ferretti). Minor updates to make.sys
	and to samples. Removed obsolete file INPUT.HOWTO: not sure how obsolete
	it was, but in any event that information should be put on the wiki

2008-04-06 22:37  giannozz

	* GIPAW/compute_sigma.f90:

	xlf doesn't like the second comma in "write (unit, format), arguments"

2008-04-06 21:21  cavazzon

	* PW/startup.f90, CPV/cprstart.f90:

	- processors of the ortho group now can be defined from command line (as for
	  image pool and task_group)

2008-04-06 21:19  cavazzon

	* Modules/mp_global.f90:

	- changes needed for command line definition of ortho processors

2008-04-06 21:17  cavazzon

	* flib/inpfile.f90:

	- added subroutine to read -northo XX or -ndiag XX command line parameter
	  used to instruct the code to use XX processors in parallel
	  diagonalization (pw) or parallel orthogonalization (cp).
	  Input parameter ortho_para with the same meaning is to be
	  considered obsolete, and is going to disappear

2008-04-06 21:12  cavazzon

	* PW/input.f90:

	- Bug Fix for parallel build, recently introduced
	  ATTENTION ATTENTION ATTENTION
	  When you are inside an IONODE section
	  please check that all subroutines you call do not contains
	  communications!!

2008-04-06 20:30  cavazzon

	* PW/read_pseudo.f90:

	- pointer need to be nullified,
	  otherwise their status is undetermined

2008-04-06 16:50  giannozz

	* Modules/read_upf_v2.f90:

	Apparently there are compilers that accept the syntax a**-1, a**-2, a**-3,
	but this is not standard as far as I know!

2008-04-04 18:22  paulatto

	* atomic/: Makefile, make.depend:

	Removed missing object compute_chi_num

2008-04-04 16:34  giannozz

	* CPV/cp_restart.f90, CPV/make.depend, Modules/io_files.f90,
	  Modules/make.depend, Modules/parser.f90, Modules/xml_io_base.f90,
	  PW/input.f90, PW/make.depend, PW/pw_restart.f90,
	  PW/read_file.f90, PH/make.depend, atomic/make.depend:

	Changes by Andrea Ferretti to make the qexml format more rational:
	version number added to the file, so that we have a way to deal with
	incompatible changes in the future; miscellaneous tags put into a
	CONTROL files; field IONS made uniform with the rest of the file;
	rationalization of the names of tag STARTING_MAG (now MAGNETIZATION_INIT),
	uniform tag structure (as for IONS above). Some of these changes are
	incompatible with the previous format, but it will still possible to
	read files from previous versions, though. Only third-party software
	reading the qexml format may be affected, but it is unlikely that there
	is any (in addition to those by AF)

2008-04-04 16:01  paulatto

	* Modules/pseudo_types.f90, Modules/read_upf_v2.f90,
	  Modules/write_upf_v2.f90, atomic/export_upf.f90,
	  pseudo/Cu.pbe-paw_kj.UPF, pseudo/Ge.pbe-paw_kj.UPF,
	  pseudo/H.pbe-paw_kj.UPF, pseudo/O.lda-paw_kj.UPF,
	  pseudo/O.pbe-paw_kj.UPF, tests/paw-atom.in, tests/paw-atom.ref,
	  tests/paw-atom_l=2.in, tests/paw-atom_l=2.ref,
	  tests/paw-atom_lda.ref, tests/paw-atom_spin.ref,
	  tests/paw-bfgs.in, tests/paw-bfgs.ref, tests/paw-vcbfgs.in,
	  tests/paw-vcbfgs.ref:

	More bugfixes and pseudos updated accordingly. Paw tests updated again to reduce time a bit..

2008-04-04 15:58  giannozz

	* PW/realus.f90:

	There was a nasty bug in the real-space approach to Q(r) of USPP:
	if the physical and true dimensions of the charge density array
	were different, the algorithm was filling non physical locations
	of the array as well

2008-04-04 11:12  paulatto

	* Modules/pseudo_types.f90, Modules/read_upf_v1.f90,
	  Modules/read_upf_v2.f90, Modules/upf.f90,
	  Modules/write_upf_v2.f90, atomic/export_upf.f90,
	  pseudo/Cu.pbe-paw_kj.UPF, pseudo/Ge.pbe-paw_kj.UPF,
	  pseudo/H.pbe-paw_kj.UPF, pseudo/O.lda-paw_kj.UPF,
	  pseudo/O.pbe-paw_kj.UPF, tests/paw-atom.ref,
	  tests/paw-atom_l=2.ref, tests/paw-atom_lda.ref,
	  tests/paw-atom_spin.ref, tests/paw-bfgs.ref,
	  tests/paw-vcbfgs.ref:

	Bugfixes, removed unnecessary pseudo-upf_meta_info type, paw tests and datasets updated

2008-04-03 17:59  paulatto

	* Modules/write_upf_v2.f90:

	Two quick fix I forgot before, likely more will come tomorrow.

	LP

2008-04-03 17:50  paulatto

	* CPV/Makefile, CPV/make.depend, CPV/read_pseudo.f90, D3/Makefile,
	  GIPAW/Makefile, GIPAW/efg.f90, GIPAW/make.depend,
	  GIPAW/paw_gipaw.f90, Gamma/Makefile, Modules/Makefile,
	  Modules/make.depend, Modules/paw_variables.f90,
	  Modules/pseudo_types.f90, Modules/radial_grids.f90,
	  Modules/read_ncpp.f90, Modules/read_upf.f90,
	  Modules/read_upf_v1.f90, Modules/read_upf_v2.f90,
	  Modules/read_uspp.f90, Modules/upf.f90,
	  Modules/upf_to_internal.f90, Modules/write_upf_v2.f90,
	  PH/Makefile, PH/make.depend, PH/matdyn.f90, PP/Makefile,
	  PW/Makefile, PW/clean_pw.f90, PW/compute_qdipol.f90,
	  PW/electrons.f90, PW/init_run.f90, PW/init_us_1.f90,
	  PW/init_vloc.f90, PW/make.depend, PW/paw_init.f90,
	  PW/paw_onecenter.f90, PW/pw_restart.f90, PW/read_ncpp.f90,
	  PW/read_pseudo.f90, PW/realus.f90, PW/summary.f90,
	  PWCOND/Makefile, VdW/Makefile, VdW/dvpsi_e.f90, atomic/Makefile,
	  atomic/atomic_paw.f90, atomic/compute_chi.f90,
	  atomic/export_upf.f90, atomic/import_upf.f90,
	  atomic/ld1_readin.f90, atomic/ld1_writeout.f90,
	  atomic/ld1inc.f90, atomic/make.depend, atomic/paw_type.f90,
	  atomic/read_newpseudo.f90, atomic/read_pseudo.f90,
	  atomic/read_pseudo_ncpp.f90, atomic/read_pseudo_rrkj3.f90,
	  atomic/read_pseudoupf.f90, atomic/write_paw_recon.f90,
	  atomic/write_upf.f90,
	  examples/GIPAW_example/pseudo/C.pbe-tm-gipaw.UPF,
	  examples/GIPAW_example/pseudo/H.pbe-tm-gipaw.UPF,
	  examples/GIPAW_example/pseudo/O.pbe-tm-gipaw.UPF,
	  examples/GIPAW_example/pseudo/Si.pbe-tm-gipaw.UPF,
	  pseudo/Cu.pbe-paw_kj.UPF, pseudo/Ge.pbe-paw_kj.UPF,
	  pseudo/H.pbe-paw_kj.UPF, pseudo/O.lda-paw_kj.UPF,
	  pseudo/O.pbe-paw_kj.UPF, tests/paw-atom.in, tests/paw-atom.ref,
	  tests/paw-atom_l=2.in, tests/paw-atom_l=2.ref,
	  tests/paw-atom_lda.in, tests/paw-atom_lda.ref,
	  tests/paw-atom_spin.in, tests/paw-atom_spin.ref,
	  tests/paw-bfgs.in, tests/paw-bfgs.ref, tests/paw-vcbfgs.in,
	  tests/paw-vcbfgs.ref, upftools/Makefile, upftools/make.depend,
	  upftools/read_upf_tofile.f90:

	This is a quite complex check-in, but actually not very much is done. Changelog follows.
	 LP

	UPF file format updated completely, UPFv2 introduced:
	* ld1.x can still produce old format, with the switch upf_v1_format=.true. in inputp
	  this is disabled by default, but we can discuss if it should be the opposite.
	* pw.x cp.x and all utilities should notice no difference
	* some utilities in upftools still need to be updated, anyway conversion UPFv1 to UPFv2
	  is very easy, so this should be no big issue
	* starting from now to produce an UPF file you need to fill the pseudo_upf derivedd type
	  and feed it to write_upf woutine in upf_module (Modules/upf.f90)
	* extensive use of iotk

	I have tried to make the new format as self contained as possible, e.g. there should be
	minimal need for post-processing after the data is read, no more reconstruction of known
	quantities, and no more odd syntax to save negligible quantity of space. Also the human
	readable section is a bit richer, all the rest is more machine readable.

	I hope this will not cause any throuble, and tried really hard to, all examples and all
	tests works as fine as before and gives (what really looks like) the same results.

	Other changes that I needed to make:
	* radial grids are now allocatable, they management is a bit less of a hack too
	* paw and uspp augmentation are stored in the same place
	* paw print total all-electron energy if all atoms are paw, not very useful, but nice
	* most of the pseudopotential-writing reading files have been renamed to  some more
	  logical name, I spare you the list. E.g. read_oldpseudo -> read_pseudo_rrkj3
	* paw_t derived type was only used in atomic, so I have put it there (as the pseudo_type
	  module take ages to recompile it was awkward to leave it there).

	PAW tests inserted in test/ there are 6 of them, as a consequence I have also put 5 paw
	pseudopotentials in the pseudo/ directory.

	I will update the PAW scf examples soon, by deleting them (as running a pw with a PAW
	pseudopotential requires no option at all). PAW generation examples should be updated.

	A lot of small bugfixes here & there mostly uninitialized variables or unallocated
	pointers used as subrotuine arguments.

2008-04-02 17:13  ceresoli

	* GIPAW/: efg.f90, write_tensor_field.f90:

	more on phsical constants... (D.C.)

2008-04-02 11:58  giannozz

	* Modules/constants.f90, GIPAW/efg.f90, GIPAW/make.depend,
	  GIPAW/write_tensor_field.f90:

	Physical constants updated to the latest NIST data, consistent values
	used in some files that used a local (less accurate) value (Axel).

2008-04-02 11:09  giannozz

	* Doc/INPUT_DOS, PP/dos.f90, PP/projwfc.f90, Doc/INPUT_PROJWFC.def,
	  Doc/INPUT_PW:

	Correct terminator for namelist: / , no longer &end

2008-04-02 10:33  giannozz

	* GIPAW/Makefile:

	Minor problem in makefile (vxcgc.f90 => vxcgc.o)

2008-03-28 14:24  dalcorso

	* Modules/mp.f90:

	Bug fix: the routine mp_get_i1 was actually sending and receiving messages
	of zero length. This created problems with pools and wfc_collect=.true..

2008-03-27 18:18  paulatto

	* Modules/read_upf.f90:

	Two different bugs neutralized each other:
	 1. a string like '1/r' cannot be read with default format (at least not with ifort)
	    only "1" will be read
	 2. function match was called with inverted arguments
	As a result "1" (which should have been "1/r") was searched in "1/r", as no other
	pseudo type has a 1 in its name, it worked .
	LP

2008-03-27 17:33  dalcorso

	* PP/local_dos.f90:

	Bug fix: In some cases lsign=.true. could have problems in the parallel case.

2008-03-27 14:55  paulatto

	* Modules/constraints_module.f90:

	If # of constrains = 0 this caused a fetch from unallocated zero-size pointer,
	I don't know if the same could happen for collective variables, so I've put a
	check for them as well.
	LP

2008-03-24 20:38  cavazzon

	* examples/example18/reference/: sio2.cp.restart.out,
	  sio2.cp.start.out, sio2.vc-cp.out, sio2.vc-cp.restart.out:

	- new references

2008-03-24 20:37  cavazzon

	* CPV/: cp_interfaces.f90, cpr.f90, print_out.f90:

	- do not print forces and stress when they are not computed

2008-03-24 19:14  cavazzon

	* CPV/: cpr.f90, fft.f90, main.f90:

	- cpr.f90 changed such that when convergence is achieved an additional step is
	  performed in order to print out relevant physical quantities.

2008-03-23 19:23  cavazzon

	* CPV/cp_restart.f90:

	- Bug Fix, in restarting CP simulation with nspin=2
	  pointed out by Antonio Tilocca

2008-03-22 19:37  cavazzon

	* CPV/wave.f90:

	- faster wave function initialization

2008-03-22 19:29  cavazzon

	* Modules/clocks.f90:

	- added variable trace_depth to keep track of the nesting depth
	  in the call tree, used when __TRACE is defined

2008-03-22 15:49  seitsonen

	* GIPAW/efg.f90:

	 - Modernised version of EFG
	 - Hyperfine parametres

	All modifications with/by Uwe (Gerstmann) - merci/grazie!

	       apsi

2008-03-22 15:10  seitsonen

	* GIPAW/: apply_vel.f90, ch_psi_all.f90, compute_sigma.f90,
	  g_tensor_crystal.f90, gipaw_module.f90, greenfunction.f90,
	  h_psiq.f90, j_para.f90, suscept_crystal.f90, test_sum_rule.f90:

	Changed the format of output, USE-ONLY's up-dated, interpolation-by-splines
	introduced, ...

	       apsi

2008-03-20 16:33  giannozz

	* install/: Make.alpha, Make.alphaMPI, Make.beo_ifc, Make.beowulf,
	  Make.bgl, Make.bluegeneL, Make.bluegeneP, Make.cygwin,
	  Make.fujitsu, Make.gfortran, Make.hitachi, Make.hp, Make.hpMPI,
	  Make.ia64, Make.irix, Make.macos-intel, Make.macos-xlf,
	  Make.origin, Make.pc_abs, Make.pc_ifc, Make.pc_lahey,
	  Make.pc_pgi, Make.sun, Make.sunMPI, Make.sxcross:

	Cleanup of obsolete make.sys samples

2008-03-20 10:03  giannozz

	* iotk/: IDE/makemake.sh, src/Makefile, src/iotk_tool.f90:

	Compilation of iotk utilities, done together with the library, did not
	use $(LDFLGAS) but required $(LIBS). Both were a source of trouble in
	some cases. Courtesy of Andrea Ferretti.

2008-03-19 16:44  seitsonen

	* atomic/: Makefile, run_pseudo.f90, write_paw_recon.f90,
	  write_upf.f90, calculate_gipaw_orbitals.f90, ld1_readin.f90,
	  ld1inc.f90, make.depend:

	Added the possibility for obtaining the information for (GI)PAW
	  reconstruction. Most significant changes:
	 - Added variable 'lgipaw_reconstruction' (also in namelist 'inputp')
	 - Made 'lpaw' optional in 'write_pseudo_paw()' (in 'write_upf.f90')
	 - New file/routine 'calculate_gipaw_orbitals()'

	       apsi

2008-03-19 12:58  giannozz

	* configure, configure.ac:

	Added warning for serial/parallel compiler mismatch. Not that anybody
	will notice, even less understand, but at least we have tried.

2008-03-19 12:17  giannozz

	* Modules/read_cards.f90:

	Yet another error message made more explicit. Not that it will help,
	but at least, we have tried.

2008-03-18 22:36  giannozz

	* PW/davcio.f90:

	Error message made more explicit

2008-03-18 15:24  seitsonen

	* atomic/: ld1inc.f90, ld1_readin.f90:

	 Introduced new variables to store
	  - the reference energies for the test configurations (enltsc[,])
	  - variables to store data for the (GI)PAW reconstruction (wfc_??_recon[,])

	       apsi

2008-03-18 10:40  giannozz

	* Modules/read_cards.f90:

	Erroneous error: the check on the sanity of ATOMIC_POSITION cards was
	performed but ignored (error number was set to 0 => ignored).

2008-03-13 10:47  kokalj

	* GUI/Guib/lib/: tclUtils.tcl, tkUtils.tcl:

	updating custom tcltk utility lib

2008-03-12 21:53  kokalj

	* Doc/README.helpdoc:

	typo corrections

2008-03-12 15:42  kokalj

	* Doc/helpdoc.schema:

	Grrrr.

2008-03-12 15:35  paulatto

	* PW/read_pseudo.f90:

	Removed unused structure
	LP

2008-03-12 15:26  kokalj

	* Doc/Makefile:

	Makefile: for creating the html from def files, use: make html
	(but prior to that read README.helpdoc for the software needed to ran halpdoc).

2008-03-12 15:24  kokalj

	* Doc/input_xx.xsl:

	The XSL stylesheet tranformation file for transforming INPUT_*.xml into
	INPUT_*.html.

2008-03-12 15:23  kokalj

	* Doc/helpdoc.schema:

	The helpdoc schema file (containing formal description of *.def syntax)
	Needed/used by helpdoc utility.

2008-03-12 15:22  kokalj

	* Doc/: INPUT_D3.def, INPUT_PP.def, INPUT_LD1.def,
	  INPUT_PROJWFC.def, INPUT_PH.def, INPUT_PW.def, README.helpdoc:

	Few of the INPUT_*.def files (manually tranformed from INPUT_* files).
	The corresponding INPUT_* files should be now considered obsolete and should be removed from repository.

	For futrher info see README.helpdoc file.

2008-03-12 15:14  kokalj

	* dev-tools/: helpdoc, helpdoc.d/auxil.tcl, helpdoc.d/helpdoc.tcl,
	  helpdoc.d/outputs.tcl, helpdoc.d/parseTags.tcl,
	  helpdoc.d/readSchema.tcl, helpdoc.d/tclIndex:

	Adding "helpdoc" utility, which is used to tranform the INPUT_*.def files
	into INPUT_*.html and other formats.

	The idea is to enhance/replace the plain ascii descriptions of
	input file syntax (i.e. INPUT_* files) with more
	structured/descriptive format yielding an enhanced documentation
	+ better input syntax definition + possibility for semi-automatic
	upgrade of the PWgui to any future input syntax additions.

2008-03-11 16:38  giannozz

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90,
	  PW/cubicsym.f90, PW/dynamics_module.f90, PW/input.f90,
	  PW/setup.f90, PW/sgama.f90, D3/d3matrix.f90, PH/dynmatrix.f90,
	  PH/elphon.f90, PH/make.depend, PH/matdyn.f90, PH/phq_setup.f90,
	  PH/star_q.f90:

	Changes required by interfacing with new electron-phonon code (Matteo):
	variable "noinv" (previously defined but unused) disables the usage of
	time reversal (q => -q) symmetry in k-point generation. Several changes
	here and there to symmetry routines. Beware unexpected side effects.

2008-03-07 18:48  giannozz

	* pwtools/bands_FS.f90:

	Updated code for Fermi Surface generation (Eyvaz)

2008-03-07 18:46  giannozz

	* examples/example08/: run_example, reference/ni.dos,
	  reference/ni.dos.out, reference/ni.fs.bxsf,
	  reference/ni.fs_NSP.bxsf, reference/ni.fs_down.bxsf,
	  reference/ni.fs_up.bxsf, reference/ni.pdos.out,
	  reference/ni.pdos_atm#1(Ni)_wfc#1(s),
	  reference/ni.pdos_atm#1(Ni)_wfc#2(d), reference/ni.pdos_tot,
	  reference/ni.scf.out:

	Example 08 updated with spin-polarized Fermi surrfaces (Eyvaz)

2008-03-07 09:22  giannozz

	* iotk/: include/iotk_config.h, src/iotk_tool.f90,
	  src/iotk_tool.spp:

	Alpha fix in iotk

2008-03-06 21:02  giannozz

	* Modules/mp_base.f90, PH/transform_dbecsum_nc.f90,
	  PW/paw_init.f90, PW/paw_onecenter.f90, CPV/cplib.f90,
	  Gamma/dynmatcc.f90, PP/pw2gw.f90, atomic/atomic_paw.f90,
	  atomic/compute_chi.f90, atomic/int_0_inf_dr.f90,
	  atomic/ld1_readin.f90, atomic/ld1_setup.f90, atomic/run_test.f90,
	  atomic/scf.f90:

	Misc small changes for Alpha compilation warning, by G. Cantele

2008-03-04 10:28  giannozz

	* pwtools/: bands_FS.f, bands_FS.f90:

	Updated Fermi Surface calculation - contributed by Eysav Isaev

2008-03-03 10:16  dalcorso

	* PH/matdyn.f90:

	Bug fix: Variable DeltaE was not in the input namelist.

2008-02-29 09:27  kokalj

	* GUI/PWgui/modules/projwfc/projwfc.tcl:

	Adding lsym variable.

2008-02-29 09:26  kokalj

	* GUI/: Guib/src/dialogshell.itcl, Guib/src/optionmenuhelp.itcl,
	  PWgui/src/view.itcl:

	cleanup

2008-02-27 16:03  giannozz

	* Makefile, iotk/Makefile, iotk/OPTIONS, iotk/src/Makefile,
	  iotk/src/iotk_attr+CHARACTER1_0.f90,
	  iotk/src/iotk_attr+COMPLEX1_0.f90,
	  iotk/src/iotk_attr+COMPLEX1_3.f90,
	  iotk/src/iotk_attr+COMPLEX1_6.f90,
	  iotk/src/iotk_attr+COMPLEX2_0.f90,
	  iotk/src/iotk_attr+COMPLEX2_3.f90,
	  iotk/src/iotk_attr+COMPLEX2_6.f90,
	  iotk/src/iotk_attr+COMPLEX3_0.f90,
	  iotk/src/iotk_attr+COMPLEX3_3.f90,
	  iotk/src/iotk_attr+COMPLEX3_6.f90,
	  iotk/src/iotk_attr+COMPLEX4_0.f90,
	  iotk/src/iotk_attr+COMPLEX4_3.f90,
	  iotk/src/iotk_attr+COMPLEX4_6.f90,
	  iotk/src/iotk_attr+INTEGER1_0.f90,
	  iotk/src/iotk_attr+INTEGER1_3.f90,
	  iotk/src/iotk_attr+INTEGER1_6.f90,
	  iotk/src/iotk_attr+INTEGER2_0.f90,
	  iotk/src/iotk_attr+INTEGER2_3.f90,
	  iotk/src/iotk_attr+INTEGER2_6.f90,
	  iotk/src/iotk_attr+INTEGER3_0.f90,
	  iotk/src/iotk_attr+INTEGER3_3.f90,
	  iotk/src/iotk_attr+INTEGER3_6.f90,
	  iotk/src/iotk_attr+INTEGER4_0.f90,
	  iotk/src/iotk_attr+INTEGER4_3.f90,
	  iotk/src/iotk_attr+INTEGER4_6.f90,
	  iotk/src/iotk_attr+LOGICAL1_0.f90,
	  iotk/src/iotk_attr+LOGICAL1_3.f90,
	  iotk/src/iotk_attr+LOGICAL1_6.f90,
	  iotk/src/iotk_attr+LOGICAL2_0.f90,
	  iotk/src/iotk_attr+LOGICAL2_3.f90,
	  iotk/src/iotk_attr+LOGICAL2_6.f90,
	  iotk/src/iotk_attr+LOGICAL3_0.f90,
	  iotk/src/iotk_attr+LOGICAL3_3.f90,
	  iotk/src/iotk_attr+LOGICAL3_6.f90,
	  iotk/src/iotk_attr+LOGICAL4_0.f90,
	  iotk/src/iotk_attr+LOGICAL4_3.f90,
	  iotk/src/iotk_attr+LOGICAL4_6.f90,
	  iotk/src/iotk_attr+REAL1_0.f90, iotk/src/iotk_attr+REAL1_3.f90,
	  iotk/src/iotk_attr+REAL1_6.f90, iotk/src/iotk_attr+REAL2_0.f90,
	  iotk/src/iotk_attr+REAL2_3.f90, iotk/src/iotk_attr+REAL2_6.f90,
	  iotk/src/iotk_attr+REAL3_0.f90, iotk/src/iotk_attr+REAL3_3.f90,
	  iotk/src/iotk_attr+REAL3_6.f90, iotk/src/iotk_attr+REAL4_0.f90,
	  iotk/src/iotk_attr+REAL4_3.f90, iotk/src/iotk_attr+REAL4_6.f90,
	  iotk/src/iotk_dat+CHARACTER1_0.f90,
	  iotk/src/iotk_dat+CHARACTER1_3.f90,
	  iotk/src/iotk_dat+CHARACTER1_6.f90,
	  iotk/src/iotk_dat+COMPLEX1_0.f90,
	  iotk/src/iotk_dat+COMPLEX1_3.f90,
	  iotk/src/iotk_dat+COMPLEX1_6.f90,
	  iotk/src/iotk_dat+COMPLEX2_0.f90,
	  iotk/src/iotk_dat+COMPLEX2_3.f90,
	  iotk/src/iotk_dat+COMPLEX2_6.f90,
	  iotk/src/iotk_dat+COMPLEX3_0.f90,
	  iotk/src/iotk_dat+COMPLEX3_3.f90,
	  iotk/src/iotk_dat+COMPLEX3_6.f90,
	  iotk/src/iotk_dat+COMPLEX4_0.f90,
	  iotk/src/iotk_dat+COMPLEX4_3.f90,
	  iotk/src/iotk_dat+COMPLEX4_6.f90,
	  iotk/src/iotk_dat+INTEGER1_0.f90,
	  iotk/src/iotk_dat+INTEGER1_3.f90,
	  iotk/src/iotk_dat+INTEGER1_6.f90,
	  iotk/src/iotk_dat+INTEGER2_0.f90,
	  iotk/src/iotk_dat+INTEGER2_3.f90,
	  iotk/src/iotk_dat+INTEGER2_6.f90,
	  iotk/src/iotk_dat+INTEGER3_0.f90,
	  iotk/src/iotk_dat+INTEGER3_3.f90,
	  iotk/src/iotk_dat+INTEGER3_6.f90,
	  iotk/src/iotk_dat+INTEGER4_0.f90,
	  iotk/src/iotk_dat+INTEGER4_3.f90,
	  iotk/src/iotk_dat+INTEGER4_6.f90,
	  iotk/src/iotk_dat+LOGICAL1_0.f90,
	  iotk/src/iotk_dat+LOGICAL1_3.f90,
	  iotk/src/iotk_dat+LOGICAL1_6.f90,
	  iotk/src/iotk_dat+LOGICAL2_0.f90,
	  iotk/src/iotk_dat+LOGICAL2_3.f90,
	  iotk/src/iotk_dat+LOGICAL2_6.f90,
	  iotk/src/iotk_dat+LOGICAL3_0.f90,
	  iotk/src/iotk_dat+LOGICAL3_3.f90,
	  iotk/src/iotk_dat+LOGICAL3_6.f90,
	  iotk/src/iotk_dat+LOGICAL4_0.f90,
	  iotk/src/iotk_dat+LOGICAL4_3.f90,
	  iotk/src/iotk_dat+LOGICAL4_6.f90, iotk/src/iotk_dat+REAL1_0.f90,
	  iotk/src/iotk_dat+REAL1_3.f90, iotk/src/iotk_dat+REAL1_6.f90,
	  iotk/src/iotk_dat+REAL2_0.f90, iotk/src/iotk_dat+REAL2_3.f90,
	  iotk/src/iotk_dat+REAL2_6.f90, iotk/src/iotk_dat+REAL3_0.f90,
	  iotk/src/iotk_dat+REAL3_3.f90, iotk/src/iotk_dat+REAL3_6.f90,
	  iotk/src/iotk_dat+REAL4_0.f90, iotk/src/iotk_dat+REAL4_3.f90,
	  iotk/src/iotk_dat+REAL4_6.f90, iotk/src/iotk_misc.f90,
	  iotk/src/iotk_scan.f90, iotk/src/iotk_str.f90,
	  iotk/src/iotk_write.f90:

	the "iotk" utility for file conversion is compiled together with iotk.
	Courtesy of Andrea Ferretti

2008-02-26 11:57  dalcorso

	* atomic_doc/all-electron/: AAREADME, w.in, reference/w.out:

	Clean-up.

2008-02-23 15:26  paulatto

	* atomic/: atomic_paw.f90, ld1_readin.f90:

	Added the possibility to pseudize real augmentation augmentation functions for
	PAW (which_augfun='PSQ'): it reuses the routine pseudo_q writen by ADC for the
	ultrasoft case.

	LP

2008-02-20 17:11  kokalj

	* GUI/PWgui/doc/pwdocs/: Makefile, democritos.eps, democritos.png,
	  pwscf.eps, pwscf.png, users-guide.tex:

	+ adopting Makefile to Paolo's deletiong of user-guide.tex
	+ adding pwscf.* and democritos.* images
	+ adding users-guide.tex temporarily, so that the tar-gui
	  target of toplevel Makefile is not broken

2008-02-20 16:21  dalcorso

	* atomic/ascheqps.f90:

	Bug fix: the previous bug fix to this routine produced an instability in
	some cases.

2008-02-20 13:53  giannozz

	* Doc/: CREDITS, INPUT_CPVIB, README, democritos.eps,
	  democritos.png, pwscf.eps, pwscf.png, users-guide.tex:

	Removed (obsolete) copies of files that have been ported to the wiki

2008-02-20 13:02  kokalj

	* pwtools/ev.f90:

	increasing ridiculously short maximum allowed length of in/out filnames from 20 character to 256.

2008-02-20 13:00  kokalj

	* Makefile:

	updating tar-gui target (i.e. pwgui-source-notcl --> pwgui-source)

2008-02-19 18:34  giannozz

	* PW/: make.depend, update_pot.f90:

	First-order wavefunction interpolation was not properly working

2008-02-19 11:43  giannozz

	* CPV/fpmdpp.f90, Modules/xml_io_base.f90, PP/qexml.f90,
	  PW/io_rho_xml.f90, PW/potinit.f90, PW/pw_restart.f90,
	  PW/update_pot.f90:

	There were some inconsistencies in the naimc convention (if any) of the
	files: *.xml should be formatted, *.dat formatted . Compatibility with
	previous convention is maintained. Courtesy of Andrea Ferretti.

2008-02-18 22:45  giannozz

	* TODO, callhtml.pl, calltree.pl, release.sh,
	  dev-tools/callhtml.pl, dev-tools/calltree.pl,
	  dev-tools/release.sh:

	Directory dev-tools/, containing various scripts, added - for the time
	being just a few things of questionable usefulness moved there

2008-02-18 22:33  giannozz

	* TODO, CPV/cg_sub.f90, CPV/chargedensity.f90, CPV/cp_fpmd.f90,
	  CPV/cprstart.f90, CPV/make.depend, CPV/qqberry.f90, CPV/wf.f90:

	Minor changes

2008-02-18 19:27  kokalj

	* GUI/Guib/src/gui.itcl:

	cleanup

2008-02-18 19:26  kokalj

	* GUI/PWgui/doc/pwdocs/Makefile:

	adding veryclean target

2008-02-18 19:25  kokalj

	* GUI/PWgui/sys_utils/starkit.sh:

	improving procedure for starpacks creation

2008-02-18 19:12  kokalj

	* GUI/PWgui/pwgui_vfs/: Makefile, darwin-ppc.sh, linux-x86.sh,
	  linux-x86_64.sh, make.darwin, make.linux, README, make.win32,
	  win32.sh:

	improving procedure for starpacks creation

2008-02-18 19:12  kokalj

	* GUI/PWgui/pwgui_vfs/main.tcl.sh:

	mail.tcl.sh is now automatically created

2008-02-18 19:10  kokalj

	* GUI/PWgui/: Makefile, TODO, make.usage:

	simplified makefile (no more i386 binary targets, because of starpacks)

2008-02-18 19:09  kokalj

	* GUI/Guib/lib/: tclUtils.tcl, tkUtils.tcl:

	small fix: version number updated to 0.9

2008-02-18 19:07  kokalj

	* GUI/Guib/Makefile:

	preventing CVS dirs to be included into tgz archive

2008-02-18 19:06  kokalj

	* GUI/Guib/doc/: Makefile, robodoc.rc:

	adpoting to new robodoc version

2008-02-15 19:41  kokalj

	* GUI/PWgui/sys_utils/: check_atomic_vars.tcl, check_pp_vars.tcl,
	  check_ph_vars.tcl, check_pw_vars.tcl:

	Synchronising(updating) PWgui with QE 4.0cvs. For changes see files:
	GUI/PWgui/ChangeLog and NEWS.

2008-02-15 19:38  kokalj

	* GUI/PWgui/: pwgui_vfs/MakeDir.sh, pwgui_vfs/Makefile,
	  pwgui_vfs/make.darwin, pwgui_vfs/make.linux,
	  pwgui_vfs/Makefile.darwin, pwgui_vfs/Makefile.linux,
	  pwgui_vfs/Makefile.win32, pwgui_vfs/README,
	  pwgui_vfs/darwin-ppc.sh, pwgui_vfs/linux-x86.sh,
	  pwgui_vfs/linux-x86_64.sh, pwgui_vfs/main.tcl.sh,
	  pwgui_vfs/make.win32, pwgui_vfs/win32.sh, sys_utils/starkit.sh:

	Synchronising(updating) PWgui with QE 4.0cvs. For changes see files:
	GUI/PWgui/ChangeLog and NEWS.

2008-02-15 19:26  kokalj

	* GUI/PWgui/examples/pw/occupations+neb.pw.inp:

	Synchronising(updating) PWgui with QE 4.0cvs. For changes see files:
	GUI/PWgui/ChangeLog and NEWS.

2008-02-15 19:19  kokalj

	* GUI/PWgui/doc/pwdocs/: htmlise.sh, Makefile:

	Synchronising(updating) PWgui with QE 4.0cvs. For changes see files:
	GUI/PWgui/ChangeLog and NEWS.

2008-02-15 19:12  kokalj

	* GUI/PWgui/VERSION:

	[no log message]

2008-02-15 19:10  kokalj

	* GUI/PWgui/modules/atomic/: atomic-event.tcl, atomic-help.tcl,
	  atomic.tcl, commands.tcl:

	Synchronising(updating) PWgui with QE 4.0cvs. For changes see files:
	GUI/PWgui/ChangeLog and NEWS.

2008-02-15 18:49  kokalj

	* GUI/PWgui/modules/: pw/commands.tcl, pw/pw-help.tcl,
	  pw/pw-event.tcl, pw/pw.tcl, projwfc/projwfc.tcl, pp/pp.tcl,
	  pp/pp-event.tcl, ph/ph.tcl, ph/ph-event.tcl, ph/ph-help.tcl,
	  d3/d3.tcl:

	Synchronising(updating) PWgui with QE 4.0cvs. For changes see files:
	GUI/PWgui/ChangeLog and NEWS.

2008-02-15 18:28  kokalj

	* GUI/PWgui/: VERSION, src/menustate.itcl, src/pwscf.itcl,
	  src/settings.itcl, src/modutil.itcl, src/run.itcl, src/view.itcl:

	Synchronising(updating) PWgui with QE 4.0cvs. For changes see files:
	GUI/PWgui/ChangeLog and NEWS.

2008-02-15 18:09  kokalj

	* GUI/PWgui/: BUGS, NEWS, init.tcl, pwgui, ChangeLog, INSTALL,
	  INSTALL.cvs, README, THANKS, pwgui_reformat:

	Synchronising(updating) PWgui with QE 4.0cvs. For changes see files:
	GUI/PWgui/ChangeLog and NEWS.

2008-02-15 18:01  kokalj

	* GUI/Guib/external/lib/: license.terms, pkgIndex.tcl,
	  cmdline/cmdline.tcl, cmdline/license.terms, cmdline/pkgIndex.tcl,
	  cmdline/typedCmdline.tcl, fileutil/fileutil.tcl,
	  fileutil/pkgIndex.tcl:

	Updating Guib to version 0.4: for changes see GUI/Guib/ChangeLog file.

2008-02-15 17:57  kokalj

	* GUI/Guib/examples/: kpoints.inp, two_pages.tcl, pages.inp,
	  test0.inp, pages.tcl, validate.tcl, simpleSim.inp, test0.tcl,
	  kpoints.tcl, simpleSim.tcl, test1.inp, README, test1.tcl,
	  test2.inp, test2.tcl:

	Updating Guib to version 0.4: for changes see GUI/Guib/ChangeLog file.

2008-02-15 17:53  kokalj

	* GUI/Guib/: lib/Makefile, lib/header.tcl, lib/pkgIndex.tcl,
	  lib/tclIndex, lib/tclUtils.tcl, lib/tkUtils.tcl, src/build.itcl,
	  src/dialogshell.itcl, src/gui.itcl, src/guib-keywords-def.tcl,
	  src/guib.itcl, src/guibKeywords.itcl, src/keywidgets.itcl,
	  src/keywordObj.itcl, src/moduleObj.itcl, src/open.itcl,
	  src/optionmenuhelp.itcl, src/save.itcl, src/table.itcl,
	  src/tclIndex, src/validate.itcl, src/widgets.itcl,
	  src/simpleGui.itcl:

	Updating Guib to version 0.4: for changes see GUI/Guib/ChangeLog file.

2008-02-15 17:50  kokalj

	* GUI/Guib/: ChangeLog, TODO, guib, VERSION, NEWS, guib.theme,
	  guib.tcl, init.tcl:

	Updating Guib to version 0.4: for changes see GUI/Guib/ChangeLog file.

2008-02-14 17:53  dalcorso

	* PW/setup.f90:

	Bug fix: ortho_para was uncorrect when nelec=1.

2008-02-13 16:52  giannozz

	* Modules/paw_variables.f90, Modules/radial_grids.f90,
	  PW/io_rho_xml.f90:

	More PGI weirdness from Andrea Ferretti - initialization of derived-type
	variables should be avoided: it is not supported by all compilers.
	Please test for unexpected side effects of removal of initial values!

2008-02-12 21:15  giannozz

	* CPV/: adjef.f90, efermi.f90, potentials.f90, pseudo_base.f90:

	Missing declaration of "erfc": not all compilers have it as an internal
	mathematical library. Some erf and erfc-related cleanup

2008-02-12 18:02  dalcorso

	* PH/solve_linter.f90:

	Bug fix: problem with the preconditioning in the noncollinear case.

2008-02-12 11:57  paulatto

	* atomic/partial_wave_expansion.f90:

	Minor fix on previous commit...

2008-02-12 11:24  paulatto

	* atomic/partial_wave_expansion.f90:

	BUGFIX: fixed some possible crash/stop due to tests of local channel.

	LP

2008-02-11 14:46  giannozz

	* PW/: hinit0.f90, init_run.f90, move_ions.f90:

	init_h is good only to confuse ideas: removed. Added warning in hinit0
	against re-executing a loop thatshouldn't be re-executed, as found by LP

2008-02-11 12:41  giannozz

	* tests/: md-pot_extrap1.ref, md-pot_extrap2.ref,
	  md-wfc_extrap1.ref, md-wfc_extrap2.ref, md.ref:

	Tests updated

2008-02-11 12:40  giannozz

	* atomic/make.depend:

	Dependencies updated

2008-02-11 12:40  giannozz

	* examples/daily_test:

	Daily test updated

2008-02-11 12:39  giannozz

	* PW/: dynamics_module.f90, input.f90, update_pot.f90:

	Minor changes to wavefunctions extrapolation; added possibility to
	start from charge density calculated from extrapolated wavefunctions
	(undocumented, to be testes)

2008-02-11 12:37  giannozz

	* Doc/: BUGS, CREDITS:

	Documentation updated

2008-02-08 19:57  paulatto

	* PW/move_ions.f90:

	BUGFIX: the execution of hinit0 can cause a crash during the last step of
	BFGS relaxation. This way it seems to work, but it would be nice if some BFGS
	expert could take a look at it.

2008-02-08 15:56  paulatto

	* Modules/io_files.f90, Modules/paw_variables.f90,
	  Modules/read_upf.f90, PW/dynamics_module.f90, PW/electrons.f90,
	  PW/io_rho_xml.f90, PW/make.depend, PW/paw_onecenter.f90,
	  PW/potinit.f90, PW/pw_restart.f90, PW/restart_from_file.f90:

	Various bugfixes:
	becsum is now saved on file, to allow restart with PAW; it still needs some testing.

	As a consequence read/write of lda+U ns coeffs have been unified with becsum and rho.
	Subroutines read_rho and write_rho from "io_rho_xml.f90" are now managed by an interface:
	if param #1 is rho(nrxx,nspin) it will call the old subrt; if param #1 is of scf_type
	it will save becsum and ns too in separate files (xml is not used, but can be added
	easily now).

	Fixed uninitialized variable in dynamics_module caused crashes in parallel MD.

	Added error handling in paw part of read_upf.

2008-02-08 11:28  dalcorso

	* PP/projwfc.f90:

	Bug fix: incompatibility with the new calbec.

2008-02-07 14:48  paulatto

	* Doc/INPUT_PW, Modules/uspp.f90, PP/make.depend,
	  PW/allocate_fft.f90, PW/compute_becsum.f90, PW/electrons.f90,
	  PW/hinit0.f90, PW/init_run.f90, PW/make.depend, PW/newd.f90,
	  PW/paw_init.f90, PW/paw_onecenter.f90, PW/potinit.f90,
	  PW/pwcom.f90, PW/read_file.f90, PW/restart_in_ions.f90,
	  PW/scale_h.f90, PW/scf_mod.f90, PW/sum_band.f90, PW/summary.f90,
	  PW/update_pot.f90, VdW/make.depend:

	HWF energy + PAW should work again, better initial becsum.
	Added documentation for cell_dynamics='bfgs' in INPUT_PW
	Many random fixes and, mostly paw-related.
	LP

2008-02-07 14:36  giannozz

	* Modules/xml_io_base.f90:

	A tag was written as "Q_REAL_SPACE" and read as "Q_REAL". It would have
	gone unnoticed forever, but it was noticed by Giovanni Bussi while
	inquiring on a gfortran bug with iotk. Reminder to everybody:
	all changes to the file format must be documented here
	http://www.quantum-espresso.org/wiki/index.php/Developer_Manual#File_Formats

2008-02-06 22:31  giannozz

	* tests/: electric0.in, electric0.ref, electric1.in, electric1.ref,
	  electric2.in, electric2.ref:

	Missing tests added

2008-02-06 19:17  giannozz

	* PW/: average_pp.f90, hinit1.f90, make.depend, update_pot.f90:

	Charge and wavefunction extrapolation simplified

2008-02-06 19:16  giannozz

	* tests/: berry.ref2, md-wfc_extrap1.in, md-wfc_extrap1.ref:

	Automated tests updated (again)

2008-02-06 18:01  giannozz

	* tests/: README, md-pot_extrap1.in, md-pot_extrap1.ref,
	  md-pot_extrap2.in, md-pot_extrap2.ref, md-wfc_extrap1.in,
	  md-wfc_extrap1.ref, md-wfc_extrap2.in, md-wfc_extrap2.ref, md.in,
	  md.ref, relax-pot_extrap1.in, relax-pot_extrap1.ref,
	  relax-pot_extrap2.in, relax2-wfc_extrapol1.in,
	  relax2-wfc_extrapol1.ref, relax2-wfc_extrapol2.in,
	  relax2-wfc_extrapol2.ref:

	Automated tests updated: the check on extrapolation done for structural
	optimization didn't make sense, since it is supposed to work only for
	MD calculations

2008-02-04 17:46  giannozz

	* CPV/: cprsub.f90, make.depend, modules.f90, pseudo_base.f90,
	  pseudopot_sub.f90:

	Added calculation of the shift needed to bring the levels calculated by CP
	(and energies of charged cells as well) in line with those calculated by PW.
	For the time being, the shift is just printed (see line "Delta V(G=0)=" )
	in subroutine formf but not used. Some cleanup here and there.

2008-02-04 11:02  giannozz

	* configure, configure.ac:

	Better conceived (or at least, more studied) approach to the latest
	ifort+mkl v.10 weirdness: -lmkl_lapack is no longer required

2008-02-02 15:12  dalcorso

	* Doc/INPUT_BANDS, PP/bands.f90:

	Bands.x can now write on file the bands without changing their order.

2008-02-02 10:26  degironc

	* atomic/partial_wave_expansion.f90:

	better estimate of the range of beta functions

2008-02-02 08:44  degironc

	* atomic/gener_pseudo.f90:

	calculate also the Fourier expansion of betas, NC and US partial waves
	and the convergence of their norm as a function of the maximum q in the
	expansion

2008-02-02 08:25  degironc

	* atomic/: Makefile, atomic_paw.f90, ld1_setup.f90, ld1inc.f90,
	  partial_wave_expansion.f90, run_pseudo.f90:

	added a routine that calcuate a quality index for partial wave expansion
	of radial solutions at fixed energies in terms of partial waves.
	It is computed on the same energy range as the logarithmic derivatives and
	indicate how well the psuedo wfc are given by a linear combinationo of partial waves as assumed by the PAW formalism.

	A more reasonable (less unreasonable) estimate of the suggested charge density
	cutoff for augmentation charges in the paw case is given

2008-02-01 15:09  paulatto

	* PW/mix_rho.f90:

	Mix rho cleaned up a bit, now normalization of responses matrix is disabled again by default.

2008-02-01 14:09  paulatto

	* PW/: paw_init.f90, potinit.f90, compute_becsum.f90:

	BUGFIX: paw becsum initialized correctly.

2008-01-31 23:45  cavazzon

	* PW/dynamics_module.f90:

	- insidious BUG FIX, in BO-MD of pw.x pointed out by Allouche

2008-01-30 22:03  giannozz

	* configure, configure.ac:

	Attempt to fix linking for recent MKL - will not work in all cases, though

2008-01-29 16:22  paulatto

	* atomic/compute_chi.f90:

	Modified unsafe versione intended for testing only slipped in CVS.
	Restored to previous versione, sorry for the inconvenience.

	LP

2008-01-29 15:55  dalcorso

	* atomic/: run_pseudo.f90, start_potps.f90:

	Now the atomic code stops if the solution of the PS-KS equation fails
	during the generation-test.
	Corrected the bug noticed by Lazaro Calderin.

2008-01-28 23:02  giannozz

	* VdW/: solve_e.f90, vdw.f90:

	VdW works again (maybe: as it is written now, it is close to impossible
	to understand what it does)

2008-01-28 18:52  cavazzon

	* PW/force_us.f90:

	- workaround for PGI bug.
	  PGI does not propagate properly the array dimensions in contained subroutines
	  then we need to pass the array explicitly

2008-01-25 17:18  paulatto

	* PW/: make.depend, paw_init.f90, paw_onecenter.f90:

	PAW is now correctly parallelized on images, not on pools.

2008-01-25 01:07  cavazzon

	* PW/: para.f90, print_clock_pw.f90:

	- poolreduce removed and replaced with mp_sum

2008-01-25 00:45  cavazzon

	* VdW/print_clock_vdw.f90:

	- poolreduce removed

2008-01-25 00:43  cavazzon

	* PH/: dhdrhopsi.f90, dielec.f90, dielec_test.f90, drho.f90,
	  drhodv.f90, drhodvus.f90, dvpsi_e2.f90, dynmat_us.f90,
	  el_opt.f90, elphon.f90, localdos.f90, make.depend, polariz.f90,
	  print_clock_ph.f90, raman_mat.f90, solve_e.f90, solve_e2.f90,
	  solve_e_fpol.f90, solve_linter.f90, sym_and_write_zue.f90,
	  xk_wk_collect.f90, zstar_eu.f90, zstar_eu_us.f90:

	- poolreduce replaced by mp_sum( ..., inter_pool_comm)

2008-01-24 18:02  paulatto

	* Modules/paw_variables.f90, PP/make.depend, PW/allocate_fft.f90,
	  PW/allocate_nlpot.f90, PW/init_run.f90, PW/make.depend,
	  PW/move_ions.f90, PW/paw_init.f90, PW/paw_onecenter.f90,
	  PW/read_file.f90, PW/scf_mod.f90, PW/setup.f90, PW/sum_band.f90:

	Bugfix: PAW should work in parallel with pools
	Bugfix: PAW stress should work in parallel, even with pools
	Bugfix: vc-bfgs should have a consistent convergence threshold (by SdG)
	        (its existence should be reported in INPUT_PW too!)

	Note: I had to move some initialization from allocate_nlpot to a new function
	      pre_init that I've put in PW/setup.f90; it's called by setup and read_file
	Note: the scf_mod part of PAW is now much better, becsum and rho%bec are NOT
	      the same any more (rho%bec is mixed and recollected among pools,
	      becsum is not).

	LP

2008-01-24 17:55  paulatto

	* atomic/: atomic_paw.f90, compute_chi.f90, make.depend,
	  test_bessel.f90:

	A few more verbose error messages and a bit of cleanup.

2008-01-24 15:18  cavazzon

	* PW/setup.f90:

	- BUG FIX, in initialization of parallel diagonalization,
	  nelec was declared as integer instead of real.

2008-01-24 11:45  paulatto

	* VdW/Makefile:

	One last missing object.

2008-01-24 11:41  paulatto

	* D3/Makefile:

	Four missing objects prevented compilation of d3.x. Is it exponential?
	LP

2008-01-24 11:38  paulatto

	* PWCOND/Makefile:

	Two missing objects prevented compilation of pwcond. There are more of these!
	LP

2008-01-24 11:23  paulatto

	* PP/Makefile:

	Missing object prevented linking of bands.
	LP

2008-01-24 00:39  cavazzon

	* D3/: d3_valence.f90, d3dyn_cc.f90, d3ionq.f90, d3vrho.f90,
	  dpsidpsidv.f90, dpsidvdpsi.f90, dqrhod2v.f90, make.depend,
	  print_clock_d3.f90, set_efsh.f90, solve_linter_d3.f90:

	- cleanup, poolreduce replaced by mp_sum

2008-01-23 21:04  giannozz

	* Modules/read_upf.f90:

	Some UPF pseudopotentials, generated with old versions of the atomic code,
	contain an incomplete PP_ADDINFO section that may lead to crashes if the
	code assumes a spin-orbit potential: added a check to prevent such cases

2008-01-23 18:50  cavazzon

	* D3/: d0rhod2v.f90, d3_symdyn.f90:

	- celanup, poolreduce replaced by mp_sum(...,inter_pool_comm)

2008-01-23 18:41  cavazzon

	* Modules/mp.f90:

	- new mp_sum interface to reduce 6D complex array

2008-01-23 18:27  cavazzon

	* GIPAW/: compute_u_kq.f90, g_tensor_crystal.f90, gipaw_module.f90,
	  make.depend, suscept_crystal.f90, test_sum_rule.f90:

	- cleanup, poolreduce replaced by mp_sum(...,inter_pool_comm)

2008-01-23 18:17  cavazzon

	* atomic/atomic_paw.f90:

	- wrong extra token "," present in a write statement

2008-01-23 18:10  cavazzon

	* PP/: add_shift_us.f90, elf.f90, epsilon.f90, local_dos.f90,
	  pw2casino.f90, stm.f90:

	- celanup, poolreduce replaced by mp_sum(...,inter_pool_comm)

2008-01-23 17:53  cavazzon

	* PW/: c_bands.f90, dndepsilon.f90, exx.f90, force_hub.f90,
	  force_us.f90, make.depend, new_ns.f90, potinit.f90,
	  pw_restart.f90, stres_knl.f90, sum_band.f90, sumkg.f90,
	  weights.f90:

	- celanup, poolreduce replaced by mp_sum(...,inter_pool_comm)

2008-01-23 17:42  cavazzon

	* VdW/: check_v_eff.f90, make.depend, polariz.f90, solve_e.f90:

	- poolreduce replaced by mp_sum(...,inter_pool_comm)

2008-01-23 17:39  cavazzon

	* PW/setup.f90:

	- better computation of the number of procs to be used
	  in parallel diagonalization

2008-01-23 15:28  paulatto

	* atomic/compute_potps_new.f90:

	fix

2008-01-22 23:40  degironc

	* atomic/: Makefile, compute_potps_new.f90, gener_pseudo.f90,
	  lderiv.f90, pseudovloc.f90:

	A new option (lloc=-2) is introduced in order to define a local potential
	(expanded in l=0 Bessel functions) that is smooth AND satisfies the
	condition V''(0)=0 .
	According to TM this condition makes the pseudo optimally smooth and
	helps making it transferable...
	In any case the resulting potential seams to be less deep than the ones
	obtained with lloc=-1 which should help avoiding ghost states.

2008-01-22 18:37  giannozz

	* Modules/xml_io_base.f90, PW/pw_restart.f90, PW/pwcom.f90,
	  PW/startup.f90:

	1) bug fix in restart: Hubbard_l should be dimensioned as the number of
	different species (courtesy of Matteo Calandra and Christos Gougoussis)
	2) nd_nmbr calculated with an easily extensible algorithm: now we can
	easily calculate them for 2^31 processors ...

2008-01-21 18:47  giannozz

	* PW/scf_mod.f90:

	More gfortran hacks. These should allow pw.x to run on machines with
	v. 4.1 and 4.2 of gfortran, those most frequently found in linux PC's

2008-01-19 12:20  cavazzon

	* PW/: seqopn.f90, startup.f90:

	- change of the dimension of variable nd_nmbr to allow
	  run with more than 1000 processors per image.
	  Not an elegant solution to set nd_nmbr in startup.

2008-01-19 12:18  cavazzon

	* Modules/io_files.f90:

	- change of the dimension of variable nd_nmdr to allow
	  run with more than 1000 processors per image

2008-01-18 15:46  cavazzon

	* PW/data_structure.f90:

	- BUG FIX for task group parallelization.
	  With task groups when running on a number of processors
	  greater than the number of planes, it could happen
	  that nrxxs (of the group) is larger than nrxx (of the processor)
	  so that the dimension nrxx for vrs is not enough.
	  Now nrxx is set to the maximum of nrxxs and nrxx

2008-01-17 23:18  giannozz

	* Doc/CREDITS:

	Credits updated

2008-01-17 12:48  umari

	* PW/: allocate_bp_efield.f90, c_phase_field.f90, electrons.f90,
	  pwcom.f90:

	Now the ionic polarization when a Berry's phase electric field
	is switched on is correctly reported, and the total energy
	contais the electric field contribution.
	Structural relaxations at fixed cell are possible.

	P.U.

2008-01-16 16:23  giannozz

	* configure, configure.ac, Modules/fft_scalar.f90,
	  PW/electrons.f90, PW/exx.f90, clib/memstat.c,
	  include/defs.h.README:

	Support for Solaris PC with Sun compiler added

2008-01-16 14:36  giannozz

	* PW/bp_strings.f90:

	Removed a double call to the same routine, the first one of the two being
	incorrect. Mysteriously enough it gave no error on several machines and
	compilers.

2008-01-16 12:33  cavazzon

	* PP/pw2gw.f90:

	- bug fix, calculation of epsilon.

2008-01-16 09:39  cavazzon

	* PP/pw2gw.f90:

	- parallelization of pw2gw in order to
	  produce input file for GW starting from
	  a parallel pw run. Not working with pools yet.
	  Thanks to Adriano Mosca Conte

2008-01-15 19:06  giannozz

	* Modules/read_uspp.f90, PW/read_ncpp.f90:

	Yet another unitialized (il-)logical variable: upf%tpawp was not
	initialized when a non-UPF pseudopotential was read. On most machines
	it defaults to 0, i.e. .false., that is good, but sometimes it doesn't

2008-01-15 16:44  paulatto

	* atomic/el_config.f90:

	Error messages a bit more verbose.
	LP

2008-01-15 12:26  giannozz

	* PW/read_ncpp.f90:

	The type of DFT was not always correctly read from old PWscf format,
	leading to 'inconsistent DFT' error

2008-01-14 14:59  dalcorso

	* PW/set_defaults_pw.f90:

	Added another variable.

2008-01-14 09:50  dalcorso

	* PW/: restart_in_electrons.f90, setup.f90, startup.f90:

	Small details.

2008-01-14 09:46  paulatto

	* atomic/atomic_paw.f90, atomic/ld1_readin.f90,
	  atomic_doc/INPUT_LD1:

	default which_augfun changed from AE to BESSEL for PAW, as using AE would produce
	unusable dataset (if not using lnc2paw). Documentation changed accordingly.

2008-01-13 22:55  degironc

	* atomic/: compute_phius.f90, find_qi.f90, ld1_readin.f90,
	  set_psi_in.f90:

	some changes in atomic code.

	- compute_phius: if (verbosity=="high") some additional info is written.

	- find_qi: improved solution search close to asintotes. It should be able
	      to find the lowest solutions even for large logarithmic derivatives.

	- ld1_readin: 'US requires at least two energies per channel' is now a
	      rather visible WARNING rather than an error in order to allow to
	      play with single projectors (according to Bloechl it may be useful
	      to locate the position where to put the second projector).

	- set_psi_in: normalization of scattering states changed in order to avoid
	      very large wfc when a node happens to be close to the matching radius.

2008-01-12 15:31  cavazzon

	* CPV/: read_pseudo.f90, cp_interfaces.f90, cpr.f90, cprsub.f90,
	  fromscra.f90, init.f90, make.depend, restart_sub.f90,
	  pseudopot_sub.f90:

	- BUG FIX, for norm-conserving pp with non local core corrections.
	  nlcc_any flag now is computed in readpp together with okvan flag

2008-01-12 15:26  cavazzon

	* Modules/fft_scalar.f90:

	- added a check on fft dimensions.

2008-01-12 15:24  cavazzon

	* clib/fft_stick.c:

	- added a more informative warning message

2008-01-12 10:36  dalcorso

	* PW/restart_from_file.f90:

	Small bug fix: the variable where_restart was written but not initialized
	by all nodes.

2008-01-08 10:36  cavazzon

	* CPV/cp_fpmd.f90:

	- real(8) substituted by real(dp)

2008-01-08 10:29  cavazzon

	* CPV/cp_fpmd.f90:

	- warning on charged systems restored, as suggested by Antonio Tilocca

2008-01-08 10:16  cavazzon

	* Modules/fft_base.f90, Modules/make.depend, PW/compute_dip.f90,
	  PW/data_structure.f90, PW/efermig.f90, PW/exx.f90,
	  PW/iweights.f90, PW/make.depend, PW/mix_rho.f90, PW/para.f90,
	  PW/psymrho.f90, PW/psymrho_mag.f90, PH/davcio_drho.f90,
	  PH/make.depend, PH/phq_setup.f90, PH/psym_dmag.f90,
	  PH/psym_dmage.f90, PH/psymdvscf.f90, PH/psyme.f90, PH/psyme2.f90,
	  PH/punch_plot_e.f90, PH/punch_plot_ph.f90, D3/d3_setup.f90,
	  D3/davcio_drho2.f90, D3/make.depend, D3/psymd0rho.f90,
	  PP/chdens.f90, PP/make.depend, PP/punch_plot.f90,
	  PP/pw2wannier90.f90, PP/stm.f90, PP/sym_band.f90,
	  PP/work_function.f90, PWCOND/make.depend, PWCOND/poten.f90,
	  GIPAW/gipaw_module.f90, GIPAW/symmetrize_field.f90:

	- scatter/gather like subroutines that act on fft grids,
	  moved from PW/para.f90 to Modules/fft_base.f90

2008-01-08 00:58  cavazzon

	* CPV/ortho.f90:

	- BUG FIX,
	  fixed a bug in ortho that was causing the example17 (NEB) to crash.
	  Note that the bug was not strictly related to NEB but to systems
	  with spin and USPP in general. The bug has been introduced only recently,
	  so that previous version of cp are safe.

2008-01-06 15:33  dalcorso

	* PH/phonon.f90, PW/pwcom.f90:

	Cleanup.

2008-01-06 13:18  dalcorso

	* PH/phonon.f90, PW/Makefile, PW/set_defaults_pw.f90:

	Several variables had undefined values when init_run and electrons were called
	by phonon. set_defalts_pw sets defaults values for this variables.
	Further cleanup should make this routine unnecessary.

2008-01-06 12:54  dalcorso

	* Modules/control_flags.f90, Modules/xml_io_base.f90,
	  PH/phq_readin.f90, PW/addusdens.f90, PW/hinit0.f90,
	  PW/hinit1.f90, PW/input.f90, PW/newd.f90, PW/pw_restart.f90,
	  PW/realus.f90, PW/sum_band.f90:

	Variable tqr moved to control flag and written in the xml file.
	It was not initialized by the postprocessing programs.

2008-01-06 12:37  dalcorso

	* PH/: bcast_ph_input.f90, bcast_ph_input1.f90, q_points.f90:

	Cleanup.

2008-01-06 12:30  dalcorso

	* PW/stop_run.f90:

	Small problem fix: only the restart file of ionode was removed.

2008-01-06 10:03  cavazzon

	* PW/data_structure.f90:

	- nxx was not defined in serial build

2008-01-05 20:41  cavazzon

	* PW/data_structure.f90:

	- some variables were defined only in parallel build

2008-01-05 20:27  cavazzon

	* GIPAW/: make.depend, symmetrize_field.f90:

	- removing modules: pfft pffts para_const
	  they contains only copies of variables contained in
	  fft data structures: dfftp dffts

2008-01-05 20:26  cavazzon

	* upftools/Makefile:

	- missing modules

2008-01-05 20:26  cavazzon

	* pwtools/Makefile:

	- missing module

2008-01-05 20:23  cavazzon

	* PW/add_efield.f90, PW/data_structure.f90, PW/make.depend,
	  PW/make_pointlists.f90, PW/makov_payne.f90, PW/para.f90,
	  PW/psymrho.f90, PW/psymrho_mag.f90, PW/realus.f90,
	  PW/startup.f90, PH/davcio_drho.f90, PH/make.depend,
	  PH/psym_dmag.f90, PH/psym_dmage.f90, PH/psymdvscf.f90,
	  PH/psyme.f90, PH/psyme2.f90, D3/davcio_drho2.f90, D3/make.depend,
	  D3/psymd0rho.f90, PP/Makefile, PP/compute_sigma_avg.f90,
	  PP/dipole.f90, PP/make.depend, atomic/Makefile:

	- removing modules: pfft pffts para_const
	  they contains only copies of variables contained in
	  fft data structures: dfftp dffts

2008-01-04 19:32  cavazzon

	* PW/: h_psi.f90, sum_band.f90:

	- task groups implemented also for non collinear spins,
	  but only in h_psi, and not yet in sum_bands

2008-01-04 18:56  cavazzon

	* Modules/fft_base.f90:

	- further mpi_request_free calls removed

2008-01-04 14:36  giannozz

	* PW/electrons.f90:

	Added save attribute to a local variable of derived type. Without it,
	gfortran was not correctly initializing internal_becsum to .false. .
	I don't know if it is a gfortran weirdness or if it should be there
	but other compilers don't mind. What I know for sure is that the
	"internal_becsum" hack is a horror that must be removed sooner
	rather than later

2008-01-04 13:27  cavazzon

	* PW/cdiaghg.f90:

	- restoring parallel diagonalization, with
	  the addition of few lines to force diagonal
	  elements to be really "real".

2008-01-04 12:20  giannozz

	* CPV/dforceb.f90:

	Compilation problem fixed. I think that routine dforceb is wrong anyway:
	argument "dg2" is defined dg2( nat, nhm, nhm, nspin), while what is passed
	is deeq( nhm, nhm, nat, nspin)

2008-01-04 00:37  cavazzon

	* PW/cdiaghg.f90:

	- Temporary FIX.
	  For some unpredictable value of nbase, parallel "pzhpev_drv"
	  is not enough accurate, and overall diagonalization fail (as in the
	  example24 pointed out by ADC), or require an higher threshold.
	  For the time being it will be substitute by its serial
	  version "zhpev_drv".
	  This should not compromise too much the good scalability
	  of cegterg (especially for nbase < 1000), but clearly it uses distributed data.
	  For testing and debugging the use of the parallel version can
	  be restored compiling "cdiaghg.f90" with the macro: WORKING_PZHPEV

2008-01-03 20:32  cavazzon

	* Modules/ptoolkit.f90:

	- wrong mpi_request_free calls removed

2008-01-03 16:50  cavazzon

	* PH/sym_dmag.f90:

	- BUG FIX, irot was used in place of irotmq

2008-01-03 11:56  giannozz

	* configure, configure.ac, CPV/fft.f90, Modules/fft_scalar.f90,
	  include/defs.h.README:

	FFT drivers for COMPLIB and CXML removed as well

2008-01-03 11:32  giannozz

	* Modules/fft_scalar.f90, PW/cft3s.f90, include/defs.h.README:

	Since nobody has reported anything: MKL FFT removed. I don't think
	they were working anyway, and there should be an interface between
	FFTW3 and MKL FFT provided by Intel

2008-01-03 11:09  giannozz

	* CPV/make.depend, tests/check-pw.x.j, Modules/error_handler.f90:

	Oops, forgot to add the new error module

2008-01-03 10:02  giannozz

	* TODO, CPV/Makefile, CPV/make.depend, D3/Makefile, GIPAW/Makefile,
	  Gamma/Makefile, Modules/Makefile, Modules/make.depend,
	  PH/Makefile, PP/Makefile, PW/Makefile, PW/error_handler.f90,
	  PW/lchk_tauxk.f90, PWCOND/Makefile, VdW/Makefile,
	  atomic/Makefile, atomic/make.depend, flib/Makefile,
	  flib/error.f90, flib/lapack_all.f, flib/make.depend,
	  flib/proc_grid.f, pwtools/Makefile, tests/check-pw.x.j,
	  upftools/Makefile, upftools/virtual.f90:

	"error" moved from flib/ to Modules/, as suggested by Axel, into
	Modules/error_handler.f90 . Not really an elegant solution, since
	the module in error_handler is never used and subroutine "errore"
	is not in the module, but better than it used to be. All makefiles
	and make.depend updated (fixes yesterday's linking error as well).
	Minor changes here and there as well.

2008-01-02 18:59  cavazzon

	* Modules/fft_parallel.f90, Modules/task_groups.f90,
	  CPV/chargedensity.f90, CPV/forces.f90, CPV/runcp.f90,
	  PW/h_psi.f90, PW/sum_band.f90, PW/vloc_psi.f90:

	- further cleanup to save some memory

2008-01-02 17:50  dalcorso

	* PH/: dynmatrix.f90, elphon.f90, phonon.f90, phq_readin.f90,
	  phq_summary.f90:

	Separated amass and pmass used in phonon.

2008-01-02 15:53  dalcorso

	* PH/phq_init.f90, PP/bands.f90, PP/plan_avg.f90, PP/postproc.f90:

	Cleanup. init_us_1 and newd are now called by read_file.

2008-01-02 12:47  cavazzon

	* PW/: cdiagh.f90, h_psi.f90, make.depend, sum_band.f90,
	  vloc_psi.f90:

	- another fix for PGI bug (that is exploited in contained subrotuines that access
	  array arguments of the mother sub. with explicit dimensions)
	- task groups implemented for k points too.
	- task groups implemented also in the loop over bands contained in sum_band
	- task groups NOT YET implemented for non collinear spin and meta dft

2008-01-02 12:41  cavazzon

	* CPV/: chargedensity.f90, make.depend, runcp.f90:

	- cleanup
	- bug fix in chargedensity for task groups,
	  it could came out when the number of states
	  are not a multiple of the size of the group

2008-01-02 12:39  cavazzon

	* Modules/: make.depend, task_groups.f90:

	- cleanup and new subroutine for gathering data within the group

2008-01-02 11:59  dalcorso

	* Modules/xml_io_base.f90, PW/pw_restart.f90:

	When the flag lkpoint_dir is .false. the eigenvalues are written
	into the data-file.xml file.

2008-01-02 11:42  dalcorso

	* Modules/xml_io_base.f90:

	Introduced a check in order not to copy the pseudopotential file into itself.

2007-12-31 12:08  cavazzon

	* PWCOND/Makefile:

	- again fft_parallel Module

2007-12-31 12:07  cavazzon

	* PP/Makefile:

	- required change to include fft_parallel module

2007-12-31 12:06  cavazzon

	* D3/Makefile:

	- required change for fft_parallel module

2007-12-31 12:05  cavazzon

	* PW/: cft3.f90, cft3s.f90, clean_pw.f90, data_structure.f90,
	  ggen.f90, io_rho_xml.f90, make.depend, pw_restart.f90, pwcom.f90,
	  vloc_psi.f90:

	- simplified call tree for 3d fft driver,
	  not depending on modules contained in PW, but only on
	  modules. This is useful for future modularization.
	- The high level interfaces cft3 and cft3s has not
	  been changed yet. Please have a look of what
	  is implemented in CP (fft.f90 module) and let me know.

2007-12-31 12:01  cavazzon

	* CPV/: chargedensity.f90, cp_interfaces.f90, cplib.f90,
	  cplib_meta.f90, exch_corr.f90, fft.f90, forces.f90, gradrho.f90,
	  ksstates.f90, make.depend, nlcc.f90, potentials.f90,
	  print_out.f90, vol_clu.f90, wf.f90:

	- new simplified fft interface and simplified call tree

2007-12-31 12:00  cavazzon

	* Modules/: fft_base.f90, fft_parallel.f90:

	- Parallel 3d fft routine generalized to handle all cases

2007-12-31 10:01  dalcorso

	* Modules/xml_io_base.f90:

	kpoint_dir updated.

2007-12-31 09:57  dalcorso

	* PH/phq_init.f90, PW/read_file.f90, PWCOND/do_cond.f90:

	Bug fix: PWCOND with PAW was not working any more.

2007-12-31 09:53  dalcorso

	* PW/paw_onecenter.f90:

	Bug fix: PAW was not working any more in parallel.

2007-12-31 09:50  dalcorso

	* PW/rotate_wfc_k.f90:

	Bug fix: the recently modified rotate_wfc_k was not working
	in the noncollinear case.

2007-12-31 01:52  cavazzon

	* Modules/ptoolkit.f90:

	- PW BUG FIX! An array was not properly set to 0
	  this bug may cause the parallel diagonalization to fail

2007-12-29 11:10  cavazzon

	* PW/: make.depend, vloc_psi.f90:

	- cleanup

2007-12-29 11:10  cavazzon

	* CPV/: Makefile, cpr.f90, fft.f90, fftdrv.f90, make.depend:

	- cleanup
	- fft 3D parallel driver generalized to include standard and task groups fft
	- cp fft spacific driver removed.

2007-12-29 11:09  cavazzon

	* Modules/: fft_parallel.f90, fft_types.f90, make.depend,
	  mp_global.f90, task_groups.f90:

	- cleanup
	- fft 3D parallel driver generalized to include standard and task groups fft

2007-12-28 15:08  cavazzon

	* PW/data_structure.f90, PW/make.depend, PW/vloc_psi.f90,
	  CPV/chargedensity.f90, CPV/dealloc.f90, CPV/fft.f90,
	  CPV/fftdrv.f90, CPV/forces.f90, CPV/init.f90, CPV/make.depend,
	  CPV/runcp.f90:

	- cleanup

2007-12-28 15:08  cavazzon

	* Modules/: fft_base.f90, fft_parallel.f90, fft_types.f90,
	  make.depend, mp_global.f90, task_groups.f90:

	- cleanup, information on processor groups moved from task_group to
	  mp_global, in order to have a single place containing all info
	  about the parallelization

2007-12-27 19:21  giannozz

	* PH/Makefile:

	Cleaner 'make clean'

2007-12-27 18:49  umari

	* PW/forces_bp_efield.f90:

	New fiel for Berry's phase atomic forces
	US and ionic terms,

	P.U.

2007-12-27 18:48  umari

	* PW/: Makefile, allocate_bp_efield.f90, c_phase_field.f90,
	  forces.f90, h_epsi_her_set.f90, pwcom.f90:

	Added US forces with Berry's phase electric field
	Corrected bug in NC forces with Berry's phase electric field.

	P.U.

2007-12-27 12:03  cavazzon

	* VdW/Makefile:

	- again the new module

2007-12-27 12:00  cavazzon

	* Gamma/Makefile:

	- missing new module

2007-12-27 11:56  cavazzon

	* PH/Makefile:

	- oops wrong name

2007-12-27 11:55  cavazzon

	* PH/Makefile:

	missing new module

2007-12-27 11:47  giannozz

	* Modules/: electrons_base.f90, ptoolkit.f90:

	8 => dp

2007-12-27 11:46  cavazzon

	* PW/: Makefile, h_psi.f90, make.depend, startup.f90, vloc_psi.f90:

	- Task groups parallelization for fft implemented in PW too.
	  For the time being it has been implemented only for gamma calculation,
	  k-points will follow

	  NOTE that task groups fft parallelization is particularly useful
	  when the dimension of the fft grid in the z direction is
	  less or close to the number of processors.
	  Moreover it is possible to have a performance gain using
	  task groups when running with less processors, if they are
	  connected by a slow network.

	  TO ACTIVATE TASK GROUPS PARALLELIZATION use the command line flag:
	  -ntg <nt>
	  where <nt> is the number of task groups; good values could be 2, 4, 8

	  As an example, if the z dimension of the fft grid is 200, and you
	  want to run on 400 cores, in order to balance the load of the fft
	  you need to use at least two task groups:
	  mpirun -np 400 ./pw.x -ntg 2 -input myinput
	  Most probably you can benefit of task group better scalability
	  even if you run with much less cores, as in:
	  mpirun -np 100 ./pw.x -ntg 2 -input myinput

2007-12-27 11:28  cavazzon

	* CPV/: Makefile, fft.f90, runcp.f90:

	- BUG FIX  for task groups, It could came out when number of bands
	  was not a multiple of the number of processors and gruop.
	  Most probably this is the bug that was pointed out by Konstantin Kudin
	  some time ago
	- fft task groups driver replaced by the common CP/PW driver in Module

2007-12-27 11:22  cavazzon

	* Modules/: Makefile, fft_parallel.f90, make.depend:

	- new module fft_parallel for CP/PW common fft drivers using data structures
	- Now contains only the common driver for task group fft

2007-12-24 11:26  cavazzon

	* PW/: data_structure.f90, startup.f90, vloc_psi.f90:

	- changes required to implement task groups fft parallelization

2007-12-24 11:21  cavazzon

	* CPV/: chargedensity.f90, cp_interfaces.f90, cplib.f90,
	  fromscra.f90, main.f90, mainvar.f90, nl_base.f90, potentials.f90,
	  restart_sub.f90:

	- clean-up, there was still two version of rhoofr,
	  now only one remains

2007-12-24 11:18  cavazzon

	* CPV/: ortho.f90, ortho_base.f90:

	- more blas calls, performance improvement

2007-12-23 11:45  cavazzon

	* CPV/ortho_base.f90:

	- clean-up, added blas calls in place of fortran loops

2007-12-21 15:02  giannozz

	* examples/environment_variables:

	Unwanted commit reverted

2007-12-21 14:59  giannozz

	* examples/: environment_variables,
	  example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.bands.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.bands.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.phG.out, example02/reference/c.scf.out,
	  example02/reference/ni.phX.out, example02/reference/ni.scf.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.scf.out, example06/reference/alas.freq,
	  example06/reference/alas.ph.out, example06/reference/alas.phdos,
	  example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes,
	  example07/reference/al.elph.out,
	  example07/reference/al.scf.fit.out,
	  example07/reference/al.scf.out, example07/reference/lambda,
	  example08/reference/ni.dos, example08/reference/ni.dos.out,
	  example08/reference/ni.fs.bxsf, example08/reference/ni.pdos.out,
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#2(d),
	  example08/reference/ni.scf.out, example09/reference/ch4.nm.out,
	  example09/reference/ch4.scf.out, example09/reference/dynmat.out,
	  example09/reference/sih4.dyn.out,
	  example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.im,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.ni_down.im,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out, example14/reference/si.anh_G,
	  example14/reference/si.anh_X, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.out, example14/reference/si.nscf.out,
	  example14/reference/si.phG.out, example14/reference/si.phX.out,
	  example14/reference/si.scf.out, example15/reference/alas.dynG,
	  example15/reference/alas.ph.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H-cp.out,
	  example17/reference/H2+H-cp.path, example17/reference/H2+H.axsf,
	  example17/reference/H2+H.dat, example17/reference/H2+H.int,
	  example17/reference/H2+H.out, example17/reference/H2+H.path,
	  example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.axsf,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.int,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/asymmetric_H2+H.xyz,
	  example17/reference/symmetric_H2+H.axsf,
	  example17/reference/symmetric_H2+H.dat,
	  example17/reference/symmetric_H2+H.int,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.xyz,
	  example18/reference/sio2.cp.restart.out,
	  example18/reference/sio2.cp.start.out,
	  example18/reference/sio2.vc-cp.out,
	  example18/reference/sio2.vc-cp.restart.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example21/reference/h2o-32.out, example21/reference/h2o-64.out,
	  example22/reference/bands.pt.im,
	  example22/reference/pt.bands.out,
	  example22/reference/pt.cond.out,
	  example22/reference/pt.cond_t.out,
	  example22/reference/pt.nscf.out,
	  example22/reference/pt.nscf_ph.out,
	  example22/reference/pt.ph.out, example22/reference/pt.phX.out,
	  example22/reference/pt.scf.out,
	  example22/reference/pt.scf_ph.out,
	  example22/reference/pt.tet.out, example22/reference/pt4.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example24/reference/ni.nscf.out, example24/reference/ni.phG.out,
	  example24/reference/ni.phX.out, example24/reference/ni.scf.out,
	  example24/reference/ni_so.nscf.out,
	  example24/reference/ni_so.phG.out,
	  example24/reference/ni_so.phX.out,
	  example24/reference/ni_so.scf.out,
	  example24/reference/pt.nscf.out, example24/reference/pt.phG.out,
	  example24/reference/pt.phX.out, example24/reference/pt.scf.out,
	  example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.out, example25/reference/pmw.out,
	  example27/reference/c4h6.cp.metaGGA.out,
	  example27/reference/c4h6.pw.metaGGA.out,
	  example29/reference/si2.ensemble-dyn.out:

	Most examples updated

2007-12-21 14:40  cavazzon

	* Modules/: mp_global.f90, task_groups.f90:

	- change required to implement task_groups fft parallelization in PW

2007-12-21 10:36  cavazzon

	* Modules/: dspev_drv.f90, fft_base.f90:

	- parallel performance improvement

2007-12-21 10:24  cavazzon

	* Modules/mp_base.f90:

	- Bug fix, wrong behaviour of some driveris for parallel code executed
	  using only one proc.

2007-12-21 10:21  giannozz

	* TODO:

	Updated - notice the new bug!

2007-12-21 10:20  giannozz

	* VdW/: ch_psi_all.f90, dvpsi_e.f90, solve_e.f90:

	Minor changes - will not solve the problem

2007-12-20 16:46  dalcorso

	* atomic/compute_q_3bess.f90:

	Missing routine in previous commit.

2007-12-20 16:36  dalcorso

	* atomic/Makefile, atomic/chargeps.f90, atomic/compute_chi.f90,
	  atomic/descreening.f90, atomic/find_qi.f90,
	  atomic/gener_pseudo.f90, atomic/ld1_readin.f90,
	  atomic/newd_at.f90, atomic/pseudo_q.f90,
	  atomic/read_pseudoupf.f90, atomic_doc/INPUT_LD1:

	PAW Q pseudization could not work in the US-PP case. Substituted with a
	different pseudization in the US case (still experimental).

2007-12-20 11:17  giannozz

	* Modules/bfgs_module.f90:

	function scnorm does not need to be defined real in the calling routine
	because it is in a module; if it is, some compilers may assume it is an
	external routine and not find it. Or at least, this is my understanding.
	I hope no compiler will assume it is single precision...

2007-12-19 19:45  giannozz

	* Doc/INPUT_PW:

	Typo (courtesy of Derek Stewart)

2007-12-19 18:47  giannozz

	* GIPAW/make.depend, Gamma/a_h.f90, Gamma/cgsolve.f90,
	  Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90, Gamma/h_h.f90,
	  Gamma/make.depend, Gamma/rhod2vkb.f90, Gamma/solve_e.f90,
	  Gamma/solve_ph.f90, PH/make.depend, PP/make.depend, PW/Makefile,
	  PW/becmod.f90, PW/ccalbec.f90, PW/ccalbec_nc.f90, PW/make.depend,
	  PW/pw_gemm.f90, PW/pw_restart.f90, PW/read_file.f90,
	  VdW/h_psiq.f90, VdW/solve_e.f90:

	Final (?) calbec cleanup, update of make.depend files

2007-12-19 18:20  giannozz

	* PW/pw_restart.f90:

	Previous commit was quite wrong. Compatibility with file produced by
	the previous version (3.2) re-introduced: please do not forget it.

2007-12-19 16:22  giannozz

	* PW/pw_restart.f90:

	Return code (ierr) was not always initialized. This can be a source of
	strange problems with compilers that do not initialize variables to 0.

2007-12-19 15:41  degironc

	* Modules/bfgs_module.f90, Modules/cell_base.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/input.f90, PW/move_ions.f90, atomic/Makefile,
	  examples/VCSexample/run_example,
	  examples/VCSexample/reference/As.bfgs00.out,
	  examples/VCSexample/reference/As.bfgs500.out:

	bfgs minimization has been added to the vc-relax calculation.
	Scaled (crystal) coordinates (+ cell if needed) are used in the relazation.
	In the normal case it shouls behave exactly as usual.
	CVSexample has been updated adding an example for this feature...
	Once reasonably tested and robust it may be better to move these cases in
	exanple03 that contains other relaxation examples.

2007-12-19 15:07  dalcorso

	* atomic/ascheqps.f90:

	Bug fix. In unfortunate cases the routine used a non initialized variable.
	(Thanks to L. Paulatto).

2007-12-18 23:31  giannozz

	* PH/: add_dkmds.f90, add_for_charges.f90, addusdbec.f90,
	  addusdbec_nc.f90, cch_psi_all.f90, ch_psi_all.f90,
	  compute_becalp.f90, dhdrhopsi.f90, drhodv.f90, dvpsi_e.f90,
	  dynmat_us.f90, h_psiq.f90, localdos.f90, pcgreen.f90,
	  phq_init.f90, print_clock_ph.f90, raman_mat.f90, solve_e.f90,
	  solve_e_fpol.f90, solve_linter.f90:

	Almost final "becmod" cleanup

2007-12-18 22:40  giannozz

	* VdW/solve_e.f90:

	Oops...wasn't even compiling

2007-12-18 22:30  giannozz

	* PP/pw2casino.f90, clib/stack.c:

	Small changes

2007-12-18 22:29  giannozz

	* VdW/ch_psi_all.f90, VdW/dvpsi_e.f90, VdW/print_clock_vdw.f90,
	  VdW/solve_e.f90, GIPAW/apply_vel.f90, GIPAW/efg.f90,
	  GIPAW/g_tensor_crystal.f90, D3/ch_psi_all2.f90,
	  D3/print_clock_d3.f90, GIPAW/gipaw_module.f90,
	  GIPAW/suscept_crystal.f90:

	More "calbec" cleanup - PLEASE TEST

2007-12-14 16:49  cavazzon

	* Modules/fft_base.f90:

	- added a fully non blocking version of scatter, not based on ALLTOALL!
	  It should be better on switched networks like infiniband, ethernet and myrinet,
	  whereas the ALLTOALL based version should be better on networks
	  with a given topology, like on bluegene and cray machines.

	  To enable the fully non blocking scatter use the preprocessor macro:

	  -D__NONBLOCKING_FFT

2007-12-14 15:22  paulatto

	* Modules/make.depend, Modules/read_upf.f90, Modules/uspp.f90,
	  PH/make.depend, PW/allocate_fft.f90, PW/allocate_nlpot.f90,
	  PW/electrons.f90, PW/init_us_1.f90, PW/make.depend,
	  PW/mix_rho.f90, PW/paw_init.f90, PW/paw_onecenter.f90,
	  PW/scf_mod.f90, atomic/atomic_paw.f90, atomic/make.depend:

	Trying to simplify paw self-consistency I have put becsum into the scf type, this requires a bit of a hack.
	Symmetrization of becsum simplified a bit introducing mapping to "triangular" composite index.
	Read upf now uses default (*) format for paw part.

2007-12-14 12:23  cavazzon

	* Modules/ptoolkit.f90:

	- added error check (ierr/=0) for all mpi calls.
	- added calls to mpi_request_free for non blocking communications,
	  to be sure that none of the internal MPI objects is kept allocated.

2007-12-14 12:12  cavazzon

	* CPV/ortho_base.f90:

	 some MPIs (like OpenMPI) the first time they call a collective mpi routine take
	 much more time than the calls that follows, because of initialization activities.
	 Then, where performances are evaluated, a dummy call to the parallel
	 subroutine has been added before the timed one.

2007-12-14 11:36  giannozz

	* PP/: Makefile, plotband.f90, plotproj.f90, plotrho.f90,
	  pw2casino.f90:

	1) added compilation of epsilon.x by default. Maybe we should consider as
	well removing compilation of seldom-used or obsolescent programs: pw_export,
	pw2gw, pw2casino, voronoy, dipole, are likely candidates.
	2) removed any dependence on modules on some simple programs so that the
	executable is a few Kb instead of many Mb.
	3) minor changes to pw2casino (Dario)

2007-12-14 09:28  dalcorso

	* atomic/compute_phi.f90:

	Cleanup.

2007-12-12 18:40  giannozz

	* PH/punch_plot_e.f90:

	Fixed crash in punch_plot_e in lsda case (Kostya)
	punch_plot_ph and punch_plot_e (two very similar routines, by the way)
	are called if variable  'fildrho' is set. This is a bad idea because
	variable 'fildrho' is also used for completely different purposes, in
	particular for Raman calculation. This should be fixed sooner or later.

2007-12-12 18:22  giannozz

	* PW/electrons.f90:

	Minor change to LDA+U output suggested by MC

2007-12-12 11:59  giannozz

	* configure, configure.ac:

	Static linkng option for g95 as well

2007-12-12 10:53  giannozz

	* TODO, configure, configure.ac:

	TODO updated, static option added for gfortran

2007-12-12 10:52  giannozz

	* Doc/BUGS:

	Updated

2007-12-12 10:52  giannozz

	* PW/electrons.f90:

	Fake LDA+U output appearing after yesterday's commit removed

2007-12-12 10:30  dalcorso

	* PH/phq_summary.f90, PW/summary.f90:

	If there are more than 10000 k points,  write on output their coordinates
	only if verbosity='high'.

2007-12-11 23:45  degironc

	* Modules/make.depend, Modules/paw_variables.f90, Modules/uspp.f90,
	  PH/make.depend, PH/phq_init.f90, PW/electrons.f90,
	  PW/init_us_1.f90, PW/make.depend, PW/mix_rho.f90, PW/newd.f90,
	  PW/paw_init.f90, PW/paw_onecenter.f90, PW/potinit.f90,
	  PW/print_ks_energies.f90, PW/read_file.f90,
	  PW/restart_in_ions.f90, PW/scf_mod.f90, PW/update_pot.f90,
	  PWCOND/do_cond.f90, PWCOND/make.depend, atomic/ascheqps.f90,
	  atomic/atomic_paw.f90, atomic/gener_pseudo.f90:

	update of several PAW routines.
	global auxiliary variable saved%v removed and replace by a smaller local array.
	ddd_PAW has now the same indexing structure as becsum.

	miscellaneous:
	- defined undefined variable ze2=0 in ascheqps
	- ibnd_up/dw initialized in print_ks_energies.f90

2007-12-11 19:43  giannozz

	* PH/q_points.f90, PW/ccalbec.f90, PW/electrons.f90,
	  PW/make.depend, PW/setup.f90, PW/summary.f90, PW/write_ns.f90:

	LDA+U output less verbose and less confusing (maybe). Minor changes
	here and there.

2007-12-11 18:06  dalcorso

	* PH/el_opt.f90:

	Problem fix: Example 15 now seems to run with pools.

2007-12-11 16:51  dalcorso

	* PH/hdiag.f90:

	Bug fix: now example 15 seems to work again.

2007-12-06 17:42  paulatto

	* PW/electrons.f90:

	There was one more assigment for scf_type not included in Cavazzoni commit; small (?) fix for paw.

2007-12-06 16:04  cavazzon

	* PW/h_psi.f90:

	- workaround for PGI compiler

2007-12-06 14:20  cavazzon

	* PW/: electrons.f90, scf_mod.f90:

	- blas like COPY routine added for scf_type,
	 to replace default copy operator "="
	- PGI was giving internal compiler error

2007-12-06 11:57  ceresoli

	* GIPAW/: apply_vel.f90, ch_psi_all.f90, greenfunction.f90,
	  h_psiq.f90:

	<beta|psi> cleanup. (D.C.)

2007-12-06 11:43  giannozz

	* PW/: Makefile, c_bands.f90, ccgdiagg.f90, cegterg.f90,
	  make.depend, rotate_wfc.f90, rotate_wfc_k.f90, rotate_wfc_nc.f90:

	Some cleanup in diagonalization routines

2007-12-06 11:07  giannozz

	* PP/: add_shift_us.f90, bands.f90, compute_ppsi.f90,
	  local_dos.f90, local_dos_mag.f90, make.depend, plan_avg.f90,
	  poormanwannier.f90, projwfc.f90, pw2casino.f90, pw2wannier90.f90,
	  pw_export.f90, sym_band.f90, write_p_avg.f90:

	More <beta|psi> cleanup

2007-12-06 10:59  cavazzon

	* configure:

	- fix for ftn cray xt4 compiler
	WARNING autoconf 2.59 generates a broken configure on cray xt4 systems!

2007-12-06 10:24  giannozz

	* PW/: make.depend, update_pot.f90:

	Reduction of memory usage in wavefunction extrapolation

2007-12-05 17:39  dalcorso

	* PW/: divide_class.f90, divide_class_so.f90:

	Bug fix: problems with D_4 group. (Contributed by M. Lazzeri)

2007-12-05 17:16  dalcorso

	* atomic/atomic_paw.f90:

	Small changes just to avoid multiple output with several processors.

2007-12-05 15:14  giannozz

	* PW/: add_vuspsi.f90, add_vuspsi_nc.f90, becmod.f90,
	  bp_c_phase.f90, c_bands.f90, c_phase_field.f90, ccalbec.f90,
	  ccalbec_nc.f90, compute_becsum.f90, dndepsilon.f90,
	  force_hub.f90, force_us.f90, h_1psi.f90, h_epsi_her_apply.f90,
	  h_epsi_her_set.f90, h_psi.f90, make.depend, orthoatwfc.f90,
	  print_clock_pw.f90, pw_gemm.f90, s_1psi.f90, s_psi.f90,
	  stres_us.f90, sum_band.f90, update_pot.f90:

	New interface "calbec" for calculation of <beta|psi>. Less clumsy than the
	previous ones, might be useful the day such arrays will be distributed.
	Allows calculation of overlap matrices as well. Requires properly dimensioned
	arrays on input! old routines ccalbec, ccalbec_nc, pw_gemm are still there.
	Also: minor bug in Berry phase fixed, I think (the various npw, npw0, npw1
	were inconsistently used; electric field was not affected). Please check for
	collateral damages.

2007-12-05 15:09  paulatto

	* PW/mix_rho.f90:

	Now it should work again... sorry.

2007-12-05 10:55  paulatto

	* PW/mix_rho.f90:

	Call to dpotrf removed

2007-12-04 15:44  paulatto

	* PW/make.depend:

	Dependencies updated for previous commit

2007-12-04 15:38  paulatto

	* PW/mix_rho.f90:

	Fix on previous commit

2007-12-04 15:20  paulatto

	* CPV/make.depend, Modules/paw_variables.f90, Modules/read_upf.f90,
	  PW/electrons.f90, PW/init_us_1.f90, PW/make.depend,
	  PW/mix_rho.f90, PW/paw_init.f90, PW/paw_onecenter.f90,
	  PW/scf_mod.f90, flib/dylmr2.f90:

	A few modification aiming at the solution of PAW convergence problems, not yet definitive.
	Precision of dylmr2 increased a bit, maybe it's not necessary
	mix_rho messed up a bit, included the possibility to normalize mixing matrix (disabled by default)
	Added a currently unused function in paw_init to increase integration precision on the fly

2007-12-04 15:00  dalcorso

	* PWCOND/do_cond.f90:

	Pwcond does not work with pools. Added a check to stop this case.

2007-12-04 10:40  dalcorso

	* PH/: phonon.f90, phq_readin.f90:

	Problem fix: The option lnscf was not implemented with pools.

2007-12-04 10:36  dalcorso

	* PH/: add_dkmds.f90, add_for_charges.f90, psidspsi.f90:

	Problems with effective charges due to the noncollinear extension.

2007-12-04 10:31  dalcorso

	* PH/q_points.f90:

	Problems with iq1 iq2 iq3.

2007-12-04 10:11  degironc

	* Doc/INPUT_PW:

	reference for dipol correction corrected

2007-12-03 17:29  giannozz

	* tests/: README, atom-lsda.ref, atom-pbe.ref, atom-sigmapbe.ref,
	  atom.ref, berry.ref, berry.ref2, check-pw.x.j,
	  lattice-ibrav0-abc.ref, lattice-ibrav0-cell_parameters+a.ref,
	  lattice-ibrav0-cell_parameters+celldm.ref,
	  lattice-ibrav0-cell_parameters.ref, lattice-ibrav1-kauto.ref,
	  lattice-ibrav1.ref, lattice-ibrav10-kauto.ref,
	  lattice-ibrav10.ref, lattice-ibrav11-kauto.ref,
	  lattice-ibrav11.ref, lattice-ibrav12-kauto.ref,
	  lattice-ibrav12.ref, lattice-ibrav13-kauto.ref,
	  lattice-ibrav13.ref, lattice-ibrav14-kauto.ref,
	  lattice-ibrav14.ref, lattice-ibrav2-kauto.ref,
	  lattice-ibrav2.ref, lattice-ibrav3-kauto.ref, lattice-ibrav3.ref,
	  lattice-ibrav4-kauto.ref, lattice-ibrav4.ref,
	  lattice-ibrav5-kauto.ref, lattice-ibrav5.ref,
	  lattice-ibrav6-kauto.ref, lattice-ibrav6.ref,
	  lattice-ibrav7-kauto.ref, lattice-ibrav7.ref,
	  lattice-ibrav8-kauto.ref, lattice-ibrav8.ref,
	  lattice-ibrav9-kauto.ref, lattice-ibrav9.ref, lda+U-noU.ref,
	  lda+U-user_ns.ref, lda+U.ref, lsda-cg.ref, lsda-mixing_TF.ref,
	  lsda-mixing_localTF.ref, lsda-mixing_ndim.ref,
	  lsda-nelup+neldw.ref, lsda-tot_magnetization.ref, lsda.ref,
	  lsda.ref2, md.ref, metaGGA.ref, metadyn.ref,
	  metal-fermi_dirac.ref, metal-gaussian.ref, metal-tetrahedra.ref,
	  metal-tetrahedra.ref2, metal.ref, metal.ref2, neb1-H2+H.ref,
	  neb2-H2+H-symm.ref, neb3-H2+H-asym.ref, noncolin-cg.ref,
	  noncolin-constrain_angle.ref, noncolin-constrain_atomic.ref,
	  noncolin-constrain_total.ref, noncolin.ref, noncolin.ref2,
	  relax-damped.ref, relax-pot_extrap1.ref, relax-pot_extrap2.in,
	  relax-pot_extrap2.ref, relax.ref, relax2-bfgs_ndim3.ref,
	  relax2-wfc_extrapol1.ref, relax2-wfc_extrapol2.ref, relax2.ref,
	  scf-cg.ref, scf-disk_io.ref, scf-gamma.ref, scf-k0.ref,
	  scf-kauto.ref, scf-mixing_TF.ref, scf-mixing_beta.ref,
	  scf-mixing_localTF.ref, scf-mixing_ndim.ref, scf-ncpp.ref,
	  scf-wf_collect.ref, scf.ref, scf.ref2, spinorbit.ref,
	  spinorbit.ref2, uspp-cg.ref, uspp-mixing_TF.ref,
	  uspp-mixing_localTF.ref, uspp-mixing_ndim.ref,
	  uspp-singlegrid.ref, uspp.ref, uspp.ref2, uspp1-coulomb.ref,
	  uspp1.ref, uspp2.ref, vc-relax1.ref, vc-relax2.ref:

	Automated tests updated

2007-12-03 17:14  umari

	* PW/: h_1psi.f90, h_epsi_her_apply.f90, h_epsi_her_set.f90:

	Bugs in electric field with US pseudopotemtial or cg diagonalization
	corrected
	P.U.

2007-12-03 17:11  giannozz

	* PW/force_us.f90:

	Error in previous commit fixed

2007-12-03 16:52  giannozz

	* PW/: force_us.f90, make.depend, orthoatwfc.f90, stres_us.f90,
	  sum_band.f90:

	More cleanup (?) in <beta|psi> calculation

2007-12-03 14:31  giannozz

	* PW/: becmod.f90, c_bands.f90, input.f90, make.depend,
	  update_pot.f90, wfcinit.f90:

	Wavefunction extrapolation should work for all cases (not sure about PAW).
	Some cleanup in the allocation of bec(i,j) = <beta_i|psi_j> .

2007-12-03 09:40  giannozz

	* PH/: phonon.f90, q_points.f90:

	single-q phonon calculation re-added (untested)

2007-11-29 17:45  giannozz

	* Doc/: INPUT_EFG, README, README.XT3, restart:

	Documentation updated (moved, removed,...)

2007-11-29 16:42  dalcorso

	* atomic_doc/pseudo_library/: LDA/REL/Cd.rel-pz-rrkjus.in,
	  LDA/SR/Cd.pz-rrkjus.in, PBE/REL/Cd.rel-pbe-rrkjus.in,
	  PBE/SR/Cd.pbe-rrkjus.in:

	Pseudo_library update.

2007-11-29 16:39  giannozz

	* PW/bp_strings.f90, PW/kpoint_grid.f90, PW/pwcom.f90,
	  PW/setup.f90, PWCOND/do_cond.f90, PH/matdyn.f90,
	  PH/phq_setup.f90, PH/q_points.f90:

	Variable 'time_reversal' added. It contains information that was already
	present but somewhat hidden. I hope that everything works as before
	(matdyn doesn't work with spin-orbit or noncolinear case, but I think
	it didn't already) but it is a good idea to check. The choice of a single
	q-point in phonon via iq1,iq2,iq3 is presently disabled.

2007-11-29 15:06  dalcorso

	* PW/: newd.f90, paw_init.f90:

	Bug fix: problems mixing paw/nonpaw pseudopotentials.

2007-11-29 10:03  giannozz

	* PW/: cdiaghg.f90, rdiaghg.f90:

	*diaghg is now split into three distinct subroutines:
	serial, parallel-distributed, parallel-not distributed.
	The latter was not used before (I think) and is not presently used
	(and maybe will never be, but I prefer not to throw it away yet)

2007-11-29 09:57  dalcorso

	* PW/paw_init.f90:

	Bug fix: incorrect index.

2007-11-26 14:52  giannozz

	* TODO, make.sys.in:

	Updated TODO lits - please have a look

2007-11-26 14:24  ceresoli

	* Modules/read_upf.f90:

	Small change to continue using GIPAW reconstructions. (D.C.)

2007-11-26 14:23  ceresoli

	* examples/GIPAW_example/pseudo/: C.pbe-tm-gipaw.UPF,
	  H.pbe-tm-gipaw.UPF, O.pbe-tm-gipaw.UPF, Si.pbe-tm-gipaw.UPF:

	GIPAW example updated. (D.C.)

2007-11-26 12:29  ceresoli

	* GIPAW/: g_tensor_crystal.f90, gipaw_module.f90:

	Small changes after scf_type. (D.C.)

2007-11-26 10:35  degironc

	* PW/: cdiaghg.f90, cegterg.f90:

	updated clock names in the parallel case

2007-11-23 18:35  dalcorso

	* atomic/read_pseudoupf.f90:

	Improvements on yesterday commit.

2007-11-23 17:00  giannozz

	* Modules/clocks.f90, PW/cdiaghg.f90, PW/cegterg.f90, PW/h_psi.f90,
	  PW/potinit.f90, PW/print_clock_pw.f90, PW/rdiaghg.f90,
	  PW/realus.f90, PW/regterg.f90, PW/sum_band.f90:

	Cleanup of cpu time printout; start_clock and stop_clock modified to avoid
	trouble if label is longer than expected

2007-11-23 11:02  giannozz

	* PW/Makefile, PW/c_bands.f90, PW/cgramg1.f90, PW/cinitcgg.f90,
	  PW/complex_diis_module.f90, PW/diis_base.f90, PW/input.f90,
	  PW/make.depend, PW/print_clock_pw.f90, PW/real_diis_module.f90,
	  PW/rinitcgg.f90, PW/setup.f90, PW/summary.f90, PH/hdiag.f90,
	  PH/make.depend:

	More cleanup: subspace rotation specific for cg diagonalization replaced
	by the parallelized version. Diis removed.

2007-11-22 22:57  cavazzon

	* PW/: mix_rho.f90, scf_mod.f90:

	- workaround for PGI bug
	  in some cases PGI (7.0 and 7.1) fails to compile properly
	  the copy operator "=" for derived type containing pointers

2007-11-22 22:28  giannozz

	* Modules/control_flags.f90, PW/Makefile, PW/c_bands.f90,
	  PW/ccgdiagg.f90, PW/cegterg.f90, PW/cinitcgg.f90, PW/h_1psi.f90,
	  PW/h_psi.f90, PW/h_psi_meta.f90, PW/h_psi_nc.f90, PW/make.depend,
	  PW/pwcom.f90, PW/regterg.f90, PW/rotate_wfc.f90,
	  PW/rotate_wfc_nc.f90, PW/s_psi.f90, PW/s_psi_nc.f90,
	  PW/wfcinit.f90:

	Some cleanup in the various diagonalization routines, h_psi and s_psi.
	Note that both the electric enthalpy term and the noncollinear routines
	are called by h_psi and s_psi. Changes should be harmless.

2007-11-22 16:14  giannozz

	* CPV/: Makefile, cglib.f90, dealloc.f90, guess.f90, input.f90,
	  make.depend:

	Fixed yesterday's compilation problem: guess.f90 removed, para_dgemm
	re-added (to cglib, only place where it is used)

2007-11-22 15:22  giannozz

	* D3/d3toten.f90, D3/make.depend, GIPAW/gipaw_main.f90,
	  Gamma/cg_readin.f90, Gamma/make.depend,
	  Modules/control_flags.f90, PH/phonon.f90, PH/phq_readin.f90,
	  PP/add_shift_cc.f90, PP/add_shift_us.f90, PP/dipole.f90,
	  PP/do_initial_state.f90, PP/elf.f90, PP/local_dos.f90,
	  PP/make.depend, PP/plan_avg.f90, PP/poormanwannier.f90,
	  PP/projwfc.f90, PP/punch_plot.f90, PP/pw2casino.f90,
	  PP/pw2gw.f90, PP/pw2wannier90.f90, PP/pw_export.f90,
	  PP/start_postproc.f90, PP/stm.f90, PW/Makefile,
	  PW/add_vuspsi.f90, PW/addusdens.f90, PW/addusforce.f90,
	  PW/addusstress.f90, PW/allocate_fft.f90, PW/atomic_rho.f90,
	  PW/c_bands.f90, PW/ccalbec.f90, PW/cgramg1.f90, PW/clean_pw.f90,
	  PW/compute_becsum.f90, PW/electrons.f90, PW/exx.f90,
	  PW/force_cc.f90, PW/force_corr.f90, PW/force_hub.f90,
	  PW/force_us.f90, PW/forces.f90, PW/ggen.f90, PW/gradcorr.f90,
	  PW/h_psi.f90, PW/h_psi_meta.f90, PW/input.f90,
	  PW/interpolate.f90, PW/make.depend, PW/makov_payne.f90,
	  PW/memory_report.f90, PW/mix_rho.f90, PW/new_ns.f90, PW/newd.f90,
	  PW/orthoatwfc.f90, PW/paw_onecenter.f90, PW/pw_restart.f90,
	  PW/pwcom.f90, PW/pwscf.f90, PW/rotate_wfc.f90,
	  PW/rotate_wfc_gamma.f90, PW/rotate_wfc_k.f90,
	  PW/rotate_wfc_nc.f90, PW/s_1psi.f90, PW/s_psi.f90,
	  PW/scf_mod.f90, PW/set_rhoc.f90, PW/setlocal.f90, PW/setup.f90,
	  PW/stres_cc.f90, PW/stres_har.f90, PW/stres_hub.f90,
	  PW/stres_knl.f90, PW/stres_loc.f90, PW/stres_us.f90,
	  PW/stress.f90, PW/sum_band.f90, PW/v_of_rho.f90, PW/vhpsi.f90,
	  PW/vhpsi_nc.f90, PW/wfcinit.f90, VdW/check_v_eff.f90,
	  VdW/eff_pot.f90, VdW/make.depend, VdW/start_vdw.f90:

	Cleanup of wavefunction initialization. Since I wasted two hours hunting
	for a bug, before I realized that there were two copies of "gamma_only",
	I wasted two more hours to iuse a single value of "gamma_only" (the one
	oin control_flags).

2007-11-22 14:37  dalcorso

	* Modules/read_upf.f90:

	Sorry. One missing routine in previous commit.

2007-11-22 12:14  dalcorso

	* Modules/pseudo_types.f90, atomic/read_pseudoupf.f90:

	The atomic code can now test the PAW.UPF pseudopotentials.

2007-11-22 11:47  paulatto

	* Modules/pseudo_types.f90:

	pawset%augfun and pawset%augmom were allocated more than necessary.

2007-11-21 21:45  giannozz

	* Modules/control_flags.f90, Modules/dspev_drv.f90,
	  Modules/input_parameters.f90, Modules/make.depend,
	  Modules/ptoolkit.f90, Modules/read_namelists.f90,
	  Modules/zhpev_drv.f90, PW/cdiagh.f90, PW/cdiaghg.f90,
	  PW/cegterg.f90, PW/input.f90, PW/make.depend, PW/rdiagh.f90,
	  PW/rdiaghg.f90, PW/regterg.f90, PW/rotate_wfc.f90,
	  PW/rotate_wfc_gamma.f90, PW/rotate_wfc_nc.f90, PW/setup.f90:

	Old parallel subspace diagonalization (with matrix not distributed) removed

2007-11-21 16:49  giannozz

	* README, README.configure, configure, configure.ac, Doc/CREDITS,
	  Doc/INPUT_PP, Doc/INPUT_PW:

	Doc + configure update

2007-11-21 15:41  dalcorso

	* Modules/read_upf.f90, atomic_doc/all-electron/clean.sh:

	Small change. Old pseudopotentials generated by ld1 in UPF format can be tested
	again.

2007-11-21 11:39  paulatto

	* D3/Makefile, GIPAW/Makefile, Gamma/Makefile, Modules/Makefile,
	  Modules/make.depend, Modules/pseudo_types.f90,
	  Modules/read_paw.f90, Modules/read_upf.f90, PH/Makefile,
	  PH/make.depend, PP/Makefile, PP/make.depend, PW/Makefile,
	  PW/make.depend, PW/paw_init.f90, PW/paw_onecenter.f90,
	  PW/read_pseudo.f90, PWCOND/Makefile, PWCOND/make.depend,
	  VdW/Makefile, atomic/Makefile, atomic/atomic_paw.f90,
	  atomic/ld1_readin.f90, atomic/ld1_writeout.f90,
	  atomic/make.depend, atomic/read_pseudoupf.f90, flib/simpsn.f90:

	Fixes: ld1 test of upf types was not working anymore (same as reason as CP).
	Mods: removed read_paw module and .PAW temporary format support. Makefiles and
	make.depend updated accordingly.
	Fixes in ld1: test of upf types was not working anymore (same as reason as CP),
	added deallocation of pawsetup. As testing of PAW without generation may not
	work yet I have put a big error for it.
	Other: simpson_cp90 was pretending to be simpson in error messages

2007-11-20 18:44  giannozz

	* PW/clean_pw.f90, PW/mix_rho.f90,
	  Modules/basic_algebra_routines.f90, Modules/paw_variables.f90,
	  include/defs.h.README:

	gfortran hacks - not nice but not too invasive either

2007-11-20 18:43  cavazzon

	* PW/: setup.f90, input.f90:

	- if nproc_pool >= 4 then
	     diagonalization='david'
	  is equivalent to
	     diagonalization='david+distpara'
	  to force serial algorithm use
	     diagonalization='david+serial'

2007-11-20 15:36  paulatto

	* atomic/ld1_writeout.f90, PW/paw_onecenter.f90,
	  atomic/write_upf.f90:

	Minor fixes

2007-11-20 14:23  paulatto

	* PW/paw_init.f90:

	Introduced nullify: now checks for association should work correctly.

2007-11-20 13:55  cavazzon

	* CPV/read_pseudo.f90:

	- fix in read pseudo,
	  upf grid component associated to atomic grid

2007-11-20 12:13  paulatto

	* CPV/read_pseudo.f90:

	Recent modifications caused bug when using non-upf pseudopotential. Now I'll check if it happens elesewhere...

2007-11-20 11:14  giannozz

	* Modules/: make.depend, read_paw.f90, upf_to_internal.f90,
	  uspp.f90:

	Obsolete variable tvanp removed

2007-11-20 10:58  dalcorso

	* PW/compute_qdipol.f90:

	The same logic of init_us_1 exported in compute_qdipol.

2007-11-20 10:27  paulatto

	* PW/paw_init.f90:

	Proper deallocate added

2007-11-20 10:11  dalcorso

	* PH/Makefile, PH/compute_becsum.f90, PH/compute_becsum_ph.f90,
	  PH/drho.f90, PH/phq_init.f90, PH/phq_readin.f90, PP/postproc.f90,
	  PW/Makefile, PW/compute_becsum.f90, PW/paw_init.f90,
	  PW/read_file.f90, PWCOND/Makefile, PWCOND/do_cond.f90,
	  PWCOND/openfil_cond.f90:

	Added the possibility to use paw pseudopotentials in PWCOND.
	(Still experimental).

2007-11-20 09:27  dalcorso

	* PP/: add_shift_us.f90, local_dos.f90:

	tvanp --> upf%tvanp.

2007-11-20 09:23  dalcorso

	* PP/: addusdens1d.f90, bands.f90, cgracsc.f90,
	  compute_sigma_avg.f90, local_dos1d.f90, local_dos_mag.f90,
	  pw2wannier90.f90:

	tvanp --> upf%tvanp.

2007-11-19 17:20  paulatto

	* Modules/atom.f90, Modules/exc_t.f90, Modules/make.depend,
	  Modules/paw_variables.f90, Modules/pseudo_types.f90,
	  Modules/radial_grids.f90, Modules/read_paw.f90,
	  Modules/read_upf.f90, Modules/upf_to_internal.f90,
	  Modules/vxc_t.f90, PP/make.depend, PW/electrons.f90,
	  PW/init_us_1.f90, PW/make.depend, PW/paw_init.f90,
	  PW/paw_onecenter.f90, PW/print_clock_pw.f90, PW/read_pseudo.f90,
	  PW/summary.f90, atomic/atomic_paw.f90, atomic/ld1_writeout.f90,
	  atomic/make.depend, atomic/write_upf.f90:

	A lot of little improvements and little new features have been added to PAW
	routines, actually results should be the same, and execution time should be
	a lot shorter.
	 * each atom type now integrated to a different max(l)
	 * max(l) tuned in order to exclude the non local channel of pseudo-
	   potential, if it's empty
	 * several implementation optimization
	 * all occurences of ALLOCATABLE changed to POINTER inside derived types
	 * added original Bloechl shape for augmentation charge, at the moment it
	   is not useful but if someone wants to implement analylitical correction
	   to overlaps...
	 * PAW now uses UPF format, the format is still being tested: it will
	   probably change a bit in the near future
	 * as a consequence radial grids are now pointed from upf type and can be
	   updated directly in read_upf, upf_to_internal don't have to set the grid
	   anymore (at the moment only for pseudos read from upf files)
	 * added a non-destructive check for abs(zeta)>1. in vxc_t
	LP

2007-11-19 16:04  cavazzon

	* Modules/pseudo_types.f90:

	- ALLOCATABLE members in paw_in_upf type substituted with POINTERS.
	  It is too early for this language feature (it is in the 2003 revision of the standard)
	  some compiler does not support it yet.
	- paw_in_upf was not properly nullified and deallocated as a member of pseudo_type

2007-11-19 15:51  giannozz

	* CPV/cprsub.f90, CPV/guess.f90, CPV/make.depend,
	  Modules/make.depend, Modules/parameters.f90,
	  Modules/paw_variables.f90, Modules/uspp.f90, PW/init_us_1.f90,
	  PW/make.depend, PW/paw_onecenter.f90:

	Minor cleanup; max number of species brought back to 10

2007-11-19 14:39  cavazzon

	* GIPAW/Makefile:

	- added file Modules/mp_base.o

2007-11-19 14:19  cavazzon

	* PW/para.f90:

	- further mpi wrappers (parallel min and max)

2007-11-19 14:19  cavazzon

	* Modules/: fft_base.f90, mp.f90, mp_base.f90:

	- further mpi wrappers (parallel min and max)
	- use of DCOPY in fft_scatter is inefficient
	  when using a large number of processors

2007-11-18 22:19  degironc

	* examples/example27/run_example:

	previous commit was wrong

2007-11-18 21:25  degironc

	* D3/d3_setup.f90, GIPAW/gipaw_module.f90, Gamma/cg_setup.f90,
	  PH/dvanqq.f90, PH/phq_setup.f90, PP/punch_plot.f90,
	  PP/pw2casino.f90, PP/work_function.f90, PW/addusforce.f90,
	  PW/addusstress.f90, PW/allocate_fft.f90, PW/allocate_nlpot.f90,
	  PW/clean_pw.f90, PW/electrons.f90, PW/force_corr.f90,
	  PW/force_hub.f90, PW/hinit1.f90, PW/newd.f90, PW/potinit.f90,
	  PW/pwcom.f90, PW/read_file.f90, PW/realus.f90,
	  PW/restart_in_ions.f90, PW/save_in_electrons.f90, PW/scf_mod.f90,
	  PW/set_vrs.f90, PW/stres_hub.f90, PW/update_pot.f90,
	  PW/v_of_rho.f90, PW/vhpsi.f90, PW/vhpsi_nc.f90, PWCOND/poten.f90,
	  VdW/eff_pot.f90, examples/example27/run_example:

	also the scf potential is defined using the scf_type.
	then call to v_of_r has been simplified

2007-11-17 15:32  cavazzon

	* CPV/Makefile, D3/Makefile, Gamma/Makefile, Modules/Makefile,
	  Modules/make.depend, Modules/mp.f90, Modules/mp_base.f90,
	  PH/Makefile, PP/Makefile, PW/Makefile, PW/make.depend,
	  PW/para.f90, PWCOND/Makefile, VdW/Makefile, atomic/Makefile,
	  atomic/make.depend, pwtools/Makefile, upftools/Makefile:

	- new file mp_base.f90 containing mpi wrapper for block communications,
	  like in it was in reduce sub of PW. This is to avoid large temporary
	  array allocations in module mp.f90 (mp.f90 calls subs in mp_base.f90).
	  On the other hands mp.f90 provide the general interfaces for different
	  kind of data and data size checking.

2007-11-16 18:54  giannozz

	* atomic_doc/: README, pseudo-gen.tex:

	Documentation updated

2007-11-16 18:35  giannozz

	* Modules/input_parameters.f90, Modules/paw_variables.f90,
	  PW/bp_c_phase.f90, PW/c_bands.f90, PW/c_phase_field.f90,
	  PW/input.f90, PW/openfil.f90, PW/pwcom.f90, PW/pwscf.f90,
	  PW/wfcinit.f90:

	startingwfc='atomic-safe' was ignored (the variable was 6 characters!)
	Now it works (i.e. it does something, as opposed to doing nothing)
	with a more descriptive and less promising name: startingwfc='atomic+random'
	Some cleanup of Berry phase and electric fields stuff - shouldn't change
	anything. More descriptive message about surviving static dimensions.

2007-11-16 11:51  giannozz

	* README, README.cvs, README.install, TODO:

	Documentation updated

2007-11-16 11:50  ceresoli

	* GIPAW/: Makefile, make.depend, paw_gipaw.f90:

	Temporary hack until GIPAW becomes more ``dynamic''. (D.C.)

2007-11-14 12:39  giannozz

	* TODO:

	To do ...

2007-11-14 11:06  dalcorso

	* PW/paw_init.f90:

	Bug fix: upf(nt)%rho_atc is used by all processors in force_cc and cannot
	be deallocated.

2007-11-13 18:42  dalcorso

	* Modules/pseudo_types.f90, Modules/read_upf.f90,
	  PW/compute_qdipol.f90, PW/init_us_1.f90, atomic/Makefile,
	  atomic/atomic_paw.f90, atomic/chargeps.f90,
	  atomic/descreening.f90, atomic/gener_pseudo.f90,
	  atomic/ld1_readin.f90, atomic/ld1inc.f90, atomic/newd_at.f90,
	  atomic/pseudo_q.f90, atomic/read_pseudoupf.f90,
	  atomic/write_upf.f90, atomic_doc/INPUT_LD1, atomic_doc/README,
	  atomic_doc/all-electron/AAREADME:

	The pseudization of the Q functions exported also to the US-PP.

2007-11-13 17:47  degironc

	* Gamma/dynmatcc.f90, Modules/uspp.f90, PH/dynmatcc.f90,
	  PP/add_shift_cc.f90, PP/pw2casino.f90, PP/work_function.f90:

	call of v_of_rho has been simplified using scf_type

2007-11-13 17:46  degironc

	* PW/: electrons.f90, force_cc.f90, input.f90, potinit.f90,
	  read_file.f90, report_mag.f90, restart_in_ions.f90, scf_mod.f90,
	  set_rhoc.f90, stres_cc.f90, update_pot.f90, v_of_rho.f90:

	call to v_of_rho has been simplified using scf_type.

2007-11-13 16:15  paulatto

	* GIPAW/Makefile, GIPAW/gipaw_module.f90, GIPAW/init_gipaw_1.f90,
	  GIPAW/make.depend, GIPAW/paw_gipaw.f90, Modules/make.depend,
	  Modules/paw_variables.f90, Modules/pseudo_types.f90,
	  Modules/read_paw.f90, PW/init_run.f90, PW/init_us_1.f90,
	  PW/make.depend, PW/newd.f90, PW/paw_init.f90,
	  PW/paw_onecenter.f90:

	All pseudopotential data required for PAW is now dynamically allocated inside the upf structure. Parameters ndmx and nbrx are no more ne
	cessary for PAW, the latter has been moved to GIPAW/gipaw_module.f90, as it is only used there.

	Added a little trick to free some memory after the initialization is completed (only for parallel .and. PAW, but similar method could be
	 used for US too; is it worth the hassle?)

	Minor changes in paw_symmetrize (added parallel) and paw_newd.

	LP

2007-11-13 12:43  cavazzon

	* Modules/mp.f90:

	- fixed the bug related to msglen in mp_get and mp_put

2007-11-12 18:35  paulatto

	* Modules/read_paw.f90:

	removed function still present in USE statement

2007-11-12 18:32  paulatto

	* tests/check-pw.x.j:

	restored previous version

2007-11-12 18:31  paulatto

	* Modules/make.depend, Modules/paw_variables.f90,
	  Modules/read_paw.f90, PW/make.depend, PW/paw_init.f90,
	  tests/check-pw.x.j:

	Step many of many: removed a log time unused array, there are still a few static arrays but they are much less memory greedy then the on
	es I have removed today.

	read_paw has been cleaned up a lot. The various option to cut-off atomic functions has been removed as current one works well enough.

	make.depend updated again for some reason.

2007-11-12 18:19  paulatto

	* Modules/paw_variables.f90, Modules/pseudo_types.f90,
	  Modules/read_paw.f90, PW/paw_onecenter.f90:

	Step 2 of many: rho core and local potential moved to upf.

2007-11-12 17:24  dalcorso

	* atomic_doc/: all-electron/u1.in, all-electron/w.in,
	  pseudo-test/o.in, pseudo-test/reference/al.out,
	  pseudo-test/reference/as.out, pseudo-test/reference/ga.out,
	  pseudo-test/reference/ni.out, pseudo-test/reference/o.out,
	  pseudo-test/reference/rh.out, pseudo-test/reference/s.out:

	Update of pseudo-test example.
	Small changes to all-electron inputs (use the default mesh).

2007-11-12 17:20  paulatto

	* Modules/paw_variables.f90, Modules/pseudo_types.f90,
	  Modules/read_paw.f90, PW/electrons.f90, PW/init_us_1.f90,
	  PW/newd.f90, PW/paw_init.f90, PW/paw_onecenter.f90,
	  PW/read_file.f90, PW/read_pseudo.f90, PW/setup.f90,
	  PW/summary.f90:

	Step 1 of many: paw augmentation functions moved to upf structure
	(I apologise for the many check-ins I'll do, but I have to keep track of changes.)
	LP

2007-11-12 16:33  paulatto

	* PW/: make.depend, mix_rho.f90:

	Small error slipped in previous commit.

2007-11-12 15:49  paulatto

	* D3/Makefile, GIPAW/Makefile, GIPAW/init_gipaw_1.f90,
	  GIPAW/make.depend, GIPAW/paw_gipaw.f90, Gamma/Makefile,
	  Modules/Makefile, Modules/grid_paw_variables.f90,
	  Modules/make.depend, Modules/paw_variables.f90,
	  Modules/read_paw.f90, Modules/uspp.f90, PH/Makefile,
	  PH/make.depend, PH/phq_init.f90, PP/Makefile, PW/Makefile,
	  PW/clean_pw.f90, PW/electrons.f90, PW/grid_paw_routines.f90,
	  PW/hinit0.f90, PW/init_run.f90, PW/init_us_1.f90, PW/make.depend,
	  PW/mix_rho.f90, PW/newd.f90, PW/paw_init.f90,
	  PW/paw_onecenter.f90, PW/paw_xc.f90, PW/potinit.f90,
	  PW/print_clock_pw.f90, PW/rad_paw_routines.f90,
	  PW/rad_paw_trash.f90, PW/read_file.f90, PW/read_pseudo.f90,
	  PW/setup.f90, PW/sum_band.f90, PW/summary.f90, PWCOND/Makefile,
	  VdW/Makefile, atomic/Makefile, atomic/atomic_paw.f90,
	  atomic/ld1_readin.f90:

	Paw code moved around and unused functions removed; old grid_paw code removed.
	This is the first step of code cleanup. Actually nothing should change.

	rad_paw_routines -> paw_onecenter (2 functions went to paw_init)
	grid_paw_variables -> paw_variables (with some additions from rad_paw_routines)
	grid_paw_routines -> paw_init (merged with 2 init functions from rad_paw)

	Probably there are a few random fixes around.

	Next step: remove ndmx and ntpx.

	LP

2007-11-12 15:38  dalcorso

	* atomic_doc/pseudo-gen/reference/: al.out, as.out, o.out, pt.out,
	  si_nc.out, si_nc_paw.out:

	Update of pseudopotential generation examples.

2007-11-12 15:18  dalcorso

	* atomic_doc/all-electron/reference/: ar.out, c_oep.out, cu.out,
	  cu1.out, f.out, fe.out, h.out, he.out, mg.out, ne_oep.out,
	  pt.out, u.out, u1.out, w.out:

	Update of atomic all-electron examples.
	The changes are due to a more accurate value for the speed of light,
	and different boundary conditions in the relativistic case.
	Previous results can be obtained by setting cau_fact=137.04 and
	xmin=-12.

2007-11-10 16:07  degironc

	* PP/pw2casino.f90, PW/allocate_nlpot.f90, PW/clean_pw.f90,
	  PW/electrons.f90, PW/force_hub.f90, PW/init_ns.f90,
	  PW/make.depend, PW/mix_rho.f90, PW/new_ns.f90, PW/ns_adj.f90,
	  PW/potinit.f90, PW/pw_restart.f90, PW/pwcom.f90,
	  PW/read_file.f90, PW/restart_in_ions.f90, PW/scf_mod.f90,
	  PW/stres_hub.f90, PW/sum_band.f90, PW/update_pot.f90,
	  PW/v_of_rho.f90, PW/vhpsi.f90, PW/vhpsi_nc.f90, PW/write_ns.f90,
	  examples/example25/run_example:

	more changes in scf_mod. mix_rho is getting simpler and more transparent,
	scf_mod contains more stuff, but it should be rather simple.

2007-11-10 10:15  dalcorso

	* PH/: adddvscf.f90, addusdbec.f90, addusdbec_nc.f90,
	  addusddens.f90, addusddense.f90, addusdynmat.f90, addusldos.f90,
	  compute_alphasum.f90, compute_becsum.f90, drho.f90, dvanqq.f90,
	  localdos.f90, newdq.f90, set_int12_nc.f90, solve_e.f90,
	  solve_linter.f90, zstar_eu_us.f90:

	tvanp --> upf%tvanp.

2007-11-09 18:30  paulatto

	* PW/rad_paw_routines.f90:

	Removed call to get_enciroment_variables (which is not implemented in all compilers/libraries)

2007-11-09 17:26  giannozz

	* PW/: mix_rho.f90, scf_mod.f90:

	g95 doesn't like 1) that a function inside a module is defined as 'real'
	when called by another function inside the module; 2) operations (AXPY)
	between unallocated objects

2007-11-09 14:00  paulatto

	* Modules/read_paw.f90:

	A bit of cleanup

2007-11-09 13:54  degironc

	* PP/pw2casino.f90, PW/allocate_fft.f90, PW/clean_pw.f90,
	  PW/electrons.f90, PW/make.depend, PW/mix_rho.f90, PW/potinit.f90,
	  PW/read_file.f90, PW/restart_in_ions.f90, PW/scf_mod.f90,
	  PW/sum_band.f90, PW/update_pot.f90:

	scf_mod again

2007-11-09 13:46  paulatto

	* atomic/atomic_paw.f90:

	Commented out very verbose debug code.

2007-11-09 13:45  paulatto

	* PW/: grid_paw_routines.f90, make.depend, print_clock_pw.f90,
	  pwcom.f90, rad_paw_routines.f90, sum_band.f90:

	Added routine to symmetrize becsum when PAW calculation is being performed. It still needs some test. As a collateral effect d1,d2 and d3 variables in modules symme (pwcom.f90) are now marked as TARGET. File make.depend updated accordingly.

2007-11-09 12:13  dalcorso

	* Modules/mp.f90:

	Bug fix: a check on an unitialized variable caused random crashes in the
	parallel case.

2007-11-08 18:29  degironc

	* PP/poormanwannier.f90, PW/electrons.f90, PW/make.depend,
	  PW/mix_rho.f90, PW/scf_mod.f90:

	more extensive chages to scf_mod and mix_rho + make.depend

2007-11-08 12:03  giannozz

	* PP/: local_dos.f90, postproc.f90, punch_plot.f90:

	Trivial changes to allow plotting spearately spin-up and spin-down ILDOS

2007-11-08 10:56  dalcorso

	* PP/atomic_wfc_nc_proj.f90:

	Small change in the initial comment.

2007-11-08 10:29  giannozz

	* PW/: dvloc_of_g.f90, vloc_of_g.f90:

	Coulombian (1/r) potential was missing the Zv factor

2007-11-06 17:33  giannozz

	* PP/: poormanwannier.f90, projwfc.f90:

	Not compiling

2007-11-06 16:28  giannozz

	* configure, configure.ac:

	Version number updated

2007-11-06 16:26  giannozz

	* PW/: atomic_wfc.f90, input.f90, wfcinit.f90:

	Added 'atomic-safe' starting wavefunction. Not sure it works, though.

2007-11-06 16:13  ceresoli

	* GIPAW/Makefile, GIPAW/efg.f90, GIPAW/g_tensor_crystal.f90,
	  GIPAW/gipaw_module.f90, GIPAW/h_psiq.f90, GIPAW/init_gipaw_1.f90,
	  GIPAW/init_gipaw_2.f90, GIPAW/init_paw_2_no_phase.f90,
	  GIPAW/make.depend, GIPAW/paw_gipaw.f90,
	  GIPAW/suscept_crystal.f90, PW/Makefile, PW/init_paw_1.f90,
	  PW/init_paw_2.f90, PW/make.depend, PW/paw.f90,
	  PW/read_pseudo.f90:

	paw.f90, init_paw_1.f90 and init_paw_2.f90 in PW/, moved to GIPAW/
	and renamed (paw -> gipaw). This is to avoid misunderstandings with
	the upcoming PAW implementation. (D.C.)

2007-11-06 15:43  giannozz

	* PP/: atomic_wfc_nc_proj.f90, projwfc.f90:

	atomic_wfc_nc_projamade similar to atommic_wfc

2007-11-06 15:22  giannozz

	* tests/metaGGA.ref:

	The metaGGA tests converges much quicker now, not sure why ...

2007-11-06 13:54  paulatto

	* PW/: electrons.f90, mix_rho.f90, pwcom.f90, rad_paw_routines.f90,
	  make.depend, new_ns.f90, setup.f90:

	d1, d2 and d3 matrices (used to symmetrize lda+u ns) moved from module ldau to module symme, thay will be used for PAw too. A few small
	fixes.

2007-11-06 11:49  giannozz

	* PW/atomic_wfc.f90:

	Minor changes

2007-11-06 11:26  degironc

	* Modules/make.depend, PH/make.depend, PP/make.depend,
	  PP/pw2casino.f90, PW/electrons.f90, PW/make.depend,
	  PW/potinit.f90, PW/read_file.f90, PW/restart_in_ions.f90,
	  PW/sum_band.f90, PW/update_pot.f90, PW/v_of_rho.f90:

	more scf_mod changes

2007-11-05 19:05  paulatto

	* PW/electrons.f90:

	PAW energy can get very high for heavy atoms, it's better to use two more spaces to print it.

2007-11-05 18:38  dalcorso

	* Modules/read_paw.f90, VdW/Makefile:

	Makefile update and small correction to previous commit.

2007-11-05 18:11  dalcorso

	* Modules/read_paw.f90, PH/phq_init.f90, PW/read_file.f90:

	Introduced a check to stop all post-processing codes when okpaw is true.

2007-11-05 18:01  dalcorso

	* Modules/read_paw.f90:

	Bug fix: a wrong allocation.

2007-11-05 17:58  fratesi

	* pwtools/path_merge.sh:

	Added a tool for merging "prefix.path" files. (GF)

	  USAGE:  path_merge.bash  file0.path n0 m0  file1.path n1 m1

	    merges the two path files file0.path and file1.path by taking the
	    images n0 to m0 from file0.path and images n1 to m1 from file file1.path.
	    Merged file is written to standard output.

2007-11-05 14:39  giannozz

	* PW/: Makefile, atomic_wfc.f90, atomic_wfc_nc.f90, make.depend,
	  orthoatwfc.f90, wfcinit.f90:

	Calculation of atomic wavefunctions merged into a single routine
	Preliminary operations aimed at introducing yet another choice of
	initial wavefunctions

2007-11-05 11:12  dalcorso

	* PW/rad_paw_routines.f90:

	Bug fix: when the number of processors was larger than the number of atoms
	the program was not working in parallel in the paw case.

2007-11-04 21:28  degironc

	* PW/: allocate_fft.f90, clean_pw.f90, electrons.f90, scf_mod.f90:

	scf_mod update

2007-11-04 08:58  degironc

	* PW/electrons.f90:

	Harris-Weinert-Foulkes energy was occasionally incorrectly calculated at the first interation.

2007-11-02 15:38  giannozz

	* Modules/: input_parameters.f90, make.depend, path_variables.f90,
	  read_cards.f90, read_namelists.f90:

	more smd removal

2007-11-02 15:30  giannozz

	* CPV/: Makefile, make.depend, redis.f90:

	More smd removal

2007-11-02 14:39  degironc

	* Gamma/cg_setupdgc.f90, Gamma/dynmatcc.f90, PH/dynmatcc.f90,
	  PH/setup_dgc.f90, PP/add_shift_cc.f90, PP/dipole.f90,
	  PP/punch_plot.f90, PP/pw2casino.f90, PP/work_function.f90,
	  PW/allocate_fft.f90, PW/clean_pw.f90, PW/electrons.f90,
	  PW/force_cc.f90, PW/makov_payne.f90, PW/potinit.f90,
	  PW/read_file.f90, PW/restart_in_ions.f90, PW/scf_mod.f90,
	  PW/stres_cc.f90, PW/stres_gradcorr.f90, PW/stress.f90,
	  PW/update_pot.f90:

	more changes in scf_mod

2007-11-01 16:39  giannozz

	* tests/: README, metaGGA.in, metaGGA.ref:

	More tests

2007-11-01 16:03  giannozz

	* tests/README, tests/berry.ref, tests/berry.ref2,
	  tests/lda+U-noU.in, tests/lda+U-noU.ref, tests/lda+U-user_ns.in,
	  tests/lda+U-user_ns.ref, tests/lda+U.in, tests/lda+U.ref,
	  tests/scf-ncpp.ref, tests/uspp1-coulomb.in,
	  tests/uspp1-coulomb.ref, pseudo/H_coul.UPF, tests/uspp1.ref:

	tests updated

2007-11-01 14:39  giannozz

	* examples/README, examples/daily_test, examples/example26/README,
	  examples/example26/run_example,
	  examples/example26/reference/smd1.out,
	  examples/example26/reference/smd2.out,
	  examples/example26/reference/smd3.out, Doc/BUGS, Doc/INPUT_PW,
	  Doc/README, examples/example26/reference/smd4.out,
	  examples/example26/reference/smd5.out,
	  examples/example26/reference/smd6.out,
	  examples/example26/reference/smd7.out, CPV/Makefile,
	  CPV/cprstart.f90, CPV/input.f90, CPV/main_loops.f90,
	  CPV/make.depend, CPV/smcp.f90, Doc/smd.tex, CPV/smd.f90,
	  CPV/smd_modules.f90, CPV/smlam.f90:

	Strings Method ('smd') removed from CP and from examples.
	I am not sure whether smd in PW is working or not

2007-11-01 12:19  degironc

	* D3/d3_exc.f90, D3/d3_setup.f90, D3/d3dyn_cc.f90, D3/d3vrho.f90,
	  Gamma/a_h.f90, Gamma/cg_setup.f90, Gamma/cg_setupdgc.f90,
	  Gamma/dynmatcc.f90, Gamma/phcg.f90, Gamma/rhod2vkb.f90,
	  Modules/make.depend, PH/addnlcc.f90, PH/addnlcc_zstar_eu_us.f90,
	  PH/dv_of_drho.f90, PH/dvpsi_e2.f90, PH/dynmat_us.f90,
	  PH/dynmatcc.f90, PH/el_opt.f90, PH/phq_setup.f90,
	  PH/setup_dgc.f90, PP/add_shift_cc.f90, PP/average.f90,
	  PP/compute_sigma_avg.f90, PP/dipole.f90, PP/do_initial_state.f90,
	  PP/elf.f90, PP/local_dos.f90, PP/local_dos_mag.f90,
	  PP/punch_plot.f90, PP/pw2casino.f90, PP/stm.f90, PP/voronoy.f90,
	  PP/work_function.f90, PW/addusdens.f90, PW/allocate_fft.f90,
	  PW/clean_pw.f90, PW/electrons.f90, PW/force_cc.f90,
	  PW/forces.f90, PW/makov_payne.f90, PW/potinit.f90,
	  PW/pw_restart.f90, PW/read_file.f90, PW/realus.f90,
	  PW/remove_atomic_rho.f90, PW/report_mag.f90,
	  PW/restart_in_ions.f90, PW/scf_mod.f90, PW/setlocal.f90,
	  PW/stres_cc.f90, PW/stres_har.f90, PW/stres_loc.f90,
	  PW/stress.f90, PW/sum_band.f90, PW/update_pot.f90,
	  VdW/check_v_eff.f90, VdW/dv_of_drho.f90, VdW/vdw.f90:

	scf_mod again..

2007-11-01 00:02  degironc

	* CPV/make.depend, D3/make.depend, Gamma/make.depend,
	  Modules/make.depend, PH/make.depend, PP/make.depend,
	  PW/allocate_fft.f90, PW/make.depend, PW/scf_mod.f90,
	  PWCOND/make.depend, VdW/make.depend:

	make.depend again and a corrected scf_mod.f90

2007-10-31 16:52  degironc

	* PW/: addusdens.f90, allocate_fft.f90, realus.f90, scf_mod.f90:

	missing module...

2007-10-31 15:28  degironc

	* D3/d3_exc.f90, D3/d3_setup.f90, D3/d3dyn_cc.f90, D3/make.depend,
	  GIPAW/make.depend, Gamma/cg_setup.f90, Gamma/cg_setupdgc.f90,
	  Gamma/make.depend, Gamma/phcg.f90, Gamma/rhod2vkb.f90,
	  PH/addnlcc.f90, PH/addnlcc_zstar_eu_us.f90, PH/dv_of_drho.f90,
	  PH/dvanqq.f90, PH/dvpsi_e2.f90, PH/dynmatcc.f90, PH/h_psiq.f90,
	  PH/make.depend, PH/setup_dgc.f90, PP/make.depend, PW/Makefile,
	  PW/make.depend, PW/pwcom.f90, PWCOND/poten.f90,
	  VdW/dv_of_drho.f90, VdW/h_psiq.f90, VdW/make.depend,
	  VdW/solve_e.f90, VdW/vdw.f90:

	module scf has been separated from PW/pwcom.f90 (put in PW/scf_mod.f90) in
	order to reorganize the variables needed for mixing and scf cycle.
	More changes will follow....

2007-10-31 11:31  degironc

	* CPV/make.depend, D3/make.depend, Gamma/make.depend,
	  Modules/make.depend, PH/make.depend, PP/make.depend,
	  PW/make.depend, PW/rad_paw_routines.f90, atomic/c6_tfvw.f90,
	  atomic/make.depend:

	make.depend updates + a couple of small additions in PW/rad_paw_routines and atomic/c6_tfvw

2007-10-30 10:19  giannozz

	* PW/: Makefile, bp_c_phase.f90, bp_calc_btq.f90, bp_qvan3.f90,
	  bp_radin.f:

	More Berry cleanup

2007-10-30 09:18  giannozz

	* PW/Makefile, PW/bp_c_phase.f90, PW/bp_qvan3.f90,
	  flib/sph_bes.f90, flib/ylmr2.f90, PW/bp_ylm_q.f,
	  PW/c_phase_field.f90, PW/h_epsi_her_set.f90, PW/make.depend:

	The Ylm used in Berry's phase calculation were inconsistent with the
	Clebsh-Gordan coefficients, calculated for a different set of Ylm.
	Moreover the call to the routine calculating Ylm was incorrect.
	The error was small (it affected only the US part with l>0) but not
	negligible. I don't know if it is fixed now, but it wasn't correct
	before for sure. Berry's phase calculation extended to L=3.

2007-10-29 16:04  giannozz

	* PP/chdens.f90:

	Incorrect behavior in parallel in some cases

2007-10-29 14:47  giannozz

	* atomic/ld1.f90, atomic/ld1_readin.f90, atomic/ld1inc.f90,
	  atomic/write_upf.f90, Modules/read_upf.f90, PW/dvloc_of_g.f90,
	  PW/init_vloc.f90, PW/stres_loc.f90, PW/vloc_of_g.f90,
	  atomic_doc/INPUT_LD1:

	Added the possibility to perform calculations using the true Coulomb
	potential instead of a pseudopotential. May or may not work! only for pw.x
	and only for people knowing what they are doing. It requires the generation
	of a fake UPF pseudo containing a radial grid, atomic wavefunctions, little
	else, using the modified version of ld1.x (option "write_coulomb=.true.").

2007-10-29 11:19  giannozz

	* CPV/cplib.f90, CPV/nlcc.f90, CPV/potentials.f90, CPV/smcp.f90,
	  D3/d3_setup.f90, D3/drho_drc.f90, D3/dvscf.f90,
	  GIPAW/gipaw_module.f90, Gamma/cg_setup.f90, Gamma/dvb_cc.f90,
	  Gamma/dynmatcc.f90, Modules/atom.f90, Modules/parameters.f90,
	  Modules/pseudo_types.f90, Modules/read_paw.f90,
	  Modules/upf_to_internal.f90, PH/addcore.f90, PH/dvqpsi_us.f90,
	  PH/phq_setup.f90, PW/grid_paw_routines.f90, PW/read_pseudo.f90:

	Redundant variable nlcc eliminated

2007-10-29 11:13  giannozz

	* tests/README, tests/berry.in, tests/berry.in2, pseudo/Si.bhs,
	  tests/berry.ref, tests/berry.ref2, tests/check-pw.x.j,
	  tests/scf-ncpp.in, tests/scf-ncpp.ref, tests/uspp1.in,
	  tests/uspp1.ref:

	Automated tests updated

2007-10-26 21:11  giannozz

	* Modules/clocks.f90:

	Clocks are now safe in parallel mode (i.e. even if some of them are not
	started nothing nasty happens)

2007-10-26 18:47  giannozz

	* Modules/version.f90, PW/grid_paw_routines.f90,
	  PW/h_epsi_her_apply.f90, PW/h_epsi_her_set.f90, PW/mix_rho.f90:

	Version number updated + some cleanup

2007-10-26 02:48  umari

	* CPV/: cg_sub.f90, cglib.f90, ensemble_dft.f90:

	Some cleaning 8-->dp, and dynamic allocations introduced
	P.U.

2007-10-25 22:26  umari

	* PW/: c_phase_field.f90, h_epsi_her_apply.f90, h_epsi_her_set.f90:

	Small bug recently introduced
	as upf%qqq were not working with efield
	I commented  those lines, just wainting to be re-introduced

	P.U.

2007-10-25 10:57  giannozz

	* Gamma/dynmatcc.f90:

	Duplicated line causing compilation error removed

2007-10-24 18:02  giannozz

	* Modules/read_paw.f90:

	This was for sure a bug - all redundant variables have to be initialized
	(until they are removed)

2007-10-24 17:36  giannozz

	* CPV/cg_sub.f90, CPV/cplib.f90, CPV/cprsub.f90,
	  CPV/inner_loop.f90, CPV/inner_loop_cold.f90, CPV/mainvar.f90,
	  CPV/modules.f90, CPV/nlcc.f90, CPV/pseudopot.f90,
	  CPV/pseudopot_sub.f90, CPV/vol_clu.f90, GIPAW/gipaw_module.f90,
	  Gamma/dvpsi_kb.f90, Gamma/dynmatcc.f90, Modules/atom.f90,
	  Modules/parameters.f90, Modules/read_cards.f90,
	  Modules/read_paw.f90, Modules/upf_to_internal.f90,
	  PH/set_drhoc.f90, PP/add_shift_cc.f90, PW/atomic_rho.f90,
	  PW/force_cc.f90, PW/force_corr.f90, PW/potinit.f90,
	  PW/rad_paw_routines.f90, PW/rad_paw_trash.f90, PW/set_rhoc.f90,
	  PW/stres_cc.f90, PW/summary.f90:

	More static arrays and dimensions removed: rho_at rho_atc natx nbndxx

2007-10-24 11:16  ceresoli

	* GIPAW/Makefile, PW/paw.f90:

	Small changes, in order to compile GIPAW. (D.C.)

2007-10-23 22:06  giannozz

	* CPV/make.depend, Modules/make.depend, Modules/parameters.f90,
	  PP/make.depend, PW/make.depend:

	make.depend files updated

2007-10-23 21:47  giannozz

	* CPV/cplib.f90, CPV/read_pseudo.f90, Modules/Makefile,
	  Modules/atom.f90, Modules/parameters.f90, Modules/pseudodata.f90,
	  Modules/read_paw.f90, Modules/read_uspp.f90,
	  Modules/upf_to_internal.f90, PP/atomic_wfc_nc_proj.f90,
	  PP/poormanwannier.f90, PP/projwfc.f90, PW/allocate_nlpot.f90,
	  PW/atomic_wfc.f90, PW/atomic_wfc_nc.f90, PW/average_pp.f90,
	  PW/dndepsilon.f90, PW/dprojdepsilon.f90, PW/dprojdtau.f90,
	  PW/force_hub.f90, PW/gen_at_dj.f90, PW/gen_at_dy.f90,
	  PW/grid_paw_routines.f90, PW/init_at_1.f90, PW/new_ns.f90,
	  PW/orthoatwfc.f90, PW/pwscf.f90, PW/rad_paw_routines.f90,
	  PW/read_ncpp.f90, PW/read_pseudo.f90, PW/setup.f90, PW/vhpsi.f90,
	  PW/vhpsi_nc.f90, flib/ylmr2.f90:

	More removal of static arrays: chi, nchi, lchi, jchi, oc, nchix

2007-10-23 16:55  degironc

	* Doc/INPUT_PW:

	updated documentation for constrained_magnetization

2007-10-23 16:51  degironc

	* PW/: add_bfield.f90, allocate_fft.f90, electrons.f90,
	  get_locals.f90, input.f90, make.depend, make_pointlists.f90,
	  report_mag.f90, setup.f90, v_of_rho.f90:

	constrained_magnetizatio='atomic' has been extended to the collinear case (nspin=2), where only the z-component of the local moment is constrained.

2007-10-23 15:38  dalcorso

	* PW/rad_paw_routines.f90:

	A missing DP was producing random NaN in the paw case.

2007-10-22 16:54  paulatto

	* CPV/make.depend, D3/Makefile, Gamma/Makefile, Modules/Makefile,
	  Modules/clocks.f90, Modules/constants.f90,
	  Modules/grid_paw_variables.f90, Modules/make.depend,
	  Modules/pseudo_types.f90, Modules/radial_grids.f90,
	  Modules/read_paw.f90, PH/Makefile, PH/add_for_charges.f90,
	  PH/make.depend, PP/Makefile, PW/Makefile, PW/c_bands.f90,
	  PW/electrons.f90, PW/grid_paw_routines.f90, PW/hinit0.f90,
	  PW/init_run.f90, PW/init_us_1.f90, PW/init_vloc.f90,
	  PW/make.depend, PW/mix_rho.f90, PW/newd.f90, PW/paw_xc.f90,
	  PW/potinit.f90, PW/print_clock_pw.f90, PW/rad_paw_routines.f90,
	  PW/rad_paw_trash.f90, PW/read_pseudo.f90, PWCOND/Makefile,
	  Modules/exc_t.f90, Modules/vxc_t.f90, Modules/vxcgc.f90,
	  atomic/Makefile, atomic/atomic_paw.f90, atomic/gener_pseudo.f90,
	  atomic/make.depend, atomic/vxc_t.f90, atomic/exc_t.f90,
	  atomic/vxcgc.f90:

	New PAW version, now completely working on radial grid. Code on FFT grid can still be compiled using __GRID_PAW flag (but may not work a
	nymore). Other things working: parallel, gamma-only.

	Files vxc_t, exc_t and vxcgc moved from atomic to Modules (to prevent cyclic dependencies).

	Other random fixes: a kind in init_vloc, a call to infomsg in ./PH/add_for_charges.f90.

2007-10-21 17:20  dalcorso

	* atomic/run_test.f90, atomic/set_rho_core.f90,
	  atomic_doc/INPUT_LD1:

	Small changes.

2007-10-21 16:59  dalcorso

	* atomic/: Makefile, ascheqps.f90, ascheqps_old.f90:

	The routine ascheqps substituted with a more precise routine.
	For a while the old routine is still there for tests. Just call
	ascheqps_old instead of ascheqps in ascheqps_drv.

2007-10-21 16:52  dalcorso

	* examples/example35/reference/ni.phG.out:

	Cleanup.

2007-10-20 14:14  dalcorso

	* Modules/read_paw.f90:

	Problems with paw after recent changes to the pseudopotential variables.

2007-10-18 17:12  giannozz

	* PW/: electrons.f90, make.depend, pwcom.f90:

	A few changes lost in last commit re-installed

2007-10-18 15:21  seitsonen

	* GIPAW/gipaw_module.f90:

	Calculation of the chemical shift due to the core electrons added; only
	tested on carbon atoms so far

	       apsi

2007-10-17 21:12  umari

	* PW/: Makefile, allocate_bp_efield.f90, c_bands.f90,
	  c_phase_field.f90, electrons.f90, h_epsi_her_set.f90,
	  init_run.f90, input.f90, pwcom.f90, stop_run.f90:

	Now Berry's phase electric fields work also in parallel
	for gdir == 1 and gdir ==2

	P.U.

2007-10-17 12:24  giannozz

	* PW/grid_paw_routines.f90:

	Fixed incorrect allocation of auxiliary array introduced in last commit

2007-10-17 10:06  giannozz

	* Modules/read_paw.f90:

	Oops...

2007-10-17 09:47  giannozz

	* Modules/read_paw.f90, Modules/uspp.f90, PH/set_drhoc.f90,
	  PW/grid_paw_routines.f90, CPV/modules.f90, CPV/problem_size.f90:

	Removal of a few occurrences of static dimensioning to "ndmx"
	(max number of radial grid points)

2007-10-17 09:29  giannozz

	* PH/set_drhoc.f90:

	Fixed stupid error in phonons with core correction, introduced yesterday

2007-10-16 22:48  giannozz

	* Modules/read_uspp.f90, TODO:

	Problems with old Vanderbilt formats fixed

2007-10-16 17:07  giannozz

	* Modules/atom.f90, PW/cubicsym.f90, PW/deriv_drhoc.f90,
	  PW/drhoc.f90, PW/dvloc_of_g.f90, PW/force_cc.f90,
	  PW/grid_paw_routines.f90, PW/init_vloc.f90, PW/make.depend,
	  PW/pwcom.f90, PW/read_ncpp.f90, PW/read_pseudo.f90,
	  PW/set_rhoc.f90, PW/stres_cc.f90, PH/make.depend,
	  PH/phq_init.f90, PH/set_drhoc.f90, PH/setlocq.f90,
	  PP/add_shift_cc.f90, PW/stres_loc.f90, PW/summary.f90,
	  PW/vloc_of_g.f90, CPV/cprsub.f90, CPV/pseudopot_sub.f90,
	  CPV/read_pseudo.f90, D3/d3_init.f90, Gamma/dvpsi_kb.f90,
	  Gamma/dynmatcc.f90:

	Old BHS potentials removed everywhere

2007-10-16 17:02  umari

	* CPV/: cglib.f90, inner_loop_cold.f90:

	Small error  corrected.
	P.U.

2007-10-15 18:36  giannozz

	* Modules/grid_paw_variables.f90, Modules/parameters.f90,
	  Modules/read_paw.f90, PW/grid_paw_routines.f90,
	  PW/init_paw_1.f90, PW/make.depend, PW/paw.f90, PW/pwscf.f90,
	  PW/rad_paw_routines.f90, PWCOND/condcom.f90,
	  PWCOND/save_cond.f90, PWCOND/scatter_forw.f90:

	Parameter nbrx (max number of beta functions) removed. Exceptions:
	- PAW (still used here and there)
	- PWCOND (used in the definition of betar* functions)

2007-10-15 18:33  giannozz

	* PP/: bands.f90, dos.f90, epsilon.f90, initial_state.f90,
	  make.depend, plan_avg.f90, poormanwannier.f90, postproc.f90,
	  projwfc.f90, pw2casino.f90, pw2gw.f90, pw2wannier90.f90,
	  sym_band.f90, write_p_avg.f90:

	Handling of input errors in all postprocessing codes was incorrect in
	parallel execution (please verify)

2007-10-15 18:20  paulatto

	* atomic/trou.f90:

	infomsg called with more than 2 arguments causes very funny bugs. There may be more of this kind.

2007-10-13 16:05  seitsonen

	* GIPAW/compute_u_kq.f90:

	A 'poolreduce()' within a k point loop... Now is that a good idea?
	Deadlocked the calculation when having different number of k points in
	different pools

	       apsi

2007-10-12 23:08  seitsonen

	* PW/init_paw_1.f90:

	Changed 'flush' to 'flush_unit' like it should be

	       apsi

2007-10-11 22:14  giannozz

	* CPV/: cprsub.f90, modules.f90, pseudo_base.f90,
	  pseudopot_sub.f90, read_pseudo.f90:

	Old BHS analytical pseudopotentials removed

2007-10-11 17:58  seitsonen

	* GIPAW/g_tensor_crystal.f90:

	Fixed a minor bug (appearing only on SGI): Now 'delta_rmc' is added up only
	up to the g vector corresponding to the cut-off energy for the wave
	functions

	       apsi

2007-10-11 17:55  seitsonen

	* Modules/ptoolkit.f90, PW/grid_paw_routines.f90,
	  PW/init_paw_2.f90, GIPAW/compute_u_kq.f90,
	  GIPAW/init_paw_2_no_phase.f90:

	Removed redundant/multiple USE's of same variables

	       apsi

2007-10-11 17:14  dalcorso

	* atomic/: ascheqps.f90, ascheqps_drv.f90, descreening.f90,
	  occ_spin.f90, run_pseudo.f90:

	More clear error handling in the pseudopotential KS equation.
	Small problem fix with negative occupations.

2007-10-11 14:43  degironc

	* PW/paw_xc.f90:

	lexx variable rdefined locally.

2007-10-09 18:07  dalcorso

	* atomic/read_pseudoupf.f90:

	Fixed a bug with the new indeces of qfunc.

2007-10-09 16:36  dalcorso

	* atomic/: ascheqps.f90, ld1_readin.f90, write_results.f90:

	Small changes in the output, and small bug fix in the input check.

2007-10-09 16:26  ceresoli

	* GIPAW/init_us_2_no_phase.f90:

	Small change after introduction of the pseudo_upf type. (D.C.)

2007-10-09 09:12  dalcorso

	* pseudo/SirelPBE.RRKJ3.UPF:

	Missing pseudopotential for example35.

2007-10-08 19:12  cavazzon

	* PW/realus.f90:

	- xlf complains for an array argument passed as V(1) to a subroutine with an explicit interface
	  where the array is declared as V( n-somthing ). xlf is right.

2007-10-08 18:25  dalcorso

	* examples/example35/: run_example, reference/c.phG.out,
	  reference/c.scf.out, reference/si.phG.out, reference/si.scf.out:

	Example35 now shows the use of the noncollinear version with the
	response to an electric field.

2007-10-08 18:17  dalcorso

	* PH/Makefile, PH/add_dkmds.f90, PH/add_for_charges.f90,
	  PH/add_zstar_ue_us.f90, PH/adddvepsi_us.f90,
	  PH/addnlcc_zstar_eu_us.f90, PH/addusddense.f90,
	  PH/allocate_phq.f90, PH/deallocate_phq.f90, PH/dielec.f90,
	  PH/dvpsi_e.f90, PH/openfilq.f90, PH/phcom.f90, PH/phonon.f90,
	  PH/phq_init.f90, PH/phq_readin.f90, PH/psidspsi.f90,
	  PH/psym_dmage.f90, PH/solve_e.f90, PH/sym_dmage.f90, PH/syme.f90,
	  PH/zstar_eu.f90, PH/zstar_eu_us.f90, examples/example35/README,
	  examples/example35/run_example:

	Dielectric constant and effective charges in the noncollinear spin/orbit
	case. (Very experimental).

2007-10-08 13:13  dalcorso

	* examples/example35/reference/: ni.nscf.out, ni.phX.out,
	  ni.scf.out, ni_so.nscf.out, ni_so.phG.out, ni_so.phX.out,
	  ni_so.scf.out, pt.nscf.out, pt.phG.out, pt.phX.out, pt.scf.out:

	Example 35 has been moved to example 24. Removing the files for the
	directory  example35.

2007-10-08 10:36  giannozz

	* Modules/read_cards.f90:

	Missing check on maximum number of k-points added

2007-10-08 10:05  giannozz

	* Modules/: parameters.f90, read_upf.f90:

	Yet another incorrect commit of parameter.f90 . For some reason the check
	that the number of k-points does not exceed the maximum allowed number
	doesn't work any longer.
	Variable kkbeta might had incorrect initialization with local potentials.

2007-10-08 09:33  giannozz

	* Modules/read_upf.f90, Modules/read_uspp.f90, PW/read_ncpp.f90,
	  PW/read_pseudo.f90, PW/summary.f90, CPV/make.depend:

	No reason to use pseudopotential arrays starting from 0 instead of 1;
	obsolete variable removed

2007-10-07 19:34  giannozz

	* PW/read_pseudo.f90, PWCOND/init_cond.f90,
	  PWCOND/init_orbitals.f90:

	Two fixes for PWCOND: pseudopotentials are dimensioned up to the actual
	number "ntyp" of species, not up to the maximum "npsx"; pseudopotentials
	should be deallocated if already allocated when read, or otherwise the
	pwcond code will stop complaining that "array is already allocated" (not
	all compilers complain, though).

2007-10-07 17:39  dalcorso

	* PH/phq_init.f90, PW/read_pseudo.f90:

	Reintroduced an instruction misteriously disappered from read_pseudo,
	and fixed a problem in the recent changes. Now the phonon seems to work again.

2007-10-06 23:33  degironc

	* PW/move_ions.f90:

	bug fix for lsda relaxation: a reinitialization call (needing parallel
	communication) is moved outside an if(ionode) statement that would cause
	the code to hang forever.

2007-10-06 17:04  dalcorso

	* atomic/: ascheq.f90, dir_outward.f90, read_pseudoupf.f90:

	New boundary conditions introduced also in dir_outward.
	Correction to my previous atomic commit.
	Compilation problem due to the recent modifications.

2007-10-06 16:58  dalcorso

	* PWCOND/init_orbitals.f90:

	Fixed the compilation problem of pwcond.

2007-10-06 15:49  giannozz

	* D3/d3_init.f90, Modules/make.depend, Modules/parameters.f90,
	  PH/phq_init.f90, PWCOND/init_cond.f90, PWCOND/init_orbitals.f90,
	  atomic/read_pseudoupf.f90, include/defs.h.README,
	  pwtools/make.depend, tests/README, upftools/make.depend:

	Various compilation problems after last changes fixed.
	There is one left in PWCOND, related to arrays betar*
	Misc small changes here and there

2007-10-06 11:30  dalcorso

	* atomic/: ascheq.f90, ld1_readin.f90:

	Small problem fix. The threshold for the eigenvalue accuracy was slightly
	too high in the nonrelativistic routine for 1S states of heavy atoms.

2007-10-06 11:00  cavazzon

	* CPV/cprsub.f90:

	- xlf complains for an array argument passed as vloc(1) to a subroutine
	  with an explicit interface (formfn) where the array is declared as
	  vloc( n-somthing ). xlf is right.

2007-10-06 10:23  cavazzon

	* CPV/chargedensity.f90:

	- check on task_group and fpmd (not yet fully implemented)

2007-10-06 10:23  giannozz

	* Modules/grid_paw_variables.f90, Modules/parameters.f90,
	  Modules/pseudo_types.f90, Modules/read_paw.f90,
	  Modules/read_upf.f90, Modules/read_uspp.f90,
	  Modules/upf_to_internal.f90, Modules/uspp.f90,
	  PW/bp_calc_btq.f90, PW/compute_qdipol.f90, PW/gen_us_dj.f90,
	  PW/gen_us_dy.f90, PW/grid_paw_routines.f90, PW/init_us_1.f90,
	  PW/pwscf.f90, PW/read_file.f90, PW/read_pseudo.f90,
	  PW/realus.f90, CPV/cprsub.f90, CPV/modules.f90,
	  CPV/pseudopot_sub.f90, CPV/qqberry.f90, CPV/read_pseudo.f90,
	  CPV/stress.f90:

	Fixed stupid error in "read_file" that was causing crashes in all
	phonon and postprocessing codes (Andrea please check the spin-orbit case)
	Redundant variables in uspp_param (mostly) removed

2007-10-05 17:33  cavazzon

	* Modules/pseudo_types.f90, CPV/pseudo_base.f90,
	  CPV/pseudopot_sub.f90, CPV/read_pseudo.f90, upftools/Makefile,
	  upftools/fpmd2upf.f90, upftools/make.depend:

	- old FPMD pseudo_ncpp type removed and substituted with pseudo_upf.
	  as a consequence very old FPMD pseudopotential files are no more
	  supported, they need to be converted with fpmd2upf.x upf tool.

2007-10-05 16:07  giannozz

	* atomic/read_pseudoupf.f90:

	Restored exactly the same behavior as before (upf%kkbeta is now upf%kbeta;
	it shouldn't make any practical difference, though)

2007-10-05 16:01  dalcorso

	* atomic/dirsol.f90, atomic/ld1_readin.f90, atomic_doc/INPUT_LD1:

	Changed the boundary conditions for starting the solution in the
	fully relativistic case. Default for xmin set to -8.

2007-10-05 15:57  dalcorso

	* atomic/read_pseudoupf.f90:

	The atomic code was not compiling after last commit.

2007-10-05 11:25  giannozz

	* Modules/make.depend, Modules/parameters.f90,
	  Modules/pseudo_types.f90, Modules/read_paw.f90,
	  Modules/read_upf.f90, Modules/read_uspp.f90,
	  Modules/upf_to_internal.f90, Modules/uspp.f90, PW/addusdens.f90,
	  PW/addusforce.f90, PW/addusstress.f90, PW/allocate_nlpot.f90,
	  PW/average_pp.f90, PW/bp_calc_btq.f90, PW/c_phase_field.f90,
	  PW/compute_qdipol.f90, PW/compute_qdipol_so.f90, PW/force_us.f90,
	  PW/grid_paw_routines.f90, PW/h_epsi_her_apply.f90,
	  PW/h_epsi_her_set.f90, PW/init_us_1.f90, PW/init_us_2.f90,
	  PW/init_vloc.f90, PW/make.depend, PW/newd.f90, PW/paw.f90,
	  PW/rad_paw_trash.f90, PW/read_file.f90, PW/read_ncpp.f90,
	  PW/read_pseudo.f90, PW/realus.f90, PW/s_psi.f90, PW/s_psi_nc.f90,
	  PW/setup.f90, CPV/make.depend, CPV/pseudopot_sub.f90,
	  PW/stres_loc.f90, PW/stres_us.f90, PW/sum_band.f90,
	  PW/summary.f90, PW/tabd.f90, PW/usnldiag.f90,
	  CPV/read_pseudo.f90:

	The following pseudopotential-related variables in module uspp_param:
	   zp, psd, dion, betar, jjj, qqq, qfunc, qfcoef, vloc_at, rinner,
	   nbeta, kkbeta, nqf, nqlc, lll, tvanp
	have been replaced by the corresponding variables in structure 'upf'.
	There shouldn't be any side effects, but who knows. There is still a
	copy of the above variables that will be removed sooner or later.
	Basically : variable([i,j,k,..,]n) => upf(n)%variable [(i,j,k,..)]
	Note that upf%qfunc has for the time being three indices instead of two,
	and that upf%kkbeta is the analogous of kkbeta and not what it used to be.
	The logic of this operation will be clearer when it will be completed

2007-10-04 10:15  ceresoli

	* GIPAW/Makefile:

	Makefile update. (D.C.)

2007-10-04 09:44  degironc

	* PW/: add_bfield.f90, allocate_fft.f90, get_locals.f90,
	  make_pointlists.f90, noncol.f90:

	memory reduction for pointlist and factlist (used for constrained magnetization in the non-colinear case) that now are dimensioned nrxx and instead of (nrxx,nat).
	reproduce correctly results in examples 13,22,24,35.
	SdG

2007-10-03 20:08  seitsonen

	* PW/init_paw_1.f90:

	 - Added a test for the sign (and magnitude) of the all-electron and pseudo
	     wave functions
	 - Changed a limit for printing out a warning on possible linear dependency

	       apsi

2007-10-03 20:04  seitsonen

	* GIPAW/: Makefile, g_tensor_crystal.f90, gipaw_module.f90,
	  suscept_crystal.f90:

	 - Fixed some parallellisation issues in 'g_tensor_crystal.f90'
	 - Added a routine needed in 'Makefile'
	 - Added one missing default value in 'gipaw_module.f90', 0th version
	     of the routine for check symmetries incorporated
	 - Minor change of variable in 'suscept_crystal.f90' (in order to be
	     consistent with 'g_tensor_crystal.f90')

	       apsi

2007-10-03 18:21  dalcorso

	* atomic/write_results.f90:

	Small change of previous commit.

2007-10-03 18:11  dalcorso

	* atomic/ld1_readin.f90, atomic/ld1inc.f90,
	  atomic/write_results.f90, atomic_doc/INPUT_LD1:

	Added the possibility to write on file the small component of the wavefunction
	when rel=2.

2007-10-03 16:40  degironc

	* PW/: electrons.f90, potinit.f90, restart_in_ions.f90,
	  update_pot.f90:

	unused variables removed

2007-10-03 11:54  dalcorso

	* Modules/radial_grids.f90:

	ndmx reported to the previous value. It was changed by mistake in the previous
	commit.

2007-10-02 18:54  giannozz

	* PW/force_corr.f90, PW/make.depend, PW/mix_rho.f90,
	  PW/read_ncpp.f90, CPV/make.depend, Modules/make.depend,
	  Modules/radial_grids.f90, Modules/read_uspp.f90,
	  Modules/upf_to_internal.f90, PW/read_pseudo.f90,
	  CPV/read_pseudo.f90:

	All pseudopotentials of pwscf are read into the "upf" structure and
	then copied into the internal modules. This is a first step towards
	1) elimination of fixed-dimension atomic pseudopotential arrays,
	2) reduction of memory usage by pseudopotentials,
	3) cleanup of the pseudopotential mess.
	Next steps: 1) the same in CP, 2) replacement of variables in "uspp"
	module with an array of "upf" structures.

	Beware: calculations using old formats should work as before, but
	don't count on it

2007-10-02 15:42  dalcorso

	* GIPAW/Makefile:

	Makefile update.

2007-10-02 15:20  dalcorso

	* PW/init_us_1.f90:

	Reintroduced some instructions related to the qq variables apparently
	removed in the 18 Sep. commit.

2007-10-02 12:13  giannozz

	* PW/allocate_nlpot.f90:

	Apparently also in the spin-orbit case qq should be allocated

2007-10-01 15:00  giannozz

	* flib/lsda_functionals.f90:

	xlf doesn't like real exponents in the definition of a parameter

2007-10-01 14:59  giannozz

	* Modules/read_paw.f90:

	xlf doesn't like format "L", it requires "L1" or something like this

2007-09-27 15:32  dalcorso

	* Modules/functionals.f90, atomic_doc/INPUT_LD1,
	  flib/lsda_functionals.f90:

	Added the functional of Vosko, Wilk and Nusair in the spin polarized case.
	(Contributed by G. Sclauzero)

2007-09-26 18:56  dalcorso

	* atomic/ld1_readin.f90, atomic/occ_spin.f90, atomic_doc/INPUT_LD1:

	Introduced a new input variable rel_dist explained in INPUT_LD1.

2007-09-26 18:49  dalcorso

	* flib/functionals.f90:

	The speed of light defined in constants used also in the calculation of the
	relativistic exchange functional.

2007-09-26 15:21  dalcorso

	* atomic/: dir_outward.f90, lderiv.f90, set_psi_in.f90:

	Clean-up of dir_outward and changes needed for previous commit.

2007-09-26 12:12  dalcorso

	* atomic/: integrate_outward.f90, lschps.f90, scf.f90:

	Small changes. More clear error messages.

2007-09-25 15:20  degironc

	* atomic/: c6_dft.f90, c6_tfvw.f90:

	two small bugs in c6 calculation fixed.
	SdG and Viet-Huy Nguyen

2007-09-25 11:47  dalcorso

	* atomic/lderivps.f90:

	Bug fix. In some cases the pseudo logaritmic derivatives could be unprecise.

2007-09-24 09:12  dalcorso

	* PH/Makefile:

	Makefile update.

2007-09-21 16:16  dalcorso

	* atomic/ld1_readin.f90:

	Small change: The check on noninteger charge is done only if iswitch==3.
	(Thanks to H. Ustunel)

2007-09-21 14:49  paulatto

	* PW/hinit0.f90:

	Previous fix was breaking some init routines

2007-09-21 14:10  paulatto

	* PW/init_run.f90:

	No need to allocate all the PAW arrays if there are no PAW PPs: check added.

2007-09-20 17:16  cavazzon

	* CPV/ortho.f90:

	- avoid to allocate memory when not necessary

2007-09-20 16:44  cavazzon

	* upftools/Makefile:

	- ../flib/gridsetup.o was included two times, PGI complains
	  in the linking phase

2007-09-20 16:39  cavazzon

	* atomic/lschps.f90:

	- intrinsic function "exp" was declared as real(DP), this
	  make PGI compiler searching for some external function
	  rather than using the intrinsic one.

2007-09-20 16:31  cavazzon

	* atomic/Makefile:

	- ../Modules/ions_base.o \
	  was included two times object list, PGI compiler complains

2007-09-20 16:05  cavazzon

	* PH/Makefile:

	In Makefile objects are required for Module objects

	< ../Modules/radial_grids.f90 \
	---
	> ../Modules/radial_grids.o \

2007-09-20 15:52  cavazzon

	* PW/grid_paw_routines.f90:

	- erf need to be declared, pgi compiler (6.2) complains

2007-09-20 14:13  paulatto

	* PW/grid_paw_routines.f90:

	Maybe this was the cause of the crashes with phonon code.

2007-09-20 13:56  cavazzon

	* PW/rdiaghg.f90:

	- changes to save memory in case of 'david+para' only

2007-09-20 13:55  cavazzon

	* PW/cdiaghg.f90:

	- clock added for pcdiaghg too

2007-09-20 13:53  cavazzon

	* PW/setup.f90:

	- print out info on the parallelization of eigenstates matrixes,
	  ortho group

2007-09-20 12:17  cavazzon

	* CPV/: cpr.f90, ortho_base.f90:

	- some loop substituted with blas call (DGER)
	- use of matrix symmetry to reduce communications
	  and computations in sigset and tauset

2007-09-20 11:47  paulatto

	* PH/q_points.f90:

	Added '&' as g95 complained for missing '&' in continued character constant

2007-09-20 10:24  dalcorso

	* Modules/parameters.f90, Modules/pseudo_types.f90,
	  Modules/read_paw.f90, atomic/atomic_paw.f90,
	  atomic/elsdps_paw.f90, atomic/gener_pseudo.f90,
	  atomic/ld1_readin.f90, atomic/ld1_setup.f90, atomic/ld1inc.f90,
	  atomic/parameters.f90, atomic/run_pseudo.f90,
	  atomic/set_rho_core.f90:

	Reintroduced the changes to the paw pseudopotential generetion, not merged
	in the commit of two days ago.

2007-09-20 10:20  giannozz

	* CPV/: Makefile, greenf.f90, make.depend, potentials.f90:

	Obsolete file removed

2007-09-20 08:50  paulatto

	* PW/set_rhoc.f90:

	Undone previous commit.

2007-09-19 17:36  cavazzon

	* PW/electrons.f90:

	- wrong WRITE syntax, xlf complains

2007-09-19 16:40  dalcorso

	* Modules/electrons_base.f90, PW/atomic_rho.f90, PW/atomic_wfc.f90,
	  PW/cubicsym.f90, PW/divide_et_impera.f90:

	Small changes were erased by yesteday commit. Reverted to the original routines.

2007-09-19 16:16  dalcorso

	* PW/: kpoint_grid.f90, sum_band.f90, symrho_mag.f90:

	Old versions of these routines was commited yesterday, so the noncollinear
	stuff was not working any more. Reverted to the new version.

2007-09-19 11:35  dalcorso

	* atomic/: dirsol.f90, scf.f90:

	Clean-up. Improved convergence and more clear output when the KS solution
	is not obtained for rel=2.

2007-09-19 08:36  paulatto

	* Modules/atom.f90:

	Fixed stupid syntax that was working only with ifort 10.
	LP

2007-09-18 17:18  giannozz

	* Doc/: BUGS, CREDITS, INPUT_PW:

	Documentation updated

2007-09-18 16:28  giannozz

	* PW/: ccgdiagg.f90, cegterg.f90, cinitcgg.f90,
	  complex_diis_module.f90, diis_base.f90, rcgdiagg.f90,
	  real_diis_module.f90, regterg.f90:

	In all diagonalization-related routines, ndmx => npwx, ndim => npw .
	Why? because the presence of different variables with the same name
	makes usage of "grep" ineffective...

2007-09-18 16:10  paulatto

	* Modules/grid_paw_variables.f90, Modules/read_paw.f90,
	  PW/electrons.f90:

	Removed unused array r2 in grid_paw_variables, minor change in electrons.

2007-09-18 15:35  paulatto

	* Modules/grid_paw_variables.f90, Modules/read_paw.f90,
	  Modules/uspp.f90, PW/grid_paw_routines.f90, PW/init_us_1.f90,
	  PW/rad_paw_routines.f90, PW/read_pseudo.f90:

	Now using sparse array for augmentation function (should) massively reduce
	memory usage. A similar trick could be used for pfunc and ptfunc too (and
	for ultrasoft's qfunc), but it requires a bit more time.

	Minimal fix in run_example.

2007-09-18 12:05  paulatto

	* Modules/atom.f90, Modules/autopilot.f90, Modules/clocks.f90,
	  Modules/electrons_base.f90, Modules/grid_paw_variables.f90,
	  Modules/parameters.f90, Modules/pseudo_types.f90,
	  Modules/read_paw.f90, Modules/upf_to_internal.f90,
	  Modules/uspp.f90, Gamma/Makefile, PP/Makefile,
	  pwtools/make.depend, upftools/Makefile, upftools/make.depend,
	  CPV/Makefile, D3/Makefile, Modules/Makefile, Modules/make.depend,
	  PW/Makefile, PW/make.depend, PWCOND/Makefile, VdW/Makefile,
	  PH/Makefile, PW/atomic_wfc.f90, PW/cubicsym.f90,
	  PW/divide_et_impera.f90, PW/init_at_1.f90, PW/kpoint_grid.f90,
	  PW/paw.f90, atomic/Makefile, atomic/make.depend,
	  PW/atomic_rho.f90, PW/clean_pw.f90, PW/grid_paw_routines.f90,
	  PW/rad_paw_routines.f90, PW/electrons.f90, PW/print_clock_pw.f90,
	  PW/allocate_nlpot.f90, PW/force_us.f90, PW/hinit0.f90,
	  PW/init_run.f90, PW/init_us_1.f90, PW/mix_rho.f90, PW/newd.f90,
	  PW/paw_xc.f90, PW/potinit.f90, PW/rad_paw_trash.f90,
	  PW/read_pseudo.f90, PW/set_rhoc.f90, PW/setup.f90,
	  PW/summary.f90, PW/symrho_mag.f90, PW/openfil.f90,
	  PW/sum_band.f90, atomic/ascheqps.f90, atomic/ascheqps_drv.f90,
	  atomic/elsdps_paw.f90, atomic/gener_pseudo.f90,
	  atomic/ld1_readin.f90, atomic/ld1_writeout.f90,
	  atomic/ld1inc.f90, atomic/normalize.f90,
	  atomic/write_results.f90, atomic/atomic_paw.f90,
	  atomic/ld1_setup.f90, atomic/parameters.f90,
	  atomic/run_pseudo.f90, atomic/set_rho_core.f90:

	SCF with Projector-Augmented Wave Pseudopotential (PAW) routines added.

	This means that a lot of routines have been modified and a few files have
	been added. During the year several people have contributed to this code,
	mainly Guido Fratesi, Ricardo Mazzarello, Stefano de Gironcoli, Andrea Dal
	Corso and me (Lorenzo Paulatto).

	A brief report of modified or added files follows, further down you will
	find a loger report of modifications that was necessary to merge develop_PAW
	branch with the current CVS version.

	Current version is not 100% functional, but it doesn't brake anything else and
	can be used to generate and test PAW pseudopotential.

	      *************************************
	      *** Brief report of modifications ***
	      *************************************
	Modified files:
	PW/clean_pw.f90
	PW/electrons.f90
	PW/print_clock_pw.f90
	PW/hinit0.f90
	PW/potinit.f90
	PW/newd.f90
	PW/summary.f90
	PW/setup.f90
	PW/read_pseudo.f90
	PW/init_us_1.f90
	PW/init_run.f90
	PW/mix_rho.f90
	atomic/atomic_paw.f90
	atomic/write_paw_recon.f90
	atomic/ld1_writeout.f90
	atomic/write_resultsps.f90
	atomic/ld1inc.f90
	atomic/ld1_readin.f90
	atomic/gener_pseudo.f90
	atomic/parameters.f900
	atomic/run_pseudo.f900
	atomic/set_rho_core.f90
	atomic/pseudovloc.f90
	Modules/read_upf.f90
	Modules/uspp.f90
	Modules/pseudo_types.f90
	Modules/parameters.f90

	Added files:
	PW/grid_paw_routines.f90
	PW/rad_paw_routines.f90
	Modules/grid_paw_variables.f90
	Modules/read_paw.f90

	Added files that will be removed:
	PW/rad_paw_trash.f90
	PW/paw_xc.f90

	Examples:
	examples/PAWexample contains a full test of PAW pseudopotential
	for Oxygen. The test consist in these tasks:
	 - 2 norm conserving, 2 US and 4 PAW pseudopotentials are
	   generated and tested in ld1
	 - pw test for an isolated O atom at different cutoffs
	 - pw test for an O2 molecule at different O-O distance
	please read examples/PAWexample/README for (a few) details.

	NOTES:
	1. new modifications to atomic_paw (and related) from ADC have been rolled
	   back, as they were breaking a lot of things, I will reintroduce them
	   later when I am sure that everything works properly.
	2. the files PW/paw_xc.f90 and Modules/rad_paw_trash.f90 will be removed in
	   the next few weeks.

	TODO:
	1. use new ld1 XC code as much as possible, and remove legacy XC routines
	   from rad_paw_routines
	2. full self-consistency with radial energies
	3. make new Harris-Foulkes estimate paw-aware
	4. provide some kind error estimate
	5. FORCES and stress!! (require symmetrization of becsums)
	6. cleanup

	    ************************
	    *** merge of PW code ***
	    ************************
	Versions notation:
	OLD=version from 2 years ago used as reference to generate the patches
	NEW=CURRENT=current trunk version
	PAW=current develop_PAW version

	Note: pseudo-potential input and allocation routines changed
	      a lot in the last years, this is a diagram:
	OLD:PW/readin ~~> PAW:PW/read_pseudo --> disappears
	pops out --> PAW:PW/readin ~~> NEW:PW/read_pseudo

	added files:
	Modules/read_paw.f90    (contains module read_paw_module with subroutines
	                         paw_io nullify_pseudo_paw, allocate_pseudo_paw and
	                         deallocate_pseudo_paw previously in removed file
	                         Modules/readpseudo.f90. Also contains module
	                         paw_to_internal with subroutine set_pseudo_paw,
	                         previously in upf_to_internal.f90)
	PW/paw_xc.f90           (contains OLD=PAW xc and gcxc routines as adapting paw
	                         grid code to use new routines was very error prone and
	                         quite worthless, as it has to be removed anyway)

	Conflicts reported by CVS during merge:
	DONE */Makefiles                    (all replaced with new, redone by hand)

	DONE  flib/functionals.f90          (nothing to do)

	DONE Modules/functionals.f90        (RNV == replaced with NEW version)
	DONE Modules/atom.f90               (trivial: duped rgrid)
	DONE Modules/autopilot.f90          (trivial)
	DONE Modules/bfgs_module.f90        (RNV)
	DONE Modules/cell_base.f90          (RNV)
	DONE Modules/check_stop.f90         (RNV)
	DONE Modules/constants.f90          (RNV)
	DONE Modules/constraints_module.f90 (RNV)
	DONE Modules/energies.f90           (RNV)
	DONE Modules/input_parameters.f90   (RNV)
	DONE Modules/ions_base.f90          (RNV, has 3 new subs)
	DONE Modules/ions_nose.f90          (RNV)
	DONE Modules/parameters.f90         (actually RNV)
	DONE Modules/path_base.f90          (RNV)
	DONE Modules/path_opt_routines.f90  (RNV)
	DONE Modules/path_reparametrisation.f90 (RNV)
	DONE Modules/path_variables.f90     (RNV)
	DONE Modules/pseudo_types.f90       (cleaned double def of paw_t)
	DONE Modules/read_cards.f90         (RNV)
	DONE Modules/read_namelists.f90     (checked and RNV)
	DONE Modules/uspp.f90               (trivial)
	DONE Modules/xml_io_base.f90        (RNV)

	DONE PW/read_pseudo.f90             (merged by hand with PAW PW/readin)

	DONE PW/bp_calc_btq.f90             (trivial)
	DONE PW/c_bands.f90                 (actually RNV)
	DONE PW/ccgdiagg.f90                (RNV)
	DONE PW/cegterg.f90                 (RNV)
	DONE PW/cft3s.f90                   (RNV)
	DONE PW/cinitcgg.f90                (RNV)
	DONE PW/c_phase_field.f90           (RNV)
	DONE PW/divide_et_impera.f90        (nothing to do?)
	DONE PW/exx.f90                     (RNV)
	DONE PW/hinit0.f90                  (easy)
	DONE PW/h_psi.f90                   (RNV)
	DONE PW/init_run.f90                (easy)
	DONE PW/kpoint_grid.f90             (nothing to do?)
	DONE PW/newd.f90                    (required mod in newd_paw_grid, CHECK!!)
	DONE PW/openfil.f90                 (actually RNV)
	DONE PW/paw.f90                     (actually RNV)
	DONE PW/punch.f90                   (RNV)
	DONE PW/pwscf.f90                   (quite RNV)
	DONE PW/set_kup_and_kdw.f90         (RNV)
	DONE PW/setup.f90                   (RNV + 2 line merged by hand)
	DONE PW/sgama.f9                    (actually RNV)
	DONE PW/sgam_at_mag.f90             (actually RNV)
	DONE PW/stop_run.f90                (actually RNV)
	DONE PW/stres_gradcorr.f90          (actually RNV)
	DONE PW/symrho_mag.f90              (nothing to do)
	DONE PW/v_of_rho.f90                (RNV)

	DONE PW/compute_fes_grads.f90       (RNV)
	DONE PW/gradcorr.f90                (RNV)
	DONE PW/input.f90                   (RNV)
	DONE PW/pw_restart.f90              (RNV)
	DONE PW/read_ncpp.f90               (actually RNV)
	DONE PW/summary.f90                 (RNV + inserted new PP type)
	DONE PW/wfcinit.f90                 (RNV)

	the hard ones:
	DONE PW/electrons.f90   (adapted code to new syntaxes, a lot of cleanup, removed
	                         some PAW junk that can be readded later, removed parts
	                         that were applyed twice, or had been removed in trunk,
	                         the rhog allocations and usage may need fixes)
	DONE PW/mix_rho.f90     (merged tauk and paw additions, a bit of cleanup and smarter
	                         variables names)
	DONE PW/init_us_1.f90   (qtot redefined with "triangular" index nb,mb-->ijv)

	modified for compiling:
	Modules/io_files.f90    (depatched)
	PW/pwcom.f90            (depatched)
	Modules/parameters.f90  (temporary readded cp_lmax = lmaxx+1)
	PW/newd.f90             (merge was wrong, redone mostly by hand)
	PW/read_ncpp.f90        (depatched)
	PW/read_pseudo          (small fixes)
	PW/sgam_at_mag.f90      (depatched)
	PW/sgama.f90            (depatched)
	PW/stres_gradcorr.f90   (depatched)

	modified for running:
	PW/clean_pw.f90         (added call to deallocate_paw_internals)

	Modifications to PAW routines:
	1. compute_onecenter_charges and compute_onecenter_charges modified to
	   comply with new structure of v_xc (in v_of_rho.f90), requiring new
	   g-space densities to be saved and computed --> using old xc routines
	   as this code will be removed.
	2. qrad size has changed, prad and ptrad had to be changed accordingly.
	3. several minor modifications to use new radial grid structure.
	4. infomsg arguments changed, very funny bug followed.
	5. added new routine deallocate_paw_internals, called by PW/clean_pw.f90
	   required to run pp.x with more than one q-point(and good programming
	   practice)

	    *************************
	    *** merge of LD1 code ***
	    *************************
	2nd try: atomic code replaced with current version, then merge by hand
	the files that are used by paw subsystem:
	* atomic_paw.f90        (replaced with most recent version from develop_PAW
	                         routine us2paw and paw2us taken from newer trunk
	                         version, a lot of minor changes.)
	* gener_pseudo.f90      (fixes)
	* ld1inc.f90            (PAW variables added)
	* ld1_readin.f90        (PAW variables added, I am not sure if lpaw should go
	                         in input or inputp namelist)
	* ld1_writeout.f90      (it was only necessary to add a few lines)
	* pseudovloc.f90        (nothing to do)
	* run_pseudo.f90        (almost nothing to do)
	* set_rho_core.f90      (readded a few lines for lnc2paw)
	* write_paw_recon.f90   (nothing to do)
	* write_resultsps.f90   (nothing to do: trunk version is more
	                         PAW-aware than PAW version)

	Main problems were found in subroutines run_pseudo and gen_pseudo,
	a little code had to be rewritten to comply with new variable names
	and fix with merge.

	TODO: fix atomic_paw routines to use minimal allocated arrays insetad
	of ndmx sized ones; try to use the pawet as much as possible. Remove
	test lines and other garbage. Find a fix for PAW2.

	The first week of september Andrea Dal Corso uploaded a few modifications to
	the atomic_paw routines. I had to rollback them as the structure of atomic_paw
	has changed a lot and reimplementing them is probably easier and definitely
	safer than fixing everything. I will do it soon, I swear!

	LP

2007-09-17 12:02  seitsonen

	* GIPAW/compute_sigma.f90:

	 - Write the whole sigma tensor
	 - Wrong dimension for 'reduce()' ('na' is a loop index, 'nat' the correct
	       dimension - what all beautiful bugs one finds when compiling with
	       different compilers)

	       apsi

2007-09-17 11:42  cavazzon

	* CPV/: chargedensity.f90, fftdrv.f90, forces.f90:

	- tasks group cleanup, removed some redundant arrays to save memory

2007-09-17 11:41  cavazzon

	* CPV/ortho_base.f90:

	- added info on the ortho grid for matrix distribution

2007-09-17 11:38  cavazzon

	* Modules/task_groups.f90:

	- cleanup, mpi_comm_split used in place of mpi_group_incl+mpi_comm_create
	  on some system (SGI altix) this was causing problem with group handler.
	  with mpi_comm_split the logic is also more clear, hopefully.

2007-09-17 11:35  cavazzon

	* Modules/fft_base.f90:

	- cleanup, now there is only one scatter function

2007-09-17 11:20  giannozz

	* tests/: check-pw.x.j, metadyn.in, metadyn.ref:

	Automated tests updated, metadynamics test added

2007-09-17 11:04  umari

	* CPV/input.f90:

	Now electron_dynamics='cg' works properly.

	P.U.

2007-09-17 10:59  dalcorso

	* atomic/ld1_readin.f90:

	Small change. Zed up to 103 allowed.

2007-09-16 18:13  dalcorso

	* atomic/ld1_readin.f90, atomic/write_results.f90,
	  atomic_doc/INPUT_LD1:

	Small change. The speed of light is written in output when rel>0.
	In the all-electron case the default for xmin is brought back to -7 for rel=0
	and taken -10 for rel>0.

2007-09-14 18:19  dalcorso

	* Modules/radial_grids.f90:

	Increased ndmx.

2007-09-14 18:01  dalcorso

	* atomic_doc/all-electron/: h.in, he.in:

	These inputs use the previous xmin.

2007-09-14 17:49  dalcorso

	* atomic/scf.f90:

	The new gga gradient is used also in the all-electron case.

2007-09-14 17:40  dalcorso

	* Modules/constants.f90, atomic/dir_outward.f90, atomic/dirsol.f90,
	  atomic/ld1_readin.f90, atomic/ld1inc.f90, atomic/lschps.f90,
	  atomic_doc/INPUT_LD1:

	Introduced the constant c_au, speed of light in atomic units, and used
	it consistently in the atomic code.
	Modified the default for xmin (-12.0) and dx (0.008) when iswitch=1,
	otherwise the total energy is not fully converged. (experimental)

2007-09-14 09:30  giannozz

	* examples/: README, example24/README, example24/run_example,
	  example24/reference/ni.nscf.out, example24/reference/ni.phG.out,
	  example24/reference/ni.phX.out, example24/reference/ni.scf.out,
	  example24/reference/ni_so.nscf.out,
	  example24/reference/ni_so.phG.out,
	  example24/reference/ni_so.phX.out,
	  example24/reference/ni_so.scf.out,
	  example24/reference/pt.nscf.out, example24/reference/pt.phG.out,
	  example24/reference/pt.phX.out, example24/reference/pt.scf.out,
	  example32/README, example32/run_example,
	  example32/reference/h2o.cp.out,
	  example32/reference/h2o.vib.analysis:

	Example 32 (VIB) removed; example 35 moved to 24 (it fills a gap...);
	README updated

2007-09-13 17:20  umari

	* CPV/: efermi.f90, inner_loop_cold.f90, wave.f90:

	Small bugs corrected,
	now ensemble dft+nspin=2 is working agian
	The case cold-smearing has been tested
	the case fermi-dirac is stll to be checked

	P.U.

2007-09-13 14:42  giannozz

	* PH/phonon.f90:

	The previous fix was breaking something else, I hope this one is good

2007-09-13 13:33  giannozz

	* PH/phonon.f90:

	Case lnscf + lsda was also producing twice the neede k-points

2007-09-13 13:32  giannozz

	* examples/: README, daily_test, example02/README,
	  example02/run_example, example02/reference/c.phG.out,
	  example02/reference/c.scf.out, example02/reference/ni.nscf.out,
	  example02/reference/ni.phX.out, example02/reference/ni.scf.out,
	  example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example24/run_example,
	  example24/reference/quartz.efg.out,
	  example24/reference/quartz.scf.out:

	Removed obsolete example 24, exaple 02 updated and simplified

2007-09-13 12:33  paulatto

	* atomic/ld1_readin.f90:

	A check for conflicting input was in the wrong place, causing possible crashes and no check.
	LP

2007-09-13 12:31  paulatto

	* atomic/ascheqps.f90:

	If the bisection algorithm was used the initialization of "count" could be skipped.
	LP

2007-09-13 11:27  dalcorso

	* atomic/parameters.f90:

	Another parameter change.

2007-09-11 18:00  dalcorso

	* Modules/pseudo_types.f90, atomic/Makefile, atomic/atomic_paw.f90,
	  atomic/elsdps_paw.f90, atomic/gener_pseudo.f90,
	  atomic/ld1_readin.f90, atomic/ld1_setup.f90, atomic/ld1inc.f90,
	  atomic/run_pseudo.f90, atomic/run_test.f90,
	  atomic/start_potps.f90, atomic/write_resultsps.f90:

	A tentative to improve the paw pseudopotential generation and test.
	Main changes:
	The PAW file contains three new arrays (els, jjs, rcutus). Please
	update the reader in pw to use these pseudopotentials.
	The starting charge and wavefunctions are calculated from the all
	electron wavefunctions of the current configuration.
	The n1 and n1~ charges are set to zero outside the sphere before
	computing energies and potentials.
	The n1 and n1~ charges are set to zero when n~ becomes lower than
	10^-11 before descreening the effective potentials.
	The energy terms are exported to the ld1 variables and printed.
	Bug fix: The product of the wavefunctions and the projectors is done
	until ikk not irc.
	Added two examples of generation and test (Cu and Si).

2007-09-11 12:37  giannozz

	* iotk/src/: iotk_attr+COMPLEX1_0.f90, iotk_attr+COMPLEX2_0.f90,
	  iotk_attr+COMPLEX3_0.f90, iotk_attr+COMPLEX4_0.f90,
	  iotk_attr+INTEGER1_0.f90, iotk_attr+INTEGER2_0.f90,
	  iotk_attr+INTEGER3_0.f90, iotk_attr+INTEGER4_0.f90,
	  iotk_attr+LOGICAL1_0.f90, iotk_attr+LOGICAL2_0.f90,
	  iotk_attr+LOGICAL3_0.f90, iotk_attr+LOGICAL4_0.f90,
	  iotk_attr+REAL1_0.f90, iotk_attr+REAL2_0.f90,
	  iotk_attr+REAL3_0.f90, iotk_attr+REAL4_0.f90, iotk_attr.spp,
	  iotk_dat+CHARACTER1_0.f90, iotk_dat+CHARACTER1_3.f90,
	  iotk_dat+CHARACTER1_6.f90, iotk_dat+COMPLEX1_0.f90,
	  iotk_dat+COMPLEX1_3.f90, iotk_dat+COMPLEX1_6.f90,
	  iotk_dat+COMPLEX2_0.f90, iotk_dat+COMPLEX2_3.f90,
	  iotk_dat+COMPLEX2_6.f90, iotk_dat+COMPLEX3_0.f90,
	  iotk_dat+COMPLEX3_3.f90, iotk_dat+COMPLEX3_6.f90,
	  iotk_dat+COMPLEX4_0.f90, iotk_dat+COMPLEX4_3.f90,
	  iotk_dat+COMPLEX4_6.f90, iotk_dat+INTEGER1_0.f90,
	  iotk_dat+INTEGER1_3.f90, iotk_dat+INTEGER1_6.f90,
	  iotk_dat+INTEGER2_0.f90, iotk_dat+INTEGER2_3.f90,
	  iotk_dat+INTEGER2_6.f90, iotk_dat+INTEGER3_0.f90,
	  iotk_dat+INTEGER3_3.f90, iotk_dat+INTEGER3_6.f90,
	  iotk_dat+INTEGER4_0.f90, iotk_dat+INTEGER4_3.f90,
	  iotk_dat+INTEGER4_6.f90, iotk_dat+LOGICAL1_0.f90,
	  iotk_dat+LOGICAL1_3.f90, iotk_dat+LOGICAL1_6.f90,
	  iotk_dat+LOGICAL2_0.f90, iotk_dat+LOGICAL2_3.f90,
	  iotk_dat+LOGICAL2_6.f90, iotk_dat+LOGICAL3_0.f90,
	  iotk_dat+LOGICAL3_3.f90, iotk_dat+LOGICAL3_6.f90,
	  iotk_dat+LOGICAL4_0.f90, iotk_dat+LOGICAL4_3.f90,
	  iotk_dat+LOGICAL4_6.f90, iotk_dat+REAL1_0.f90,
	  iotk_dat+REAL1_3.f90, iotk_dat+REAL1_6.f90, iotk_dat+REAL2_0.f90,
	  iotk_dat+REAL2_3.f90, iotk_dat+REAL2_6.f90, iotk_dat+REAL3_0.f90,
	  iotk_dat+REAL3_3.f90, iotk_dat+REAL3_6.f90, iotk_dat+REAL4_0.f90,
	  iotk_dat+REAL4_3.f90, iotk_dat+REAL4_6.f90, iotk_dat.spp,
	  iotk_misc.f90, iotk_misc.spp, iotk_scan.f90, iotk_scan.spp,
	  iotk_str.f90, iotk_str.spp, iotk_write.f90, iotk_write.spp:

	Removed comments in italian (courtesy of Andrea Ferretti)

2007-09-11 09:57  giannozz

	* PH/make.depend, PW/make.depend, atomic/make.depend,
	  pwtools/make.depend, upftools/make.depend:

	Module dependencies (make.depend) updated

2007-09-11 09:16  dalcorso

	* Modules/pseudo_types.f90:

	Sorry. The same parameter is defined in two places. (to be cleaned)

2007-09-10 18:29  dalcorso

	* atomic/parameters.f90:

	Small change. Increased the maximum number of pseudowavefunctions.

2007-09-10 18:27  dalcorso

	* atomic/compute_chi.f90:

	Small change.

2007-09-10 17:58  dalcorso

	* PW/cegterg.f90:

	Bug (?) fix: on my notebook, sometimes the 'nscf' calculation crashes
	randomly. I do not know if this is the solution but in the example that
	I had this change solved the problem.

2007-09-10 17:36  umari

	* CPV/: cg_sub.f90, efermi.f90, inner_loop_cold.f90:

	Routine inner_loop_cold used also for fermi-dirac smearing,
	spin polarization still to be verfied

	P.U.

2007-09-10 11:36  cavazzon

	* PW/rotate_wfc_nc.f90:

	- added version of the subroutine with distributed matrixes,
	  this is to avoid the allocation of large arrays for large symulated systems

2007-09-09 00:40  cavazzon

	* PW/rotate_wfc_gamma.f90:

	- added version of the subroutine with distributed matrixes,
	  this is to avoid the allocation of large arrays for large
	  symulated systems

2007-09-09 00:06  cavazzon

	* PW/rotate_wfc.f90:

	- added version of the subroutine with distributed matrixes,
	  this is to avoid the allocation of large arrays for large
	  symulated systems

2007-09-07 09:29  dalcorso

	* PH/deallocate_phq.f90:

	Missing deallocation.

2007-09-07 09:28  dalcorso

	* atomic/ld1_readin.f90:

	Small problem. Check not correct in some cases.

2007-09-06 13:19  giannozz

	* PW/: compute_fes_grads.f90, input.f90:

	lsda was not explicitly initialized in some cases + spelling

2007-09-06 12:08  dalcorso

	* PW/set_rhoc.f90:

	Small change. Update of the (commented) calculation of the core-core energy
	with the change of the call to v_xc.

2007-09-06 12:02  dalcorso

	* PH/phonon.f90:

	Bug fix: the phonon code was using too many k points with ldisp=.true. and
	nspin=2.

2007-09-06 11:59  giannozz

	* tests/: README, atom-lsda.ref, atom-pbe.ref, atom-sigmapbe.ref,
	  atom.ref, check-pw.x.j, lattice-ibrav0-abc.ref,
	  lattice-ibrav0-cell_parameters+a.ref,
	  lattice-ibrav0-cell_parameters+celldm.ref,
	  lattice-ibrav0-cell_parameters.ref, lattice-ibrav1-kauto.ref,
	  lattice-ibrav1.ref, lattice-ibrav10-kauto.ref,
	  lattice-ibrav10.ref, lattice-ibrav11-kauto.ref,
	  lattice-ibrav11.ref, lattice-ibrav12-kauto.ref,
	  lattice-ibrav12.ref, lattice-ibrav13-kauto.ref,
	  lattice-ibrav13.ref, lattice-ibrav14-kauto.ref,
	  lattice-ibrav14.ref, lattice-ibrav2-kauto.ref,
	  lattice-ibrav2.ref, lattice-ibrav3-kauto.ref, lattice-ibrav3.ref,
	  lattice-ibrav4-kauto.ref, lattice-ibrav4.ref,
	  lattice-ibrav5-kauto.ref, lattice-ibrav5.ref,
	  lattice-ibrav6-kauto.ref, lattice-ibrav6.ref,
	  lattice-ibrav7-kauto.ref, lattice-ibrav7.ref,
	  lattice-ibrav8-kauto.ref, lattice-ibrav8.ref,
	  lattice-ibrav9-kauto.ref, lattice-ibrav9.ref, lsda-cg.ref,
	  lsda-mixing_TF.ref, lsda-mixing_localTF.ref,
	  lsda-mixing_ndim.ref, lsda-nelup+neldw.ref,
	  lsda-tot_magnetization.ref, lsda.ref, lsda.ref2, md.ref,
	  metal-fermi_dirac.ref, metal-gaussian.ref, metal-tetrahedra.ref,
	  metal-tetrahedra.ref2, metal.ref, metal.ref2, neb1-H2+H.in,
	  neb1-H2+H.ref, neb2-H2+H-symm.in, neb2-H2+H-symm.ref,
	  neb3-H2+H-asym.in, neb3-H2+H-asym.ref, noncolin-cg.ref,
	  noncolin-constrain_angle.ref, noncolin-constrain_atomic.ref,
	  noncolin-constrain_total.ref, noncolin.ref, noncolin.ref2,
	  relax-damped.ref, relax-pot_extrap1.ref, relax-pot_extrap2.ref,
	  relax.ref, relax2-bfgs_ndim3.ref, relax2-wfc_extrapol1.ref,
	  relax2-wfc_extrapol2.ref, relax2.ref, scf-cg.ref,
	  scf-disk_io.ref, scf-gamma.ref, scf-k0.ref, scf-kauto.ref,
	  scf-mixing_TF.ref, scf-mixing_beta.ref, scf-mixing_localTF.ref,
	  scf-mixing_ndim.ref, scf-wf_collect.ref, scf.ref, scf.ref2,
	  spinorbit.ref, spinorbit.ref2, uspp-cg.ref, uspp-mixing_TF.ref,
	  uspp-mixing_localTF.ref, uspp-mixing_ndim.ref,
	  uspp-singlegrid.ref, uspp.ref, uspp.ref2, uspp2.ref,
	  vc-relax1.ref, vc-relax2.ref:

	Added tests for neb

2007-09-05 18:20  giannozz

	* CPV/cp_restart.f90:

	Fixed weird problem with left-handed axis: volume calculated as determinant
	of the matrix of the axis is negative! Thanks to Timothy Havel who found the
	bug and the solution

2007-09-05 17:18  giannozz

	* CPV/read_pseudo.f90:

	Oops...

2007-09-05 13:02  giannozz

	* PW/: bp_calc_btq.f90, make.depend, read_ncpp.f90:

	Removed references to static dimension ndmx

2007-09-05 13:00  giannozz

	* Modules/: make.depend, radial_grids.f90, read_uspp.f90,
	  upf_to_internal.f90:

	Removed a few static arrays with dimension ndmx

2007-09-05 12:53  giannozz

	* CPV/: cplib.f90, make.depend, read_pseudo.f90:

	Removed dependency on mmaxx/ndmx

2007-09-04 17:27  cavazzon

	* PW/Makefile:

	- object:
	../Modules/radial_grids.o
	  was missing in Makefile, but "something" refers to it

2007-09-04 15:12  giannozz

	* tests/check-pw.x.j:

	Added check on wall time spent in testing

2007-09-04 14:58  cavazzon

	* Modules/stick_base.f90:

	- fix for INTEGER*4 overflow in subroutine that sort sticks.
	  In all version of PW an INTEGER*4 overflow could happens
	  when the dimension of the FFT in "z" direction (nr3)
	  is of the order of few thousands, say >= 1000.

2007-09-04 14:10  dalcorso

	* pwtools/ev.f90, upftools/read_upf_tofile.f90:

	Two small changes.
	ev.x writes the lattice constants in a.u. and in Angstrom.
	read_upf_tofile.x writes on file the core charge multiplied by 4 pi r^2
	as the valence charge.

2007-09-04 10:23  cavazzon

	* Doc/eps_man.tex:

	- manual for epsilon PP, from Andrea Benassi

2007-09-04 10:22  cavazzon

	* PP/epsilon.f90:

	- new version of epsilon PP, from Andrea Benassi

2007-09-04 09:39  giannozz

	* PH/: phq_init.f90, solve_linter.f90:

	Bad format

2007-09-04 09:37  giannozz

	* PW/startup.f90:

	iargc should not be defined external: some compilers don't like it

2007-09-03 18:10  giannozz

	* PW/mix_rho.f90:

	Questionable array syntax was causing gfortran to crash
	(by the way: gfortran finally seems to work, or at least, the august
	 snapshot for mac-osx intel compiles pw.x and passes all tests)

2007-09-03 15:13  giannozz

	* TODO, makedeps.sh:

	Minor updates

2007-09-03 10:09  dalcorso

	* examples/example35/README, examples/example35/run_example,
	  examples/example35/reference/ni.nscf.out,
	  examples/example35/reference/ni.phG.out,
	  examples/example35/reference/ni.phX.out,
	  examples/example35/reference/ni.scf.out,
	  examples/example35/reference/ni_so.nscf.out,
	  examples/example35/reference/ni_so.phG.out,
	  examples/example35/reference/ni_so.phX.out,
	  examples/example35/reference/ni_so.scf.out,
	  examples/example35/reference/pt.nscf.out,
	  examples/example35/reference/pt.phG.out,
	  examples/example35/reference/pt.phX.out,
	  examples/example35/reference/pt.scf.out,
	  pseudo/NirelPBE.RRKJ3.UPF, pseudo/NisrPBE.RRKJ3.UPF,
	  pseudo/PtrelPBE.RRKJ3.UPF:

	Added an example of phonon calculation with noncollinear/spin-orbit GGA.

2007-09-03 09:20  dalcorso

	* PH/: Makefile, addnlcc.f90, compute_vsgga.f90, dgradcorr.f90,
	  dv_of_drho.f90, phcom.f90, phq_readin.f90, phq_setup.f90,
	  setup_dgc.f90:

	Added the possibility to make noncollinear/spin-orbit GGA phonon calculation.
	(Still very experimental).

2007-09-03 09:03  dalcorso

	* PW/: Makefile, compute_rho_new.f90, compute_ux.f90, gradcorr.f90,
	  noncol.f90, setup.f90:

	Modification of the new noncollinear GGA routine.

2007-09-03 08:49  dalcorso

	* Modules/constants.f90:

	Added eps12.

2007-09-03 08:43  dalcorso

	* Modules/xml_io_base.f90:

	The pseudopotential file is always copied in the punch directory.

2007-09-03 08:40  dalcorso

	* atomic/ld1_readin.f90, atomic/ld1inc.f90,
	  atomic/set_rho_core.f90, atomic_doc/INPUT_LD1:

	Added the possibility to pseudize the core charge with two bessel function.
	(Experimental)

2007-09-03 08:32  dalcorso

	* atomic/: compute_phi.f90, compute_solution.f90,
	  integrate_outward.f90, lderivps.f90:

	Clean up and small change. Now compute_phi stops if the wavefunction has
	nodes before r_c.

2007-09-03 08:28  dalcorso

	* Makefile, upftools/Makefile:

	Makefile update. make tar and make upf were not working.

2007-09-01 16:19  cavazzon

	* Modules/ptoolkit.f90:

	- found a call to an MPI sub. without ierr argument, IBM MPI dumps a core,
	  but not other MPIs!

2007-08-31 11:54  giannozz

	* tests/: .cvsignore, README, atom-pbe.in, atom-pbe.ref,
	  atom-sigmapbe.in, atom-sigmapbe.ref, check-pw.x.j, lsda.in,
	  lsda.ref, lsda.ref2, md.in, noncolin.in, noncolin.ref,
	  noncolin.ref2, uspp-singlegrid.in, uspp-singlegrid.ref, uspp.in,
	  uspp.ref, uspp.ref2, uspp2.in, uspp2.ref, vc-relax1.in,
	  vc-relax1.ref, vc-relax2.in, vc-relax2.ref:

	added tests for variable-cell relaxation; tighter convergence threshold
	for some tests to get less shaky results (especially for stress)

2007-08-31 10:19  giannozz

	* PW/: clean_pw.f90, make.depend, restart_from_file.f90:

	1) incorrect deallocation of a pointer in variable-cell calculations
	2) restart in parallel case was likely broken because unit 'iunres'
	was not set to its correct value for all processors

2007-08-29 20:54  kkudin

	* PH/phcom.f90, PH/phonon.f90, PH/phq_readin.f90, PH/q_points.f90,
	  PW/kpoint_grid.f90, Doc/INPUT_PH:

	 Added new input variables (iq1, iq2, iq3) to the PH code such that it
	is now possible to run the PH code for just one k point out of the
	full dispersion grid (specified by nq1, nq2, nq3). This way there is
	no need to run PW with 'phonon' first for a non-Gamma k point, and
	perhaps, there are some other positive (or negative?)  effects that I
	am not aware of.

2007-08-29 16:51  dalcorso

	* atomic/all_electron.f90, atomic/elsd_highv.f90, atomic/ld1.f90,
	  atomic/ld1_readin.f90, atomic/ld1_setup.f90, atomic/ld1inc.f90,
	  atomic/occ_spin.f90, atomic/run_test.f90, atomic/scf.f90,
	  atomic/starting_potential.f90, atomic_doc/INPUT_LD1:

	Introduced two new variables in namelist test. lsdts(nc) is the lsd of
	each configuration. Allows to make simultaneously spin-polarized and
	spin-unpolarized tests.
	frozen_core. If true the code make frozen-core transferability tests.
	In the all-electron calculation the core wavefunctions of the first configuration are kept fixed.

2007-08-29 11:59  dalcorso

	* atomic/: elsd_highv.f90, set_rc_rv.f90, v_of_rho_at.f90:

	Missing routines in previous commit.

2007-08-29 11:37  giannozz

	* CPV/: cp_fpmd.f90, fftdrv.f90:

	cp_fpmd: do not write info on "grid box" if absent, fixed an error message
	with questionable spelling
	fftdrv: use the same scatter algorithm as PWscf (what_scatter=1)
	the previous default, what_scatter=0, did not allow nr3x to differ from nr3

2007-08-29 09:57  dalcorso

	* PW/gradcorr.f90:

	__OLD_NONCOLIN_GGA reintroduced as default.

2007-08-29 09:09  dalcorso

	* atomic/Makefile, atomic/all_electron.f90, atomic/ld1_readin.f90,
	  atomic/ld1inc.f90, atomic/starting_potential.f90,
	  atomic/write_results.f90, atomic_doc/INPUT_LD1:

	Added the calculation of the frozen-core energy.

2007-08-28 15:07  ceresoli

	* GIPAW/: Makefile, efg.f90, g_tensor_crystal.f90,
	  gipaw_module.f90, make.depend, suscept_crystal.f90:

	GIPAW updated to comply with the new radial_grids module. (D.C.)

2007-08-26 10:49  dalcorso

	* atomic/write_resultsps.f90:

	To be fixed: if lpaw is true the decomposition of the total energy is not
	calculated, so now it is not printed.

2007-08-26 10:44  dalcorso

	* atomic/: read_pseudoupf.f90, set_rho_core.f90, write_upf.f90:

	Small change. Use pi and fpi from constants module.

2007-08-25 13:38  dalcorso

	* atomic/descreening.f90:

	Bug fix. Found by Ari Seitsonen.

2007-08-25 10:18  dalcorso

	* atomic/ld1_readin.f90:

	Small change to previous check.

2007-08-23 18:54  cavazzon

	* Modules/mp_global.f90:

	- fix for scalar build in CP, a new variable "ortho_comm_id" was not initialized
	  properly

2007-08-23 12:07  dalcorso

	* atomic/ld1_readin.f90:

	Introduced a check to avoid two wavefunctions with the same n,l in
	the test configuration.

2007-08-22 19:06  dalcorso

	* atomic/: all_electron.f90, elsd.f90, elsdps.f90, ld1inc.f90,
	  new_potential.f90:

	Clean-up of the routines that calculate the total energy.

2007-08-22 16:33  mostofi

	* PP/pw2wannier90.f90:

	Exploit symmetry Mkb(m,n)=Mkb(n,m) when using gamma_only branch. AAM.

2007-08-22 12:25  cavazzon

	* CPV/: ortho.f90, ortho_base.f90:

	- cleanups
	- another large replicated array eliminated in uptadc
	- better definition of distributed matrix leading dimension

2007-08-22 12:22  cavazzon

	* CPV/: cp_fpmd.f90, cplib.f90, cprsub.f90, eigs0.f90, mainvar.f90,
	  nl_base.f90:

	- cleanups

2007-08-21 06:59  degironc

	* Doc/INPUT_PW:

	updated wmass default values.

2007-08-21 00:13  cavazzon

	* Modules/ptoolkit.f90:

	- missing #endif

2007-08-21 00:07  cavazzon

	* PW/setup.f90:

	- check for distpara with gamma_only removed

2007-08-21 00:06  cavazzon

	* PW/cegterg.f90:

	- added a fully distributed memory pcegterg
	  its usage can be selected specifying
	  diagonalization = 'david+distpara'

2007-08-21 00:03  cavazzon

	* PW/cdiaghg.f90:

	- added a fully distributed memory subroutine pcdiaghg

2007-08-21 00:02  cavazzon

	* PW/rdiaghg.f90:

	- cleanups

2007-08-21 00:01  cavazzon

	* PW/regterg.f90:

	- small cleanups

2007-08-20 23:59  cavazzon

	* Modules/ptoolkit.f90:

	- changes required by cegterg matrixes parallelization
	- cleanups

2007-08-20 23:59  cavazzon

	* Modules/descriptors.f90:

	- more checks on dimensions.

2007-08-20 23:57  cavazzon

	* Modules/mp.f90:

	- changes required by cegterg matrixes parallelization

2007-08-20 16:37  dalcorso

	* atomic/newd_at.f90:

	Bug fix. Many of the ld1inc variables needed by newd_at.f90 had not been
	passed.

2007-08-20 14:23  dalcorso

	* atomic/ld1_readin.f90, atomic/ld1inc.f90,
	  atomic/write_results.f90, atomic/write_resultsps.f90,
	  atomic_doc/INPUT_LD1:

	In the atomic code, the conversion factor from Ry to eV can
	be given in input. It can be used to compare with old papers.

2007-08-20 08:53  dalcorso

	* PH/phq_init.f90:

	Clean up. More detailed error message.

2007-08-19 19:36  mostofi

	* PP/pw2wannier90.f90:

	Added gamma_only variable to calls to Wannier90 library routines. AAM.

2007-08-19 18:19  cavazzon

	* Modules/ptoolkit.f90, PW/cdiaghg.f90, PW/rdiaghg.f90,
	  PW/regterg.f90:

	- wrong leading dimension used for matrix blocks ( too large! )

2007-08-19 16:32  cavazzon

	* PW/regterg.f90:

	- some compiler (like PGI) does not like unallocated variables
	  to be passed as dummy argument (I think this is a compiler bug).
	  then allocate variable on all procs with size 1

2007-08-19 15:40  dalcorso

	* PW/gradcorr.f90:

	A tentative to improve the GGA in the noncollinear case.
	The old GGA is still available compiling with the flag __OLD_NONCOLIN_GGA.
	This routine is experimental.
	(Thanks to G. Sclauzero for useful discussion).

2007-08-19 07:59  mostofi

	* PP/pw2wannier90.f90:

	Reduce tolerance to which orthogonality of x-axis and z-axis is checked.
	AAM.

2007-08-18 20:20  cavazzon

	* atomic/ld1inc.f90:

	- xlf compiler complains becose the module does not have
	  the save attribute:
	"ld1inc.f90", line 8.0: 1513-191 (S) A variable declared in the scope of a module, grid, that is of a derived type with default initialization, must have the SAVE attribute.

	???

	I've added the save attribute, it does not hurt anyway.

2007-08-18 17:56  cavazzon

	* Modules/mp.f90:

	- fix for serial build

2007-08-18 17:47  cavazzon

	* PW/input.f90, PW/make.depend, PW/rdiaghg.f90, PW/regterg.f90,
	  PW/setup.f90, Doc/INPUT_PW:

	- new version of reghter ( preghter ) without global replicated
	  data. Matrixes are distributed across processors.
	- to turn on the use of the new algorithm, a new value for
	  input parameter "diagonalization", has been introduced:

	diagonalization = 'david+distpara'

	work like david but use fully distributed memory
	iteration loop. Allocated memory scale down with the
	number of procs. Procs involved in diagonalization can
	be changed with input parameter "ortho_para".
	On multi core/CPUs often it is convenient to let only
	one core per CPU to work on linear algebra.

	User can tune the number of core involved in diag. with
	the keyword in electrons namelist:

	ortho_para = NN

	then the code will use the largest square smaller than NN,
	since matrixes are always distributed on a suqre grid of procs.
	Note that if NN < 2*nproc, then one proc every two is taken
	for parellel diag. The same for NN < 4*proc, one every four
	is taken. This is to minimize memory contention on multi core proc.
	In example, if you run with 64procs on a 4core CPU cluster,
	it may be convenient to specify:
	ortho_para = 16
	So that only one core per CPU is involved in diagonalization.
	Further performance enhancements will be possible using
	OpenMP BLAS inside regter/cegter/rdiaghg/cdiaghg (to be implemented)

	for the time been, all this is only for gamma_only calculation,
	ceghter will follow...

2007-08-18 17:46  cavazzon

	* CPV/: inner_loop_cold.f90, ortho_base.f90:

	- new version of reghter ( preghter ) without global replicated
	  data. Matrixes are distributed across processors.
	- to turn on the use of the new algorithm, a new value for
	  input parameter "diagonalization", has been introduced:

	diagonalization = 'david+distpara'

	work like david but use fully distributed memory
	iteration loop. Allocated memory scale down with the
	number of procs. Procs involved in diagonalization can
	be changed with input parameter "ortho_para".
	On multi core/CPUs often it is convenient to let only
	one core per CPU to work on linear algebra.

	User can tune the number of core involved in diag. with
	the keyword in electrons namelist:

	ortho_para = NN

	then the code will use the largest square smaller than NN,
	since matrixes are always distributed on a suqre grid of procs.
	Note that if NN < 2*nproc, then one proc every two is taken
	for parellel diag. The same for NN < 4*proc, one every four
	is taken. This is to minimize memory contention on multi core proc.
	In example, if you run with 64procs on a 4core CPU cluster,
	it may be convenient to specify:
	ortho_para = 16
	So that only one core per CPU is involved in diagonalization.
	Further performance enhancements will be possible using
	OpenMP BLAS inside regter/cegter/rdiaghg/cdiaghg (to be implemented)

2007-08-18 17:45  cavazzon

	* Modules/: control_flags.f90, input_parameters.f90, mp.f90,
	  mp_global.f90, ptoolkit.f90:


	- new version of reghter ( preghter ) without global replicated
	  data. Matrixes are distributed across processors.
	- to turn on the use of the new algorithm, a new value for
	  input parameter "diagonalization", has been introduced:

	diagonalization = 'david+distpara'

	work like david but use fully distributed memory
	iteration loop. Allocated memory scale down with the
	number of procs. Procs involved in diagonalization can
	be changed with input parameter "ortho_para".
	On multi core/CPUs often it is convenient to let only
	one core per CPU to work on linear algebra.

	User can tune the number of core involved in diag. with
	the keyword in electrons namelist:

	ortho_para = NN

	then the code will use the largest square smaller than NN,
	since matrixes are always distributed on a suqre grid of procs.
	Note that if NN < 2*nproc, then one proc every two is taken
	for parellel diag. The same for NN < 4*proc, one every four
	is taken. This is to minimize memory contention on multi core proc.
	In example, if you run with 64procs on a 4core CPU cluster,
	it may be convenient to specify:
	ortho_para = 16
	So that only one core per CPU is involved in diagonalization.
	Further performance enhancements will be possible using
	OpenMP BLAS inside regter/cegter/rdiaghg/cdiaghg (to be implemented)

2007-08-18 16:24  mostofi

	* PP/pw2wannier90.f90:

	Modifications to make pw2wannier90 compatible with gamma_only branch of pw.
	Arash Mostofi, Stefano de Gironcoli.

2007-08-18 08:42  dalcorso

	* atomic/compute_chi.f90:

	Added the possibility to deal with strongly diverging scattering
	wavefunctions. (Really experimental, use with care)

2007-08-18 08:34  dalcorso

	* atomic/write_results.f90:

	In the lsda case write the up and down all-electron wavefunctions in two
	separate files.

2007-08-18 08:24  dalcorso

	* atomic/gener_pseudo.f90:

	Added the possibility to pseudize the NC wavefunctions with the TM recipe
	when pseudotype=3. The US wavefunctions are still pseudized with the RRKJ
	recipe.

2007-08-17 23:54  degironc

	* atomic/: add_exchange.f90, all_electron.f90, ascheqps_drv.f90,
	  chargeps.f90, compute_chi.f90, compute_chi_tm.f90,
	  compute_phi.f90, compute_phi_tm.f90, compute_phius.f90,
	  compute_potps.f90, descreening.f90, dfx_new.f90, drho0ofvx.f90,
	  elsdps.f90, esic.f90, find_qi.f90, gener_pseudo.f90, ld1.f90,
	  ld1_readin.f90, ld1_setup.f90, ld1_writeout.f90, ld1inc.f90,
	  lderiv.f90, lderivps.f90, newd_at.f90, normalize.f90,
	  pseudovloc.f90, read_newpseudo.f90, read_pseudoupf.f90,
	  run_pseudo.f90, run_test.f90, scf.f90, set_psi_in.f90,
	  set_rho_core.f90, sic_correction.f90, start_potps.f90,
	  write_paw_recon.f90, write_results.f90, write_resultsps.f90:

	explicit declaration of variables in ld1inc in all routines.

2007-08-17 10:18  dalcorso

	* atomic/atomic_paw.f90, atomic/run_pseudo.f90, atomic/vxcgc.f90,
	  atomic_doc/all-electron/h.in, atomic_doc/all-electron/he.in,
	  atomic_doc/all-electron/reference/h.out,
	  atomic_doc/all-electron/reference/he.out:

	Small changes to previous commit. Use the default mesh in the examples.

2007-08-16 18:25  dalcorso

	* atomic_doc/all-electron/reference/: h.out, he.out:

	Examples updated.

2007-08-16 18:09  dalcorso

	* atomic/c6_dft.f90, atomic/descreening.f90, atomic/elsd.f90,
	  atomic/elsdps.f90, atomic/new_potential.f90, atomic/scf.f90,
	  atomic/set_rho_core.f90, atomic/sic_correction.f90,
	  atomic/vxcgc.f90, atomic_doc/all-electron/h.in:

	A tentative to improve the GGA instability close to the origin.

2007-08-16 11:46  dalcorso

	* atomic/ld1_readin.f90:

	Bug fix: zval was wrong if the test and generation configurations
	were different.

2007-08-16 11:33  dalcorso

	* PW/: divide_class.f90, divide_class_so.f90:

	Fixed a problem with D_2 classes.
	Problem found by Tao Sun.

2007-08-15 21:31  giannozz

	* Modules/atom.f90:

	Some compilers do not like empty continuation lines

2007-08-15 17:49  dalcorso

	* atomic/: Makefile, write_resultsps.f90:

	Makefile updated after last commit.
	Small change in the file ld1.test.

2007-08-14 12:18  giannozz

	* tests/: atom-lsda.ref, atom-pbe.ref, atom-sigmapbe.ref, atom.ref,
	  check-pw.x.j, lattice-ibrav0-abc.ref,
	  lattice-ibrav0-cell_parameters+a.ref,
	  lattice-ibrav0-cell_parameters+celldm.ref,
	  lattice-ibrav0-cell_parameters.ref, lattice-ibrav1-kauto.ref,
	  lattice-ibrav1.ref, lattice-ibrav10-kauto.ref,
	  lattice-ibrav10.ref, lattice-ibrav11-kauto.ref,
	  lattice-ibrav11.ref, lattice-ibrav12-kauto.ref,
	  lattice-ibrav12.ref, lattice-ibrav13-kauto.ref,
	  lattice-ibrav13.ref, lattice-ibrav14-kauto.ref,
	  lattice-ibrav14.ref, lattice-ibrav2-kauto.ref,
	  lattice-ibrav2.ref, lattice-ibrav3-kauto.ref, lattice-ibrav3.ref,
	  lattice-ibrav4-kauto.ref, lattice-ibrav4.ref,
	  lattice-ibrav5-kauto.ref, lattice-ibrav5.ref,
	  lattice-ibrav6-kauto.ref, lattice-ibrav6.ref,
	  lattice-ibrav7-kauto.ref, lattice-ibrav7.ref,
	  lattice-ibrav8-kauto.ref, lattice-ibrav8.ref,
	  lattice-ibrav9-kauto.ref, lattice-ibrav9.ref, lsda-cg.ref,
	  lsda-mixing_TF.ref, lsda-mixing_localTF.ref,
	  lsda-mixing_ndim.ref, lsda-nelup+neldw.ref,
	  lsda-tot_magnetization.ref, lsda.ref, md.ref,
	  metal-fermi_dirac.ref, metal-gaussian.ref, metal-tetrahedra.ref,
	  metal.ref, noncolin-cg.ref, noncolin-constrain_angle.ref,
	  noncolin-constrain_atomic.ref, noncolin-constrain_total.ref,
	  noncolin.ref, relax-damped.ref, relax-pot_extrap1.ref,
	  relax-pot_extrap2.ref, relax.ref, relax2-bfgs_ndim3.ref,
	  relax2-wfc_extrapol1.ref, relax2-wfc_extrapol2.ref, relax2.ref,
	  scf-cg.ref, scf-disk_io.ref, scf-gamma.ref, scf-k0.ref,
	  scf-kauto.ref, scf-mixing_TF.ref, scf-mixing_beta.ref,
	  scf-mixing_localTF.ref, scf-mixing_ndim.ref, scf-wf_collect.ref,
	  scf.ref, spinorbit.ref, uspp-cg.ref, uspp-mixing_TF.ref,
	  uspp-mixing_localTF.ref, uspp-mixing_ndim.ref,
	  uspp-singlegrid.ref, uspp.ref, uspp2.ref:

	Added check on the number of scf iterations

2007-08-14 10:19  giannozz

	* PW/: electrons.f90, restart_from_file.f90:

	Bug in restart for the parallel case (noticed by Sahu).
	Variable "restart"  was set to .false. if no restart file was found,
	but only on the root process. The routine should now be parallel-safe.

	Number of scf iterations printed on output after "Convergence achieved"
	(useful for automatic testing of the number of iterations done)

2007-08-14 09:51  dalcorso

	* atomic/: run_pseudo.f90, set_rho_core.f90:

	The core charge is not pseudized when all filled states are in the valence.

2007-08-14 09:45  dalcorso

	* atomic/: run_pseudo.f90, start_potps.f90:

	Clean up. The separation between generation and test was not complete.

2007-08-14 09:24  degironc

	* atomic/: ascheqlocps.f90, compute_phipot.f90, do_mesh.f90:

	clean up of unused routines

2007-08-14 09:19  dalcorso

	* atomic/ld1_readin.f90:

	Small problem introduced by previous commit.

2007-08-13 19:12  giannozz

	* CPV/make.depend, Modules/make.depend, PH/make.depend,
	  PP/make.depend, PW/make.depend:

	make.depend updated (they are no longer automatically updated)

2007-08-13 18:49  degironc

	* Modules/radial_grids.f90:

	missing file, sorry.

2007-08-13 18:27  cavazzon

	* PW/: cdiaghg.f90, rdiaghg.f90:

	- double precision rdiaghg with block-like matrix distribution
	- cleanups

2007-08-13 18:21  cavazzon

	* Modules/ptoolkit.f90:

	- added double precision cholesky (pdpotf) and inversion (pdtrtri)
	- clean-ups

2007-08-13 17:42  giannozz

	* tests/: README, check-pw.x.j, check.j, lsda.in2, lsda.ref2,
	  metal-tetrahedra.in2, metal-tetrahedra.ref2, metal.in2,
	  metal.ref2, noncolin.in2, noncolin.ref2, scf.in2, scf.ref2,
	  spinorbit.in2, spinorbit.ref2, uspp.in2, uspp.ref2:

	More automatic tests: nscf

2007-08-13 15:55  cavazzon

	* Modules/ptoolkit.f90:

	- pztrtri, wrong dimension in zgemm fixed
	- pztrtri, optimization for 4 procs ortho grid (2x2)

2007-08-12 02:08  degironc

	* CPV/cplib.f90, CPV/cprsub.f90, CPV/make.depend, CPV/nlcc.f90,
	  CPV/problem_size.f90, CPV/pseudopot_sub.f90, CPV/qqberry.f90,
	  CPV/read_pseudo.f90, D3/d3_init.f90, Gamma/dvpsi_kb.f90,
	  Gamma/dynmatcc.f90, Modules/Makefile, Modules/atom.f90,
	  Modules/make.depend, Modules/parameters.f90,
	  Modules/pseudo_types.f90, Modules/read_uspp.f90,
	  Modules/upf_to_internal.f90, Modules/uspp.f90, PH/make.depend,
	  PH/phq_init.f90, PH/set_drhoc.f90, PP/add_shift_cc.f90,
	  PP/atomic_wfc_nc_proj.f90, PP/make.depend, PW/atomic_rho.f90,
	  PW/atomic_wfc.f90, PW/atomic_wfc_nc.f90, PW/average_pp.f90,
	  PW/bp_calc_btq.f90, PW/compute_qdipol.f90, PW/force_cc.f90,
	  PW/force_corr.f90, PW/gen_at_dj.f90, PW/gen_at_dy.f90,
	  PW/init_at_1.f90, PW/init_paw_1.f90, PW/init_us_1.f90,
	  PW/init_vloc.f90, PW/make.depend, PW/paw.f90, PW/pwscf.f90,
	  PW/read_ncpp.f90, PW/read_pseudo.f90, PW/realus.f90,
	  PW/set_rhoc.f90, PW/stres_cc.f90, PW/stres_loc.f90,
	  PW/summary.f90, PW/v_of_rho.f90, PWCOND/condcom.f90,
	  PWCOND/four.f90, PWCOND/init_cond.f90, PWCOND/init_orbitals.f90,
	  PWCOND/make.depend, PWCOND/save_cond.f90,
	  PWCOND/scatter_forw.f90, atomic/Makefile,
	  atomic/add_exchange.f90, atomic/all_electron.f90,
	  atomic/ascheq.f90, atomic/ascheqps.f90, atomic/ascheqps_drv.f90,
	  atomic/atomic_paw.f90, atomic/c6_dft.f90, atomic/c6_tfvw.f90,
	  atomic/chargeps.f90, atomic/compute_chi.f90,
	  atomic/compute_chi_tm.f90, atomic/compute_det.f90,
	  atomic/compute_phi.f90, atomic/compute_phi_tm.f90,
	  atomic/compute_phius.f90, atomic/compute_potps.f90,
	  atomic/compute_solution.f90, atomic/descreening.f90,
	  atomic/dfx_new.f90, atomic/dirsol.f90, atomic/drho0ofvx.f90,
	  atomic/drhoofv.f90, atomic/dvex.f90, atomic/elsd.f90,
	  atomic/elsdps.f90, atomic/esic.f90, atomic/find_qi.f90,
	  atomic/gener_pseudo.f90, atomic/green.f90, atomic/hartree.f90,
	  atomic/int_0_inf_dr.f90, atomic/integrate_inward.f90,
	  atomic/integrate_outward.f90, atomic/intref.f90,
	  atomic/inward.f90, atomic/ld1_readin.f90,
	  atomic/ld1_writeout.f90, atomic/ld1inc.f90, atomic/lderiv.f90,
	  atomic/lderivps.f90, atomic/lschps.f90, atomic/make.depend,
	  atomic/new_potential.f90, atomic/newd_at.f90,
	  atomic/normalize.f90, atomic/outward.f90, atomic/parameters.f90,
	  atomic/pseudovloc.f90, atomic/read_newpseudo.f90,
	  atomic/read_pseudo.f90, atomic/read_pseudoupf.f90,
	  atomic/run_pseudo.f90, atomic/run_test.f90, atomic/scf.f90,
	  atomic/series.f90, atomic/set_psi_in.f90,
	  atomic/set_rho_core.f90, atomic/sic_correction.f90,
	  atomic/start_potps.f90, atomic/test_bessel.f90,
	  atomic/write_paw_recon.f90, atomic/write_results.f90,
	  atomic/write_resultsps.f90, atomic/write_upf.f90,
	  atomic_doc/vdw-in-tfvw/test.job,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-gl.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-gl.out,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-noc.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-noc.out,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-pz.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-pz.out,
	  atomic_doc/vdw-in-tfvw/reference/compare.dat,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-gl.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-gl.out,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-noc.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-noc.out,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-pz.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-pz.out,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-gl.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-gl.out,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-noc.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-noc.out,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-pz.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-pz.out,
	  examples/example27/run_example, flib/make.depend:

	a radial_grid_type is introduced in Modules and used in atomic-related part
	many changes but results are identical before and after.
	sdg

2007-08-11 17:47  cavazzon

	* CPV/emptystates.f90, CPV/inner_loop_cold.f90, CPV/mainvar.f90,
	  CPV/ortho_base.f90, PW/cdiaghg.f90:

	- again on ortho_group, small fix in group creation
	- new descriptor init

2007-08-11 17:46  cavazzon

	* Modules/: descriptors.f90, mp_global.f90:

	- again on ortho_group, fix in group creation

2007-08-11 15:35  cavazzon

	* Modules/mp.f90, Modules/mp_global.f90, CPV/ortho_base.f90:

	- ortho_group initialization modified.
	  Now when the total number of procs is >= 2 * number of procs in ortho group,
	  only processors with even rank are included in ortho
	  group. This should stess less the memory BW in multi-core procs.
	  Normally in ortho group are included processors with rank < number of
	  procs in ortho group.

2007-08-11 15:29  cavazzon

	* PW/cdiaghg.f90:

	- minor changes

2007-08-11 14:21  cavazzon

	* Modules/ptoolkit.f90:

	- fix for a wrong allocation

2007-08-11 09:45  cavazzon

	* Modules/mp.f90:

	- assign a value to dummy intent(out) arguments in the scalar
	  build too, to avoid compilers warning

2007-08-11 09:37  cavazzon

	* Modules/ptoolkit.f90:

	- another MPI variable outside ifdef __MPI

2007-08-10 15:02  dalcorso

	* atomic/run_pseudo.f90:

	Small problem with previous commit.

2007-08-10 13:57  dalcorso

	* atomic/: ld1_readin.f90, ld1inc.f90, run_pseudo.f90:

	Added the possibility to write the self-consistent potential on files at
	each iteration.

2007-08-10 13:06  smogunov

	* Doc/INPUT_PW, PW/add_bfield.f90, PW/input.f90:

	Added an option to constrain the angle of the total magnetization
	with the z axis (A. Smogunov).

2007-08-10 10:01  dalcorso

	* atomic/run_test.f90:

	Another change in the initial guess of core radii.

2007-08-10 09:21  cavazzon

	* Modules/ptoolkit.f90:

	- missing #ifdef __MPI

2007-08-09 23:37  cavazzon

	* upftools/Makefile:

	- Makefile again

2007-08-09 23:28  cavazzon

	* D3/Makefile:

	- Makefile

2007-08-09 23:26  cavazzon

	* PWCOND/Makefile:

	- Makefile again

2007-08-09 23:22  cavazzon

	* PP/Makefile:

	- another Makefile update

2007-08-09 23:13  cavazzon

	* VdW/Makefile:

	- Makefile updates

2007-08-09 23:11  cavazzon

	* Gamma/Makefile:

	- again module objects in Makefile

2007-08-09 23:05  cavazzon

	* PP/Makefile:

	- modules added

2007-08-09 23:02  cavazzon

	* PH/Makefile:

	- new modules added

2007-08-09 22:50  cavazzon

	* Doc/INPUT_PW:

	- doc for input parameter ortho_para

2007-08-09 22:49  cavazzon

	* CPV/: Makefile, cglib.f90, cplib.f90, eigs0.f90, electrons.f90,
	  emptystates.f90, guess.f90, inner_loop_cold.f90, input.f90,
	  make.depend, ortho_base.f90, wave.f90:

	- changes that depend from the changes in the modules

2007-08-09 22:48  cavazzon

	* PW/: Makefile, cdiagh.f90, cdiaghg.f90, input.f90, make.depend,
	  rdiagh.f90, rdiaghg.f90, setup.f90:

	- block-like parallelization of cdiaghg,
	  no global replicated matrix are now allocated inside cdiaghg
	- real routine will follow soon
	- note that the number of processors involved in diag.
	  is the largest square smaller or equal to nproc_pool
	- it is possible to suggest a different number of processors in
	  the input with the parameter: ortho_para (like for cp)

2007-08-09 22:38  cavazzon

	* Modules/: Makefile, control_flags.f90, descriptors.f90,
	  dspev_drv.f90, make.depend, mp.f90, mp_global.f90, ptoolkit.f90,
	  zhpev_drv.f90:

	- changes required to block-like parallelization diagonalization
	- dspev and zhpev parallel driver moved to independend module,
	  ptoolkit has grown too much!
	- new subroutine in ptoolkit for parallel block-like cholesky decomposition
	  and triangular matrix inversion (now only for hermitian matrixes)
	- new subroutine in ptoolkit for compex matrix multiplication

2007-08-09 22:29  cavazzon

	* flib/gridsetup.f90:

	- small changes for block-like parallelization of diagonalization

2007-08-06 09:13  dalcorso

	* Doc/INPUT_PW:

	Documentation update.

2007-08-06 09:11  dalcorso

	* atomic/run_test.f90:

	Bug fix. In some cases the core radii written in the pseudopotential
	file were not used.

2007-08-04 13:24  dalcorso

	* tests/spinorbit.ref:

	Spin-orbit test updated.

2007-08-03 17:46  giannozz

	* tests/: atom-lsda.in, atom-pbe.in, atom-sigmapbe.in, atom.in,
	  lattice-ibrav0-abc.in, lattice-ibrav0-cell_parameters+a.in,
	  lattice-ibrav0-cell_parameters+celldm.in,
	  lattice-ibrav0-cell_parameters.in, lattice-ibrav1-kauto.in,
	  lattice-ibrav1.in, lattice-ibrav10-kauto.in, lattice-ibrav10.in,
	  lattice-ibrav11-kauto.in, lattice-ibrav11.in,
	  lattice-ibrav12-kauto.in, lattice-ibrav12.in,
	  lattice-ibrav13-kauto.in, lattice-ibrav13.in,
	  lattice-ibrav14-kauto.in, lattice-ibrav14.in,
	  lattice-ibrav2-kauto.in, lattice-ibrav2.in,
	  lattice-ibrav3-kauto.in, lattice-ibrav3.in,
	  lattice-ibrav4-kauto.in, lattice-ibrav4.in,
	  lattice-ibrav5-kauto.in, lattice-ibrav5.in,
	  lattice-ibrav6-kauto.in, lattice-ibrav6.in,
	  lattice-ibrav7-kauto.in, lattice-ibrav7.in,
	  lattice-ibrav8-kauto.in, lattice-ibrav8.in,
	  lattice-ibrav9-kauto.in, lattice-ibrav9.in, lsda-cg.in,
	  lsda-mixing_TF.in, lsda-mixing_localTF.in, lsda-mixing_ndim.in,
	  lsda-nelup+neldw.in, lsda-tot_magnetization.in, lsda.in, md.in,
	  metal-fermi_dirac.in, metal-gaussian.in, metal-tetrahedra.in,
	  metal.in, noncolin-cg.in, noncolin-constrain_angle.in,
	  noncolin-constrain_atomic.in, noncolin-constrain_total.in,
	  noncolin.in, relax-damped.in, relax-pot_extrap1.in,
	  relax-pot_extrap2.in, relax.in, relax2-bfgs_ndim3.in,
	  relax2-wfc_extrapol1.in, relax2-wfc_extrapol2.in, relax2.in,
	  scf-cg.in, scf-disk_io.in, scf-gamma.in, scf-k0.in, scf-kauto.in,
	  scf-mixing_TF.in, scf-mixing_beta.in, scf-mixing_localTF.in,
	  scf-mixing_ndim.in, scf-wf_collect.in, scf.in, spinorbit.in,
	  uspp-cg.in, uspp-mixing_TF.in, uspp-mixing_localTF.in,
	  atom-lsda.ref, atom-pbe.ref, atom-sigmapbe.ref, atom.ref,
	  lattice-ibrav0-abc.ref, lattice-ibrav0-cell_parameters+a.ref,
	  lattice-ibrav0-cell_parameters+celldm.ref,
	  lattice-ibrav0-cell_parameters.ref, lattice-ibrav1-kauto.ref,
	  lattice-ibrav1.ref, lattice-ibrav10-kauto.ref,
	  uspp-mixing_ndim.in, uspp-singlegrid.in, uspp.in, uspp2.in,
	  lattice-ibrav10.ref, lattice-ibrav11-kauto.ref,
	  lattice-ibrav11.ref, lattice-ibrav12-kauto.ref,
	  lattice-ibrav12.ref, lattice-ibrav13-kauto.ref,
	  lattice-ibrav13.ref, lattice-ibrav14-kauto.ref,
	  lattice-ibrav14.ref, lattice-ibrav2-kauto.ref,
	  lattice-ibrav2.ref, lattice-ibrav3-kauto.ref, lattice-ibrav3.ref,
	  lattice-ibrav4-kauto.ref, lattice-ibrav4.ref,
	  lattice-ibrav5-kauto.ref, lattice-ibrav5.ref,
	  lattice-ibrav6-kauto.ref, lattice-ibrav6.ref,
	  lattice-ibrav7-kauto.ref, lattice-ibrav7.ref,
	  lattice-ibrav8-kauto.ref, lattice-ibrav8.ref,
	  lattice-ibrav9-kauto.ref, lattice-ibrav9.ref, lsda-cg.ref,
	  lsda-mixing_TF.ref, lsda-mixing_localTF.ref,
	  lsda-mixing_ndim.ref, lsda-nelup+neldw.ref,
	  lsda-tot_magnetization.ref, lsda.ref, md.ref,
	  metal-fermi_dirac.ref, metal-gaussian.ref, metal-tetrahedra.ref,
	  metal.ref, noncolin-cg.ref, noncolin-constrain_angle.ref,
	  noncolin-constrain_atomic.ref, noncolin-constrain_total.ref,
	  noncolin.ref, relax-damped.ref, relax-pot_extrap1.ref,
	  relax-pot_extrap2.ref, relax.ref, relax2-bfgs_ndim3.ref,
	  relax2-wfc_extrapol1.ref, relax2-wfc_extrapol2.ref, relax2.ref,
	  scf-cg.ref, scf-disk_io.ref, scf-gamma.ref, scf-k0.ref,
	  scf-kauto.ref, scf-mixing_TF.ref, scf-mixing_beta.ref,
	  scf-mixing_localTF.ref, scf-mixing_ndim.ref, scf-wf_collect.ref,
	  scf.ref, spinorbit.ref, uspp-cg.ref, uspp-mixing_TF.ref,
	  uspp-mixing_localTF.ref, uspp-mixing_ndim.ref,
	  uspp-singlegrid.ref, uspp.ref, uspp2.ref, README, check.j:

	New automatic tests, still under development. Unlike the current automatic
	test (which I can't stand any longer), this procedure is meant to be fast,
	to cover as many cases as possible, and to yield "passed" or "not passed"
	as a result. The tests are not meant to be physically meaningful.
	See README and check.j : it should be easy to follow the logic (if any)

	Presently there are tests for pw.x only, for a few types of calculations:
	'scf', 'relax', 'md'. Adding new tests for single pw.x runs is easy.
	Extension to calculations requiring more steps, and to other codes,
	requires some additional though.

2007-08-03 09:29  dalcorso

	* atomic_doc/pseudo_library/make_ps:

	Small problem.

2007-08-02 18:26  dalcorso

	* atomic_doc/pseudo_library/: AAAREADME, make_ps,
	  LDA/REL/Ag.rel-pz-rrkjus.in, LDA/REL/Al.rel-pz-rrkj.in,
	  LDA/REL/As.rel-pz-rrkj.in, LDA/REL/Au.rel-pz-rrkjus.in,
	  LDA/REL/B.rel-pz-rrkjus.in, LDA/REL/Br.rel-pz-rrkj.in,
	  LDA/REL/C.rel-pz-rrkjus.in, LDA/REL/Cd.rel-pz-rrkjus.in,
	  LDA/REL/Cl.rel-pz-rrkj.in, LDA/REL/F.rel-pz-rrkjus.in,
	  LDA/REL/H.rel-pz-rrkjus.in, LDA/REL/Hg.rel-pz-rrkjus.in,
	  LDA/REL/Ir.rel-pz-rrkjus.in, LDA/REL/N.rel-pz-rrkjus.in,
	  LDA/REL/O.rel-pz-rrkjus.in, LDA/REL/Os.rel-pz-rrkjus.in,
	  LDA/REL/P.rel-pz-rrkj.in, LDA/REL/Pd.rel-pz-rrkjus.in,
	  LDA/REL/Rh.rel-pz-rrkjus.in, LDA/REL/Ru.rel-pz-rrkjus.in,
	  LDA/REL/S.rel-pz-rrkj.in, LDA/REL/Sb.rel-pz-rrkj.in,
	  LDA/REL/Se.rel-pz-rrkj.in, LDA/REL/Si.rel-pz-rrkj.in,
	  LDA/REL/clean, LDA/REL/make_ps, LDA/SR/Ag.pz-rrkjus.in,
	  LDA/SR/Al.pz-rrkj.in, LDA/SR/As.pz-rrkj.in,
	  LDA/SR/Au.pz-rrkjus.in, LDA/SR/B.pz-rrkjus.in,
	  LDA/SR/Br.pz-rrkj.in, LDA/SR/C.pz-rrkjus.in,
	  LDA/SR/Cd.pz-rrkjus.in, LDA/SR/Cl.pz-rrkj.in,
	  LDA/SR/F.pz-rrkjus.in, LDA/SR/H.pz-rrkjus.in,
	  LDA/SR/Hg.pz-rrkjus.in, LDA/SR/Ir.pz-rrkjus.in,
	  LDA/SR/N.pz-rrkjus.in, LDA/SR/O.pz-rrkjus.in,
	  LDA/SR/Os.pz-rrkjus.in, LDA/SR/P.pz-rrkj.in,
	  LDA/SR/Pd.pz-rrkjus.in, LDA/SR/Rh.pz-rrkjus.in,
	  LDA/SR/Ru.pz-rrkjus.in, LDA/SR/S.pz-rrkj.in,
	  LDA/SR/Sb.pz-rrkj.in, LDA/SR/Se.pz-rrkj.in, LDA/SR/Si.pz-rrkj.in,
	  LDA/SR/clean, LDA/SR/make_ps, PBE/REL/Ag.rel-pbe-rrkjus.in,
	  PBE/REL/Al.rel-pbe-rrkj.in, PBE/REL/As.rel-pbe-rrkj.in,
	  PBE/REL/Au.rel-pbe-rrkjus.in, PBE/REL/B.rel-pbe-rrkjus.in,
	  PBE/REL/Br.rel-pbe-rrkj.in, PBE/REL/C.rel-pbe-rrkjus.in,
	  PBE/REL/Cd.rel-pbe-rrkjus.in, PBE/REL/Cl.rel-pbe-rrkj.in,
	  PBE/REL/F.rel-pbe-rrkjus.in, PBE/REL/H.rel-pbe-rrkjus.in,
	  PBE/REL/Hg.rel-pbe-rrkjus.in, PBE/REL/Ir.rel-pbe-rrkjus.in,
	  PBE/REL/N.rel-pbe-rrkjus.in, PBE/REL/O.rel-pbe-rrkjus.in,
	  PBE/REL/Os.rel-pbe-rrkjus.in, PBE/REL/P.rel-pbe-rrkj.in,
	  PBE/REL/Pd.rel-pbe-rrkjus.in, PBE/REL/Rh.rel-pbe-rrkjus.in,
	  PBE/REL/Ru.rel-pbe-rrkjus.in, PBE/REL/S.rel-pbe-rrkj.in,
	  PBE/REL/Sb.rel-pbe-rrkj.in, PBE/REL/Se.rel-pbe-rrkj.in,
	  PBE/REL/Si.rel-pbe-rrkj.in, PBE/REL/clean, PBE/REL/make_ps,
	  PBE/SR/Ag.pbe-rrkjus.in, PBE/SR/Al.pbe-rrkj.in,
	  PBE/SR/As.pbe-rrkj.in, PBE/SR/Au.pbe-rrkjus.in,
	  PBE/SR/B.pbe-rrkjus.in, PBE/SR/Br.pbe-rrkj.in,
	  PBE/SR/C.pbe-rrkjus.in, PBE/SR/Cd.pbe-rrkjus.in,
	  PBE/SR/Cl.pbe-rrkj.in, PBE/SR/F.pbe-rrkjus.in,
	  PBE/SR/H.pbe-rrkjus.in, PBE/SR/Hg.pbe-rrkjus.in,
	  PBE/SR/Ir.pbe-rrkjus.in, PBE/SR/N.pbe-rrkjus.in,
	  PBE/SR/O.pbe-rrkjus.in, PBE/SR/Os.pbe-rrkjus.in,
	  PBE/SR/P.pbe-rrkj.in, PBE/SR/Pd.pbe-rrkjus.in,
	  PBE/SR/Rh.pbe-rrkjus.in, PBE/SR/Ru.pbe-rrkjus.in,
	  PBE/SR/S.pbe-rrkj.in, PBE/SR/Sb.pbe-rrkj.in,
	  PBE/SR/Se.pbe-rrkj.in, PBE/SR/Si.pbe-rrkj.in, PBE/SR/clean,
	  PBE/SR/make_ps:

	Started a library of pseudopotential input files for the atomic code.

2007-08-01 10:57  giannozz

	* examples/example23/reference/: h2o.efield.out, h2o.wannier.out:

	Examples updated

2007-08-01 10:52  giannozz

	* examples/: example21/reference/h2o-32.out,
	  example21/reference/h2o-64.out, example22/reference/bands.pt.im,
	  example22/reference/pt.bands.out,
	  example22/reference/pt.cond.out,
	  example22/reference/pt.cond_t.out,
	  example22/reference/pt.nscf.out,
	  example22/reference/pt.nscf_ph.out,
	  example22/reference/pt.ph.out, example22/reference/pt.phX.out,
	  example22/reference/pt.scf.out,
	  example22/reference/pt.scf_ph.out,
	  example22/reference/pt.tet.out, example22/reference/pt4.out:

	Examples updated

2007-08-01 10:40  giannozz

	* examples/example20/: run_example, reference/nh3.out:

	Examples: removed box grid from input where not needed

2007-08-01 10:34  giannozz

	* examples/example19/: run_example, reference/h2o-mol1.out,
	  reference/h2o-mol2.out, reference/h2o-mol3.out:

	Examples: removed box grid from input where not needed

2007-07-31 18:06  dalcorso

	* atomic/: write_results.f90, write_resultsps.f90:

	Small change. The atomic code writes on output only the eigenvalues
	of the states with non negative occupations.

2007-07-31 12:58  giannozz

	* examples/: example18/reference/sio2.cp.restart.out,
	  example18/reference/sio2.cp.start.out,
	  example18/reference/sio2.vc-cp.out,
	  example18/reference/sio2.vc-cp.restart.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out:

	Examples updated

2007-07-31 12:53  giannozz

	* examples/example17/reference/: H2+H-cp.axsf, H2+H-cp.dat,
	  H2+H-cp.int, H2+H-cp.out, H2+H-cp.path, H2+H-cp.xyz, H2+H.axsf,
	  H2+H.dat, H2+H.int, H2+H.out, H2+H.path, H2+H.xyz,
	  asymmetric_H2+H.axsf, asymmetric_H2+H.dat, asymmetric_H2+H.int,
	  asymmetric_H2+H.out, asymmetric_H2+H.path, asymmetric_H2+H.xyz,
	  symmetric_H2+H.axsf, symmetric_H2+H.dat, symmetric_H2+H.int,
	  symmetric_H2+H.out, symmetric_H2+H.path, symmetric_H2+H.xyz:

	Example updated (please verify)

2007-07-31 12:35  giannozz

	* examples/example16/reference/: AlAs110.pp_stm+.out,
	  AlAs110.pp_stm-.out, AlAs110re.nonscf.out, AlAs110re.scf.out:

	Examples updated

2007-07-31 12:32  giannozz

	* examples/example15/reference/: alas.dynG, alas.ph.out,
	  alas.scf.out:

	Example updated

2007-07-31 12:30  giannozz

	* examples/example14/reference/: si.anh_G, si.anh_X, si.d3G.out,
	  si.d3X.out, si.nscf.out, si.phG.out, si.phX.out, si.scf.out:

	Examples updated

2007-07-30 17:05  paulatto

	* PW/rad_paw_routines.f90:

	Code cleaned up, removed most unused routines and variables. PAW_ngrad removed as PAW_grad has been fixed. PAW_grad improved reducing memory usage and time. A few other fixes and debugs.
	Note: using ifort 10 with boundary checks will cause the program to stop in PAW_gcxc, it is probably a bug in the compiler but may also be some nasty hidden bug.
	LP

2007-07-30 15:33  dalcorso

	* atomic/vxcgc.f90:

	Clean up. Asimptotic formula removed also from the atomic code.

2007-07-30 10:52  dalcorso

	* atomic_doc/INPUT_LD1:

	Updated.

2007-07-30 10:43  dalcorso

	* atomic/: ld1_readin.f90, ld1inc.f90, write_upf.f90:

	Introduced as input the variable author, which is written in the
	pseudopotential file.

2007-07-28 18:40  dalcorso

	* Modules/xml_io_base.f90, PH/phq_readin.f90, PP/bands.f90,
	  PP/postproc.f90, PW/noncol.f90, PW/pw_restart.f90,
	  PWCOND/do_cond.f90:

	The variables needed to constrain the magnetization written in the punch
	file. The ph.x, pwcond.x, pp.x and bands.x codes now stop if pw.x has
	been run with constrained magnetization.

2007-07-28 14:56  paulatto

	* PW/rad_paw_routines.f90:

	Now gradient correction is working, for both nlcc true and false. Algorithm of PAW_ngrad is correct, while PAW_grad has some small error that has to be fixed as soon as possible (it is 10 times faster). GC is not implemented yet for spin>1.
	Differences with previous version:
	+ gradient correction doesn't have to be multiplied by the density before radial integration (?)
	+ ...but it still has to be multiplied by r**2
	+ removed "long distance" asymptotic formula that was clearly wrong
	+ added e2=2._dp factor to convert to rydberg units
	LP

2007-07-28 14:17  dalcorso

	* atomic/run_test.f90:

	Small change on the core radius guess.

2007-07-27 15:25  giannozz

	* examples/: example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.co, example12/reference/bands.al.im,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.ni_down.im,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out:

	Examples updated

2007-07-27 13:17  giannozz

	* examples/: example09/reference/ch4.nm.out,
	  example09/reference/ch4.scf.out, example09/reference/dynmat.out,
	  example09/reference/sih4.dyn.out,
	  example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out:

	Examples updated

2007-07-27 13:14  giannozz

	* examples/example08/reference/: ni.dos.out, ni.pdos.out,
	  ni.scf.out:

	Examples updated

2007-07-27 10:04  giannozz

	* examples/example07/reference/: al.elph.out, al.scf.fit.out,
	  al.scf.out, lambda:

	Examples updated

2007-07-27 09:56  dalcorso

	* PW/setup.f90:

	The code now stops if lspinorb=.true. and noncolin=.false..

2007-07-26 23:58  cavazzon

	* Modules/fft_base.f90, CPV/fftdrv.f90:

	- bug fix, manage grid where nr3 /= nr3x

2007-07-26 22:52  cavazzon

	* CPV/fftdrv.f90:

	- now fftdrv use the same fft_scatter of PW,
	  this fix a recent bug reported by Nicola and Paolo

2007-07-26 20:39  kkudin

	* CPV/cprstart.f90:

	 Small fix, 1 taskgroup is same as none ...

2007-07-26 17:49  dalcorso

	* atomic/compute_det.f90:

	Increased accuracy in the solution of the nonlocal pseudopotential equation.

2007-07-26 14:41  paulatto

	* PW/rad_paw_routines.f90:

	Fix: typo in previous code caused segfaults
	LP

2007-07-26 10:03  giannozz

	* examples/example06/reference/: alas.freq, alas.ph.out,
	  alas.phdos, alas.scf.out, matdyn.modes:

	Examples updated

2007-07-26 09:49  giannozz

	* examples/: example02/reference/c.phG.out,
	  example02/reference/c.scf.out, example02/reference/ni.nscf.out,
	  example02/reference/ni.phX.out, example02/reference/ni.scf.out,
	  example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example05/reference/si.band.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.scf.out, example05/reference/sibands.ps:

	Examples updated

2007-07-25 17:57  paulatto

	* PW/: electrons.f90, grid_paw_routines.f90, rad_paw_routines.f90,
	  rad_paw_trash.f90:

	Added routines to compute gradient correction. Full of bugs, results are completely wrong, but at least the radial derivative should be ok. Saving to keep track of changes.

	LP

2007-07-25 17:53  giannozz

	* pwtools/bands_FS.f:

	Fermi Surface plotting was still broken

2007-07-25 17:10  giannozz

	* examples/example04/reference/: si.md2.out, si.md2_G3X.out,
	  si.md8.out:

	Examples updated

2007-07-25 17:02  giannozz

	* examples/: example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.bands.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.bands.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out:

	Examples updated

2007-07-25 15:15  giannozz

	* PH/: el_opt.f90, make.depend, phq_summary.f90:

	Another minor error in electro-optical tensor calculation

2007-07-24 23:58  cavazzon

	* CPV/ortho_base.f90:

	- mp_barrier added to avoid problems with buggy MPI implementations,
	  they should not slow down the execution in any way.

2007-07-24 23:55  cavazzon

	* CPV/mainvar.f90:

	- set of dimensions used to distribute n by n matrixes

2007-07-24 23:52  cavazzon

	* CPV/forces.f90:

	- tasks group array dimension set to a "safe" value

2007-07-24 23:47  cavazzon

	* CPV/eigs0.f90:

	- additional check on array size

2007-07-24 23:44  cavazzon

	* Modules/: mp_global.f90, ptoolkit.f90:

	- cleanup
	- MPI_BARRIER to avoid possible interference between two call
	  to sqr_mm_cannon. Not really sure if it is really necessary,
	  for sure it helps in case of "buggy" MPI library.

2007-07-24 23:36  cavazzon

	* Modules/task_groups.f90:

	- new variable used to dimension arrays used in tasks_group subs

2007-07-24 23:32  cavazzon

	* Modules/clocks.f90:

	- "*" replaced by "stdout"

2007-07-24 16:42  cavazzon

	* CPV/nl_base.f90:

	- nlfq, parallelization of the contribution to fion,
	  allocated memory now scale with the number of processor
	  in the ortho group. To be exact memory scale like the
	  square root of the number of processor used in the ortho
	  group. With 4 proc the allocated memory is 1/2 of the memory
	  required with a single proc.

2007-07-24 14:30  cavazzon

	* CPV/cplib.f90:

	- nlfl, fix of an error introduced with the previous commit

2007-07-24 12:57  cavazzon

	* CPV/cplib.f90:

	- parallelization of matrix operations inside nlfl,
	  allocated memory inside the subroutine now
	  scale with the number of processors.

2007-07-24 11:44  giannozz

	* PW/stress.f90:

	A leftover test line in stress was preventing stress calculation with LDA.
	Stress no longer stops in meta-gga case, but it returns, like for other
	non-implemented cases

2007-07-23 18:47  cococ

	* Doc/INPUT_PW, PW/orthoatwfc.f90:

	U_projection_type = 'norm-atomic' will allow the normalization of atomic
	Bloch function when they are not normalized in the pseudopotential. This
	is a quick and dirty fix to the problem (normalization of the atomic
	wavefunctions should be done in the atomic code) that produces meaningless
	occupations for LDA+U calculations. Explanation added in INPUT_PW

2007-07-22 11:53  cavazzon

	* atomic/compute_chi.f90:

	- incorrect sintax, found by xlf (version 10.1)

2007-07-21 23:54  degironc

	* atomic_doc/: all-electron/test.job,
	  all-electron/reference/ar.out, all-electron/reference/c_oep.out,
	  all-electron/reference/cu.out, all-electron/reference/cu1.out,
	  all-electron/reference/f.out, all-electron/reference/fe.out,
	  all-electron/reference/h.out, all-electron/reference/he.out,
	  all-electron/reference/mg.out, all-electron/reference/ne_oep.out,
	  all-electron/reference/pt.out, all-electron/reference/u.out,
	  all-electron/reference/u1.out, all-electron/reference/w.out,
	  pseudo-gen/reference/Al.rrkj3,
	  pseudo-gen/reference/Asrel.RRKJ3.UPF,
	  pseudo-gen/reference/OPBE.RRKJ3,
	  pseudo-gen/reference/Ptrel.RRKJ3.UPF,
	  pseudo-gen/reference/Si.recon, pseudo-gen/reference/SiPBE_nc,
	  pseudo-gen/reference/al.out, pseudo-gen/reference/as.out,
	  pseudo-gen/reference/o.out, pseudo-gen/reference/pt.out,
	  pseudo-gen/reference/si_nc.out,
	  pseudo-gen/reference/si_nc_paw.out, pseudo-test/reference/al.out,
	  pseudo-test/reference/as.out, pseudo-test/reference/ga.out,
	  pseudo-test/reference/ni.out, pseudo-test/reference/o.out,
	  pseudo-test/reference/rh.out, pseudo-test/reference/s.out:

	update of the atomic tests.
	the only difference with the previous outputis is in the use of a
	different conversion factor from a.u. to eV.
	stefano

2007-07-21 18:25  dalcorso

	* Modules/mp_global.f90, PH/phq_readin.f90, PP/bands.f90,
	  PP/postproc.f90, PW/pw_restart.f90:

	The ph.x, bands.x and pp.x now check that pw.x has been run with the same
	number of processors.

2007-07-21 00:23  degironc

	* PW/rad_paw_routines.f90:

	LDA XC radial integration is working also for nlcc=true.
	rho_core is just the charge density without any r2 or fpi factor.

2007-07-20 17:30  paulatto

	* PW/rad_paw_routines.f90:

	olved: now xc work for all NON-gradient corrected functionals (plain LDA), WITHOUT non linear core correction
	LP

2007-07-20 16:03  paulatto

	* PW/: electrons.f90, rad_paw_routines.f90:

	Added buggy routine for XC energy, results are still different from grid routine.
	LP

2007-07-19 18:00  giannozz

	* Modules/read_namelists.f90, PW/c_bands.f90, PW/input.f90:

	More minor changes for nscf restart by Andrea Ferretti

2007-07-19 10:35  giannozz

	* PW/: c_bands.f90, make.depend, save_in_cbands.f90:

	Better restart in non-scf case: disk_io='high' no longer needed for
	restarting, printout of the state of the calculation (Andrea Ferretti)

2007-07-18 12:23  giannozz

	* CPV/cplib.f90, Modules/control_flags.f90, Modules/griddim.f90,
	  Modules/ptoolkit.f90, Modules/read_namelists.f90,
	  Modules/uspp.f90, CPV/cpr.f90, CPV/fromscra.f90, CPV/init.f90,
	  CPV/main.f90, CPV/read_pseudo.f90, CPV/restart_sub.f90,
	  CPV/smcp.f90:

	Default value for nr1b, nr2b, nr3b is set to 0. The nr*b MUST be provided
	for US PP, are completely ignored (box grid is not initialized) for NC PP.
	This prevents nasty errors in US PP calculations if nr*b are forgotten

2007-07-17 18:42  dalcorso

	* PH/phq_readin.f90:

	Sorry.

2007-07-17 18:33  paulatto

	* PW/rad_paw_routines.f90:

	Some test lines slipped in (removed)

2007-07-17 18:31  paulatto

	* PW/: print_clock_pw.f90, rad_paw_routines.f90:

	PAW_h_energy and PAW_v_h have been merged as they where getting smaller and smaller, this saves a bit of memory and does the sum on spins only one time (check for nspin>1).
	Now radial integration is working fine but code need a lot of cleanup (postponed until LDA is implemented)
	Several other minor corrections
	LP

2007-07-17 18:26  dalcorso

	* Modules/read_cards.f90, PH/phq_readin.f90, PW/input.f90,
	  flib/atomic_number.f90:

	Added a list of atomic masses. The code uses them when the input masses
	are zero or negative.

2007-07-17 18:13  dalcorso

	* PW/stress.f90:

	The code does not stop any more if stress+gga+noncolinear is requested.
	Just write a message and continue.

2007-07-17 14:37  degironc

	* flib/ylmr2.f90:

	ylmr2 modified in order to avoid the use of factorials that would otherwise
	lead to overflow for lmax > 11 (this was already done in the main branch but
	is now also included in develop_PAW)
	sdg

2007-07-17 11:32  paulatto

	* PW/rad_paw_routines.f90:


	problem with invmat, check on different compiler/libraries configuration

2007-07-16 17:20  giannozz

	* pseudo/Al.pbe-rrkj.UPF:

	Added PP for AL used by example ofwork function calculation.

	I think we should either distribute all PP's, or select a much smaller
	set for testing purposes. For the time being I just added yet another,
	but we should define a better strategy

2007-07-16 17:15  giannozz

	* examples/WorkFct_example/: reference/Al.bulkref.avg.in,
	  reference/Al.bulkref.avg.out, reference/Al.bulkref.in,
	  reference/Al.bulkref.out, reference/Al.bulkref.pp.in,
	  reference/Al.bulkref.pp.out, reference/Al100.avg.in,
	  reference/Al100.avg.out, reference/Al100.in, reference/Al100.out,
	  reference/Al100.pot, reference/Al100.pp.in,
	  reference/Al100.pp.out, reference/Al100.wf.data,
	  reference/Al100.wf.eps, reference/Albulkrefpot, run_example:

	Added example for Work function calculation (courtesy of Nicholas
	Singh-Miller, MIT)

2007-07-16 16:45  giannozz

	* PW/: memory_report.f90, rdiaghg.f90:

	Better (?) printout of memory usage. Parallel diagonalization of real
	matrices was not working any longer (one line was missing) after the
	recent memory-saving changes

2007-07-16 14:43  giannozz

	* PP/qexml.f90:

	qexml - the stand-alone xml file reader - updated, courtesy of Andrea Ferretti

2007-07-16 14:40  degironc

	* CPV/modules.f90, CPV/problem_size.f90, CPV/qqberry.f90,
	  CPV/read_pseudo.f90, D3/Makefile, Gamma/Makefile,
	  Modules/atom.f90, Modules/parameters.f90,
	  Modules/pseudo_types.f90, Modules/radial_grids.f90,
	  Modules/readpseudo.f90, Modules/uspp.f90, PH/Makefile,
	  PH/set_drhoc.f90, PP/Makefile, PW/Makefile, PW/bp_calc_btq.f90,
	  PW/electrons.f90, PW/grid_paw_routines.f90,
	  PW/grid_paw_variables.f90, PW/memory.f90, PW/paw.f90,
	  PW/pwscf.f90, PW/rad_paw_routines.f90, PW/rad_paw_trash.f90,
	  PW/read_ncpp.f90, PW/readin.f90, PW/readnewvan.f90,
	  PW/readvan.f90, PW/restart.f90, PW/upf_to_internal.f90,
	  PWCOND/Makefile, PWCOND/condcom.f90, PWCOND/four.f90,
	  PWCOND/save_cond.f90, PWCOND/scatter_forw.f90, atomic/Makefile,
	  atomic/add_exchange.f90, atomic/all_electron.f90,
	  atomic/ascheq.f90, atomic/ascheqlocps.f90, atomic/ascheqps.f90,
	  atomic/atomic_paw.f90, atomic/chargeps.f90,
	  atomic/compute_chi.f90, atomic/compute_det.f90,
	  atomic/compute_phi.f90, atomic/compute_phipot.f90,
	  atomic/compute_phius.f90, atomic/compute_solution.f90,
	  atomic/descreening.f90, atomic/dfx_new.f90, atomic/dirsol.f90,
	  atomic/do_mesh.f90, atomic/drho0ofvx.f90, atomic/drhoofv.f90,
	  atomic/dvex.f90, atomic/elsd.f90, atomic/elsdps.f90,
	  atomic/esic.f90, atomic/find_qi.f90, atomic/gener_pseudo.f90,
	  atomic/green.f90, atomic/hartree.f90, atomic/int_0_inf_dr.f90,
	  atomic/integrate_inward.f90, atomic/integrate_outward.f90,
	  atomic/intref.f90, atomic/inward.f90, atomic/ld1_readin.f90,
	  atomic/ld1_writeout.f90, atomic/ld1inc.f90, atomic/lderiv.f90,
	  atomic/lderivps.f90, atomic/new_potential.f90,
	  atomic/newd_at.f90, atomic/normalize.f90, atomic/outward.f90,
	  atomic/parameters.f90, atomic/pseudovloc.f90,
	  atomic/read_newpseudo.f90, atomic/read_pseudo.f90,
	  atomic/read_pseudoupf.f90, atomic/run_pseudo.f90,
	  atomic/run_test.f90, atomic/scf.f90, atomic/series.f90,
	  atomic/set_rho_core.f90, atomic/sic_correction.f90,
	  atomic/start_potps.f90, atomic/write_paw_recon.f90,
	  atomic/write_results.f90, atomic/write_resultsps.f90,
	  atomic/write_upf.f90, atomic_doc/all-electron/reference/ar.out,
	  atomic_doc/all-electron/reference/c_oep.out,
	  atomic_doc/all-electron/reference/cu.out,
	  atomic_doc/all-electron/reference/cu1.out,
	  atomic_doc/all-electron/reference/f.out,
	  atomic_doc/all-electron/reference/fe.out,
	  atomic_doc/all-electron/reference/h.out,
	  atomic_doc/all-electron/reference/he.out,
	  atomic_doc/all-electron/reference/mg.out,
	  atomic_doc/all-electron/reference/ne_oep.out,
	  atomic_doc/all-electron/reference/pt.out,
	  atomic_doc/all-electron/reference/u.out,
	  atomic_doc/all-electron/reference/u1.out,
	  atomic_doc/all-electron/reference/w.out,
	  atomic_doc/pseudo-gen/o.in,
	  atomic_doc/pseudo-gen/reference/Al.rrkj3,
	  atomic_doc/pseudo-gen/reference/Asrel.RRKJ3.UPF,
	  atomic_doc/pseudo-gen/reference/OPBE.RRKJ3,
	  atomic_doc/pseudo-gen/reference/Ptrel.RRKJ3.UPF,
	  atomic_doc/pseudo-gen/reference/al.out,
	  atomic_doc/pseudo-gen/reference/as.out,
	  atomic_doc/pseudo-gen/reference/o.out,
	  atomic_doc/pseudo-gen/reference/pt.out,
	  atomic_doc/pseudo-gen/reference/si_nc.out,
	  atomic_doc/pseudo-gen/reference/si_nc_paw.out,
	  atomic_doc/pseudo-test/reference/al.out,
	  atomic_doc/pseudo-test/reference/as.out,
	  atomic_doc/pseudo-test/reference/ga.out,
	  atomic_doc/pseudo-test/reference/ni.out,
	  atomic_doc/pseudo-test/reference/rh.out,
	  atomic_doc/pseudo-test/reference/s.out:

	added radial_grids.f90 module in Modules with definition of a radial_grid_type.It will contain routines performing operations on radial grids.
	As of now it contains code previously in  hartree.f90 and series.f90
	Everythng has been changed so that nothing change.
	sdg

2007-07-16 14:21  giannozz

	* iotk/: include/iotk_auxmacros.h, include/iotk_auxmacros.spp,
	  src/iotk_misc.f90, src/iotk_scan.f90, src/iotk_scan.spp:

	Workaround for Nec compilation had disappeared from iotk uftare update
	(noticed by Guido)

2007-07-16 09:49  dalcorso

	* atomic/: gener_pseudo.f90, ld1.f90, ld1_readin.f90,
	  pseudovloc.f90:

	Small changes.
	The all-electron and pseudo wavefunctions used to generate
	the local pseudopotential are written on file.
	Reintroduced the possibility to write the pseudopotential after a test.

2007-07-15 01:14  degironc

	* PW/: allocate_nlpot.f90, electrons.f90, grid_paw_routines.f90,
	  grid_paw_variables.f90, init_us_1.f90, rad_paw_routines.f90:

	dipolar correction added to v_h_grid. now one-center E_Hartree computed on FFT grid and on radial mesh agrees whithin 1.d-5 Ry up to LM=4, quadrupolar correction not yet added (and maybe not worth to be added).
	Some redefinition of gaussian spread in auxiliary array in v_h_grid in order to make them more similar to terms present in Ewald' sums (just an aestetic change).
	stefano

2007-07-13 21:59  sbraccia

	* PW/: cdiaghg.f90, rdiaghg.f90:

	Fixed a little bug in the reconstruction of S and H matrices. Memory saving
	trick written by Paolo "exported" to the real case as well. CS

2007-07-13 18:04  paulatto

	* PW/: electrons.f90, print_clock_pw.f90, rad_paw_routines.f90:


	added new subroutines to integrate on radial grid:
	  + PAW_rho_rad sum lm components on a certain direction (theta,phi)
	  + PAW_sph_integral uses it to integrate on spherical surface + simpson to integrate along radial dimension
	code set up to test new routines computing hartree energy (again)

2007-07-13 12:14  ceresoli

	* examples/GIPAW_example/: run_example, pseudo/O.pbe-tm-gipaw.UPF,
	  reference/quartz.efg.out, reference/quartz.scf.out:

	Example updated: EFG of bulk quartz (this was example24). (D.C.)

2007-07-13 11:43  ceresoli

	* PW/: gen_us_dj.f90, gen_us_dy.f90, init_paw_1.f90,
	  init_paw_2.f90, init_us_1.f90, init_us_2.f90:

	Array out-of-bound fixed (this happened only if spline_ps=.true.). (D.C.)

2007-07-13 11:40  ceresoli

	* GIPAW/: efg.f90, g_tensor_crystal.f90, gipaw_module.f90:

	Small changes. (D.C.)

2007-07-12 21:50  giannozz

	* Makefile, configure, configure.ac:

	Makefile: added missing link, removed obsolete link
	configure: fixed case --disable-parallel that wasn't finding MKL,
	removed some obsolete stuff (courtesy of Andrea Ferretti)

2007-07-12 15:46  paulatto

	* PW/: electrons.f90, grid_paw_routines.f90,
	  grid_paw_variables.f90, print_clock_pw.f90, rad_paw_routines.f90,
	  rad_paw_trash.f90:

	Structure of PAW radial routines heavily redesigned, codebase mainly unchanged; new structure:
	+ PAW_energy
	  + PAW_rho_lm
	  + PAW_v_h
	  + PAW_h_energy
	Added new file (rad_paw_trash) containing garbled test routines (to be removed later)
	electrons.90 and compute_onecenter_potential (grid_paw) cleaned up a bit
	LP

2007-07-11 14:50  giannozz

	* PW/stop_run.f90:

	Sorry...

2007-07-11 14:37  giannozz

	* PW/: clean_pw.f90, make.depend, stop_run.f90:

	The recent addition of deallocation of input variables in clean_pw
	was casing crashes in neb - moved from clean_pw to stop_run

2007-07-11 14:27  ceresoli

	* examples/GIPAW_example/reference/: c.nmr.out, c.scf.out,
	  c2h4.nmr.out, c2h4.scf.out, ch4.nmr.out, ch4.scf.out, si.nmr.out,
	  si.scf.out:

	GIPAW examples updated. (D.C.)

2007-07-11 14:26  ceresoli

	* examples/GIPAW_example/: run_example, pseudo/C.pbe-tm-gipaw.UPF,
	  pseudo/C.pz-tm-gipaw.upf, pseudo/H.pbe-tm-gipaw.UPF,
	  pseudo/H.pz-tm-gipaw.upf, pseudo/Si.pbe-tm-gipaw.UPF,
	  pseudo/Si.pz-tm-gipaw.upf:

	GIPAW example updated. (D.C.)

2007-07-11 13:01  giannozz

	* Doc/BUGS:

	Documentation updated

2007-07-11 12:58  giannozz

	* PW/: cdiaghg.f90, mix_rho.f90:

	1) Bug in mix_rho when data are saved to file (disk_io='high') .and. nspin=2
	.and. double grid .and. only smooth components are mixed (default)!
	Thanks to AM Saitta who managed to hit this bug.
	2) Additional matrices for S and H are no longer allocated in cdiaghg
	(only serial; the parallel one still allocates three such matrices) .
	Believe it or not, for large systems (>100 atoms) using Davidson, each such
	matrix takes a lot of memory that doesn't scale with the number of processors.

2007-07-11 12:39  giannozz

	* pwtools/bands_FS.f:

	Fermi surface calculation updated to read the modified pw.x format

2007-07-10 16:29  giannozz

	* PW/: Makefile, data_structure.f90, make.depend:

	Minor change in output

2007-07-10 13:15  giannozz

	* PW/: Makefile, allocate_wfc.f90, init_run.f90, memory_report.f90,
	  summary.f90, wfcinit.f90:

	Some minor changes in the output:
	- obscure printout of misc variables removed from allocate_wfc,
	  moved to less random places with hopefully less obscure meaning
	- added printout of memory usage of main arrays

2007-07-10 11:00  giannozz

	* PH/Makefile:

	Links updated

2007-07-09 19:06  giannozz

	* Modules/: kind.f90, make.depend:

	Dependency of "kind" module upon "io_global" removed (the routine
	depending upon io_global is never used anyway)

2007-07-09 19:05  giannozz

	* PW/: clean_pw.f90, make.depend:

	Deallocation of variables allocated for input parameters

2007-07-09 19:02  giannozz

	* clib/memstat.c:

	Yet another attempt towards a working memory report - not sure it works
	now but for sure it was not working before on AIX

2007-07-09 10:50  giannozz

	* VdW/: .cvsignore, make.depend, vdw.f90:

	check_stop used but not not initialized

2007-07-08 07:44  dalcorso

	* PW/setlocal.f90:

	Bug fix: v_of_0 was uncorrect in the parallel case.

2007-07-06 17:43  paulatto

	* PW/: electrons.f90, grid_paw_routines.f90, potinit.f90,
	  rad_paw_routines.f90:

	+ corrected 2l+1 factor in compute_radial_potential
	+ added a lot of test lines in electrons, to be removed later
	+  modified compute_onecenter_potential to get becsum as input, not from uspp module
	LP

2007-07-06 17:03  giannozz

	* Makefile, TODO:

	Links to displaced programs had not been updated

2007-07-06 10:54  dalcorso

	* PW/pw_restart.f90:

	Bug fix: another bug with wf_collect=.true. and noncollinear. evc has to
	be initialized to zero.

2007-07-06 10:14  giannozz

	* PW/: clean_pw.f90, ggen.f90:

	Pointer gl was not deallocated in cleab_pw ; allocations/deallocations in
	ggen reshuffled so as to prevent leaving holes in the memory (or at least,
	this is what I hope)

2007-07-06 09:48  giannozz

	* PP/chdens.f90:

	Possible deallocation of unallocated array

2007-07-06 09:48  giannozz

	* Doc/INPUT_PP:

	Clarified unclear documentation

2007-07-05 18:11  giannozz

	* Doc/INPUT_PW:

	Pending further "executive decisions", part of Nicola's suggestions

2007-07-05 18:05  giannozz

	* flib/: Makefile, hangup.f90, more_functionals.f90:

	Unused routine "hungup" removed

2007-07-05 13:08  giannozz

	* CPV/make.depend, PH/make.depend, PP/make.depend,
	  atomic/make.depend, clib/make.depend, flib/make.depend:

	Dependencies updated

2007-07-05 13:06  giannozz

	* pwtools/: dynmat.f90, make.depend, matdyn.f90, q2r.f90,
	  rigid.f90:

	For some reason these files had not been removed (they were moved to PH/)

2007-07-05 11:45  dalcorso

	* PW/pw_restart.f90:

	Bug fix: the wavefunctions were not distributed correctly by pw_restart.f90
	in the noncollinear case when wf_collect=.true..
	Bug reported by R. Mazzarello.

2007-07-04 16:27  paulatto

	* PW/: electrons.f90, grid_paw_routines.f90, rad_paw_routines.f90:

	now RAD and GRID routines use the same becsums
	LP

2007-07-04 15:21  paulatto

	* PW/: hinit0.f90, rad_paw_routines.f90:

	cleanup: removed unused test routine

2007-07-04 15:13  giannozz

	* PH/ramanm.f90:

	too hastily removed variables where actually needed

2007-07-04 15:10  paulatto

	* PW/: Makefile, allocate_nlpot.f90, electrons.f90,
	  grid_paw_routines.f90, grid_paw_variables.f90, hinit0.f90,
	  init_us_1.f90, print_clock_pw.f90, rad_paw_routines.f90:

	new PAW routines on radial grid and related modifications, develop version: only hartree energy and no self-concistency (3D-fft routines are still used)

2007-07-03 17:56  giannozz

	* PH/: el_opt.f90, ramanm.f90:

	Bug fix: the exchange-correlation contribution to the electro-optical
	coefficients was not correctly calculated

2007-06-28 17:18  seitsonen

	* GIPAW/g_tensor_crystal.f90:

	Removed commented, obsolete old USE statement

	       apsi

2007-06-27 10:32  seitsonen

	* PW/: init_paw_1.f90, paw.f90:

	Added a new "global" field for the index of the lower range of the
	"step function"; new field 'nrs', similar to the elder, index for the
	upper bound 'nrc'

	       apsi

2007-06-27 10:29  seitsonen

	* PW/init_paw_2.f90:

	Corrected the second dimension of the local array 'vkb1'
	  (was ...%nbeta, now ...%nh)

	       apsi

2007-06-26 18:45  giannozz

	* D3/d3_setup.f90, Gamma/cg_readin.f90, Modules/electrons_base.f90,
	  Modules/parser.f90, Modules/read_namelists.f90,
	  PH/add_for_charges.f90, PH/matdyn.f90, PH/phq_setup.f90,
	  PH/phqscf.f90, PH/psidspsi.f90, PP/add_shift_cc.f90,
	  PP/chdens.f90, PP/dipole.f90, PP/do_initial_state.f90,
	  PP/elf.f90, PP/punch_plot.f90, PW/buffers.f90,
	  PW/data_structure.f90, PW/davcio.f90, PW/dynamics_module.f90,
	  PW/efermit.f90, PW/gk_sort.f90, PW/input.f90, PW/mix_pot.f90,
	  PW/mix_rho.f90, PW/pw_restart.f90, PW/read_file.f90,
	  PW/restart_in_electrons.f90, PW/restart_in_ions.f90,
	  PW/setup.f90, atomic/atomic_paw.f90, atomic/compute_phi.f90,
	  atomic/find_qi.f90, atomic/normalize.f90, atomic/run_pseudo.f90,
	  atomic/scf.f90, atomic/set_rho_core.f90, atomic/trou.f90,
	  flib/error.f90, pwtools/matdyn.f90, upftools/write_upf.f90:

	Call to infomsg simplified, removed the absurd "error -1"

2007-06-26 17:50  dalcorso

	* atomic/gener_pseudo.f90:

	The all-electron wavefunctions calculated at the user supplied
	energies are written on file before trying to generate the pseudopotential,
	so they can be checked also when the pseudopotential generation is
	unsuccessful.

2007-06-26 17:14  dalcorso

	* atomic_doc/: all-electron/test.job, pseudo-gen/test.job,
	  pseudo-test/test.job:

	Update of the atomic examples scripts.

2007-06-26 12:38  ceresoli

	* Modules/bfgs_module.f90:

	Small bugfix to avoid 'Array already allocated' error. (D.C.)

2007-06-26 11:49  dalcorso

	* Makefile, atomic/Makefile, atomic/compute_chi.f90,
	  atomic/descreening.f90, atomic/gener_pseudo.f90, atomic/ld1.f90,
	  atomic/ld1_readin.f90, atomic/ld1_writeout.f90,
	  atomic/lderiv.f90, atomic/lderivps.f90, atomic/run_test.f90,
	  atomic/set_rho_core.f90, atomic/write_paw_recon.f90,
	  atomic/write_results.f90, atomic/write_resultsps.f90:

	The atomic code should now run on parallel machines or multi core processors.
	(No real parallelism implemented, so only one processor should be used.
	More processors will not harm, but they do all the same calculation).
	Changes:
	mpi initialized and closed.
	only ionode writes the output files.
	input variables are read by ionode and broadcasted.

2007-06-26 09:38  dalcorso

	* atomic/: add_exchange.f90, ascheqps.f90, atomic_paw.f90,
	  compute_phi.f90, compute_phi_tm.f90, compute_phius.f90,
	  compute_solution.f90, dirsol.f90, dmixp.f90, elsdps.f90,
	  hartree.f90, pseudovloc.f90, start_potps.f90, test_bessel.f90,
	  vxc_t.f90:

	Small change: unit 6 substituted with the global variable stdout.

2007-06-25 18:38  dalcorso

	* atomic/: starting_potential.f90, write_results.f90,
	  write_resultsps.f90:

	Small bug fix: with negative occupations the starting potential was uncorrect.
	13.6058 changed with the global constant rytoev.

2007-06-25 15:35  giannozz

	* CPV/main.f90, CPV/path_routines.f90, Gamma/phcg.f90,
	  PH/phq_readin.f90, PH/phqscf.f90, VdW/solve_e.f90:

	Some max_second confusion cleaned up. It is still initialized in too
	many different places, but at least to the same value (10^7 s)

2007-06-24 17:04  dalcorso

	* PP/plotband.f90, PW/pwscf.f90, PW/summary.f90:

	Small changes in output formats to avoid stars.

2007-06-21 17:27  giannozz

	* Modules/read_uspp.f90:

	error message fixed

2007-06-21 14:37  giannozz

	* make.sys.in:

	Oops...

2007-06-20 19:04  giannozz

	* configure, make.sys.in, CPV/Makefile, D3/Makefile,
	  GIPAW/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/wgauss.f90, PWCOND/Makefile, VdW/Makefile,
	  atomic/Makefile, atomic/write_cpmd.f90, atomic/write_pseudo.f90,
	  pwtools/Makefile, upftools/Makefile:

	configure updated (only configure.ac had been previously updated).
	LD used instead of MPIF90 in Makefiles for loading. Since LD is used
	anyway in iotk, it makes sense to use it. In some cases it may be
	useful to have distinct options for compiling and for loading.
	Minor cleanup in some routines

2007-06-20 16:38  giannozz

	* flib/erf.f90:

	erf: cleanup, all constants brought to 16 significant digits

	Does anybody see any good reason to keep an internal erf instead
	of using the f90 intrinsic one? It should be fortran standard - PG

2007-06-20 14:27  giannozz

	* iotk/: IDE/bin/sprep, src/iotk_attr+CHARACTER1_0.f90,
	  src/iotk_attr+COMPLEX1_0.f90, src/iotk_attr+COMPLEX1_3.f90,
	  src/iotk_attr+COMPLEX1_6.f90, src/iotk_attr+COMPLEX2_0.f90,
	  src/iotk_attr+COMPLEX2_3.f90, src/iotk_attr+COMPLEX2_6.f90,
	  src/iotk_attr+COMPLEX3_0.f90, src/iotk_attr+COMPLEX3_3.f90,
	  src/iotk_attr+COMPLEX3_6.f90, src/iotk_attr+COMPLEX4_0.f90,
	  src/iotk_attr+COMPLEX4_3.f90, src/iotk_attr+COMPLEX4_6.f90,
	  src/iotk_attr+INTEGER1_0.f90, src/iotk_attr+INTEGER1_3.f90,
	  src/iotk_attr+INTEGER1_6.f90, src/iotk_attr+INTEGER2_0.f90,
	  src/iotk_attr+INTEGER2_3.f90, src/iotk_attr+INTEGER2_6.f90,
	  src/iotk_attr+INTEGER3_0.f90, src/iotk_attr+INTEGER3_3.f90,
	  src/iotk_attr+INTEGER3_6.f90, src/iotk_attr+INTEGER4_0.f90,
	  src/iotk_attr+INTEGER4_3.f90, src/iotk_attr+INTEGER4_6.f90,
	  src/iotk_attr+LOGICAL1_0.f90, src/iotk_attr+LOGICAL1_3.f90,
	  src/iotk_attr+LOGICAL1_6.f90, src/iotk_attr+LOGICAL2_0.f90,
	  src/iotk_attr+LOGICAL2_3.f90, src/iotk_attr+LOGICAL2_6.f90,
	  src/iotk_attr+LOGICAL3_0.f90, src/iotk_attr+LOGICAL3_3.f90,
	  src/iotk_attr+LOGICAL3_6.f90, src/iotk_attr+LOGICAL4_0.f90,
	  src/iotk_attr+LOGICAL4_3.f90, src/iotk_attr+LOGICAL4_6.f90,
	  src/iotk_attr+REAL1_0.f90, src/iotk_attr+REAL1_3.f90,
	  src/iotk_attr+REAL1_6.f90, src/iotk_attr+REAL2_0.f90,
	  src/iotk_attr+REAL2_3.f90, src/iotk_attr+REAL2_6.f90,
	  src/iotk_attr+REAL3_0.f90, src/iotk_attr+REAL3_3.f90,
	  src/iotk_attr+REAL3_6.f90, src/iotk_attr+REAL4_0.f90,
	  src/iotk_attr+REAL4_3.f90, src/iotk_attr+REAL4_6.f90,
	  src/iotk_dat+CHARACTER1_0.f90, src/iotk_dat+CHARACTER1_3.f90,
	  src/iotk_dat+CHARACTER1_6.f90, src/iotk_dat+COMPLEX1_0.f90,
	  src/iotk_dat+COMPLEX1_3.f90, src/iotk_dat+COMPLEX1_6.f90,
	  src/iotk_dat+COMPLEX2_0.f90, src/iotk_dat+COMPLEX2_3.f90,
	  src/iotk_dat+COMPLEX2_6.f90, src/iotk_dat+COMPLEX3_0.f90,
	  src/iotk_dat+COMPLEX3_3.f90, src/iotk_dat+COMPLEX3_6.f90,
	  src/iotk_dat+COMPLEX4_0.f90, src/iotk_dat+COMPLEX4_3.f90,
	  src/iotk_dat+COMPLEX4_6.f90, src/iotk_dat+INTEGER1_0.f90,
	  src/iotk_dat+INTEGER1_3.f90, src/iotk_dat+INTEGER1_6.f90,
	  src/iotk_dat+INTEGER2_0.f90, src/iotk_dat+INTEGER2_3.f90,
	  src/iotk_dat+INTEGER2_6.f90, src/iotk_dat+INTEGER3_0.f90,
	  src/iotk_dat+INTEGER3_3.f90, src/iotk_dat+INTEGER3_6.f90,
	  src/iotk_dat+INTEGER4_0.f90, src/iotk_dat+INTEGER4_3.f90,
	  src/iotk_dat+INTEGER4_6.f90, src/iotk_dat+LOGICAL1_0.f90,
	  src/iotk_dat+LOGICAL1_3.f90, src/iotk_dat+LOGICAL1_6.f90,
	  src/iotk_dat+LOGICAL2_0.f90, src/iotk_dat+LOGICAL2_3.f90,
	  src/iotk_dat+LOGICAL2_6.f90, src/iotk_dat+LOGICAL3_0.f90,
	  src/iotk_dat+LOGICAL3_3.f90, src/iotk_dat+LOGICAL3_6.f90,
	  src/iotk_dat+LOGICAL4_0.f90, src/iotk_dat+LOGICAL4_3.f90,
	  src/iotk_dat+LOGICAL4_6.f90, src/iotk_dat+REAL1_0.f90,
	  src/iotk_dat+REAL1_3.f90, src/iotk_dat+REAL1_6.f90,
	  src/iotk_dat+REAL2_0.f90, src/iotk_dat+REAL2_3.f90,
	  src/iotk_dat+REAL2_6.f90, src/iotk_dat+REAL3_0.f90,
	  src/iotk_dat+REAL3_3.f90, src/iotk_dat+REAL3_6.f90,
	  src/iotk_dat+REAL4_0.f90, src/iotk_dat+REAL4_3.f90,
	  src/iotk_dat+REAL4_6.f90, src/iotk_files.f90, src/iotk_misc.f90,
	  src/iotk_misc.spp, src/iotk_misc_interf.f90,
	  src/iotk_misc_interf.spp, src/iotk_module.f90,
	  src/iotk_module.spp, src/iotk_scan.f90, src/iotk_str.f90,
	  src/iotk_stream.f90, src/iotk_tool.f90, src/iotk_unit.f90,
	  src/iotk_write.f90:

	iotk update; added initialization routine for strange-behaving
	compilers that do not initialize variables in modules

2007-06-19 18:37  dalcorso

	* PP/: chdens.f90, postproc.f90:

	chdens.f90 should now work in parallel machines.

2007-06-19 18:12  dalcorso

	* PW/data_structure.f90:

	[no log message]

2007-06-19 18:07  dalcorso

	* PH/phq_summary.f90, PW/data_structure.f90, PW/summary.f90:

	Small details.

2007-06-18 15:47  giannozz

	* PH/Makefile, PH/dynmat.f90, PH/matdyn.f90, PH/q2r.f90,
	  PH/rigid.f90, pwtools/Makefile, pwtools/md_analyzer.sh,
	  pwtools/qeout2axsf.sh:

	1) two scripts for output file analysis added to pwtools/
	   (courtesy of CS)
	2) phonon-related auxiliary codes moved from pwtools/ to PH/
	   I think it is a more appropriate place; moreover the D(q)=>D(r) step
	   (q2r) might be called at the end of the phonon dispersion calculation

2007-06-15 21:10  kkudin

	* PW/input.f90:

	Sorry, previous commit went out comment-less.
	This is the fix for amass rescaling in VC, to make masses in the XML restart file consistent with everything else.

2007-06-15 21:02  kkudin

	* PW/: input.f90, vcsmd.f90:

	[no log message]

2007-06-12 18:20  cavazzon

	* configure.ac:

	- new architecture ppc64 (powerpc970 with linux and xlf) added to the
	  configure.ac

2007-06-12 18:17  cavazzon

	* Modules/fft_scalar.f90, include/defs.h.README, PW/cft3s.f90,
	  CPV/fft.f90:

	- new macro __LINUX_ESSL added to link essl for linux

2007-06-12 15:06  dalcorso

	* PH/phq_readin.f90, PP/write_p_avg.f90, PWCOND/do_cond.f90:

	Added a few checks to stop the codes PH and PWCOND if lda_plus_u is true.

2007-06-11 19:13  giannozz

	* Modules/: autopilot.f90, basic_algebra_routines.f90,
	  bfgs_module.f90, cell_base.f90, check_stop.f90, clocks.f90,
	  constants.f90, constraints_module.f90, control_flags.f90,
	  electrons_base.f90, energies.f90, fft_base.f90, fft_scalar.f90,
	  functionals.f90, griddim.f90, input_parameters.f90,
	  ions_base.f90, ions_nose.f90, make.depend, metadyn_base.f90,
	  metagga.f90, mp_global.f90, mp_wave.f90, path_base.f90,
	  path_io_routines.f90, path_opt_routines.f90,
	  path_reparametrisation.f90, path_variables.f90,
	  printout_base.f90, ptoolkit.f90, random_numbers.f90,
	  read_cards.f90, read_namelists.f90, read_upf.f90, read_uspp.f90,
	  recvec.f90, sic.f90, smallbox.f90, splinelib.f90, timestep.f90,
	  upf_to_internal.f90, uspp.f90, wave_base.f90, xml_io_base.f90:

	All occurrences of d0, d+N, d-N, replaced with fortran-90 style _DP.
	Please do not re-introduce old-style syntax. A uniform syntax allows
	if the need arises to change the precision in less than no time.
	Courtesy of Pascal Thibeaudeau. Modules/ directory only.

2007-06-11 16:07  cavazzon

	* CPV/: cp_interfaces.f90, cplib.f90, potentials.f90:

	- solved a performance problem in the computation
	  of ionic forces, CP routine force_ps of cplib called by vofrho
	  substituted by FPMD routine force_loc

2007-06-11 15:55  degironc

	* PW/: electrons.f90, grid_paw_routines.f90,
	  grid_paw_variables.f90, print_clock_pw.f90, sum_band.f90:

	some simplifications
	- one center quantities are redefined with the atom at the origin (thus
	  eliminating the need for a structure factor).
	- one center quantities that thus depend only on the atomic-type are
	  calculated and stored only once.
	- added timing for paw routines.
	SdG

2007-06-11 12:27  giannozz

	* pseudo/O.LDA.US.RRKJ3.UPF, examples/example03/run_example,
	  examples/example18/run_example, examples/example25/run_example:

	O.LDA.US.RRKJ3.UPF was the same as O.pz-rrkjus.UPF

2007-06-08 16:13  paulatto

	* PW/mix_rho.f90:

	Small and simple perfomance improvement

2007-06-08 10:04  degironc

	* Modules/: pseudo_types.f90, readpseudo.f90, uspp.f90:

	more updated routines in Modules... SdG

2007-06-07 13:00  degironc

	* PW/: cft3s.f90, grid_paw_routines.f90, grid_paw_variables.f90,
	  hinit0.f90, init_us_1.f90, newd.f90, pwscf.f90, set_rhoc.f90,
	  upf_to_internal.f90:

	updated version of grid_paw_routines.
	- in part they are connected with the changes in atomic_paw
	- there was an error in the call of v_xc(rho1_...) where the first argument
	  didn't had the proper indices set.
	- some clean up of comments and printing
	- radial_distance from grid-points to the atoms is calculated in a more general
	  way and stored in an array.
	SdG

2007-06-07 12:41  degironc

	* atomic/: atomic_paw.f90, elsdps.f90, gener_pseudo.f90,
	  ld1_readin.f90, ld1inc.f90:

	updated version of atomic_paw.f90
	- a variable paw_rmatch_augfun is added allowing to choose the extent of BESSEL and GAUSS augmentation functions.
	- GAUSS is not properly a Gaussian but a related function with zero value an first derivative at the matching point.
	- augmentation functions are always written (and read) from file => all cases are treated in the same way in pw.x
	- the QVAN case has been disabled (should be easy to reinstore it, I just stopped looking at it)
	SdG

2007-06-04 17:01  giannozz

	* TODO, Gamma/phcg.f90, Modules/bfgs_module.f90, PH/phonon.f90,
	  PP/postproc.f90, PW/dynamics_module.f90, PW/pwscf.f90,
	  clib/Makefile, clib/stack.c:

	Workaround for mysterious crashes with intel compilers finally (maybe) found.
	Apparently the reason is insufficient stack size, but it may not be sufficient
	to use command "limits" o "ulimit", because the stack size seems to be reset
	either by queueing systems or by the code itself. A C routine that removes
	stack limits has been added and is called at the beginning of the run.

	Fixed format error in printout of parameters for Berendsen thermostat (Eduardo)

2007-06-01 18:24  dalcorso

	* PH/phq_summary.f90, atomic_doc/INPUT_LD1:

	Small changes. The phonon writes on output the functional used.
	INPUT_LD1 updated.

2007-05-31 18:30  dalcorso

	* atomic/compute_chi.f90:

	In compute_chi the series expansion of the potential is done only if its
	derivatives at the origin are sufficiently large.

2007-05-30 16:26  degironc

	* atomic/compute_phi.f90:

	added a test on norm of phi

2007-05-22 15:36  dalcorso

	* atomic/: compute_phius.f90, descreening.f90:

	Clean-up.

2007-05-21 17:01  dalcorso

	* atomic/: ascheqps.f90, compute_chi.f90, compute_solution.f90,
	  gener_pseudo.f90:

	Clean-up.

2007-05-21 16:35  dalcorso

	* atomic/: gener_pseudo.f90, ld1_readin.f90, ld1inc.f90,
	  write_upf.f90:

	Small modifications to the atomic code:
	When estimated the cut-offs are written on the pseudopotential file.
	The all-electron, norm conserving and us wavefunctions used for pseudopotential
	generation can be written on file.

2007-05-15 11:18  ceresoli

	* GIPAW/: g_tensor_crystal.f90, suscept_crystal.f90:

	Small changes. (D.C.)

2007-05-13 17:38  dalcorso

	* atomic/: descreening.f90, ld1_writeout.f90, write_paw_recon.f90:

	Small changes due to previous commit. Please check write_paw_recon, and
	the call to write_cpmd.

2007-05-12 13:01  dalcorso

	* atomic/: Makefile, ascheqps_drv.f90, chargeps.f90,
	  compute_chi.f90, compute_chi_tm.f90, compute_phi.f90,
	  compute_phi_tm.f90, compute_phius.f90, compute_potps.f90,
	  descreening.f90, elsdps.f90, gener_pseudo.f90, ld1.f90,
	  ld1_setup.f90, ld1inc.f90, normalize.f90, pseudovloc.f90,
	  run_pseudo.f90, run_test.f90, set_psi_in.f90, start_potps.f90,
	  write_resultsps.f90:

	Clean up of the atomic code. Improved separation of pseudopotential
	generation and test.

2007-05-11 20:00  sbraccia

	* Modules/bfgs_module.f90:

	Cleanup of the bfgs module. Removed unused stuff reducing the usage of memory.
	All the arrays are allocated and deallocated in the bfgs routine. C.S.

2007-05-11 18:11  giannozz

	* PP/plotrho.f90:

	Automatic allocation fro all arrays

2007-05-11 18:11  giannozz

	* PW/output_tau.f90:

	Some compilers do not like format "X" alone for "1X"

2007-05-11 18:09  giannozz

	* iotk/src/: iotk.f90, iotk_stream.f90:

	ultimi...

2007-05-11 18:08  giannozz

	* iotk/src/: iotk_dat+CHARACTER1_6.f90, iotk_dat+COMPLEX1_6.f90,
	  iotk_dat+COMPLEX2_6.f90, iotk_dat+COMPLEX3_0.f90,
	  iotk_dat+COMPLEX3_3.f90, iotk_dat+COMPLEX3_6.f90,
	  iotk_dat+COMPLEX4_0.f90, iotk_dat+COMPLEX4_3.f90,
	  iotk_dat+COMPLEX4_6.f90, iotk_dat+INTEGER1_6.f90,
	  iotk_dat+INTEGER2_6.f90, iotk_dat+INTEGER3_0.f90,
	  iotk_dat+INTEGER3_3.f90, iotk_dat+INTEGER3_6.f90,
	  iotk_dat+INTEGER4_0.f90, iotk_dat+INTEGER4_3.f90,
	  iotk_dat+INTEGER4_6.f90, iotk_dat+LOGICAL1_6.f90,
	  iotk_dat+LOGICAL2_6.f90, iotk_dat+LOGICAL3_0.f90,
	  iotk_dat+LOGICAL3_3.f90, iotk_dat+LOGICAL3_6.f90,
	  iotk_dat+LOGICAL4_0.f90, iotk_dat+LOGICAL4_3.f90,
	  iotk_dat+LOGICAL4_6.f90, iotk_dat+REAL1_6.f90,
	  iotk_dat+REAL2_6.f90, iotk_dat+REAL3_0.f90, iotk_dat+REAL3_3.f90,
	  iotk_dat+REAL3_6.f90, iotk_dat+REAL4_0.f90, iotk_dat+REAL4_3.f90,
	  iotk_dat+REAL4_6.f90:

	..and more...

2007-05-11 18:07  giannozz

	* iotk/src/: iotk_attr+COMPLEX1_6.f90, iotk_attr+COMPLEX2_6.f90,
	  iotk_attr+COMPLEX3_0.f90, iotk_attr+COMPLEX3_3.f90,
	  iotk_attr+COMPLEX3_6.f90, iotk_attr+COMPLEX4_0.f90,
	  iotk_attr+COMPLEX4_3.f90, iotk_attr+COMPLEX4_6.f90,
	  iotk_attr+INTEGER1_6.f90, iotk_attr+INTEGER2_6.f90,
	  iotk_attr+INTEGER3_0.f90, iotk_attr+INTEGER3_3.f90,
	  iotk_attr+INTEGER3_6.f90, iotk_attr+INTEGER4_0.f90,
	  iotk_attr+INTEGER4_3.f90, iotk_attr+INTEGER4_6.f90,
	  iotk_attr+LOGICAL1_6.f90, iotk_attr+LOGICAL2_6.f90,
	  iotk_attr+LOGICAL3_0.f90, iotk_attr+LOGICAL3_3.f90,
	  iotk_attr+LOGICAL3_6.f90, iotk_attr+LOGICAL4_0.f90,
	  iotk_attr+LOGICAL4_3.f90, iotk_attr+LOGICAL4_6.f90,
	  iotk_attr+REAL1_6.f90, iotk_attr+REAL2_6.f90,
	  iotk_attr+REAL3_0.f90, iotk_attr+REAL3_3.f90,
	  iotk_attr+REAL3_6.f90, iotk_attr+REAL4_0.f90,
	  iotk_attr+REAL4_3.f90, iotk_attr+REAL4_6.f90:

	Many more...

2007-05-11 18:04  giannozz

	* iotk/src/iotk_unit_list.f90:

	One more...

2007-05-11 17:57  ceresoli

	* configure, configure.ac:

	Added includefftw="$try_iflags". It should be harmless. (D.C.)

2007-05-11 16:50  giannozz

	* iotk/src/iotk_tool.f90:

	Yet Another Missing File in iotk

2007-05-11 08:28  giannozz

	* iotk/src/iotk_tool_interf.f90:

	Yet another missing file

2007-05-10 14:49  ceresoli

	* PW/divide_class.f90:

	Fixed a small bug for the C_4h case. (D.C.)

2007-05-10 14:33  seitsonen

	* GIPAW/suscept_crystal.f90:

	 - Removed unused variable 'npool'
	 - Rationalised the lines with 'USE'

	       apsi

2007-05-10 14:27  seitsonen

	* GIPAW/: efg.f90, gipaw_main.f90, gipaw_module.f90:

	Hyper-fine interactions implemented; seem to work for CN molecule. No
	extrapolation towards the origin included yet. EFG not tested

	       apsi

2007-05-10 09:04  giannozz

	* iotk/src/iotk_stream_interf.f90:

	Missing file added

2007-05-09 15:21  giannozz

	* iotk/: .cvsignore, ABOUT, CHANGES, DOWNLOAD, Makefile, OPTIONS,
	  README, TODO, configure, doc/.cvsignore, doc/binary_format.tex,
	  doc/file_format.txt, doc/manpages, doc/manual.txt,
	  include/iotk_auxmacros.h, include/iotk_auxmacros.spp,
	  include/iotk_config.h, include/iotk_config.h.in,
	  include/iotk_config.h.save, include/iotk_config.sh,
	  include/iotk_include.sh, include/iotk_list.sh,
	  include/iotk_mangen.sh, include/iotk_version.h,
	  include/iotk_version.sh, src/.cvsignore, src/Makefile,
	  src/example1.f90, src/example2.f90, src/example3.f90,
	  src/example4.f90, src/iotk.spp, src/iotk_attr+CHARACTER1_0.f90,
	  src/iotk_attr+COMPLEX1_0.f90, src/iotk_attr+COMPLEX1_3.f90,
	  src/iotk_attr+COMPLEX2_0.f90, src/iotk_attr+COMPLEX2_3.f90,
	  src/iotk_attr+INTEGER1_0.f90, src/iotk_attr+INTEGER1_3.f90,
	  src/iotk_attr+INTEGER2_0.f90, src/iotk_attr+INTEGER2_3.f90,
	  src/iotk_attr+LOGICAL1_0.f90, src/iotk_attr+LOGICAL1_3.f90,
	  src/iotk_attr+LOGICAL2_0.f90, src/iotk_attr+LOGICAL2_3.f90,
	  src/iotk_attr+REAL1_0.f90, src/iotk_attr+REAL1_3.f90,
	  src/iotk_attr+REAL2_0.f90, src/iotk_attr+REAL2_3.f90,
	  src/iotk_attr.f90, src/iotk_attr.spp, src/iotk_attr_interf.f90,
	  src/iotk_attr_interf.spp, src/iotk_base.f90, src/iotk_base.spp,
	  src/iotk_copy.f90, src/iotk_dat+CHARACTER1_0.f90,
	  src/iotk_dat+CHARACTER1_3.f90, src/iotk_dat+COMPLEX1_0.f90,
	  src/iotk_dat+COMPLEX1_3.f90, src/iotk_dat+COMPLEX2_0.f90,
	  src/iotk_dat+COMPLEX2_3.f90, src/iotk_dat+INTEGER1_0.f90,
	  src/iotk_dat+INTEGER1_3.f90, src/iotk_dat+INTEGER2_0.f90,
	  src/iotk_dat+INTEGER2_3.f90, src/iotk_dat+LOGICAL1_0.f90,
	  src/iotk_dat+LOGICAL1_3.f90, src/iotk_dat+LOGICAL2_0.f90,
	  src/iotk_dat+LOGICAL2_3.f90, src/iotk_dat+REAL1_0.f90,
	  src/iotk_dat+REAL1_3.f90, src/iotk_dat+REAL2_0.f90,
	  src/iotk_dat+REAL2_3.f90, src/iotk_dat.f90, src/iotk_dat.spp,
	  src/iotk_dat_interf.f90, src/iotk_dat_interf.spp,
	  src/iotk_error.f90, src/iotk_error.spp,
	  src/iotk_error_interf.f90, src/iotk_error_interf.spp,
	  src/iotk_files.f90, src/iotk_files.spp,
	  src/iotk_files_interf.f90, src/iotk_files_interf.spp,
	  src/iotk_fmt.f90, src/iotk_fmt.spp, src/iotk_fmt_interf.f90,
	  src/iotk_fmt_interf.spp, src/iotk_misc.f90, src/iotk_misc.spp,
	  src/iotk_misc_interf.f90, src/iotk_misc_interf.spp,
	  src/iotk_module.f90, src/iotk_module.spp, src/iotk_scan.f90,
	  src/iotk_scan.spp, src/iotk_scan_interf.f90,
	  src/iotk_scan_interf.spp, src/iotk_str.f90, src/iotk_str.spp,
	  src/iotk_str_interf.f90, src/iotk_str_interf.spp,
	  src/iotk_stream.spp, src/iotk_stream_interf.spp,
	  src/iotk_tool.spp, src/iotk_tool_interf.spp, src/iotk_unit.f90,
	  src/iotk_unit.spp, src/iotk_unit_interf.f90,
	  src/iotk_unit_interf.spp, src/iotk_unit_list.spp,
	  src/iotk_write.f90, src/iotk_write.spp,
	  src/iotk_write_interf.f90, src/iotk_write_interf.spp,
	  src/iotk_xtox.f90, src/iotk_xtox.spp, src/iotk_xtox_interf.f90,
	  src/iotk_xtox_interf.spp, src/test.f90, src/test4.f90,
	  src/test6.f90, src/test8.f90, src/test9.f90, tools/.cvsignore,
	  tools/configure, tools/configure.ac, tools/export, tools/iotk:

	iotk version updated to 1.1.0

2007-05-03 10:38  giannozz

	* flib/sph_bes.f90:

	Spherical Bessel functions j_l(x) are evaluated using the analytical form
	for x > xseries, a series expansion for x < xseries. The original value
	of xseries, 0.01, was apparently too small and was causing loss of
	precision and trouble in pseudopotential generation. xseries is now
	increased to 0.05, close to what was used by the no longer existing
	routine "sph_besr".

2007-05-02 17:31  giannozz

	* iotk/include/iotk_config.h:

	Updated iotk_config by AF

2007-05-02 10:10  dalcorso

	* atomic/: ld1_setup.f90, write_results.f90:

	Small changes. Epseu is not written in the all-electron output.

2007-04-28 16:28  ceresoli

	* Makefile:

	Added gipaw target to the Makefile. (D.C.)

2007-04-28 16:21  ceresoli

	* GIPAW/g_tensor_crystal.f90:

	Small changes to g-tensor. (D.C.)

2007-04-27 17:46  giannozz

	* iotk/include/iotk_config.h:

	All iotk workarounds enabled for unknown compilers (suggestion by AndreaF)

2007-04-27 16:06  degironc

	* PW/output_tau.f90:

	atomic positions during relaxation are printed with exactly the same format (including if_pos values when constrained) as the one defined in the input file.
	stefano

2007-04-26 15:27  giannozz

	* flib/ylmr2.f90:

	Removed a reference to an external function (fact) that is not existent
	and not used in the modified Ylm routine - some compilers may complain

2007-04-26 11:43  degironc

	* flib/ylmr2.f90:

	Modified numerical recursive algorithm to calculate spherical harmonics.
	As the previous one, it is based on the one given in Numerical Recipes
	but avoids the calculation of factorials that give overflow for lmax > 11.

2007-04-26 11:42  cavazzon

	* CPV/ensemble_dft.f90:

	- as usual PGI does not catch all the syntax error!?

2007-04-26 11:24  cavazzon

	* CPV/: cg_sub.f90, cglib.f90, cp_interfaces.f90, cp_restart.f90,
	  cplib.f90, cpr.f90, ensemble_dft.f90, fromscra.f90, init_run.f90,
	  inner_loop.f90, inner_loop_cold.f90, mainvar.f90, make.depend,
	  ortho_base.f90, phasefactor.f90, restart_sub.f90, smcp.f90,
	  wave.f90:

	- changes for CP ensemble-dft parallelizatio
	- clean up in subroutine from_restart
	- more interfaces

2007-04-26 11:22  cavazzon

	* Modules/: descriptors.f90, input_parameters.f90, mp.f90,
	  ptoolkit.f90, xml_input.f90:

	- changes for CP ensemble-dft parallelization of electronic
	  states matrixes
	- minor changes

2007-04-20 09:55  mazzarel

	* PW/Makefile:

	Makefile updated

2007-04-19 20:19  mazzarel

	* PW/Makefile, atomic/Makefile:

	Makefiles updated

2007-04-19 20:18  mazzarel

	* Modules/: pseudo_types.f90, readpseudo.f90:

	smooth augmentation functions

2007-04-19 20:14  mazzarel

	* PW/upf_to_internal.f90:

	smooth augmentation functions

2007-04-19 20:13  mazzarel

	* Doc/PAW_Regular_Grid.tex:

	readme file updated

2007-04-19 20:11  mazzarel

	* atomic/atomic_paw.f90:

	smooth augmentation functions

2007-04-19 20:10  mazzarel

	* PW/: grid_paw_routines.f90, grid_paw_variables.f90,
	  init_us_1.f90:

	new smooth augmentation functions (R.M.)

2007-04-12 18:28  degironc

	* PW/new_ns.f90:

	check on symmetry of nsnew variable (LDA+U) has been corrected.

2007-04-12 14:26  giannozz

	* atomic/: elsdps.f90, ld1inc.f90, write_resultsps.f90:

	The 'Core only' contribution is no longer aded to the pseudopotential
	energy when the core correction is enabled, so that energies from pw
	and from ld1 are consistent

2007-04-10 22:39  giannozz

	* configure, configure.ac, CPV/make.depend, GIPAW/make.depend,
	  Modules/make.depend, PP/make.depend, flib/Makefile,
	  iotk/src/Makefile, upftools/Makefile:

	Misc updates: configure (mac intel + ifort), make.depend, Makefiles

2007-04-10 22:36  giannozz

	* PW/upf_to_internal.f90:

	Unused file deleted

2007-04-10 16:11  sbraccia

	* Modules/path_base.f90, PW/compute_scf.f90:

	Added a few more comments and references. Fixed another little bug in
	the restart procedure. C.S.

2007-04-07 06:59  cococ

	* Modules/read_namelists.f90:


	Added ios check when reading the namelist press_ai.

2007-04-06 17:23  sbraccia

	* PW/: compute_scf.f90, reset_k_points.f90:

	Routine reset_k_points updated. C.S.

2007-04-05 21:53  sbraccia

	* Doc/INPUT_PW, Modules/input_parameters.f90,
	  Modules/path_base.f90, Modules/path_io_routines.f90,
	  Modules/path_variables.f90, Modules/read_cards.f90,
	  Modules/read_namelists.f90, PW/compute_scf.f90, PW/input.f90:

	Yet another fix for restart procedure of NEB/SMD. Cleanup of unused variables.
	C.S.

2007-04-04 18:03  sbraccia

	* PW/makov_payne.f90, Modules/constraints_module.f90:

	cleanup. C.S.

2007-04-04 18:02  sbraccia

	* PW/compute_scf.f90, Modules/path_base.f90,
	  Modules/path_io_routines.f90:

	Fixed a bug in the restart procedure of NEB/SMD. C.S.

2007-04-04 15:26  giannozz

	* pwtools/dynmat.f90:

	A crash with "end of file reached" error could occur in some cases if
	epsilon and Z* were absent

2007-04-04 13:28  giannozz

	* Doc/: README, refman.tex:

	refman.tex moved to wiki:
	http://www.quantum-espresso.org/wiki/index.php/Developer_Manual

2007-04-04 13:26  giannozz

	* examples/example19/reference/: h2o-mol1.out, h2o-mol2.out,
	  h2o-mol3.out:

	Example updated

2007-04-04 13:24  giannozz

	* examples/example18/reference/: sio2.cp.restart.out,
	  sio2.cp.start.out, sio2.vc-cp.out, sio2.vc-cp.restart.out:

	Example 18 updated

2007-04-04 13:20  giannozz

	* examples/example16/reference/: AlAs110+1.0eV.ps,
	  AlAs110-1.0eV.ps, AlAs110.pp_stm+.out, AlAs110.pp_stm-.out,
	  AlAs110re.nonscf.out, AlAs110re.scf.out:

	Example 16 updated

2007-04-04 11:00  smogunov

	* PWCOND/: do_cond.f90, save_cond.f90:

	A bug with memory allocation leading to the crash in some cases is fixed (A. Smogunov)

2007-04-02 10:22  ceresoli

	* GIPAW/compute_u_kq.f90,
	  examples/GIPAW_example/reference/c2h4.nmr.out:

	Small change. (D.C.)

2007-03-31 16:15  ceresoli

	* examples/GIPAW_example/: README, run_example,
	  pseudo/C.pz-tm-gipaw.upf, pseudo/H.pz-tm-gipaw.upf,
	  pseudo/Si.pz-tm-gipaw.upf, reference/c.nmr.out,
	  reference/c.scf.out, reference/c2h4.nmr.out,
	  reference/c2h4.scf.out, reference/ch4.nmr.out,
	  reference/ch4.scf.out, reference/si.nmr.out,
	  reference/si.scf.out:

	GIPAW example. (D.C.)

2007-03-31 16:03  ceresoli

	* PW/init_paw_1.f90:

	Small bug fixed. (D.C.)

2007-03-31 14:47  ceresoli

	* GIPAW/compute_u_kq.f90:

	Randomizing (i.e. "smerding") the wavefunctions makes GIPAW more robust
	in the diagonalization phase. (D.C.)

2007-03-31 14:46  ceresoli

	* Modules/read_upf.f90, PW/init_paw_1.f90, PW/paw.f90:

	Small changes. (D.C.)

2007-03-30 15:31  cavazzon

	* PW/pw_restart.f90:

	- very subtle bug removed. An array was allocated only on root proc,
	  therefore the code was working in serial, but in parallel, processors
	  other than root were damping core. The difficulty was that the root
	  was stopping at the next communication statement, so it seemed like
	  a sort of communication error!
	  Please pay attention when allocating array inside IF( ionode )
	  section.

2007-03-30 15:27  ceresoli

	* Doc/INPUT_GIPAW, GIPAW/compute_u_kq.f90, GIPAW/gipaw_module.f90,
	  GIPAW/suscept_crystal.f90:

	isolve (diagonalization method) now in input. (D.C.)

2007-03-30 11:57  giannozz

	* examples/: daily_test, example08/reference/ni.dos.out,
	  example08/reference/ni.pdos.out, example08/reference/ni.scf.out,
	  example10/reference/BP.out, example10/reference/chg.out,
	  example11/reference/O.out, example11/reference/O_gamma.out,
	  example11/reference/al.out, example13/reference/cu.band.out,
	  example13/reference/cu.cg.out, example13/reference/cu.scf.out,
	  example13/reference/fe.angl.out, example13/reference/fe.band.out,
	  example13/reference/fe.pen.out, example13/reference/fe.scf.out,
	  example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out:

	Some more examples updated

2007-03-29 11:59  giannozz

	* examples/: example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.scf.out, example06/reference/alas.freq,
	  example06/reference/alas.ph.out, example06/reference/alas.phdos,
	  example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes, example06/reference/q2r.out:

	Examples 3,4,5,6 updateD

2007-03-29 11:25  ceresoli

	* GIPAW/: compute_sigma.f90, gipaw_module.f90, suscept_crystal.f90:

	Print total isotropic chemical shift. (D.C.)

2007-03-29 11:25  ceresoli

	* Modules/read_upf.f90, PW/init_paw_1.f90, PW/paw.f90:

	Temporary debug statements, while reading GIPAW reconstruction. (D.C.)

2007-03-28 19:45  giannozz

	* PP/dipole.f90:

	Postprocessing code for dipole and Makov-Payne correction calculation
	uses the same pieces of code of PW

2007-03-28 13:57  giannozz

	* examples/example02/reference/: c.phG.out, c.scf.out, ni.nscf.out,
	  ni.phX.out, ni.scf.out, si.nscfX.out, si.nscfXsingle.out,
	  si.phG.out, si.phX.out, si.phXsingle.out, si.scf.out:

	Example updated

2007-03-28 13:50  ceresoli

	* GIPAW/: g_tensor_crystal.f90, gipaw_main.f90, gipaw_module.f90,
	  suscept_crystal.f90:

	Some I/O fixes (nwordwfc). (D.C.)

2007-03-28 12:43  cavazzon

	* PW/pw_restart.f90:

	- the XML tag STARTING_MAG was mandatory,
	  that does not help codes interoperability.
	  Routine changed so that if it is not present
	  nothing is done about starting magnetization parameters,
	  and the code does not stop

2007-03-24 01:27  umari

	* PW/: c_phase_field.f90, h_epsi_her_set.f90:

	Array previously allocated in stack now allocated dynamically

	P.U.

2007-03-23 09:54  giannozz

	* upftools/.cvsignore:

	[no log message]

2007-03-23 09:43  giannozz

	* examples/example01/reference/: al.band.cg.out, al.band.david.out,
	  al.scf.cg.out, al.scf.david.out, cu.band.cg.out,
	  cu.band.david.out, cu.bands.out, cu.scf.cg.out, cu.scf.david.out,
	  ni.band.cg.out, ni.band.david.out, ni.scf.cg.out,
	  ni.scf.david.out, si.band.cg.out, si.band.david.out,
	  si.bands.out, si.scf.cg.out, si.scf.david.out:

	Example 01 updated

2007-03-23 09:35  giannozz

	* examples/: README, daily_test:

	Daily test updated, minor error in the documentation fixed

2007-03-23 09:33  giannozz

	* PP/projwfc.f90:

	Minor format changes

2007-03-23 09:32  giannozz

	* PH/dynmatrix.f90:

	The single-mode calculation should end with status 0, not 1, otherwise
	the automatic testing will fail

2007-03-22 22:16  umari

	* PW/: c_phase_field.f90, h_epsi_her_set.f90:

	Bug in Berry's phase electric field for non orthorombic cells
	corrected

	P.U.

2007-03-22 00:46  umari

	* CPV/: cg.f90, cg_sub.f90, cglib.f90, ensemble_dft.f90,
	  inner_loop.f90, inner_loop_cold.f90, input.f90:

	Added new control options for conjugate gradient in cp and
	for ensemble dft
	In ensemble dft only for cold smearing

	P.U.

2007-03-22 00:45  umari

	* Doc/INPUT_CP, Modules/input_parameters.f90,
	  Modules/read_namelists.f90:

	Added new control options for conjugate gradient in cp and
	for ensemble dft

	P.U.

2007-03-20 11:24  ceresoli

	* Doc/INPUT_GIPAW:

	Input file description for the GIPAW code. (D.C.)

2007-03-19 20:17  umari

	* CPV/: cg_sub.f90, cglib.f90:

	Added new state by state preconditioning on G for
	conjugate gradient in cp code and some do loop
	replaced by blas call

	P.U.

2007-03-19 19:42  umari

	* PW/c_phase_field.f90:

	Small change for avoiding phase problems while calculating
	Berry's phase polarization,
	P.U.

2007-03-19 19:21  giannozz

	* atomic/: ld1_readin.f90, vxcgc.f90:

	sic not correctly initialized to zero - mostly harmless but not good

2007-03-19 19:08  giannozz

	* atomic/: Makefile, exc_t.f90:

	The routine calculating the exchange-correlation energy could produce
	NaN's under some circumstances

2007-03-19 17:27  mostofi

	* examples/WAN90_example/README:

	Added to README for WAN90_example: instructions for running pw2wannier90/wannier90 in "library" mode.

2007-03-19 17:18  mostofi

	* examples/WAN90_example/reference/: diamond.lib.chk,
	  diamond.lib_um.dat, diamond.sa.amn, diamond.sa.chk,
	  diamond.sa.mmn, diamond.sa_um.dat:

	Removal of large, unnecessary output files from WAN90_example reference directory.

2007-03-19 17:08  mostofi

	* PP/pw2wannier90.f90:

	Minor fix to pw2wannier90.

2007-03-19 15:38  ceresoli

	* makedeps.sh:

	Removed GIPAW dependency on PH. (D.C.)

2007-03-19 14:48  ceresoli

	* GIPAW/: compute_u_kq.f90, efg.f90, gipaw_module.f90,
	  greenfunction.f90, make.depend, suscept_crystal.f90,
	  test_sum_rule.f90:

	Finally got GIPAW working again! Actually, by working I mean "running"
	without producing garbage. Tomorrow I will check whether numbers are
	coming out correct. (D.C.)

2007-03-19 14:16  sbraccia

	* examples/: daily_test, example07/run_example,
	  example09/run_example, example12/run_example,
	  example14/run_example, example15/run_example,
	  example17/run_example, example21/run_example,
	  example25/run_example, example26/run_example,
	  example28/run_example, example30/run_example,
	  example32/run_example:

	Typo corrected. C.S.

2007-03-19 10:38  ceresoli

	* GIPAW/: Makefile, cg_psi.f90, cgsolve_all.f90, ch_psi_all.f90,
	  ch_psi_all2.f90, h_psiq.f90, h_psiq2.f90, make.depend:

	GIPAW should not depend on PH! I've just borrowed few routines.
	That was the origin of a lot of troubles. The routines in PH
	use the PHCOM module, which was vastly *uninitialized*! We
	should instead use the GIPAW_MODULE module. Please, do not tie us
	again with PHONON! (D.C.)

2007-03-19 10:32  giannozz

	* README.install, TODO, include/defs.h.README,
	  install/Make.cray-xd1, Doc/users-guide.tex:

	Documentation updated, some XD1-related info added

2007-03-19 10:14  giannozz

	* Modules/upf_to_internal.f90, PW/read_pseudo.f90, PW/readin.f90:

	Added missing files after yesterday's commit (sorry)

2007-03-19 04:15  sbraccia

	* examples/daily_test:

	The check of output consistency is done on low-verbosity examples only.
	For high verbosity examples, daily_test checks the exit status of the
	relative run_example script. C.S.

2007-03-19 03:55  sbraccia

	* examples/: example01/run_example, example02/run_example,
	  example03/run_example, example04/run_example,
	  example05/run_example, example06/run_example,
	  example07/run_example, example08/run_example,
	  example09/run_example, example10/run_example,
	  example11/run_example, example12/run_example,
	  example13/run_example, example14/run_example,
	  example15/run_example, example16/run_example,
	  example17/run_example, example18/run_example,
	  example19/run_example, example20/run_example,
	  example21/run_example, example22/run_example,
	  example23/run_example, example24/run_example,
	  example25/run_example, example26/run_example,
	  example27/run_example, example28/run_example,
	  example29/run_example, example30/run_example,
	  example31/run_example, example32/run_example,
	  example33/run_example, example34/run_example:

	Added a check on the exit status of each job executed by the script using
	the function check_failure.

2007-03-19 03:40  sbraccia

	* examples/check_failure.sh:

	Added function to test the exit status of a job. C.S.

2007-03-19 02:22  umari

	* CPV/cglib.f90:

	[no log message]

2007-03-18 20:24  giannozz

	* CPV/Makefile, CPV/make.depend, CPV/ortho_base.f90,
	  CPV/read_pseudo.f90, D3/.cvsignore, D3/Makefile, D3/d3_init.f90,
	  D3/d3_summary.f90, D3/make.depend, GIPAW/Makefile,
	  GIPAW/compute_sigma.f90, GIPAW/make.depend, Gamma/.cvsignore,
	  Gamma/Makefile, Modules/Makefile, Modules/atom.f90,
	  Modules/make.depend, Modules/read_upf.f90, Modules/read_uspp.f90,
	  Modules/uspp.f90, PH/Makefile, PH/make.depend, PH/phq_init.f90,
	  PH/phq_summary.f90, PP/Makefile, PP/make.depend, PP/qexml.f90,
	  PW/Makefile, PW/bp_calc_btq.f90, PW/init_vloc.f90,
	  PW/make.depend, PW/paw.f90, PW/pwcom.f90, PW/read_ncpp.f90,
	  PW/setup.f90, PW/stres_loc.f90, PW/summary.f90,
	  PWCOND/.cvsignore, PWCOND/Makefile, VdW/Makefile:

	Misc pseudopotential cleanup: upf_to_internal merged between CP and PW;
	PAW-related stuff extracted and put into the paw module; various checks
	moved to more appropriate places; initialization of obsolete variables
	lloc and lmax moved elsewhere; variable zp moved to uspp_param.
	All PP-reading subroutines (too many) read zp, not zv; zv is set later.
	Summary for pseudopotentials unified and purged of printout of
	obsolete/unused/unset variables.
	PW/readin.f90 renamed to something more suggestive of what it does
	(PW/read_pseudo.f90). Module PW/upf_to_internal.f90 moved to Modules/,
	routine upf2internal removed from CPV/read_pseudo.f90.
	Harmless error in berry phase + a few bad formats in GIPAW fixed.
	Dependencies and Makefiles updated.

2007-03-15 16:43  sbraccia

	* examples/: example17/run_example, example28/run_example:

	Added a check on the exit status of each job executed by the script. The test
	is interrupted if an error condition is encountered and the exit status of
	the script is set to 1. The exit status of the script can be used to verify
	whether somethig went wrong during the test. C.S.

2007-03-15 15:16  sbraccia

	* PW/compute_fes_grads.f90:

	Fixed a problem introduced by recent changes to divide_et_impera. C.S.

2007-03-15 03:27  sbraccia

	* PW/: c_bands.f90, init_run.f90, potinit.f90, update_pot.f90:

	Minor cleanup. C.S.

2007-03-15 03:25  sbraccia

	* PW/compute_scf.f90:

	NEB and SMD were broken by recent changes to divide_et_impera. Fixed. C.S.

2007-03-14 10:47  giannozz

	* CPV/.cvsignore, CPV/cp_restart.f90, Modules/xml_io_base.f90,
	  PW/c_bands.f90, PW/close_files.f90, PW/input.f90, PW/non_scf.f90,
	  PW/pw_restart.f90, PW/stop_run.f90, Doc/INPUT_PW,
	  Doc/users-guide.tex:

	1) no need to write k+G vectors if wavefunctions are not collected
	2) option disk_io='none' implemented (sort of)
	3) no need to write Ef for each k-point
	4) Documentation updated

2007-03-14 00:32  umari

	* PW/: c_phase_field.f90, h_epsi_her_set.f90:

	Added support for electric field in general not orthorombic cells

	P.U.

2007-03-12 15:14  sbraccia

	* CPV/compute_fes_grads.f90, Modules/constraints_module.f90,
	  PW/compute_fes_grads.f90:

	Cleanup. Added a routine to remove the component of a generic vector orthogonal
	the the constrain hypersurface. C.S.

2007-03-12 15:10  sbraccia

	* PW/realus.f90:

	Cleanup of debug statement. C.S.

2007-03-12 14:50  sbraccia

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PW/Makefile, PW/electrons.f90,
	  PW/input.f90, PW/makov_payne.f90, Doc/INPUT_PW:

	Added keyword (assume_isolated) to enable the direct calculation of Makov-Payne
	correction to the total energy at the end of a self-consistency. An estimate of
	the vacuum level is also calculated so that eigenvalues can be properly aligned.
	C.S.

2007-03-09 12:34  cavazzon

	* CPV/main.f90:

	- bug fix, exit condition in FPMD/NEB calculation
	  when conv_elec = .false. and ttexit = .true.

2007-03-07 13:30  giannozz

	* Modules/path_io_routines.f90:

	Possible restart problem in Neb due to insufficient format in restart file
	(Axel)

2007-03-05 19:02  cavazzon

	* CPV/: init_run.f90, ions.f90, print_out.f90:

	- removed unused subs.
	- clean-ups
	- fix a bug in the computation of Center of Mass displacement

2007-03-05 18:59  cavazzon

	* Modules/ions_base.f90:

	- removed unused subroutines
	- clean-ups

2007-03-05 11:38  giannozz

	* Modules/input_parameters.f90, Modules/read_namelists.f90,
	  Modules/version.f90, PW/dynamics_module.f90, PW/input.f90,
	  PW/make.depend, PW/vcsmd.f90, PW/vcsubs.f90, Doc/INPUT_PH,
	  Doc/INPUT_PW, Doc/users-guide.tex:

	Velocity rescaling cleanup. There are different keywords for different
	kinds of rescaling. The plain 'rescaling' is performed  whenever the
	difference between the actual and target T exceeds a given value (tolp).
	This is the same for all cases: CP and PW, both fixed- and variable-cell
	MD. The previous rescalings of PW get different names:
	rescale-v, rescale-T, reduce-T (suggestions for better names are welcome).
	The usage of 'tolp' in variable-cell MD is changed and aligned to the
	definition used in fixed-cell MD and in CP. Documentation corrected and
	updated. Note that the 'langevin' thermostat mentioned in the code is
	still undocumented and maybe not implemented.

2007-03-05 11:16  cavazzon

	* CPV/: Makefile, cg_sub.f90, chargedensity.f90, cp_fpmd.f90,
	  cp_interfaces.f90, cplib.f90, cpr.f90, cpr_mod.f90, cprsub.f90,
	  fromscra.f90, init.f90, init_run.f90, inner_loop.f90,
	  inner_loop_cold.f90, ions.f90, main.f90, mainvar.f90,
	  make.depend, move_electrons.f90, ortho.f90, ortho_base.f90,
	  periodic.f90, potentials.f90, print_out.f90, restart_sub.f90,
	  smcp.f90, stress.f90:

	- unused subroutine removed
	- more interfaces
	- cp/fpmd "from_restart" merged
	- cp/fpmd "movecell" merged
	- clean-ups

2007-03-05 10:56  cavazzon

	* Modules/: cell_base.f90, ions_base.f90, printout_base.f90:

	- clean-up, unused subroutines removed,
	  more comments and source readability

2007-03-05 10:49  cavazzon

	* examples/example19/run_example:

	- clean-up, unused keyword removed

2007-03-05 10:31  giannozz

	* PH/: bcast_ph_input.f90, phcom.f90, phq_readin.f90:

	Unused variable 'filelph' removed

2007-03-01 15:11  giannozz

	* PH/: make.depend, phonon.f90:

	Option "lnscf=.true." ws not working

2007-03-01 12:35  giannozz

	* Modules/read_namelists.f90:

	Misleading error message corrected

2007-03-01 10:54  cavazzon

	* CPV/cpr.f90:

	- clean-up, removed a debug printing of ionic forces on unit 26

2007-03-01 10:52  cavazzon

	* flib/transto.f90:

	- more informative error message

2007-02-28 19:26  giannozz

	* Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/dynamics_module.f90, PW/input.f90:

	Added yet another velocity rescaling, following a recipes by
	Berendsen et al (see Eq. 7.59 of Allen-Tildesley):
	ion_temperature='berendsen' + yet another input parameter t_rise (in ps)
	Fixed (I think) another case of rescaling (delta T > 0)

2007-02-28 19:23  cavazzon

	* CPV/cplib.f90:

	- again LDA+U

2007-02-28 18:54  cavazzon

	* CPV/: cplib.f90, init.f90, init_run.f90, restart.f90,
	  restart_sub.f90:

	- fix for LDA+U contribution to the forces
	- clean-ups in init and restart

2007-02-28 18:08  giannozz

	* configure, configure.ac:

	Axel's suggested flags for ifort v.9 + mkl is now correctly implemented
	but temporarily disabled - apparently it doesn't work in some cases

2007-02-28 15:36  cavazzon

	* CPV/emptystates.f90:

	- bug fix, the subroutine was not working if empty_states_nbnd > nbnd

2007-02-27 17:57  giannozz

	* PW/pw_restart.f90:

	Cleanup

2007-02-27 17:57  giannozz

	* configure, configure.ac:

	Second attempt to implement Axel's suggested flags for ifort v.9 + mkl

2007-02-27 17:55  giannozz

	* Modules/control_flags.f90:

	It is safe to initialize io_level

2007-02-27 11:00  cavazzon

	* PP/epsilon.f90:

	- bug fix, metal part

2007-02-26 15:48  cavazzon

	* CPV/: Makefile, cp_interfaces.f90, forces.f90, input.f90,
	  ions.f90, ksstates.f90, main.f90, make.depend, restart.f90,
	  runcp.f90, wf.f90:

	- more merging: now there is only one dforce routine.
	- developing: some input parameters damped to file qe_input.xml

2007-02-26 15:42  cavazzon

	* PP/pw_export.f90:

	- small clean-up

2007-02-26 15:41  cavazzon

	* Doc/: INPUT_CP, INPUT_pw_export:

	- pw_export input documented

2007-02-26 15:40  cavazzon

	* Modules/: Makefile, input_parameters.f90, make.depend,
	  xml_input.f90:

	- new module that will be used to dump the input
	  parameters and input layout to an XML file.
	  This is useful for building interfaces (especially web-based) to QE

2007-02-24 15:51  dalcorso

	* PH/find_mode_sym.f90, PH/phq_setup.f90, PP/sym_band.f90,
	  PW/divide_class.f90, PW/pwcom.f90, PW/summary.f90:

	If lgamma=.true., find_mode_sym writes a label to identify
	infrared (I), Raman (R) or infrared+Raman (I+R) active modes.

2007-02-23 16:32  ceresoli

	* GIPAW/: apply_vel.f90, ch_psi_all2.f90, compute_u_kq.f90,
	  gipaw_module.f90, greenfunction.f90, make.depend,
	  suscept_crystal.f90, test_sum_rule.f90:

	Trying to stay up-to-date with the recent CVS changes. Gipaw compiles
	cleanly but doesn't not working at all!
	I give up: I'm going in vacation for the next few days. (D.C.)

2007-02-23 16:28  ceresoli

	* GIPAW/compute_u_kq.f90:

	Removed! new version is totally different. (D.C.)

2007-02-23 12:42  ceresoli

	* GIPAW/: gipaw_main.f90, greenfunction.f90, make.depend:

	Small changes. Trying to stay in touch with the latest
	CVS developements. (D.C.)

2007-02-22 16:22  giannozz

	* PW/input.f90, Doc/INPUT_CP, Doc/INPUT_PW, PW/openfil.f90:

	Write to memory enabled (disk_io='low' or 'none')

2007-02-22 12:22  giannozz

	* Gamma/phcg.f90, Modules/control_flags.f90, PW/c_bands.f90,
	  PW/electrons.f90, PW/input.f90, PW/make.depend, PW/mix_rho.f90,
	  PW/non_scf.f90, PW/save_in_cbands.f90, PW/save_in_electrons.f90,
	  PW/save_in_ions.f90, PW/wfcinit.f90, VdW/check_v_eff.f90,
	  VdW/make.depend, VdW/print_clock_vdw.f90, VdW/solve_e.f90:

	reduce_io (logical) replaced by io_level (integer)

2007-02-22 11:34  giannozz

	* PH/bcast_ph_input.f90, PH/make.depend, PH/phcom.f90,
	  PH/phq_readin.f90, PH/solve_e.f90, PH/solve_e2.f90,
	  PH/solve_e_fpol.f90, PH/solve_linter.f90,
	  Modules/control_flags.f90:

	PH: reduce_io moved into control_ph
	Updated control_flags module saved: CP will not compile otherwise

2007-02-22 09:45  giannozz

	* CPV/: cg_sub.f90, cp_restart.f90, cplib_meta.f90, cpr.f90,
	  inner_loop.f90, inner_loop_cold.f90, input.f90, restart.f90,
	  smcp.f90:

	reduce_io => tksw; unused variable tvlocw removed

2007-02-22 09:41  ceresoli

	* PP/Makefile:

	efg removed from Makefile. (D.C.)

2007-02-22 09:08  giannozz

	* configure, configure.ac:

	oops, configure confusion ...

2007-02-22 06:14  seitsonen

	* PP/efg.f90:

	Moved inside '../GIPAW'

	       apsi

2007-02-21 18:04  seitsonen

	* PW/upf_to_internal.f90:

	One array not allocated properly

	       apsi

2007-02-21 17:54  seitsonen

	* GIPAW/compute_sigma.f90, GIPAW/efg.f90,
	  GIPAW/g_tensor_crystal.f90, GIPAW/gipaw_main.f90,
	  GIPAW/gipaw_module.f90, GIPAW/init_paw_2_no_phase.f90,
	  GIPAW/suscept_crystal.f90, Modules/pseudo_types.f90,
	  Modules/read_upf.f90, PW/init_paw_1.f90, PW/init_paw_2.f90,
	  PW/paw.f90, PW/upf_to_internal.f90:

	Changed the data types in the PAW reconstruction; now there is one major
	data type for a species and an array to store this data for all species.
	Seems to compile and run 'pw.x' correctly, some other problem in GIPAW/NMR...?

	        apsi

2007-02-21 15:44  ceresoli

	* GIPAW/: Makefile, ch_psi_all.f90, ch_psi_all2.f90, h_psiq.f90,
	  h_psiq2.f90:

	Keep same ordering of G-vectors both at k and k+q.  (D.C.)

2007-02-21 15:42  ceresoli

	* PW/exx.f90:

	io_files repeated in ONLY list (D.C.)

2007-02-21 14:01  giannozz

	* PW/: Makefile, bp_c_phase.f90, buffers.f90, c_bands.f90,
	  c_phase_field.f90, close_files.f90, dndepsilon.f90,
	  electrons.f90, exx.f90, force_hub.f90, force_us.f90,
	  h_epsi_her_set.f90, make.depend, new_ns.f90, non_scf.f90,
	  openfil.f90, pw_restart.f90, read_file.f90, stop_run.f90,
	  stres_knl.f90, sum_band.f90, update_pot.f90, wfcinit.f90:

	Added possibility (not yet activated) of keeping wavefunctions in memory.
	File buffers.f90 contains replacements - with different names and syntax -
	for diropn (open_buffer) and davcio (get_buffer, save_buffer). If you have
	better names, please go ahead. Works for a single buffer right now.

	Pitfalls: nwordwfc is now defined as the number of complex words, no longer
	of real words, but only in PW/, so mixing routines from PW with routines from
	other codes may run into trouble (although I didn't see any side effect).
	Restart may no longer work in some specific cases.

2007-02-21 13:44  giannozz

	* Makefile, TODO, configure, configure.ac:

	Compilation of VIB removed from Makefile. TODO updated.
	configure updated following Axel's suggestion on semi-static linking

2007-02-21 11:51  ceresoli

	* PW/electrons.f90:

	Removed the temporary hack to run with unequal number of
	k-point per pool. Tested with MPICH. (D.C.)

2007-02-21 10:15  ceresoli

	* clib/memstat.c:

	Better(?) memory statistics. Unfortunately every libc fills in different
	struct mallinfo fields. Tested in Linux and AIX. (D.C.)

2007-02-19 16:48  giannozz

	* PW/c_bands.f90:

	Re-added check on exit condition in a safe case

2007-02-19 16:15  giannozz

	* PW/: c_bands.f90, pw_restart.f90:

	Yet another problem with phonon + pools + lsda + wf_collect solved (maybe).
	The solution is not especially satisfactory but it seems to work.

	Calls to "check_stop_now" removed from c_bands. They are likely to
	interfere with neb in a scf calculation; with phonons in a nscf calculation;
	it is very unlikely that they will be useful in a band structure calculation.

2007-02-19 12:16  giannozz

	* PW/: c_bands.f90, data_structure.f90, make.depend, read_file.f90:

	More phonon-with-pool problems

2007-02-19 10:21  dalcorso

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, Modules/xml_io_base.f90,
	  PW/input.f90, PW/pw_restart.f90:

	Introduced a new input variable lkpoint_dir. If .false. it does not open
	a new directory for each k point.

2007-02-18 17:39  giannozz

	* PW/: c_bands.f90, read_file.f90:

	Incorrect phonons with pools and lsda fixed

2007-02-18 17:37  giannozz

	* PH/phonon.f90:

	Phonon dispersions were no longer working after last change to pools

2007-02-16 15:57  giannozz

	* PW/: c_bands.f90, cegterg.f90, electrons.f90:

	Printout of allocated memory added, warning message about non converged
	eigenvalues made less dramatic

2007-02-16 14:42  giannozz

	* PW/: allocate_fft.f90, clean_pw.f90, electrons.f90,
	  h_epsi_her_apply.f90, h_epsi_her_set.f90, pwcom.f90:

	Two meta-gga variables were not deallocated at the end of the run
	(clean_pw). This was causing "already already deallocated" errors.
	A third variable was not used at all and has been removed.

2007-02-15 17:11  giannozz

	* PW/set_kup_and_kdw.f90:

	Updated after last change (nks => nkstot)

2007-02-15 16:05  giannozz

	* PW/: divide_et_impera.f90, exx.f90, h_psi_meta.f90, input.f90,
	  make.depend, read_file.f90, setup.f90:

	Pool/k-points minor cleanup:
	"nkstot" is always the total number of k-points, summed on all pools;
	"nks" is defined only after pools are initialized and is the number of
	k-points on the current pool. Previously there was some confusion due
	to the redefinition of nks. It seems to work with no side effects, but
	- it is untested for EXX
	- the X phonon in Ni (example 2) does not work, but it doesn't seem
	  to be related with this change

	The commented lines in h_psi_meta made compilation fail on sp5.
	How this was happening I don't know: it must be related to the
	pre-processing of CMPLX (see include/f_defs,h). Maybe we should
	get rid of it. In the meantime I removed the offending lines.

2007-02-15 12:53  giannozz

	* Modules/: Makefile, input_parameters.f90, make.depend:

	Dependencies + minor things updated

2007-02-15 12:51  giannozz

	* PH/Makefile, PP/Makefile, PWCOND/Makefile, D3/Makefile,
	  Gamma/Makefile, VdW/Makefile:

	Makefile updated

2007-02-15 12:46  giannozz

	* GIPAW/: Makefile, compute_sigma.f90:

	Syntax used in a few places to split lines was not accepted by all compilers.
	Makefile updated

2007-02-14 18:02  giannozz

	* PP/: Makefile, make.depend, openfil_pp.f90, pw2wannier90.f90:

	Incorrect call fixed (courtesy of Javad)
	Makefile and dependencies updated

2007-02-14 14:38  dalcorso

	* PW/c_bands.f90:

	Bug fix: problems with different number of k points on different pools.

2007-02-14 09:51  degironc

	* CPV/Makefile, CPV/metaxc.f90, examples/example27/run_example:

	elimination from CPV/metaxc.f90 of code non-specific parts that have been
	moved to Modules/metagga.f90
	stefano

2007-02-14 09:40  degironc

	* Modules/metagga.f90:

	missing file in the last commit. sorry.
	stefano

2007-02-13 22:39  degironc

	* Modules/Makefile, PW/Makefile, PW/allocate_fft.f90,
	  PW/clean_pw.f90, PW/electrons.f90, PW/h_psi.f90,
	  PW/h_psi_meta.f90, PW/mix_rho.f90, PW/print_clock_pw.f90,
	  PW/pwcom.f90, PW/read_ncpp.f90, PW/setup.f90, PW/stress.f90,
	  PW/sum_band.f90, PW/upf_to_internal.f90, PW/v_of_rho.f90,
	  examples/example27/run_example,
	  examples/example27/reference/c4h6.cp.metaGGA.out,
	  examples/example27/reference/c4h6.pw.metaGGA.out:

	The Meta-GGA available on cp.x has been ported to pw.x: scf and forces,
	while stress must still be done. So far, NC PP only.
	SdG + Koichiro Umemoto

2007-02-13 16:38  giannozz

	* TODO, configure, configure.ac:

	Minor configure updates for nec

2007-02-13 16:37  giannozz

	* Doc/users-guide.tex:

	Documentation updated

2007-02-13 11:42  dalcorso

	* PH/: psidspsi.f90, zstar_eu_us.f90:

	[no log message]

2007-02-09 13:42  giannozz

	* configure, configure.ac, make.sys.in, makedeps.sh:

	There isn't a strong reason to try a different compiler for F77 and
	F90. In at least some cases (eg F90=g95), this may create problems.

2007-02-09 10:23  cavazzon

	* PP/epsilon.f90:

	- bug fix in metal part

2007-02-08 17:35  giannozz

	* PH/: elphon.f90, make.depend:

	gaussian broadening range used in el-ph calculation reduced by a
	factor of 2: it was too big. Dependencies updated.

2007-02-08 17:10  dalcorso

	* examples/: README, example22/README:

	Documentation update.

2007-02-08 15:19  dalcorso

	* examples/example22/: run_example, reference/pt.nscf_ph.out,
	  reference/pt.ph.out, reference/pt.phX.out,
	  reference/pt.scf_ph.out:

	Added an example of phonon calculation with spin-orbit.

2007-02-08 14:57  dalcorso

	* D3/d3matrix.f90, D3/solve_linter_d3.f90, GIPAW/greenfunction.f90,
	  PH/dvpsi_e.f90, PH/elphon.f90, PH/pcgreen.f90, PH/solve_e.f90,
	  PH/solve_e2.f90, VdW/dvpsi_e.f90:

	Compatibility with the previous changes.
	Please note: cgsolve_all has a new argument. It is last one and should be set
	to 1 in the standard case.
	star_q has two new arguments. The last two are logical and should be set
	to .false. in the standard case.
	If you use these two routines and I have not found your routine, please update.

2007-02-08 14:45  dalcorso

	* Modules/functionals.f90:

	Phonon in the noncollinear spin-orbit case. A missing routine.
	(All this is very experimental).

2007-02-08 14:40  dalcorso

	* PH/: adddvscf.f90, addusdynmat.f90, ch_psi_all.f90,
	  compute_alphasum.f90, compute_becalp.f90, compute_becsum.f90,
	  compute_drhous.f90, compute_nldyn.f90, drho.f90, drhodv.f90,
	  drhodvnl.f90, dvanqq.f90, dvqpsi_us.f90, dvqpsi_us_only.f90,
	  dynmat_us.f90, ef_shift.f90, h_psiq.f90, localdos.f90,
	  solve_linter.f90, star_q.f90:

	Phonon in the noncollinear and spin-orbit case. Routines with more complex
	changes.

2007-02-08 14:17  dalcorso

	* PH/: Makefile, addusdbec_nc.f90, compute_drhous_nc.f90,
	  incdrhoscf_nc.f90, incdrhous_nc.f90, psym_dmag.f90,
	  set_int12_nc.f90, sym_dmag.f90, transform_alphasum_nc.f90,
	  transform_alphasum_so.f90, transform_dbecsum_nc.f90,
	  transform_dbecsum_so.f90, transform_int_nc.f90,
	  transform_int_so.f90:

	Phonon in the noncollinear and spin-orbit case. New routines.

2007-02-08 14:07  dalcorso

	* PH/: addnlcc.f90, addusddens.f90, allocate_phq.f90, cg_psi.f90,
	  cgsolve_all.f90, deallocate_phq.f90, drhodvloc.f90, drhodvus.f90,
	  dv_of_drho.f90, dynmatcc.f90, dynmatrix.f90, find_mode_sym.f90,
	  newdq.f90, openfilq.f90, phcom.f90, phonon.f90, phq_init.f90,
	  phq_readin.f90, phq_setup.f90, phq_summary.f90, symdvscf.f90:

	Phonon in the noncollinear and spin-orbit case. Routines with small changes.

2007-02-08 13:47  dalcorso

	* Modules/xml_io_base.f90, PW/Makefile, PW/input.f90,
	  PW/pw_restart.f90, PW/setup.f90, PW/sgama.f90, PW/sum_band.f90,
	  PW/transform_becsum_nc.f90, PW/transform_becsum_so.f90:

	Phonon in the noncollinear and spin-orbit case. Changes in PW.
	angle1, angle2 and starting_magnetization are saved in the punch file.
	The transformation of angle1 and angle2 to radiants is done in input.f90.
	Clean_up of sum_band.

2007-02-08 12:59  giannozz

	* PW/: c_bands.f90, diropn.f90, h_epsi_her_apply.f90,
	  h_epsi_her_set.f90, non_scf.f90, wfcinit.f90:

	I/O reduction for non-scf and electric-field calculations.
	I am not especially happy with the way it is achieved but
	couldn't find anything better.

2007-02-08 12:08  giannozz

	* PW/input.f90, Doc/INPUT_PW, Modules/cell_base.f90:

	In the triclinic case (ibrav=1) the translation from traditional cell
	parameters a, b, c, cosab, cosac, cosbc, to celldm was not correct.
	Documentation updated. Courtesy of Marco Fornari.

2007-02-08 11:58  giannozz

	* examples/example19/reference/: h2o-mol1.out, h2o-mol2.out,
	  h2o-mol3.out:

	example 19 updated

2007-02-08 11:56  giannozz

	* examples/example18/reference/: sio2.cp.restart.out,
	  sio2.cp.start.out, sio2.vc-cp.out, sio2.vc-cp.restart.out:

	Example 18 updated

2007-02-08 11:54  giannozz

	* examples/example13/reference/: cu.band.out, cu.cg.out,
	  cu.scf.out, fe.angl.out, fe.band.out, fe.pen.out, fe.scf.out,
	  fe.total.out, ni.band.out, ni.scf.out, o2.relax.out:

	example 13 updated

2007-02-08 11:52  giannozz

	* examples/example01/reference/cu.bands.out:

	Example 01 (partially) updated

2007-02-07 15:26  degironc

	* Doc/INPUT_PW:

	description of delta_t variable updated according to suggestion by
	Eduardo Ariel Menendez

2007-02-07 15:19  giannozz

	* examples/example06/reference/: alas.freq, alas.ph.out,
	  alas.phdos, alas.scf.out, matdyn.modes:

	Example updated

2007-02-07 14:51  giannozz

	* examples/example31/: README, run_example,
	  reference/si.scf.efield.out, reference/si.scf.efield2.out,
	  reference/si.scf.out:

	Example for electric field updated - it wasn't done in the proper way
	("restart='restart'" is only for restarting an interrupted calculation).
	PU please check

2007-02-07 10:35  dalcorso

	* PW/summary.f90:

	Write a more clear message in the noncollinear case.

2007-02-06 23:18  giannozz

	* PW/c_bands.f90:

	Oops, array not deallocated

2007-02-06 16:46  dalcorso

	* PH/: incdrhoscf.f90, solve_e.f90, solve_e_fpol.f90,
	  solve_linter.f90, zstar_eu_us.f90:

	In the routine incdrhoscf the variable mode is not used.

2007-02-05 20:34  kkudin

	* pwtools/dynmat.f90:

	Add 4 digits to the Raman intensities output. By the way, why is dynmat
	taking so much cpu time? - Kostya

2007-02-05 18:01  cavazzon

	* PP/epsilon.f90:

	- new parallel version of epsilon

2007-02-05 17:40  cavazzon

	* CPV/: cpr.f90, emptystates.f90:

	- bug fix in empty states subroutine

2007-02-05 17:38  cavazzon

	* Modules/read_cards.f90:

	- do not read and initialize k_points module in CP

2007-02-05 16:57  giannozz

	* Doc/: INPUT_CP, INPUT_PW, users-guide.tex:

	Documentation updated

2007-02-05 16:13  giannozz

	* CPV/input.f90:

	The option to write charge density to data file is only "saverho",
	no longer "disk_io='high'"

2007-02-05 13:42  giannozz

	* CPV/: make.depend, read_pseudo.f90, vanderwaals.f90:

	Another SX=>sx; misspell; dependencies updated

2007-02-05 13:31  umari

	* CPV/: cg_sub.f90, inner_loop_cold.f90:

	Minor changes for cold smearing in cp
	P.U.

2007-02-03 16:10  dalcorso

	* PH/tra_write_matrix.f90:

	Tra_write_matrix (used only for debug) now symmetrizes the matrix before
	writing it.

2007-02-03 15:59  dalcorso

	* PW/sgama.f90:

	The symmetry of the magnetization is not checked if domag=.false..

2007-02-02 18:56  giannozz

	* TODO, configure, configure.ac, makedeps.sh:

	Configure updated for Nec
	"makedeps.sh directory" works if there is "/" at the end of directory name

2007-02-02 18:53  giannozz

	* clib/c_mkdir.c:

	Added function "c_rename" to rename a file - not sure how portable
	it is and whether it is really useful

2007-02-02 17:14  giannozz

	* pwtools/: Makefile, matdyn.f90:

	Correct (i.e. usual) definition of alpha^2f(omega) (Malgorzata)

2007-02-02 15:29  giannozz

	* PW/: c_bands.f90, electrons.f90, non_scf.f90:

	Some more cleaning

2007-02-02 14:55  giannozz

	* VdW/: Makefile, cegterg.f90, check_v_eff.f90:

	Oops, forgot to change the call to g_psi

2007-02-01 21:03  sbraccia

	* PW/: setup.f90, update_pot.f90:

	Initialization of alpha0 and beta0 moved from setup to update_pot. C.S.

2007-02-01 17:47  sbraccia

	* PW/compute_scf.f90:

	Removed unnecessary call to find_alpha_and_beta. C.S.

2007-02-01 17:46  sbraccia

	* PW/wfcinit.f90:

	Clock was not properly stopped. C.S.

2007-02-01 17:33  ceresoli

	* PW/electrons.f90:

	Temporary hack, for running with any number of pools and k-points. (D.C.)

2007-02-01 15:41  ceresoli

	* GIPAW/: compute_u_kq.f90, make.depend:

	Dependency to diis_base updated. (D.C.)

2007-02-01 10:00  giannozz

	* PW/: input.f90, make.depend, print_clock_pw.f90, update_pot.f90:

	Interpolation of rho and wfc was silently resetting to 'none' if
	the keyword was not exactly what was supposed to be. Unfortunately
	example 4 was using 'second-order' instead of 'second_order'. To
	prevent further problems, both, plus 'second order', and the like
	for first order of course, are allowed
	The final CPU report was not reporting about time taken in extrapolation.
	Dependencies updated

2007-01-31 18:09  dalcorso

	* PH/: Makefile, phonon.f90, xk_wk_collect.f90:

	Bug fix: ph.x was not working with pools and ldisp=.true..

2007-01-31 17:18  giannozz

	* CPV/: .cvsignore, Makefile, potentials.f90, vanderwaals.f90:

	Nec doesn't like variables containing "SX": converted to lowercase.
	Misc updates

2007-01-31 16:53  giannozz

	* PH/: .cvsignore, Makefile, make.depend, phonon.f90:

	No need to recalculate once again the charge density + misc updates

2007-01-31 16:51  giannozz

	* PW/: Makefile, c_bands.f90, g2_kin.f90, setup.f90, wfcinit.f90:

	calculation of kinetic energy extracted and done in a separate routine;
	some restructuring here and there; uninitialized variable (PGI only) fixed

2007-01-30 18:04  cavazzon

	* PW/input.f90:

	- PGI compiler (6.0-1 64-bit) has a bug thet makes the code crash
	  on expressions like:
	  wmass = SUM( amass(ityp(:)) )
	  workaround implemented

2007-01-30 18:01  giannozz

	* PW/: Makefile, electrons.f90, non_scf.f90, print_ks_energies.f90:

	Printout of Kohn-Sham eigenvalues for both the scf and the non-scf case
	extracted and called as a separate routine. There should be no changes
	in the output. This is just a cosmetic step to 1) reduce the size of some
	routines performing (too) many tasks, and 2) to avoid having two pieces
	of code doing basically the same task. More to come.

2007-01-30 17:59  cavazzon

	* PW/wfcinit.f90:

	- erf was not defined (PGI complains about that)

2007-01-30 11:38  giannozz

	* CPV/cplib.f90, CPV/inner_loop_cold.f90, CPV/make.depend,
	  GIPAW/apply_vel.f90, GIPAW/g_tensor_crystal.f90,
	  GIPAW/make.depend, GIPAW/suscept_crystal.f90,
	  GIPAW/test_sum_rule.f90, pwtools/ev.f90, pwtools/rigid.f90:

	Axel's patch for single-precision constants (please do not add more!)
	GIPAW/make.depend added to CVS, like all others - should be updated
	when dependencies change using "./makedeps.sh GIPAW" from the root
	directory of QE

2007-01-30 11:28  giannozz

	* PW/: Makefile, c_bands.f90, cgramg1.f90, electrons.f90,
	  init_paw_1.f90, make.depend, vcsmd.f90:

	cgramg1, used in DIIS, had been erroneously removed. Some loaders were
	complaining about its absence, even if it was not actually needed.
	Re-added for consistence, but diis modules are no longer compiled
	nor loaded at all.
	Axel: fix more single-precision constants
	Variable-cell dynamics now stops when the maximum number of steps
	(nstep) is exceeded

2007-01-29 12:36  giannozz

	* PW/weights.f90:

	Oops, this was missing

2007-01-29 11:40  giannozz

	* PW/: Makefile, electrons.f90, make.depend, non_scf.f90,
	  punch.f90, sum_band.f90:

	Calculation of weights and Fermi energies is extracted from sum_band
	and performed by a separate subroutine (weights).
	More uniform behaviour of scf and non-scf case; some unneeded calls
	(ppolreduce, sum_band) removed.
	Subroutine punch minimized (should be removed)

2007-01-26 11:58  umari

	* CPV/: Makefile, cg_sub.f90, ensemble_dft.f90, init_run.f90,
	  inner_loop_cold.f90:

	Added new file inner_loop_cold containing routines for
	cold-smearing treatment of metallic systems in cp
	with conjugate gradient

	P.U.

2007-01-25 15:18  ceresoli

	* GIPAW/gipaw_module.f90:

	Forgot to broadcast spline_ps. (D.C.)

2007-01-25 14:09  dalcorso

	* PW/summary.f90:

	Bug fix: with iverbosity=.high. the point group was not printed in some case.

2007-01-25 12:41  ceresoli

	* Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/allocate_nlpot.f90, PW/clean_pw.f90, PW/gen_us_dj.f90,
	  PW/gen_us_dy.f90, PW/init_paw_1.f90, PW/init_paw_2.f90,
	  PW/init_us_1.f90, PW/init_us_2.f90, PW/input.f90, PW/paw.f90,
	  PW/pwcom.f90, GIPAW/gipaw_module.f90,
	  GIPAW/init_paw_2_no_phase.f90, GIPAW/init_us_2_no_phase.f90:

	Splines are disabled by default, but now they are
	compiled in. Set spline_ps = .true. in the &system namelist.
	(D.C.)

2007-01-25 11:58  ceresoli

	* GIPAW/.cvsignore:

	Added .cvsignore (D.C.)

2007-01-25 11:46  ceresoli

	* PW/gen_us_dj.f90, PW/gen_us_dy.f90, PW/init_paw_1.f90,
	  PW/init_us_1.f90, PW/init_us_2.f90, GIPAW/gipaw_main.f90,
	  GIPAW/init_paw_2_no_phase.f90, GIPAW/init_us_2_no_phase.f90:

	Spline interpolation working in parallel. (D.C.)

2007-01-25 10:45  ceresoli

	* GIPAW/: compute_sigma.f90, compute_u_kq.f90,
	  g_tensor_crystal.f90, gipaw_module.f90, init_us_2_no_phase.f90,
	  suscept_crystal.f90:

	Small ``cosmetic'' changes. (D.C.)

2007-01-24 18:40  giannozz

	* PW/electrons.f90:

	Minor simplification

2007-01-24 18:22  giannozz

	* PW/: allocate_wfc.f90, non_scf.f90:

	Minor cleanup

2007-01-24 17:50  degironc

	* PW/: ewald.f90, force_ew.f90, rgen.f90, stres_ewa.f90:

	the following shift of vector dtau
	              ds(:) = MATMUL( dtau(:), bg(:,:) )
	              ds(:) = ds(:) - anint(ds(:))
	              dtau(:) = MATMUL( at(:,:), ds(:) )
	has been moved inside rgen (and removed outside)
	so that it is done everywhere rgen is called.
	a shifted dtau is defined internally in rgen and the original dtau is
	left unchanged in the calling routine.
	stefano

2007-01-24 17:28  ceresoli

	* PW/: ewald.f90, force_ew.f90, stres_ewa.f90:

	Probably this is better:

	              dtau (:) = tau (:, na) - tau (:, nb)
	              ds(:) = MATMUL( dtau(:), bg(:,:) )
	              ds(:) = ds(:) - anint(ds(:))
	              dtau(:) = MATMUL( at(:,:), ds(:) )

	D. C.

2007-01-24 16:42  ceresoli

	* PW/: ewald.f90, force_ew.f90, stres_ewa.f90:

	Minumum image convention:
	  dtau (ipol) = dtau(ipol) - anint(dtau(ipol))

	D. Ceresoli

2007-01-24 10:51  seitsonen

	* GIPAW/: compute_sigma.f90, gipaw_module.f90:

	Moved nmr_macroscopic shape into the input

	       apsi

2007-01-23 18:31  giannozz

	* PW/: Makefile, c_bands.f90, electrons.f90, g_psi_mod.f90,
	  make.depend, non_scf.f90, pwcom.f90, setlocal.f90:

	Minor cleanup: v(0) calculated together with v; non_scf routine
	put into a separate file

2007-01-23 08:36  giannozz

	* VdW/check_v_eff.f90:

	Fixed compilation error

2007-01-22 17:38  giannozz

	* PW/: c_bands.f90, cegterg.f90, dndepsilon.f90, exx.f90,
	  force_hub.f90, force_us.f90, hinit0.f90, new_ns.f90,
	  orthoatwfc.f90, pw_restart.f90, stres_knl.f90, sum_band.f90,
	  update_pot.f90, wfcinit.f90:

	There is no reason to write to file the number of planewaves per k-point:
	it is stored in memory anyway

2007-01-22 11:54  giannozz

	* PH/hdiag.f90:

	Fixed recently introduced compilation error + bad call to cinitcgg

2007-01-22 11:40  giannozz

	* Modules/xml_io_base.f90:

	Missing initialization of rho could lead to serious trouble
	if the physical and true dimensions of FFT grids do not coincide

2007-01-21 21:09  giannozz

	* PW/: Makefile, c_bands.f90, cegterg.f90, complex_diis_module.f90,
	  g_psi.f90, g_psi_mod.f90, g_psi_nc.f90, make.depend,
	  real_diis_module.f90, regterg.f90, usnldiag.f90, usnldiag_nc.f90:

	More merge of noncolinear stuff

2007-01-21 13:07  degironc

	* pwtools/ev.f90:

	ev.f90: error corrected in the definition of Birch 1st and 2nd order equations of states. It was causing bad results in the fit when these EoS were used since the conversion from f77 to f90.

2007-01-20 03:26  sbraccia

	* CPV/compute_scf.f90:

	Fixed a bug in image-parallelization of NEB/SMD. Variable dim renamed dim1.
	C.S.

2007-01-20 01:01  sbraccia

	* PW/compute_scf.f90, Modules/path_base.f90,
	  Modules/path_io_routines.f90, Modules/path_opt_routines.f90,
	  Modules/path_reparametrisation.f90, Modules/path_variables.f90:

	Fixed a bug in image-parallelization of NEB/SMD. Variable dim renamed dim1.
	C.S.

2007-01-19 16:22  giannozz

	* PH/: close_phq.f90, deallocate_phq.f90:

	Problems in Raman + dispersion calculation due to arrays not deallocated
	and units not closed - I just added deallocation and closing like the
	rest of the variables but I don't think that opening and allocating /
	closing and deallocating all in the same place is a good idea

2007-01-19 13:10  giannozz

	* .cvsignore, TODO, include/.cvsignore:

	Added .cvsignore file (as suggested by AF)

2007-01-19 13:08  giannozz

	* PW/: .cvsignore, compute_rho.f90:

	Fixed stupid error added yesterday
	.cvsignore updated (after a suggestion by Andrea Ferretti)

2007-01-18 22:21  degironc

	* PP/add_shift_cc.f90:

	Small bug fix in the calculation of initial state
	core-level shifts:Wrong dimension in a reduce call.
	Thanks to Laura Bianchettin

2007-01-18 19:02  giannozz

	* PW/: compute_rho.f90, electrons.f90, make_pointlists.f90:

	routine for non-scf calculation extracted from "electrons" (it was
	already a separate routine but contain-ed)
	Formatted print in  make_pointlists

2007-01-18 17:07  sbraccia

	* install/Make.altix:

	Makefile for altix updated. C.S.

2007-01-18 16:51  cavazzon

	* CPV/ortho_base.f90:

	- bug fix in the routine that try to evaluate the performance
	  of the parallel matrix multiply

2007-01-18 15:22  seitsonen

	* GIPAW/: Makefile, efg.f90, gipaw_main.f90, gipaw_module.f90,
	  suscept_crystal.f90:

	 - added EFG into the 'Makefile' and the main routine in 'gipaw_main.f90'
	 - changed the name of main routine from 'do_efg()' into 'efg()', had to
	    change the name of the array 'efg' into 'efg_total' as a consequence

	       apsi

2007-01-18 15:10  seitsonen

	* GIPAW/efg.f90:

	Added a version (same as in '../PP' but cleaned up a bit) of electric
	field gradients into the GIPAW code

	       apsi

2007-01-18 11:49  cavazzon

	* examples/example19/reference/: h2o-mol1.out, h2o-mol2.out,
	  h2o-mol3.out:

	- new reference output for the example19

2007-01-18 10:53  cavazzon

	* CPV/restart_sub.f90:

	- in restarting avoid to reset wave functions when electron_velocity = 'zero'
	  but electron_dynamics = 'sd'

2007-01-18 09:21  dalcorso

	* PW/find_group.f90:

	Bug fix: The T_h point group was not identified correctly.
	Contributed by Young-Su Lee.

2007-01-17 22:25  cavazzon

	* CPV/ortho.f90:

	- small fix, missing check on ortho node

2007-01-17 18:29  kkudin

	* Doc/INPUT_CP, Doc/INPUT_PW, Modules/cell_base.f90, PW/input.f90,
	  PW/vcsubs.f90:

	An update on check-in [4430]. New vc constraints are removed from CPV (due to
	lack of sufficient clarity). PW vc code is updated. For some reason vc-relax
	rotates cell vectors a little (i.e. there seem to be a pure rotation in
	the dispacement), somebody with more experise should look at that.

2007-01-17 17:28  cavazzon

	* CPV/ortho.f90:

	- bug fix, IF statement without a logical espression (pgi and intel
	  wasn't complaining)

2007-01-17 16:32  giannozz

	* PW/: Makefile, c_bands.f90, cdiisg_nc.f90, cgramg1.f90,
	  cgramg1_nc.f90, g_psi_mod.f90, make.depend, wfcinit.f90:

	c_bands simplified (sort of). A routine that diagonalizes wavefunctions
	for a single k-point without reading or writing anything is now available.
	The functionality of c_bands should remain the same (please check).
	Obsolete non-collinear DIIS diagonalization routines removed.

2007-01-17 15:38  seitsonen

	* PW/init_paw_1.f90:

	Added a test for the linear dependence of the projectors

	       apsi

2007-01-17 15:37  seitsonen

	* GIPAW/: biot_savart.f90, g_tensor_crystal.f90, gipaw_module.f90,
	  suscept_crystal.f90:

	 - Changed from 'c' to 'alpha' as the units
	 - Cleaning up the code

	       apsi

2007-01-16 21:09  kkudin

	* Doc/INPUT_CP, Doc/INPUT_PW, Modules/cell_base.f90, PW/input.f90,
	  PW/vcsmd.f90, PW/vcsubs.f90:

	Kind of added cell optimization constraints for 'vc-relax' into PW
	similarly to CP code via "cell_dofree" (and iforceh). So "cell_dofree"
	now appears to be working for PW, and has a couple of new options
	'xyt' and 'xyzt' which should allow to optimize only (x1,x2,y2) and
	(x1,x2,y2,x3,y3,z3) components of the lattice vectors. If these added
	constraints really do work properly in PW - only time will tell ...

	It would be nice to merge "cell_base_init" from CPV to PW, and also
	"cellmd" module of PW into "cell_base" of CPV. Otherwise these seem to
	exist and be updated separately despite having identical
	functionality.

2007-01-16 18:56  kkudin

	* pwtools/dynmat.f90:

	 Fix dynmat.x for ibrav=0. It looks like nobody actually used ibrav=0 here
	for at least a year (since check in [2664] in Dec '05)

2007-01-16 16:58  cavazzon

	* Modules/ptoolkit.f90:

	- bug fix for scalar build

2007-01-16 16:56  cavazzon

	* CPV/ortho_base.f90:

	- avoid to use parallel driver, with scalar executable

2007-01-16 14:48  cavazzon

	* CPV/ortho.f90:

	- error message called in the wrong place

2007-01-16 12:39  cavazzon

	* Modules/ptoolkit.f90:

	- wrong error message in routines blk2cyc cyc2blk

2007-01-15 20:07  sbraccia

	* Modules/mp.f90:

	Added a routine for broadcast of rank 5 real arrays. C.S.

2007-01-15 17:09  seitsonen

	* GIPAW/: Makefile, gipaw_main.f90:

	 - filename corrected in 'Makefile'
	 - consistent modules used in 'gipaw_main.f90'

2007-01-15 17:02  seitsonen

	* GIPAW/init_paw_2_no_phase.f90:

	New version consistent with the one in '../PW/init_paw_2.f90'

	       apsi

2007-01-15 17:01  seitsonen

	* GIPAW/gipaw_module.f90:


	-------------------------------------------------------------------

2007-01-15 16:59  seitsonen

	* GIPAW/apply_vel.f90:

	Removed obsolete code (with license to delete by Davide Ceresoli)

	       apsi

2007-01-15 16:57  seitsonen

	* PW/: init_paw_1.f90, init_paw_2.f90, paw.f90:

	Added the spline interpolation a'la Davide Ceresoli in init_us_?.f90

	       apsi

2007-01-15 16:44  sbraccia

	* Modules/bfgs_module.f90:

	Variable dim replaced everywhere. Fixed a bug in GDIIS (gdiis_iter was neither
	saved on file nor read). C.S.

2007-01-15 16:11  sbraccia

	* PW/compute_scf.f90:

	NEB was not working properly if first_last_opt was set true and more than 2 pools
	of images where used. C.S.

2007-01-15 14:05  seitsonen

	* makedeps.sh:

	Removed the directories 'Nmr' and 'NMR_new' in order to pave way for
	'GIPAW'

	       apsi

2007-01-15 12:45  seitsonen

	* GIPAW/: Makefile, apply_p.f90, apply_vel.f90, biot_savart.f90,
	  ch_psi_all.f90, compute_sigma.f90, compute_sigma_bare.f90,
	  compute_u_kq.f90, g_tensor_crystal.f90, gipaw_main.f90,
	  gipaw_module.f90, greenfunction.f90, h_psiq.f90, j_para.f90,
	  magn_main.f90, nmr_module.f90, suscept_crystal.f90,
	  symmetrize_field.f90, test_sum_rule.f90, write_tensor_field.f90:

	 - changed all 'nmr_*' and 'magn_*' into 'gipaw_*' for all references to the
	     main code
	 - 'compute_sigma.f90' containts all the three components of the sigma
	     tensor, thus the filename was changed

	       apsi

2007-01-15 12:29  seitsonen

	* GIPAW/: Makefile, apply_p.f90, apply_vel.f90, biot_savart.f90,
	  ch_psi_all.f90, compute_sigma_bare.f90, compute_u_kq.f90,
	  g_tensor_crystal.f90, greenfunction.f90, h_psiq.f90,
	  init_paw_2_no_phase.f90, init_us_2_no_phase.f90, j_para.f90,
	  magn_main.f90, nmr_module.f90, stop_code.f90,
	  suscept_crystal.f90, sym_cart_tensor.f90, symmetrize_field.f90,
	  test_sum_rule.f90, write_tensor_field.f90:

	Initial release (previously developed against tag QE-3-1-1 in directory
	NMR_new).

2007-01-15 01:36  cavazzon

	* Modules/mp.f90:

	- Cray XD1 specific subroutine was call in the wrong place

2007-01-15 01:25  cavazzon

	* Modules/mp.f90, Modules/ptoolkit.f90, CPV/ortho.f90,
	  CPV/ortho_base.f90:

	- further elimination of replicated data in ortho

2007-01-14 19:31  giannozz

	* PW/para.f90:

	max number of processors brough to 2048, so Dario will be happy!

2007-01-13 18:39  giannozz

	* flib/make.depend, upftools/make.depend:

	Dependencies updated

2007-01-13 18:37  giannozz

	* Makefile, TODO, PW/cinitcgg.f90, PW/wfcinit.f90:

	Initialization of wave functions simplified. A routine that produces
	the starting wavefunctions from the atomic ones for a single k-point
	without reading or writing anything is now available.

2007-01-12 21:02  sbraccia

	* CPV/cp_restart.f90:

	Matrix lambda_repl not properly deallocated. C.S.

2007-01-09 20:03  giannozz

	* PW/: make.depend, mix_rho.f90:

	Fixed array operation between arrays having different lengths.
	Mysteriously the compiler didn't complain (it should have).
	It is not impossible that this could cause some form of memory corruption,
	but for sure, it made usage of debugging flags (-g -C) impossible.

2007-01-08 12:50  giannozz

	* PP/pw2gw.f90:

	27.21 => autoev (AXEL)

2007-01-08 12:49  giannozz

	* Modules/: basic_algebra_routines.f90, constants.f90:

	Axel: dim is a reserved word, use dim1 instead
	Perl script to extract the value of constants

2007-01-08 12:47  giannozz

	* CPV/: cplib.f90, cpr.f90, efermi.f90:

	More cleanup by Axel: constants, double precision constants

2007-01-05 17:12  cavazzon

	* Modules/parallel_types.f90:

	- syntax error, "empty" CONTAINS in a module

2007-01-05 16:35  cavazzon

	* Doc/INPUT_CP:

	- cleanups

2007-01-05 16:32  cavazzon

	* Modules/descriptors.f90, Modules/make.depend,
	  Modules/parallel_types.f90, Modules/ptoolkit.f90, CPV/cg_sub.f90,
	  CPV/cp_interfaces.f90, CPV/cp_restart.f90, CPV/cplib.f90,
	  CPV/cpr.f90, CPV/cpr_mod.f90, CPV/cprsub.f90, CPV/eigs0.f90,
	  CPV/emptystates.f90, CPV/fromscra.f90, CPV/init_run.f90,
	  CPV/main.f90, CPV/mainvar.f90, CPV/make.depend,
	  CPV/move_electrons.f90, CPV/ortho.f90, CPV/ortho_base.f90,
	  CPV/restart.f90, CPV/restart_sub.f90, CPV/smcp.f90:

	- further parallelization of ortho and distribution of
	  lambda matrixes on a square mesh PxP of processors.
	  The number of processors used in the run not necessarily should be equal
	  to a perfect square PxP, the code, in distributing lambda,
	  try to use an optimal (for performances) square PxP less or equal than the
	  number of procs used.
	- the size (Np=PxP) of the processor mesh to be used in distributing lambda
	  and ortho, can be suggested using the namelist keyword
	  ortho_para = Np
	  in the electrons namelist
	- the distribution of lambda matrixes is required to save
	  memory in run with an high number of bands.
	  In a system with 2800 bands, the memory saved is about 200Mbyte
	  per proc/core if a sufficient number of proc ( some hundreds )
	  is used.

2007-01-04 14:52  dalcorso

	* PH/ef_shift.f90:

	Bug fix: the gamma_gamma symmetry was not working for open shell
	molecules.

2007-01-04 14:43  giannozz

	* PW/dynamics_module.f90:

	missing commas in format

2007-01-04 14:42  giannozz

	* Doc/users-guide.tex:

	Misspell

2007-01-04 14:35  giannozz

	* Modules/functionals.f90:

	Fixed possible divide-by-zero error in the derivative of the
	spin-polarized xc potential (value of dz in dmxc_spin)

2007-01-03 10:05  cavazzon

	* PW/pw_restart.f90:

	- small fix, units of Ef in occupations file,
	  pointed out by A.Ferretti

2007-01-03 10:04  cavazzon

	* CPV/: cg_sub.f90, cp_interfaces.f90, cplib.f90, emptystates.f90,
	  forces.f90, inner_loop.f90, make.depend, move_electrons.f90,
	  ortho.f90, runcp.f90, wannier.f90, wf.f90:

	- merging of dforce, dforce_bgl and dforce_field in a single routine

2007-01-03 10:02  cavazzon

	* Modules/mp.f90:

	- bug fix in the XD1 communication wrapper

2006-12-31 12:09  cavazzon

	* CPV/: Makefile, cp_interfaces.f90, dealloc.f90, diis.f90,
	  eigs0.f90, forces.f90, fromscra.f90, init_run.f90, input.f90,
	  ksstates.f90, main.f90, make.depend, move_electrons.f90,
	  optical.f90, ortho.f90, print_out.f90, restart_sub.f90,
	  runcg.f90, runcg_ion.f90, runcp.f90, rundiis.f90, runsd.f90:

	- clean ups, unused old FPMD subroutines and variables removed
	- merging of different: runcp_ncpp runcp_uspp runcp_bgl
	- more BGL specific stuff integrated and generalized

2006-12-31 12:05  cavazzon

	* Modules/: control_flags.f90, input_parameters.f90, make.depend,
	  read_cards.f90:

	- clean ups, unused old FPMD subroutines and variables removed

2006-12-31 12:00  cavazzon

	* CPV/efermi.f90:

	- erfc not defined everywhere

2006-12-30 16:48  umari

	* CPV/: cg_sub.f90, cglib.f90, cpr.f90, efermi.f90,
	  ensemble_dft.f90, inner_loop.f90, input.f90, print_out.f90:

	Clean-up of ensemble-DFT routines

	P.U.

2006-12-30 16:46  umari

	* Modules/: input_parameters.f90, read_namelists.f90:

	Infamous l_blocking and n_blocking varibales eliminated
	P.U.

2006-12-22 18:13  giannozz

	* CPV/wannier.f90, Modules/energies.f90:

	More uninitialized variables

2006-12-22 17:54  cavazzon

	* Doc/INPUT_CP:

	- new input keyword "ortho_para"

2006-12-22 17:50  cavazzon

	* Modules/input_parameters.f90, Modules/read_namelists.f90,
	  CPV/input.f90, CPV/ortho_base.f90:

	- new input keyword: ortho_para
	  to suggest the number of processors to be used in lambda matrix
	  decomposition

2006-12-22 10:14  giannozz

	* CPV/: mainvar.f90, make.depend, modules.f90, print_out.f90:

	More uninitialized variables: e_hubbard, Hubbard_lmax, nfi_run

2006-12-21 16:08  cavazzon

	* CPV/forces.f90:

	- task group fix, for the case number of processors larger than
	  the number of bands

2006-12-19 19:18  cavazzon

	* CPV/: chargedensity.f90, fftdrv.f90, ortho.f90, ortho_base.f90:

	- more task groups clean ups
	- fix for a bug in the computation of optimal
	  subdivision for parallel matrix multiplication
	- parallel diagonalization is now performed only on
	  the same subset of processors used for matrix multiplication

2006-12-19 19:14  cavazzon

	* Modules/task_groups.f90:

	- more task groups clean ups

2006-12-19 19:09  giannozz

	* Modules/: control_flags.f90, path_base.f90:

	Uninitialized variable: pending_image
	(I hope it is correctly initialized now)

2006-12-19 11:54  giannozz

	* PH/phonon.f90:

	More uninitialized variables

2006-12-19 10:42  giannozz

	* PW/noncol.f90, PH/phonon.f90:

	More undefined variables in phonon

2006-12-19 10:03  giannozz

	* Makefile:

	iotk_copy.x cannot be compiled together with the iotk library,
	different mechanism needed

2006-12-18 20:02  giannozz

	* Modules/bfgs_module.f90:

	Uninitialized variable (gdiis_iter) - not 100% sure that my fix is
	perfect, please verify

2006-12-18 19:28  giannozz

	* PH/: compute_weight.f90, phonon.f90, phq_readin.f90,
	  phq_setup.f90, phq_summary.f90, raman.f90, solve_e.f90,
	  solve_e2.f90, solve_e_fpol.f90, solve_linter.f90:

	Minor cleanup (lgauss used whenever appropriate)

2006-12-18 19:10  giannozz

	* PW/pw_restart.f90:

	Yet Another Unitialized Variable: degauss (used in phonon in cases in
	which 'lgauss' should be used instead)

2006-12-18 17:21  umari

	* PW/h_epsi_her.f90:

	File for old strategy finite electric field removed

	P.U.

2006-12-18 16:58  umari

	* PW/: h_epsi_her_apply.f90, h_epsi_her_set.f90:

	Ops
	Sorry, I forgot to add the 2 new files for the electric field

	P.U.

2006-12-18 15:31  giannozz

	* Makefile, make.sys.in:

	Added compilation of iotk_copy.x : it may be useful in some cases.
	LD re-introduced in make.sys (it was commented out)

2006-12-18 10:56  giannozz

	* Modules/control_flags.f90, PW/noncol.f90, PW/pwcom.f90:

	Initialization of uninitialized variables:
	- hubbard_max (used in allocate_nlpot, not initialized by post-processing
	  codes) set to 0 in module ldaU
	- istep (wasn't set in scf case) set to 0 in module control_flags
	  (why does istep run from 0 up instead of 1 ???)
	- r_m set to 0 in module noncolin (make_pointlist expects a value)

2006-12-18 10:26  cavazzon

	* Modules/task_groups.f90:

	- syntax error fixed in scalar compilation

2006-12-18 00:32  cavazzon

	* CPV/forces.f90:

	- other fix in task groups, loops count when number of states
	  is not a multiple of the size of the group

2006-12-18 00:11  cavazzon

	* Modules/fft_base.f90, Modules/mp_global.f90,
	  Modules/parameters.f90, Modules/task_groups.f90,
	  Modules/wave_base.f90, CPV/chargedensity.f90, CPV/fftdrv.f90,
	  CPV/forces.f90, CPV/runcp.f90:

	- task groups, clean ups and bugs fix

2006-12-16 18:43  cavazzon

	* Modules/path_base.f90:

	- removed extra tokent "," found by xlf

2006-12-16 18:26  cavazzon

	* Modules/fft_base.f90, Modules/mp_global.f90,
	  Modules/parameters.f90, Modules/task_groups.f90,
	  flib/inpfile.f90, CPV/chargedensity.f90, CPV/cplib.f90,
	  CPV/cplib_meta.f90, CPV/cprstart.f90, CPV/fftdrv.f90,
	  CPV/forces.f90, CPV/fromscra.f90, CPV/init.f90,
	  CPV/move_electrons.f90, CPV/restart_sub.f90, CPV/runcp.f90:

	- Task Groups parallelization strategy for CP
	  generalized to all architectures

2006-12-16 00:18  umari

	* PW/: Makefile, c_bands.f90, ccgdiagg.f90, cegterg.f90,
	  cinitcgg.f90, electrons.f90, h_epsi_her.f90, make.depend,
	  openfil.f90, pwcom.f90, stop_run.f90, wfcinit.f90:

	Changement to the treatment of the Berry's phase electric
	field. Now the projectors for the hermitean el. field operator
	which depend on the wavefunctions,
	are calculated just once and store on disk for every diagonalization

	It permits much faster execution in particular for cg minimization.

	P.U.

2006-12-16 00:05  umari

	* Modules/io_files.f90:

	Changements for faster treatment of berry's phase
	finite electric field
	P.U.

2006-12-15 18:58  cavazzon

	* Modules/input_parameters.f90, Modules/read_namelists.f90,
	  CPV/cplib.f90, CPV/cpr.f90, CPV/dealloc.f90, CPV/fromscra.f90,
	  CPV/init_run.f90, CPV/make.depend, CPV/modules.f90,
	  CPV/nl_base.f90, CPV/ortho_base.f90, CPV/runcp.f90,
	  CPV/wrapper.f90:

	- LDA plus U added to CP 3.2,
	  potentials and energy is ok, on the forces there is still
	  some small problems. Further clean ups required.
	  Contributed by
	  Patrick Sit

2006-12-14 18:10  giannozz

	* Modules/constants.f90, flib/functionals.f90,
	  flib/lsda_functionals.f90, flib/more_functionals.f90:

	Variable "pi34" was meaning different things in different places.
	This has lead to unintended side effects with the last cleanup.
	For the time being, pi34 = 3*pi/4 is removed from constants.f90;
	pi34 = 3/(4*pi) is left in more_functionals.f90 as local variable;
	pi34 = (3/(4*pi))^(1/3) is left in functionals.f90 and
	lsda_functionals.f90 as local variable

2006-12-14 17:28  cavazzon

	* flib/functionals.f90:

	- fixed a bug included with the last update

2006-12-14 09:53  giannozz

	* CPV/berryion.f90, CPV/bforceion.f90, CPV/cglib.f90,
	  CPV/chargedensity.f90, CPV/cp_fpmd.f90, CPV/cplib.f90,
	  CPV/cplib_meta.f90, CPV/cprsub.f90, CPV/dforceb.f90,
	  CPV/eigs0.f90, CPV/ensemble_dft.f90, CPV/entropy.f90,
	  CPV/exch_corr.f90, CPV/forces.f90, CPV/fpmdpp.f90,
	  CPV/gradrho.f90, CPV/gtable.f90, CPV/inner_loop.f90,
	  CPV/input.f90, CPV/main.f90, CPV/make.depend, CPV/metaxc.f90,
	  CPV/nl_base.f90, CPV/nlcc.f90, CPV/optical.f90,
	  CPV/ortho_base.f90, CPV/polarization.f90, CPV/pseudo_base.f90,
	  CPV/pseudopot_sub.f90, CPV/qmatrixd.f90, CPV/qqberry.f90,
	  CPV/read_pseudo.f90, CPV/runcg.f90, CPV/runcg_ion.f90,
	  CPV/runcp.f90, CPV/smcp.f90, CPV/smd.f90, CPV/spline.f90,
	  CPV/vanderwaals.f90, CPV/vol_clu.f90, CPV/wf.f90, D3/d2mxc.f90,
	  D3/d3_setup.f90, D3/d3dyn_cc.f90, D3/make.depend,
	  D3/rotate_and_add_d3.f90, D3/set_sym_irr.f90, D3/w_1gauss.f90,
	  Gamma/a_h.f90, Gamma/cg_readin.f90, Gamma/cgsolve.f90,
	  Gamma/d2ion.f90, Gamma/dgradcorr.f90, Gamma/dielec.f90,
	  Gamma/drhodv.f90, Gamma/dvpsi_e.f90, Gamma/dyndiar.f90,
	  Gamma/dynmatcc.f90, Gamma/generate_dynamical_matrix.f90,
	  Gamma/make.depend, Gamma/phcg.f90, Gamma/rhod2vkb.f90,
	  Gamma/solve_e.f90, Gamma/solve_ph.f90, Gamma/writedyn.f90,
	  Modules/autopilot.f90, Modules/cell_base.f90,
	  Modules/constants.f90, Modules/electrons_base.f90,
	  Modules/griddim.f90, Modules/input_parameters.f90,
	  Modules/ions_base.f90, Modules/ions_nose.f90,
	  Modules/make.depend, Modules/random_numbers.f90,
	  Modules/read_namelists.f90, Modules/read_uspp.f90,
	  Modules/timestep.f90, PH/dielec_test.f90, PH/elphon.f90,
	  PH/find_mode_sym.f90, PH/make.depend, PH/rotate_and_add_dyn.f90,
	  PH/write_ramtns.f90, PP/add_shift_lc.f90, PP/chdens.f90,
	  PP/cube.f90, PP/cubicspinsym.f90, PP/d_matrix_nc.f90,
	  PP/d_matrix_so.f90, PP/dipole.f90, PP/do_shift_ew.f90,
	  PP/dos.f90, PP/dosg.f90, PP/efg.f90, PP/epsilon.f90,
	  PP/make.depend, PP/plotband.f90, PP/plotrho.f90, PP/projwfc.f90,
	  PP/pw2gw.f90, PP/pw2wannier90.f90, PP/qexml.f90, PP/stm.f90,
	  PP/sumpdos.f90, PP/voronoy.f90, PP/wfdd.f90, PP/xsf.f90,
	  PW/add_vuspsi_nc.f90, PW/addusstress.f90, PW/atomic_rho.f90,
	  PW/atomic_wfc.f90, PW/atomic_wfc_nc.f90, PW/bp_c_phase.f90,
	  PW/bp_calc_btq.f90, PW/bp_qvan3.f90, PW/bp_strings.f90,
	  PW/c_bands.f90, PW/c_phase_field.f90, PW/ccalbec_nc.f90,
	  PW/cdiaghg.f90, PW/cdiisg_nc.f90, PW/complex_diis_module.f90,
	  PW/compute_dip.f90, PW/compute_rho.f90, PW/d_matrix.f90,
	  PW/data_structure.f90, PW/deriv_drhoc.f90, PW/diropn.f90,
	  PW/divide_class.f90, PW/divide_class_so.f90,
	  PW/dprojdepsilon.f90, PW/dprojdtau.f90, PW/drhoc.f90,
	  PW/dvloc_of_g.f90, PW/dynamics_module.f90, PW/efermit.f90,
	  PW/electrons.f90, PW/ewald.f90, PW/exx.f90, PW/force_corr.f90,
	  PW/force_ew.f90, PW/force_lc.f90, PW/gen_at_dj.f90,
	  PW/gen_at_dy.f90, PW/gen_us_dj.f90, PW/ggen.f90, PW/gradcorr.f90,
	  PW/h_epsi_her.f90, PW/h_psi.f90, PW/init_ns.f90,
	  PW/init_paw_1.f90, PW/input.f90, PW/iweights.f90,
	  PW/kpoint_grid.f90, PW/make.depend, PW/mode_group.f90,
	  PW/paw.f90, PW/real_diis_module.f90, PW/realus.f90,
	  PW/reset_k_points.f90, PW/stres_cc.f90, PW/stres_ewa.f90,
	  PW/stres_har.f90, PW/stres_loc.f90, PW/stres_us.f90,
	  PW/struct_fact.f90, PW/sumkt.f90, PW/trntns.f90, PW/vcsmd.f90,
	  PW/vcsubs.f90, PW/vloc_of_g.f90, PW/vloc_psi.f90, PW/w0gauss.f90,
	  PW/w1gauss.f90, PW/wgauss.f90, PWCOND/integrals.f90,
	  PWCOND/make.depend, VdW/eff_pot.f90, VdW/make.depend,
	  atomic/atomic_paw.f90, atomic/c6_dft.f90, atomic/c6_tfvw.f90,
	  atomic/compute_phi.f90, atomic/compute_phipot.f90,
	  atomic/elsd.f90, atomic/elsdps.f90, atomic/esic.f90,
	  atomic/make.depend, atomic/read_pseudo.f90,
	  atomic/test_bessel.f90, atomic/vxcgc.f90, atomic/write_cpmd.f90,
	  atomic/write_pseudo.f90, flib/bachel.f90, flib/dost.f90,
	  flib/functionals.f90, flib/latgen.f90, flib/lsda_functionals.f90,
	  flib/make.depend, flib/more_functionals.f90, flib/simpsn.f90,
	  flib/ylmr2.f90, pwtools/dynmat.f90, pwtools/ev.f90,
	  pwtools/lambda.f90, pwtools/make.depend, pwtools/matdyn.f90,
	  pwtools/metadyn_pp.f90, pwtools/path_int.sh, pwtools/pwi2xsf.f,
	  pwtools/pwi2xsf.sh, pwtools/pwo2xsf.sh, pwtools/q2r.f90,
	  pwtools/rigid.f90, upftools/cpmd2upf.f90, upftools/fhi2upf.f90,
	  upftools/fpmd2upf.f90, upftools/make.depend,
	  upftools/ncpp2upf.f90, upftools/oldcp2upf.f90,
	  upftools/read_upf.f90, upftools/rrkj2upf.f90,
	  upftools/vanderbilt.f90, upftools/vdb2upf.f90,
	  upftools/virtual.f90:

	More patches from Axel:
	- correct an unquoted string (iosys) in PW/input.f90:483
	(this was the cause of tonight compilation failere)
	- correct a few incorrect format strings
	- make more use of the constants module and thus
	  provide more consistent units. NOTE, this has some
	  numerical changes in the outputs, as in some places
	  rather low precision and inconsistent numbers were
	  used for unit conversion.
	- convert all(?) single precision constants to double
	  using the attached little perl program.
	  exceptions: efermi.f90 (as it is supposed to be rewritten
	  anyways), plotbands.f90 (it uses single precision everywhere,
	  which may result in saving a significant amount of memory,
	  so i converted the two double precision constants to single).
	Unused routine 'set_fft_grid' removed

2006-12-13 16:07  umari

	* PW/c_phase_field.f90:

	In electtric field calculation with nspin==2,
	the polarization lacked a factor of 2.
	P.U.

2006-12-13 09:50  giannozz

	* CPV/input.f90, Modules/input_parameters.f90:

	Variables for pressure are always initialized
	Some cleanup of input_parameters

2006-12-13 08:59  giannozz

	* CPV/input.f90, Modules/control_flags.f90:

	Fix for yesterday's changes to pressure in clusters

2006-12-12 18:33  giannozz

	* Modules/read_namelists.f90, PW/input.f90:

	Check on starting magnetization should be performed for scf calculations
	only, not necessarily for non-scf calculations

2006-12-12 16:35  giannozz

	* CPV/Makefile, CPV/input.f90, CPV/make.depend,
	  CPV/pres_ai_mod.f90, Modules/Makefile,
	  Modules/input_parameters.f90, Modules/make.depend,
	  Modules/pres_ai_mod.f90, Modules/read_namelists.f90, PH/Makefile,
	  PW/Makefile, PW/make.depend:

	Variables read in module pres_ai_mod have been added to input_parameters:
	the data is read into input_parameters and copied to module pres_ai_mod,
	like for all the other input variables. This allows a better separation
	between reading and initialization phases, removes many dependencies upon
	upon pres_ai_mod. Module pres_ai_mod moved to CPV where it belongs.
	Makefiles and dependency files updated. UNTESTED: it may or may not work..

2006-12-12 12:01  giannozz

	* TODO, ifcmods.sh, includedep.sh, makedeps.sh, moduledep.sh,
	  namedep.sh, release.sh, CPV/cg_sub.f90, CPV/compute_scf.f90,
	  CPV/cp_autopilot.f90, CPV/cpr.f90, CPV/make.depend,
	  D3/make.depend, Doc/users-guide.tex, Gamma/make.depend,
	  Modules/autopilot.f90, Modules/input_parameters.f90,
	  Modules/make.depend, Modules/task_groups.f90, PH/cgsolve_all.f90,
	  PH/ch_psi_all.f90, PH/gmressolve_all.f90, PH/make.depend,
	  PH/polariz.f90, PH/setlocq.f90, PH/solve_e.f90, PP/make.depend,
	  PP/wfdd.f90, PW/Makefile, PW/compute_scf.f90, PW/make.depend,
	  PW/upf_to_internal.f90, PW/vpack.f90, PWCOND/make.depend,
	  VdW/Makefile, VdW/cegterg.f90, VdW/cg_psi.f90,
	  VdW/cgsolve_all.f90, VdW/ch_psi_all.f90, VdW/check_v_eff.f90,
	  VdW/dv_of_drho.f90, VdW/dvpsi_e.f90, VdW/gmressolve_all.f90,
	  VdW/h_psiq.f90, VdW/incdrhoscf.f90, VdW/make.depend,
	  VdW/openfil_pp.f90, VdW/polariz.f90, VdW/solve_e.f90,
	  VdW/vdw.f90, atomic/make.depend, examples/pwdiff.sh,
	  flib/lapack_atlas.f, pwtools/bands_FS.f:

	More miscellanous cleanup from Axel:
	 - disable locales via use of LC_ALL=C in all shell scripts
	   (which will hopefully make sorted lists more consistent
	    between people running with different locales).
	 - remove redundant files from PW, NMR_new, VdW, VIB;
	   rename subroutines if their functionality is noI
	   unchanged from the original source it was taken from.
	 - corresponding updates to Makefiles and dependencies.
	 - whitespace cleanups (eleminate remaining tabs).
	 - a few more float->DBLE

2006-12-11 17:52  giannozz

	* PH/: phq_recover.f90, solve_e.f90, solve_e2.f90,
	  solve_linter.f90:

	Restart with US PP and electric fields should be fixed now

2006-12-11 16:14  giannozz

	* PH/: phq_recover.f90, phqscf.f90, solve_e.f90, solve_e2.f90,
	  solve_linter.f90:

	Yet another bug in phonon restart: it wasn't working if the run was
	stopped after convergence of a scf loop and before the first iteration
	of the next scf loop. The workaround is not smart (the scf cycle is
	restarted from the beginning) but it seems to work. A better workaround
	requires a complete restructuring of the restart procedure.

	There is still a mysterious problem with US PP: restarting during the
	electric field calculation produces wrong results for Z* and phonons.

2006-12-11 15:55  sbraccia

	* CPV/make.depend, D3/make.depend, Gamma/make.depend,
	  Modules/make.depend, PP/make.depend, PW/make.depend,
	  PWCOND/make.depend, VdW/make.depend, atomic/make.depend,
	  flib/make.depend, pwtools/make.depend:

	Dependencies updated. C.S.

2006-12-11 15:51  sbraccia

	* CPV/compute_fes_grads.f90, CPV/cpr.f90, CPV/cp_fpmd.f90,
	  Modules/constraints_module.f90, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/io_files.f90,
	  Modules/metadyn_base.f90, Modules/metadyn_io.f90,
	  Modules/metadyn_vars.f90, Modules/path_base.f90,
	  Modules/path_io_routines.f90, Modules/path_opt_routines.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90,
	  PW/compute_fes_grads.f90, PW/compute_scf.f90,
	  PW/dynamics_module.f90, PW/input.f90, PW/move_ions.f90:

	Few improvments of image parallelization algorithm for NEB and SMD (both potential
	energy and free-energy calculations): now it works for local file-systems also.
	Variables names conflicting with  fortran keywords (target) have been changed.
	Clean-up of meta-dynamics code.
	C.S.

2006-12-11 11:19  giannozz

	* CPV/geninv.f90, CPV/optical.f90, D3/drho_cc.f90, D3/drho_drc.f90,
	  Modules/constants.f90, Modules/ptoolkit.f90,
	  Modules/read_namelists.f90, PP/qexml.f90, flib/int_to_char.f90,
	  flib/sort.f90, pwtools/dist.f:

	More cleanup from Axel:
	- replace variables that have the names of keywords:
	  IF (this should make the code non-compilable!),
	  INT, SCALE.
	- CALL getenv -> CALL get_env  (which is the only place to call
	  getenv(). BTW, newer fortran standards now recommend to use
	  CALL get_environment_variable, so it might be needed to have
	  only one platform dependend place)
	- makefile cleanup in VIB (more consistent with subdirs, not yet
	  perfect).
	- whitespace fix (avoid tabs!).

2006-12-06 16:43  dalcorso

	* PP/: compute_ppsi.f90, write_p_avg.f90:

	An old version of the compute_ppsi.f90 routine was committed.
	Bug fix in the parallel case.

2006-12-06 14:49  dalcorso

	* Makefile:

	Small problem with make tar.

2006-12-06 14:13  giannozz

	* PW/read_file.f90:

	No reason to have in the same routine both nsp and ntyp pointing to nsp

2006-12-06 11:39  dalcorso

	* PH/Makefile, PH/add_zstar_ue_us.f90, PH/compute_qdipol.f90,
	  PH/dvpsi_e.f90, PH/phq_init.f90, PP/Makefile, PP/bands.f90,
	  PP/compute_ppsi.f90, PP/write_p_avg.f90, PW/Makefile,
	  PW/compute_qdipol.f90, PW/compute_qdipol_so.f90:

	Added a routine that writes on file the matrix elements of the p operator.
	Compute_qdipol.f90 moved to the PW directory.

2006-12-02 18:58  giannozz

	* CPV/chargedensity.f90, CPV/cp_interfaces.f90, CPV/cplib.f90,
	  CPV/cpr.f90, CPV/init_run.f90, CPV/metaxc.f90, CPV/print_out.f90,
	  CPV/restart.f90, CPV/smcp.f90, CPV/smd.f90, CPV/spline.f90,
	  CPV/vol_clu.f90, Gamma/cg_readin.f90, Gamma/d2ion.f90,
	  Gamma/dvpsi_kb.f90, Modules/input_parameters.f90,
	  Modules/pres_ai_mod.f90, PH/ccg_psi.f90, PH/solve_e_fpol.f90,
	  PH/symm.f90, PP/average.f90, PP/chdens.f90,
	  PP/compute_sigma_avg.f90, PP/plotband.f90, PP/qexml.f90,
	  PW/deriv_drhoc.f90, PW/dprojdepsilon.f90, PW/drhoc.f90,
	  PW/gen_at_dj.f90, PW/gen_us_dj.f90, PW/kpoint_grid.f90,
	  PW/symmetrize_at.f90, PW/vcsubs.f90, VdW/pbcg_psi.f90,
	  VdW/solve_e.f90, atomic/add_exchange.f90, atomic/dvex.f90,
	  atomic/outward.f90, atomic/run_test.f90,
	  flib/more_functionals.f90, include/f_defs.h, pwtools/dynmat.f90,
	  pwtools/ev.f90, pwtools/matdyn.f90, upftools/ncpp2upf.f90,
	  upftools/rrkj2upf.f90:

	More cleanup from Axel:
	- workaround for gfortran (it is sort of working)
	- single precision constants promoted to double precision
	- dfloat-> DBLE
	- DIMAG ->AIMAG
	- DCMPLX->CMPLX
	Note that ALL calls to dfloat, dimag, dcmplx have been added recently,
	since I removed all of them no more than a few months ago

2006-12-01 15:41  giannozz

	* TODO, CPV/cp_fpmd.f90, CPV/eigs0.f90, CPV/fftdrv.f90,
	  CPV/forces.f90, CPV/runcp.f90, CPV/smd.f90,
	  Modules/fft_types.f90, Modules/path_opt_routines.f90,
	  Modules/read_cards.f90, Modules/wave_base.f90, PP/bands.f90,
	  PP/poormanwannier.f90, PP/projwfc.f90, PP/pw2casino.f90,
	  PP/pw2wannier90.f90, PP/qexml.f90, PW/data_structure.f90,
	  PW/divide.f90, PW/divide_class_so.f90, PW/dynamics_module.f90,
	  PW/make_pointlists.f90, PW/realus.f90, PW/rotate_wfc_nc.f90,
	  PW/wfcinit.f90, PWCOND/local.f90, flib/sort.f90,
	  flib/sort_gvec.f90, pwtools/dist.f:

	More patches by Axel: all occurrences of "index" replaced by "idx".
	"index" is an instrinsic and shouldn't be used as a variable.
	control-M characters removed from qexml.f90

2006-11-29 10:05  giannozz

	* clib/cptimer.c:

	Axel's patch for times - should hopefully work on all machines

2006-11-29 09:40  giannozz

	* PW/: Makefile, ccgdiagg.f90, cdiisg_nc.f90, cinitcgg.f90,
	  h_1psi.f90, h_1psi_nc.f90, make.depend, s_1psi.f90:

	Some more cleanup of the noncolinear case

2006-11-28 18:24  giannozz

	* TODO, PP/projwfc.f90, PW/allocate_wfc.f90, PW/orthoatwfc.f90,
	  PW/pwcom.f90, PW/wfcinit.f90:

	wfcatom and swfcatom have two indices also in the noncollinear case,
	in analogy to evc.

	Apparently swfcatom_nc was used but not allocated in noncollinear
	calculations with LDA+U (not sure it was implemented, though)

	There is still something I don't understand in wfcinit: the starting
	wavefunctions needs to be set to 0 for n>npw at the end of the routine,
	while it should be sufficient to clean them at the beginning. This might
	be a sign that we are overwriting a zone that should not be overwritten.

2006-11-28 15:05  giannozz

	* flib/Makefile:

	Forgot to remove iceil.o from the makefile

2006-11-28 09:20  giannozz

	* Modules/ptoolkit.f90:

	More cleanup from Axel

2006-11-28 09:18  giannozz

	* flib/iceil.f90:

	Unused routine deleted

2006-11-27 23:26  tag QE-3-2

2006-11-27 23:26  sbraccia

	* PW/setup.f90:

	Estimator for the efficiency of the parallel diagonalizer updated to the
	new version of parallel Davidson (it checks the efficiency of the generalized
	eigensolver). C.S.

2006-11-27 18:00  giannozz

	* PW/: Makefile, ortho.f90:

	Obsolete file removed

2006-11-27 17:04  sbraccia

	* Modules/ptoolkit.f90:

	Fixed a nasty bug in the algorithm for parallel inversion of a triangular matrix.
	This was probably responsible for the crashes of the parallel version of Davidson.
	C.S.

2006-11-27 16:06  giannozz

	* TODO, Modules/berry_phase.f90, Modules/bfgs_module.f90,
	  Modules/cell_base.f90, Modules/constraints_module.f90,
	  Modules/electrons_base.f90, Modules/fft_base.f90,
	  Modules/fft_types.f90, Modules/griddim.f90,
	  Modules/input_parameters.f90, Modules/ions_base.f90,
	  Modules/ions_nose.f90, Modules/printout_base.f90,
	  Modules/random_numbers.f90, Modules/read_cards.f90,
	  Modules/read_namelists.f90, Modules/read_upf.f90,
	  Modules/read_uspp.f90, Modules/smallbox.f90,
	  Modules/splinelib.f90, Modules/stick_base.f90,
	  Modules/task_groups.f90, Modules/wave_base.f90,
	  Modules/xml_io_base.f90, flib/iceil.f90,
	  flib/lsda_functionals.f90, flib/more_functionals.f90,
	  flib/ownerof.f90, flib/transto.f90:

	Axel's patch: removal of unused variables, replacement of variable "index"
	with a less dangerous "idx" ("index" is an intrinsic: some compilers may
	complain, or even do strange things)

2006-11-27 15:42  giannozz

	* Modules/autopilot.f90:

	Removed multiple prints in parallel execution (Giovanni Cantele)
	Removed unused variables (Axel)

2006-11-27 13:47  giannozz

	* Modules/wavefunctions.f90, PP/bands.f90, PW/allocate_wfc.f90,
	  PW/c_bands.f90, PW/clean_pw.f90, PW/electrons.f90,
	  PW/force_us.f90, PW/punch.f90, PW/pw_restart.f90,
	  PW/restart_in_electrons.f90, PW/stres_knl.f90, PW/stres_us.f90,
	  PW/sum_band.f90, PW/wfcinit.f90, PP/compute_sigma_avg.f90,
	  PP/local_dos.f90, PP/local_dos1d.f90, PP/local_dos_mag.f90,
	  PP/plan_avg.f90, PP/projwfc.f90, PP/sym_band.f90:

	Wavefunctions in pwscf are stored also for the noncollinear case
	as the usual two-index array evc(2*npwx,nbnd), no longer as a
	different three-index array evc_nc(npwx,2,nbnd).

	I am not really sure that this way is better than the previous
	one: sometimes it is more convenient, sometimes it is less, but
	I think that having the same array makes easier the transition
	to a code that keeps everything in memory. Apologies to anybody
	preferring three indices: anyway the physical memory layout
	hasn't changed, so the transition from three-index to two-index
	arrays shouldn't be a major problem

2006-11-27 09:58  dalcorso

	* Doc/INPUT_PH, PH/dielec.f90, PH/dv_of_drho.f90, PH/phcom.f90,
	  PH/phonon.f90, PH/phq_readin.f90, PH/solve_e.f90:

	Added two flags, lrpa and lnoloc to print the dielectric constant
	calculated with DV_xc=0 (RPA), or with DV_H=0 and DV_xc=0.

2006-11-27 01:54  sbraccia

	* PW/io_rho_xml.f90, PW/pw_restart.f90, Modules/xml_io_base.f90:

	Fixed another bug related to a missing communicator. C.S.

2006-11-25 11:47  giannozz

	* CPV/make.depend:

	dependencies updated

2006-11-25 11:45  giannozz

	* Doc/: INPUT_PROJWFC, users-guide.tex:

	Documentation updated

2006-11-25 11:34  giannozz

	* Makefile:

	"make tar" saves makefiles in VIB and ifcmods.sh that should be there
	Compilation for VIB fixed.

	This is the N-th and last time I fix a problem introduced by somebody
	else in VIB/: next time I will disable its testing and leave it rot.

2006-11-24 12:51  giannozz

	* upftools/fhi2upf.f90:

	Minor correction

2006-11-24 12:42  giannozz

	* upftools/fhi2upf.f90:

	Modified to read fhi format also with abinit header

2006-11-23 11:54  cavazzon

	* Modules/: mp.f90, ptoolkit.f90:

	- updates required for large simulations on Cray XD1

2006-11-23 11:48  cavazzon

	* Doc/eps_man.tex:

	- epsilon documentation updated,
	  contributed by Andrea Benassi

2006-11-23 11:47  cavazzon

	* PP/epsilon.f90:

	- last minute updates, by Andrea Benassi

2006-11-23 09:37  giannozz

	* PP/qexml.f90:

	Added the code, written by Andrea Ferretti, that reads the QE file format
	(mostly) independently of the QE variables and data set - for the time
	being it is just added with no documentation and is not compiled

2006-11-22 17:09  cavazzon

	* PP/epsilon.f90:

	- fix for a minor bug, and updates,
	  contributed by Andrea Benassi

2006-11-22 11:54  dalcorso

	* PH/: add_zstar_ue.f90, add_zstar_ue_us.f90, compute_weight.f90,
	  zstar_eu.f90, zstar_eu_us.f90:

	Bug fix: US effective charges and dynamical matrix were wrong in insulators
	when nbnd > nelec/2.

2006-11-22 09:52  giannozz

	* Gamma/make.depend, PH/make.depend, PW/make.depend,
	  PWCOND/make.depend:

	dependencies updated

2006-11-22 09:49  giannozz

	* Doc/users-guide.tex:

	Minor error fixed

2006-11-22 09:38  giannozz

	* PP/: pw2wannier90.f90, make.depend:

	Removed control-M from file
	make.depend updated

2006-11-22 09:37  giannozz

	* Modules/wannier.f90:

	Removed DOS end-of-line characters control-M :
	they break the script that automatically finds dependencies

	control-M characters can be removed using:
	cat file-with | tr -d ^M > file-without
	where ^M = "control-V control-M"

2006-11-21 01:49  cococ

	* PH/Makefile, PW/Makefile:

	added pres_ai_mod.o to compile input_parameters and read_namelists
	----------------------------------------------------------------------

	Modified Files:
		PH/Makefile PW/Makefile
	----------------------------------------------------------------------

2006-11-20 21:14  cococ

	* Doc/INPUT_CP:

	added essential documentation to perform finite pressure MD simulations
	----------------------------------------------------------------------
	Modified Files:
		INPUT_CP
	----------------------------------------------------------------------

2006-11-20 21:11  cococ

	* Modules/: Makefile, control_flags.f90, input_parameters.f90,
	  make.depend, pres_ai_mod.f90, read_namelists.f90:


	These modifications are part of the implementation of the finite pressure and
	surface tension calculations for isolated systems
	----------------------------------------------------------------------
	Modified Files:
		Makefile control_flags.f90 input_parameters.f90 make.depend
		read_namelists.f90
	Added Files:
		pres_ai_mod.f90
	----------------------------------------------------------------------

2006-11-20 21:09  cococ

	* CPV/: Makefile, cplib.f90, cpr.f90, gradrho.f90, mainvar.f90,
	  make.depend, print_out.f90, vol_clu.f90:


	These modifications are added to enable the computation of the "quantum
	Volume" and the "quantum surface" of an islated system to perform finite
	pressure and/or finite surface tension MD simulations. For details look
	PRL 94 145501 ('05).

2006-11-20 17:45  giannozz

	* PW/: input.f90, setup.f90:

	Subspace parallel diagonalization disabled unless one specifies
	diagonalization='david+para' . This is a temporary fix until the
	reason for weird crashes is clarified

2006-11-20 17:44  giannozz

	* Doc/users-guide.tex:

	Version number in manual updated

2006-11-20 17:25  giannozz

	* examples/example23/: run_example, reference/h2o.efield.out,
	  reference/h2o.wannier.out:

	Updated example for wannier function dynamics, by Manu

2006-11-20 11:28  giannozz

	* flib/sph_bes.f90:

	Yet another glitch in the spherical bessel functions: if l==0, there can
	be a 0^0 situation if r(1) = 0 - Thanks to Givanni Cantele and his alphas
	to point out this problem

2006-11-20 11:27  giannozz

	* Modules/mp.f90:

	In pwscf "mp_start" is not called in serial execution, but mp_end is.
	Since mp_end deallocates some counters that are allocated by mp_start,
	error messages or even crashes may result. As a temporary fix, mp_end
	checks if the counters are allocated before trying to deallocate them.

	A better fix is to decide once and for all if the serial executable
	should follow a different path (as it does in pwscf due to the many
	#ifdef PARA) or the same path (as it does in cp) with respect to the
	serial executable

2006-11-20 09:27  degironc

	* Makefile:

	I removed the following items from the list used to generate a tarball
	> ifcmods.sh cvs2cl.pl ChangeLog ChangeLog.html \
	They appear not to present in the repository and
	"make tar" command crashes not finding them.

	Actually ifcmods.sh, cvs2cl.pl, cvs2html.pl do exist in the repository but
	are not checked out unless explicitely updated ...
	Does any one know why ?

	stefano

2006-11-19 05:55  sbraccia

	* PW/pw_restart.f90:

	Added a few missing communicators that were making neb to crash when run
	with images parallelization. C.S.

2006-11-17 14:33  giannozz

	* PW/: sgama.f90, smallg_q.f90:

	nr1,nr2,nr3 not used in smallg_q (Nathalie)

2006-11-17 14:33  giannozz

	* flib/more_functionals.f90:

	The NEC may not like SX as a fortran variable: it is preprocessed to
	ssomething else (Nathalie)

2006-11-16 09:05  giannozz

	* flib/lapack_atlas.f:

	Added missing lapack routines

2006-11-16 01:44  kkudin

	* PW/forces.f90:

	 Termination due to the SCF correction needs some work. BFGS has to pull
	out such data, and stop gracefully - Kostya

2006-11-16 01:43  kkudin

	* CPV/cpr.f90:

	 Sync lambda and lambdap at each step - Kostya

2006-11-16 00:43  kkudin

	* TODO, PH/phqscf.f90, PH/solve_e.f90, PH/solve_e2.f90,
	  PH/solve_e_fpol.f90, PH/solve_linter.f90:

	 Added prefix.EXIT feature to the PH program - Kostya

2006-11-15 19:29  giannozz

	* Doc/BUGS:

	Minor update

2006-11-15 19:29  giannozz

	* PP/punch_plot.f90:

	Case plot_num=11 was not working (incorrect call to v_h)

2006-11-15 19:27  giannozz

	* PW/v_of_rho.f90:

	The potential V in v_h should be INTENT(INOUT), not OUT

2006-11-15 17:13  dalcorso

	* PW/divide_class.f90:

	Bug fix: Some names of the representations of D_4h were wrong.

2006-11-14 23:49  sbraccia

	* PW/forces.f90:

	Added a check to ensure that, in the case of a bfgs relaxation, the error on
	the forces due to lack of self-consistency is small enough. C.S.

2006-11-14 21:10  sbraccia

	* Modules/clocks.f90:

	Added processor id (mpime) for traceback in the parallel case. C.S.

2006-11-14 21:08  sbraccia

	* PW/realus.f90:

	Fixed a couple of uninitialized variables. Rough-estimate for the number of
	points in each box made larger. C.S.

2006-11-14 18:11  giannozz

	* configure, configure.ac:

	Updated configure for SX6 (Guido)

2006-11-14 16:36  giannozz

	* PW/restart_in_ions.f90, VdW/eff_pot.f90, PH/find_mode_sym.f90:

	Alpha compilation errors, courtesy of Giovanni Cantele

2006-11-14 16:28  giannozz

	* examples/example15/README:

	Obsolete README replaced by an essential but updated one

2006-11-13 23:20  cavazzon

	* Modules/ptoolkit.f90:

	- alternative driver for para_zgemm that works on XD1.

2006-11-13 23:17  cavazzon

	* Modules/mp.f90:

	- error codes updated
	- added more communication statics counters,
	  now only for testing and profiling on XD1

2006-11-13 23:10  cavazzon

	* Modules/clocks.f90:

	- added poor man trace, useful for debugging
	  can be enabled defining the preprocessing macro __TRACE
	  in the make.sys file

2006-11-13 22:07  sbraccia

	* PW/electrons.f90:

	Fixed a bug in the calculation of homo-lumo eigenvalues for systems with a single
	occupied spin channel (H2+, for instance) and nelup/neldw specified in the input.
	C.S.

2006-11-10 18:23  dalcorso

	* PW/gen_us_dj.f90:

	A clock in the wrong position.

2006-11-10 00:07  cavazzon

	* CPV/: wannier.f90, wf.f90:

	- added new version of wannier cp code, contributed by Young-Su Lee

2006-11-10 00:06  cavazzon

	* Modules/printout_base.f90:

	- added files .spr .wfc for wannier function code

2006-11-08 10:11  giannozz

	* examples/: example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.bands.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.bands.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.phG.out, example02/reference/c.scf.out,
	  example02/reference/ni.nscf.out, example02/reference/ni.phX.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.scf.out, example06/reference/alas.freq,
	  example06/reference/alas.ph.out, example06/reference/alas.phdos,
	  example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes,
	  example07/reference/al.elph.out,
	  example07/reference/al.scf.fit.out,
	  example07/reference/al.scf.out, example07/reference/lambda,
	  example08/reference/ni.dos.out, example08/reference/ni.pdos.out,
	  example08/reference/ni.scf.out, example09/reference/ch4.nm.out,
	  example09/reference/ch4.scf.out, example09/reference/dynmat.out,
	  example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.co, example12/reference/bands.al.im,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.ni_down.im,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out, example14/reference/si.anh_G,
	  example14/reference/si.anh_X, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.out, example14/reference/si.nscf.out,
	  example14/reference/si.phG.out, example14/reference/si.phX.out,
	  example14/reference/si.scf.out, example15/reference/alas.dynG,
	  example15/reference/alas.ph.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H-cp.axsf,
	  example17/reference/H2+H-cp.dat, example17/reference/H2+H-cp.int,
	  example17/reference/H2+H-cp.out,
	  example17/reference/H2+H-cp.path,
	  example17/reference/H2+H-cp.xyz, example17/reference/H2+H.axsf,
	  example17/reference/H2+H.dat, example17/reference/H2+H.int,
	  example17/reference/H2+H.out, example17/reference/H2+H.path,
	  example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example18/reference/sio2.cp.restart.out,
	  example18/reference/sio2.cp.start.out,
	  example18/reference/sio2.vc-cp.out,
	  example18/reference/sio2.vc-cp.restart.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example21/reference/h2o-32.out, example21/reference/h2o-64.out,
	  example22/reference/bands.pt.im,
	  example22/reference/pt.bands.out,
	  example22/reference/pt.cond.out,
	  example22/reference/pt.cond_t.out,
	  example22/reference/pt.nscf.out, example22/reference/pt.scf.out,
	  example22/reference/pt.tet.out, example22/reference/pt4.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example24/reference/quartz.efg.out,
	  example24/reference/quartz.scf.out,
	  example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.out, example25/reference/pmw.out,
	  example26/reference/smd1.out, example26/reference/smd2.out,
	  example26/reference/smd3.out, example26/reference/smd4.out,
	  example26/reference/smd5.out, example26/reference/smd6.out,
	  example26/reference/smd7.out,
	  example27/reference/c4h6.cp.metaGGA.out,
	  example28/reference/metadyn-cp-T=300K.out,
	  example28/reference/metadyn-cp.out,
	  example28/reference/metadyn-pw.axsf,
	  example28/reference/metadyn-pw.out,
	  example29/reference/si2.ensemble-dyn.out,
	  example30/reference/mgo.cp.cg.efield.out,
	  example30/reference/mgo.cp.cg.out,
	  example30/reference/mgo.cp.damp.efield.out,
	  example31/reference/si.scf.efield.out,
	  example31/reference/si.scf.efield2.out,
	  example31/reference/si.scf.out, example32/reference/h2o.cp.out,
	  example32/reference/h2o.vib.analysis,
	  example33/reference/ch4.fpol.out,
	  example33/reference/ch4.scf.out, example34/reference/ch4.scf.out,
	  example34/reference/ch4.vdw.out:

	Examples updated - please verify if everything is good

2006-11-08 09:27  giannozz

	* iotk/: include/iotk_config.h, src/iotk_scan.f90,
	  src/iotk_scan.spp:

	Workaround for iotk on Nec (Guido)

2006-11-08 09:21  giannozz

	* PH/: phq_recover.f90, solve_e.f90, solve_e2.f90,
	  solve_e_fpol.f90, solve_linter.f90:

	Documentation (sort of) for restart procedure added to phq_recover
	Restart in solve_e_fpol disabled (couldn't work)
	Restart from raman calculation modified so that if restarting from a
	raman+phonon calculation might work - completely untested

2006-11-08 09:18  giannozz

	* Doc/: README, README.XT3, users-guide.tex:

	Minor documentation update

2006-11-08 09:15  giannozz

	* README.install, configure, configure.ac:

	Yesterday's changes to configure were not that smart after all:
	changing cross_compilation may have unexpected side effects.
	Now ranlib is set to echo only if a true corss compilation is performed

2006-11-07 17:02  giannozz

	* Makefile, README.configure, README.install, configure,
	  configure.ac:

	Configure for Nec SX6 (courtesy of Guido Roma)
	Minor configure problem: do not load lapack if acml is present
	on AMD with pgf90 compiler
	Documentation update
	Makefile: save cvs2cl.pl script

2006-11-06 16:21  giannozz

	* clib/: cptimer.c, memstat.c:

	Patches by Axel for Cray XT3 weirdness

2006-11-06 00:50  degironc

	* Modules/wannier.f90, PP/pw2wannier90.f90,
	  examples/WAN90_example/README,
	  examples/WAN90_example/run_example,
	  examples/WAN90_example/reference/diamond.lib.chk,
	  examples/WAN90_example/reference/diamond.lib.win,
	  examples/WAN90_example/reference/diamond.lib.wout,
	  examples/WAN90_example/reference/diamond.lib_um.dat,
	  examples/WAN90_example/reference/diamond.nscf.in,
	  examples/WAN90_example/reference/diamond.nscf.out,
	  examples/WAN90_example/reference/diamond.pw2wan.lib.in,
	  examples/WAN90_example/reference/diamond.pw2wan.lib.out,
	  examples/WAN90_example/reference/diamond.pw2wan.sa.in,
	  examples/WAN90_example/reference/diamond.pw2wan.sa.out,
	  examples/WAN90_example/reference/diamond.sa.amn,
	  examples/WAN90_example/reference/diamond.sa.chk,
	  examples/WAN90_example/reference/diamond.sa.eig,
	  examples/WAN90_example/reference/diamond.sa.mmn,
	  examples/WAN90_example/reference/diamond.sa.nnkp,
	  examples/WAN90_example/reference/diamond.sa.win,
	  examples/WAN90_example/reference/diamond.sa.wout,
	  examples/WAN90_example/reference/diamond.sa_um.dat,
	  examples/WAN90_example/reference/diamond.scf.in,
	  examples/WAN90_example/reference/diamond.scf.out:

	updated pw2wannier90 interface.
	WAN90_example added. stand-alone mode is working, library mode needs to be fixed.

2006-11-05 04:02  degironc

	* PW/: close_files.f90, dndepsilon.f90, force_hub.f90, openfil.f90,
	  orthoatwfc.f90:

	new unit (iunat) contains at.wfc.
	read at.wfc. instead of computing them when calculating LDA+U forces and stress.

2006-11-05 03:47  degironc

	* Modules/io_files.f90, PP/openfil_pp.f90, PP/poormanwannier.f90,
	  PP/projwfc.f90, PW/c_bands.f90, PW/close_files.f90,
	  PW/dndepsilon.f90, PW/force_hub.f90, PW/new_ns.f90,
	  PW/openfil.f90, PW/orthoatwfc.f90, PW/wfcinit.f90,
	  VdW/check_v_eff.f90, VdW/openfil_pp.f90:

	unit name change: iunat => iunsat (it contains S * atomic wfc)

2006-11-05 03:36  degironc

	* atomic/Makefile, atomic/all_electron.f90, atomic/c6_dft.f90,
	  atomic/c6_tfvw.f90, atomic/make.depend,
	  atomic_doc/vdw-in-tfvw/test.job:

	calculation of C6 vdW coefficent using the full dft response function added

2006-11-04 16:05  dalcorso

	* PW/divide_class.f90, PWCOND/init_orbitals.f90:

	Bug fix: pwcond was not working with multi-projector norm conserving
	pseudo-potentials.
	Small change in divide_class.

2006-11-03 16:53  dalcorso

	* PP/plotband.f90, PW/divide_class.f90:

	Bug fix: the plot of the bands within a given energy range was not
	correct in some cases.
	Added alternative names for the C_4v representations.

2006-11-03 13:25  giannozz

	* Doc/: BUGS, restart:

	Documentation updated

2006-11-03 13:21  giannozz

	* CPV/init.f90, CPV/pseudopot_sub.f90, CPV/read_pseudo.f90,
	  Modules/read_uspp.f90, Modules/uspp.f90, PH/compute_qdipol.f90,
	  PW/bp_calc_btq.f90, PW/dqvan2.f90, PW/init_paw_1.f90,
	  PW/init_us_1.f90, PW/qvan2.f90, PW/realus.f90,
	  PW/upf_to_internal.f90:

	Symmetric indices of variable qfunc, holding the Q(r) functions in
	Ultrasoft PPs, merged into a single index. The logic of the index
	should be the same as for the other USPP_related variables. Tested
	for UPF format, should work for old van and rrkjus formats as well,
	but I haven't tested it (tests very welcome).

	Why? with default static dimensions, qfunc took 40Mb. Some compilers
	(e.g. g95) store a copy of statically dimensioned arrays in objects
	and executables, so 'make all' produced *.x for 1Gb or so ...
	Apart from this, wasting nonscalable memory should be avoided anyway
	in massively parallel machines.

2006-11-03 13:09  giannozz

	* Makefile, TODO, make.sys.in, release.sh:

	No more configure.old, update of the script for producing the release
	(which still requires way too many things to run), minor doc updates

2006-11-03 10:55  giannozz

	* configure, configure.ac:

	Yet another configure glitch: missing $ in variable name.
	As a consequence, internal blas were not loaded when needed.
	Note that the large change in configure is due to the different
	version of autoconf, not to the 1-character change in configure.ac

2006-11-03 10:29  fratesi

	* examples/example08/run_example:

	file name: kvecs_FS,out  ->  kvecs_FS.out
	(GF)

2006-11-03 10:09  giannozz

	* Modules/clocks.f90:

	Printout of wall time was not working in some cases

2006-11-01 19:47  degironc

	* examples/example03/run_example:

	run_example made consistent with README file in example03.
	reference file not updated as they are identical (except for ryd->Ry and ibrav 1->0)

2006-10-31 14:34  giannozz

	* PP/projwfc.f90:

	Removed DOS characters ctrl-M (likely the source of compilation problem)

2006-10-30 15:36  giannozz

	* PP/projwfc.f90:

	Andrea Ferretti's changes: projections are written on to a XML file

2006-10-30 15:16  giannozz

	* Modules/clocks.f90:

	Incorrect printing of wall times in some cases

2006-10-30 00:20  sbraccia

	* configure, configure.ac, make.sys.in:

	INCLUDEFFTW environment variable was not properly used. Added the possibility to set
	PGPLOT_LIBS environment variable.
	C.S.

2006-10-26 15:52  dalcorso

	* PWCOND/: do_cond.f90, write_states.f90:

	Write_states now writes also the charge of spinor wavefunctions.

2006-10-26 11:45  dalcorso

	* PWCOND/init_orbitals.f90:

	Bug fix: the noncolinear pwcond was not working with scalar relativistic
	norm conserving PP.

2006-10-25 20:40  giannozz

	* PH/: solve_e.f90, solve_e_fpol.f90, solve_linter.f90:

	Minor format changes

2006-10-25 19:19  umari

	* CPV/ensemble_dft.f90:

	If eDFT prints on screen infos

	P.U.

2006-10-25 18:28  giannozz

	* Modules/version.f90:

	Updated

2006-10-25 18:27  giannozz

	* Modules/read_namelists.f90, PW/input.f90:

	Remove some checks that prevented usage of input variables
	tot_magnetization and multiplicity

2006-10-25 17:35  dalcorso

	* PWCOND/: Makefile, allocate_cond.f90, compbs.f90, condcom.f90,
	  transmit.f90, write_states.f90:

	Experimental: pwcond calculates the scattering and Bloch states on a 3D-FFT
	mesh and writes them in a file readable by the pp programs.

2006-10-25 15:43  giannozz

	* Modules/clocks.f90:

	Elapsed (wall) time is printed at the end together with CPU time

2006-10-25 14:28  giannozz

	* PH/dhdrhopsi.f90:

	Minor corrections ot Raman output

2006-10-24 19:42  umari

	* CPV/inner_loop.f90:

	Bug eliminated inside inner cycle,
	for eDFT

	P.U.

2006-10-24 18:47  giannozz

	* PH/: davcio_drho.f90, dhdrhopsi.f90, solve_e.f90,
	  solve_linter.f90:

	Better fix: davcio_drho writes and reads from a single task

2006-10-24 17:59  smogunov

	* examples/example12/reference/: AlwireAl.cond.out,
	  AlwireH.scf.out, al.scf.out, alwire.scf.out, alwire1.scf.out,
	  ni.scf.out:

	Reference files of Ex. 12 have been modified according to the recent change
	in pwcond. A. Smogunov.

2006-10-24 14:24  giannozz

	* flib/lapack_all.f, PW/Makefile, PW/estimate.f90:

	Unused routine removed

2006-10-24 14:10  giannozz

	* PH/: solve_e.f90, solve_linter.f90:

	There was a bug in Raman calculation (and whenever a file with delta rho
	was desired) with pools: a unit open only for the node performing I/O
	(ionode) was needed by the first process of each pool.
	Temporary fix: open the unit when is needed.
	Better fix: read/write from I/O node, broadcast what is read to all pools.

2006-10-24 10:25  dalcorso

	* PW/add_efield.f90:

	Bug fix: in some cases the electric field correction to the energy was wrong.

2006-10-24 00:27  cavazzon

	* CPV/pseudotab_base.f90:

	- removing unused old module

2006-10-24 00:25  cavazzon

	* CPV/gsmesh.f90:

	- removing obsolete module/subroutine

2006-10-24 00:22  cavazzon

	* CPV/fnl.f90:

	- removing obsolete module/subroutine

2006-10-23 16:09  giannozz

	* Gamma/: Makefile, cg_summary.f90:

	Unused routine removed

2006-10-23 16:00  giannozz

	* PW/: Makefile, c_gemm.f90, linmin.f90, s_gemm.f90,
	  show_memory.f90, updathes.f90:

	unused/obsolete routines removed

2006-10-23 15:34  giannozz

	* PW/: Makefile, hinit0.f90, read_conf_from_file.f90, swap.f90:

	Too many swapping routines around

2006-10-23 14:32  giannozz

	* CPV/cp_fpmd.f90, D3/d3_summary.f90, D3/set_efsh.f90,
	  Modules/bfgs_module.f90, PH/ef_shift.f90, PH/phq_summary.f90,
	  PP/do_initial_state.f90, PW/dynamics_module.f90,
	  PW/move_ions.f90, PW/set_rhoc.f90, PW/stress.f90, PW/summary.f90,
	  PW/vcsmd.f90, atomic/atomic_paw.f90, atomic/write_results.f90,
	  atomic/write_resultsps.f90:

	Shorthand for Rydberg is Ry, not ryd

2006-10-23 14:31  giannozz

	* flib/xerbla.f:

	May be useful to have a copy in case of trouble with libraries

2006-10-23 13:09  giannozz

	* flib/: lapack_all.f, lapack_atlas.f:

	Some routines needed by atlas (hopefully) moved where they should be

2006-10-23 12:34  giannozz

	* flib/lapack_atlas.f:

	Unused routines removed

2006-10-23 11:42  dalcorso

	* PW/electrons.f90:

	The electric field correction energy added to the Harris-Foulkes estimate.

2006-10-21 17:09  dalcorso

	* PH/find_mode_sym.f90, PW/divide_class.f90,
	  PW/divide_class_so.f90:

	Symmetry analysis was not working for a D_2h point group with rotation axis
	not coincident with the coordinate axis.

2006-10-20 19:28  giannozz

	* Doc/users-guide.tex:

	Documentation updated

2006-10-20 16:14  giannozz

	* PW/: compute_scf.f90, punch.f90, pw_restart.f90:

	charge density no longer written to file during non-scf calculation
	One bad call to punch removed, one fixed

2006-10-19 23:17  giannozz

	* TODO, configure, configure.ac, makedeps.sh:

	Better detection of atlas libraries
	script makedeps.sh accepts a directory as argument

2006-10-19 18:58  cavazzon

	* CPV/cp_restart.f90, Modules/xml_io_base.f90, PW/pw_restart.f90:

	- Change in the restart layout!
	- Incoherences between gk-vectors and wfc-component eliminated,
	  now collected wfc components are stored in the same order
	  of gk-vectors. This will also save disk space.
	- Some TAGS in data-file changed.

	WARNING THE NEW LAYOUT IS NOT BACKWARD COMPATIBLE!

2006-10-19 11:59  smogunov

	* PWCOND/transmit.f90:

	Output of transmission eigenchannels is disabled in a test case
	of the perfect conductor (all channels have transmission 1). A. Smogunov

2006-10-19 11:16  giannozz

	* Doc/: BUGS, INPUT_PW, users-guide.tex:

	Documentation updated

2006-10-18 18:34  giannozz

	* flib/latgen.f90:

	case ibrav=13 fixed (once again) following suggestion by Yingli Niu.
	The "box" has 'a' axis along x ; 'b' axis on the xy plane at angle gamma
	with 'a' axis ( cos(gamma)=celldm(4) ) ; 'c' axis along z .
	Primitive vectors a1 and a3 point to the centers of the c-a faces
	(z<0 and z>0 respectively); vector a2 is along 'b'

2006-10-18 18:29  dalcorso

	* PWCOND/do_cond.f90:

	Another check for previous commit.

2006-10-18 18:04  dalcorso

	* PWCOND/scatter_forw.f90:

	Missing check in previous commit.

2006-10-18 17:37  dalcorso

	* PWCOND/: Makefile, allocate_cond.f90, compbs.f90, condcom.f90,
	  do_cond.f90, init_gper.f90, local.f90, scatter_forw.f90:

	Experimental feature: pwcond is used to calculate the propagating Bloch states
	in all points of the FFT mesh, not just in the first and last planes.

2006-10-17 11:09  giannozz

	* examples/: example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.bands.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.bands.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.phG.out, example02/reference/c.scf.out,
	  example02/reference/ni.nscf.out, example02/reference/ni.phX.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.scf.out, example05/reference/sibands.dat,
	  example05/reference/sibands.ps, example06/reference/alas.freq,
	  example06/reference/alas.ph.out, example06/reference/alas.phdos,
	  example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes,
	  example07/reference/al.elph.out,
	  example07/reference/al.scf.fit.out,
	  example07/reference/al.scf.out, example07/reference/lambda,
	  example08/reference/ni.dos, example08/reference/ni.dos.out,
	  example08/reference/ni.fs.bxsf, example08/reference/ni.pdos.out,
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#1(s),
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#2(d),
	  example08/reference/ni.pdos_tot, example08/reference/ni.scf.out,
	  example09/reference/ch4.nm.out, example09/reference/ch4.scf.out,
	  example09/reference/dynmat.out, example09/reference/sih4.dyn.out,
	  example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.co, example12/reference/bands.al.im,
	  example12/reference/bands.al.re,
	  example12/reference/bands.alwire.co,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.alwire.re,
	  example12/reference/bands.ni_down.co,
	  example12/reference/bands.ni_down.im,
	  example12/reference/bands.ni_down.re,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example12/reference/trans.alwireh,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out, example14/reference/si.anh_G,
	  example14/reference/si.anh_X, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.out, example14/reference/si.nscf.out,
	  example14/reference/si.phG.out, example14/reference/si.phX.out,
	  example14/reference/si.scf.out, example15/reference/alas.dynG,
	  example15/reference/alas.ph.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H-cp.axsf,
	  example17/reference/H2+H-cp.dat, example17/reference/H2+H-cp.int,
	  example17/reference/H2+H-cp.out,
	  example17/reference/H2+H-cp.path,
	  example17/reference/H2+H-cp.xyz, example17/reference/H2+H.axsf,
	  example17/reference/H2+H.dat, example17/reference/H2+H.int,
	  example17/reference/H2+H.out, example17/reference/H2+H.path,
	  example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.axsf,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.int,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/asymmetric_H2+H.xyz,
	  example17/reference/symmetric_H2+H.axsf,
	  example17/reference/symmetric_H2+H.dat,
	  example17/reference/symmetric_H2+H.int,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.xyz,
	  example18/reference/sio2.cp.restart.out,
	  example18/reference/sio2.cp.start.out,
	  example18/reference/sio2.vc-cp.out,
	  example18/reference/sio2.vc-cp.restart.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example21/reference/h2o-32.out, example21/reference/h2o-64.out,
	  example22/reference/bands.pt.im,
	  example22/reference/pt.bands.out,
	  example22/reference/pt.cond.out,
	  example22/reference/pt.cond_t.out,
	  example22/reference/pt.nscf.out, example22/reference/pt.scf.out,
	  example22/reference/pt.tet.out, example22/reference/pt4.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example24/reference/quartz.efg.out,
	  example24/reference/quartz.scf.out,
	  example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.out, example25/reference/pmw.out,
	  example26/reference/smd1.out, example26/reference/smd2.out,
	  example26/reference/smd3.out, example26/reference/smd4.out,
	  example26/reference/smd5.out, example26/reference/smd6.out,
	  example26/reference/smd7.out,
	  example27/reference/c4h6.cp.metaGGA.out,
	  example28/reference/metadyn-cp-T=300K.axsf,
	  example28/reference/metadyn-cp-T=300K.metadyn,
	  example28/reference/metadyn-cp-T=300K.out,
	  example28/reference/metadyn-cp.axsf,
	  example28/reference/metadyn-cp.metadyn,
	  example28/reference/metadyn-cp.out,
	  example28/reference/metadyn-pw.axsf,
	  example28/reference/metadyn-pw.metadyn,
	  example28/reference/metadyn-pw.out,
	  example29/reference/si2.ensemble-dyn.out,
	  example30/reference/mgo.cp.cg.efield.out,
	  example30/reference/mgo.cp.cg.out,
	  example30/reference/mgo.cp.damp.efield.out,
	  example31/reference/si.scf.efield.out,
	  example31/reference/si.scf.efield2.out,
	  example31/reference/si.scf.out, example32/reference/h2o.cp.out,
	  example32/reference/h2o.vib.analysis,
	  example33/reference/ch4.fpol.out,
	  example33/reference/ch4.scf.out, example34/reference/ch4.scf.out,
	  example34/reference/ch4.vdw.out:

	Examples updated

2006-10-16 22:50  cavazzon

	* CPV/init_run.f90, CPV/ortho.f90, CPV/ortho_base.f90,
	  Modules/mp.f90, Modules/mp_global.f90, Modules/ptoolkit.f90:

	- ortho rewritten to use distributed matrixes in the iteration cycle.
	  This will save memory for large system with thousands of electrons.
	- Parallel matrix multiplication using low network traffic Cannon's algorithm
	- New processors subgroup to be used with ortho, infact Cannon's alg.
	  uses only square number of procs: 1, 4, 9, 16, 25, ...
	- The performance of matrix multiplication are mesured, and the best
	  processor number is choosen.

2006-10-16 17:25  dalcorso

	* PWCOND/: allocate_cond.f90, compbs.f90, compbs_2.f90,
	  free_mem.f90, init_orbitals.f90, scatter_forw.f90:

	Several arrays with zero dimension are not allocated in the free electrons
	case.

2006-10-16 16:57  giannozz

	* PP/: epsilon.f90, pw_export.f90:

	Small changes by Andrea Ferretti: cleanup of unused variable in epsilon.f90,
	fixed a bug (uninitialized array) in pw_export.f90, some additions to the
	output format (header with version number, fractionary tranmsations)

2006-10-16 16:07  giannozz

	* PW/electrons.f90:

	Minor output changes - this should be the final format of the next version
	so please complain now or stay silent forever (and update your scripts).

2006-10-16 10:33  dalcorso

	* PWCOND/scatter_forw.f90:

	Recent changes to pwcond did not work with free electrons.

2006-10-16 09:35  degironc

	* PW/stres_hub.f90:

	Fix for the Hubbard contribution to the stress tensor.
	SdG

2006-10-12 16:34  degironc

	* PW/dprojdepsilon.f90:

	correction of an indexing error that affected the off-diagonal part of the Hubbard stress in a LDA+U calculation.
	sdg

2006-10-11 16:42  giannozz

	* flib/inpfile.f90, include/f_defs.h, CPV/fpmdpp.f90,
	  D3/d3_readin.f90, Gamma/cg_readin.f90,
	  Modules/read_namelists.f90, PH/phq_readin.f90, PP/bands.f90,
	  PP/dos.f90, PP/efg.f90, PP/epsilon.f90, PP/initial_state.f90,
	  PP/plan_avg.f90, PP/poormanwannier.f90, PP/postproc.f90,
	  PP/projwfc.f90, PP/pw2casino.f90, PP/pw2gw.f90,
	  PP/pw2wannier90.f90, PP/pw_export.f90, PWCOND/do_cond.f90:

	getenv replaced by wrapper get_env, preprocessed only in a single file

2006-10-11 14:56  degironc

	* atomic/c6_tfvw.f90:


	 clean-up

2006-10-11 11:53  smogunov

	* PWCOND/: Makefile, scatter_back.f90:

	scatter_back.f90 is not needed anymore (A. Smogunov)

2006-10-11 11:31  smogunov

	* PWCOND/: Makefile, rotate.f90, scatter_forw.f90:

	Some optimization (A. Smogunov)

2006-10-10 16:59  dalcorso

	* PWCOND/rotate.f90:

	Free electrons in pwcond. Small change.

2006-10-10 16:47  dalcorso

	* PP/plotband.f90:

	Small change.

2006-10-10 11:44  dalcorso

	* PW/: electrons.f90, potinit.f90, setup.f90:

	Other small changes to deal with the free electrons case.

2006-10-09 19:07  giannozz

	* Modules/autopilot.f90, Modules/make.depend, CPV/Makefile,
	  CPV/cp_autopilot.f90, CPV/cpr.f90, CPV/make.depend,
	  CPV/restart.f90:

	Autopilot patch from Yonas Abraham

2006-10-09 18:45  giannozz

	* Modules/Makefile:

	reverted to previous version: putting all modules into a library
	and loading the library doesn't seem to work

2006-10-09 18:30  giannozz

	* Modules/ptoolkit.f90:

	There was a complex scalar that was passed instead of a real argument
	probably harmless - There was some confusion with the definitions of
	ZERO, ONE, RZERO, RONE, CZERO, CONE. Now: ZERO AND ONE are complex,
	RZERO and RONE are real, CZERO and CONE are no more. Please check!

2006-10-09 18:21  giannozz

	* README.install, configure, configure.ac:

	More fun with "configure": some cleanup + fixes for bugs introduced
	with the latest changes

2006-10-07 01:52  giannozz

	* PW/bp_c_phase.f90:

	Excess parenthesis removed

2006-10-06 22:58  giannozz

	* configure, configure.ac:

	Do not ignore (but do not check either) the values of BLAS_LIBS and
	LAPACK_LIBS if set

2006-10-06 19:21  cavazzon

	* CPV/chi2.f90, CPV/cp_interfaces.f90, CPV/fromscra.f90,
	  CPV/guess.f90, CPV/ions.f90, CPV/main.f90, CPV/make.depend,
	  CPV/periodic.f90, CPV/polarization.f90, CPV/potentials.f90,
	  CPV/print_out.f90, CPV/restart.f90, CPV/restart_sub.f90,
	  CPV/runcg.f90, CPV/runcg_ion.f90, CPV/runcp.f90, CPV/rundiis.f90,
	  CPV/runsd.f90, CPV/vanderwaals.f90, PW/make.depend:

	- cleanup, module cell_module substituted by cell_base + interfaces

2006-10-06 17:23  sbraccia

	* PW/: cdiaghg.f90, rdiaghg.f90:

	Debug printout removed. C.S.

2006-10-06 16:08  sbraccia

	* PW/: addusdens.f90, electrons.f90, mix_rho.f90,
	  print_clock_pw.f90, pwcom.f90, realus.f90, v_of_rho.f90:

	Further clean up of realus module. qsave array is now stored as a 1-dim array to
	reduce the memory usage to the very minimum. Implemented a more efficient scheme
	to find all the points in each small box. The charge is rescaled to the correct
	number of electrons unless the relative error is larger that 0.01% (in this case
	an error message is issued suggesting to increase ecutrho). Added a sort of
	Fourier filter to remove the features in the chrage density that are not
	compatible with the chosen cut-off (this is used only with the small booxes).
	Addded an aternative estimate of the total energy based on the
	Harris-Weinert-Foulkes functional. The difference between the Kohn-Sham energy
	and the HWF one provides an alternative estimate for the level of
	self-consistency.
	Added a few more clocks to monitor the efficiency of the small-boxes and the
	time spent to calculate the Hatree potential and the Exchange-Correlation
	potential (the latter can be pretty high).
	C.S.

2006-10-05 23:11  giannozz

	* configure, configure.ac, make.sys.in, flib/Makefile,
	  flib/lapack_all.f, flib/lapack_atlas.f:

	More minor installation cleanup
	lapack_mkl.f does not seem to be needed any longer starting from mkl v6 or so
	Since earlier versions are not supported by configure anyway I removed it

2006-10-05 20:00  giannozz

	* configure, configure.ac, make.sys.in, flib/Makefile,
	  flib/lapack.f, flib/lapack_all.f, flib/lapack_ibm.f:

	More installation cleanup / messup :
	blas and lapack libraries are specified solely in BLAS_LIB and LAPACK_LIB,
	no more in MYLIB. A Lapack library is always compiled but used only if
	needed. Problem with conflicting essl/lapack on cineca sp5 solved (i hope)
	Re-run configure before complaining that nothing works !

2006-10-05 03:19  giannozz

	* Makefile, TODO, configure, configure.ac, make.sys.in,
	  flib/Makefile, flib/blas.f, flib/lapack.f:

	Installation cleanup (maybe) : the blas libraries are always compiled,
	loaded only when nothing else is found using BLAS_LIBS

2006-10-04 16:56  giannozz

	* CPV/restart_sub.f90, Modules/fft_scalar.f90,
	  Modules/path_reparametrisation.f90, Modules/random_numbers.f90,
	  Modules/splinelib.f90, iotk/src/iotk_attr+CHARACTER1_0.f90,
	  iotk/src/iotk_attr+COMPLEX1_0.f90,
	  iotk/src/iotk_attr+COMPLEX1_3.f90,
	  iotk/src/iotk_attr+COMPLEX2_0.f90,
	  iotk/src/iotk_attr+COMPLEX2_3.f90,
	  iotk/src/iotk_attr+INTEGER1_0.f90,
	  iotk/src/iotk_attr+INTEGER1_3.f90,
	  iotk/src/iotk_attr+INTEGER2_0.f90,
	  iotk/src/iotk_attr+INTEGER2_3.f90,
	  iotk/src/iotk_attr+LOGICAL1_0.f90,
	  iotk/src/iotk_attr+LOGICAL1_3.f90,
	  iotk/src/iotk_attr+LOGICAL2_0.f90,
	  iotk/src/iotk_attr+LOGICAL2_3.f90,
	  iotk/src/iotk_attr+REAL1_0.f90, iotk/src/iotk_attr+REAL1_3.f90,
	  iotk/src/iotk_attr+REAL2_0.f90, iotk/src/iotk_attr+REAL2_3.f90,
	  iotk/src/iotk_str_interf.f90, iotk/src/iotk_str_interf.spp:

	PGI doesn't like "END INTERFACE some_interface" and apparently the
	standard is "END INTERFACE", period

2006-10-04 16:08  giannozz

	* PH/clinear.f90:

	Bug in clinear fixed (courtesy of Yingli Niu)

2006-10-04 15:40  giannozz

	* iotk/src/: iotk_attr+CHARACTER1_0.f90, iotk_attr+COMPLEX1_0.f90,
	  iotk_attr+COMPLEX1_3.f90, iotk_attr+COMPLEX2_0.f90,
	  iotk_attr+COMPLEX2_3.f90, iotk_attr+INTEGER1_0.f90,
	  iotk_attr+INTEGER1_3.f90, iotk_attr+INTEGER2_0.f90,
	  iotk_attr+INTEGER2_3.f90, iotk_attr+LOGICAL1_0.f90,
	  iotk_attr+LOGICAL1_3.f90, iotk_attr+LOGICAL2_0.f90,
	  iotk_attr+LOGICAL2_3.f90, iotk_attr+REAL1_0.f90,
	  iotk_attr+REAL1_3.f90, iotk_attr+REAL2_0.f90,
	  iotk_attr+REAL2_3.f90, iotk_attr.spp:

	Minor (harmless) bug in iotk, pointed out by Vittorio Zecca

2006-10-04 13:29  degironc

	* Doc/INPUT_PW, flib/latgen.f90:

	  ibrav=13 (one face centered monoclinic) vectors changed again.
	  The rectangular base (a,b) is centered while the monoclinic angle<>90 is
	  between b and c. Problem pointed out by Young-Su Lee @ mit .

	  SdG

2006-10-04 01:47  giannozz

	* CPV/efield.f90, PW/realus.f90:

	Unused variables removed

2006-10-03 21:26  giannozz

	* CPV/Makefile, D3/Makefile, Gamma/Makefile, Modules/Makefile,
	  PH/Makefile, PP/Makefile, PP/sym_band.f90, PW/Makefile,
	  PW/fftw.f90, PW/make.depend, PWCOND/Makefile, VdW/Makefile,
	  VdW/vdw.f90, pwtools/Makefile:

	Objects in PW, PH, CPV are stored into libraries (libpw.a, libph.a,
	libcp.a respectively), used to load the executables. This removes
	the need to specify all needed objects in many different makefiles.
	Works with 95, ifort, xlf. Please let me know if there are problems
	with more exotic or lousy compilers.

	A few minor things fixed as well.

2006-10-03 16:29  giannozz

	* TODO, configure, configure.ac, PP/Makefile, PP/make.depend,
	  PP/sumpdos.f90, PW/diropn.f90, PW/electrons.f90, PW/startup.f90,
	  flib/inpfile.f90, flib/make.depend, include/defs.h.README,
	  include/f_defs.h:

	- misspell in configure
	- symmetrize_at needed for compilation of PP
	- more preprocessing cleanup

2006-10-02 13:07  degironc

	* PW/symmetrize_at.f90:

	bug coorected in the newly introduced subroutine  symmetrize_at.f90
	SdG

2006-10-02 11:37  degironc

	* PW/: Makefile, checkallsym.f90, make.depend, move_ions.f90,
	  read_file.f90, setup.f90, symmetrize_at.f90:

	When checkallsym finds that the symmetry is lower than the original one
	the code symmetrizes the atomic (and iif needed the cell) configuration
	before stopping, so as to allow to restart from a symmetric configuration
	if desired.
	SdG

2006-09-29 17:26  cavazzon

	* CPV/fpmdpp.f90:

	- small fix for xcrysden format

2006-09-29 17:25  giannozz

	* README.install, TODO, configure, configure.ac, clib/memstat.c,
	  flib/flush_unit.f90, include/c_defs.h, include/c_defs.h.in,
	  include/defs.h.README, include/f_defs.h:

	More preprocessing and installation cleanup (or maybe messup)
	The include file for C routines is generated by configure,
	in a way that should be very general and robust.  Beware:
	you need to re-run configure to regenerate include/c_defs.h

2006-09-29 15:35  giannozz

	* PW/: electrons.f90, gweights.f90, pwcom.f90:

	There still some confusion about the meaning of the various energy terms.
	I added some comments here and there and slightly modified the output,
	removing the 'band sum' which seems to me of no interest to anybody,
	leaving the various contributions whose sum adds up to the total energy.
	The nfamous 'correction for metal' is labeled as ' "-TS" contribution ',
	so making clear that there can be a relation with the free energy

2006-09-28 01:51  giannozz

	* PW/: print_clock_pw.f90, qvan2.f90:

	Cleanup; qvan2 should be slightly faster

2006-09-27 20:13  giannozz

	* pwtools/q2r.f90:

	Exact comparisons of real numbers: if (a == b) then ... are dangerous
	even when a and b should be EXACTLY equal. Some compilers manage to
	make them slightly differnt anyway. Courtesy of E.A. Menendez.

2006-09-25 17:00  giannozz

	* PW/setup.f90:

	Fix for PGI compiler bug was buggy as well! Courtesy of Paolo Cazzato

2006-09-22 17:49  giannozz

	* clib/indici.c, include/c_defs.h, include/defs.h.README:

	oops, lost two functions...documentation updated

2006-09-22 16:59  giannozz

	* clib/c_mkdir.c, clib/cptimer.c, clib/fft_stick.c, clib/indici.c,
	  clib/memstat.c, include/c_defs.h:

	Mangling of C routines to be called by fortran is done by the "standard"
	F77_FUNC and F77_FUNC_ preprocessor macro . It is easy now to select the
	good functions with "configure" (it is still done with -D flags though)

2006-09-22 16:49  sbraccia

	* PW/sgam_at_mag.f90:

	In an IF with multiple conditions one should never assume that the conditions
	are tested from left to right (different compilers do different things). C.S.

2006-09-22 14:49  giannozz

	* configure, configure.ac, include/fft_defs.h.in:

	Bug in the --disable-parallel option of configure fixed.
	It had gone unnoticed for a long time, but the recent changes
	made its presence noticeable via a rather obscure failure.
	C_POINTER is defined integer*N instead of integer(kind=N).
	The former definition is obsolescent but always valid, while the latter
	may fail for compilers (ex. NAG) not using the length in bytes as kind

2006-09-21 22:12  giannozz

	* configure:

	oops, I forgot this

2006-09-21 22:07  giannozz

	* config.guess, configure.ac, make.sys.in:

	More minor tweaking: obsolete or useless variables removed,
	call to oslevel on aix commented (shouldn't be useful anyway)

2006-09-21 22:04  giannozz

	* VdW/: dvpsi_e.f90, solve_e.f90:

	flush => flush_unit, as everywhere else

2006-09-21 19:49  giannozz

	* Makefile, README.install, configure, configure.ac,
	  CPV/make.depend, D3/make.depend, Doc/users-guide.tex,
	  Gamma/make.depend, Modules/make.depend, PH/make.depend,
	  PP/make.depend, PW/make.depend, PWCOND/make.depend,
	  VdW/make.depend, atomic/make.depend, clib/make.depend,
	  flib/make.depend, pwtools/make.depend, upftools/make.depend:

	There is no reason to generate dependencies every time. Files
	make.depend are now in the CVS and shouldn't be updated unless
	needed. Configure no longer runs makedeps.sh. Type 'make depend'
	to regenerate dependencies.

	Remove all */make.depend files before updating!

2006-09-21 17:35  giannozz

	* configure, configure.ac, configure.msg.in:

	The check for dependencies must be done after fft_defs.h is written

2006-09-21 17:23  giannozz

	* README.install, configure, configure.ac, Doc/users-guide.tex,
	  Modules/check_stop.f90, Modules/fft_scalar.f90,
	  Modules/version.f90, include/defs.h.README, include/f_defs.h,
	  include/fft_defs.h.in, iotk/include/iotk_config.h:

	More installation cleanup (or maybe messup): "configure" should now
	recognize the correct length of fortran integer variables containing
	C pointers, writing it into file include/fft_defs.h . Side effects
	not unlikely, please check and correct if you can (and dare to).
	Version number moved to 3.2cvs

2006-09-21 12:32  giannozz

	* PW/para.f90, PWCOND/local.f90, PWCOND/rotproc.f90,
	  include/defs.h.README, include/f_defs.h:

	MPI_REAL8 => MPI_DOUBLE_PRECISION

2006-09-20 16:04  giannozz

	* PP/pw2casino.f90:

	Use the atomic species name given in input (atm) instead of zmesh to
	calculate Z (as it is done in cube). Thanks to Fernando Reboredo

2006-09-20 14:26  giannozz

	* TODO, configure, configure.ac, make.sys.in:

	Several unused variables removed from configure and make.sys
	configure should automatically recognize if "memstat" will work

2006-09-20 14:10  giannozz

	* include/: c_defs.h, defs.h.README:

	linking of cclock and scnds fixed for G95

2006-09-20 12:40  giannozz

	* clib/: config.h, cptimer.c, memstat.c:

	Timing functions for Mac and other machines that do not define CLK_TCK
	Preprocessing flag __HAVE_MALLINFO, set by configure, flags machines
	having the "mallinfo" structure used by the memory estimator
	config.h removed: it wasn't used anywhere

2006-09-20 12:30  giannozz

	* PW/: a2fmod.f90, add_bfield.f90:

	Missing licence added

2006-09-19 19:00  cavazzon

	* configure, configure.ac, Modules/check_stop.f90, clib/cptimer.c,
	  flib/Makefile, flib/scnds.f90, include/c_defs.h:

	- fixed a configuration problem with pgi compiler and preprocessor
	- elapsed_seconds substituted by cclock
	- fortran version of scnds substituted by c version.

	now time information is taken only through:
	cclock   for the real wall clock time
	scnds    for cpu time of the running process
	defined in file clib/cptimer.c

2006-09-19 12:52  cavazzon

	* CPV/: cp_restart.f90, cplib.f90, init_run.f90:

	- restart dir is now created at the beginning of the run

2006-09-19 12:51  cavazzon

	* Modules/xml_io_base.f90:

	- In write counter, create_directory already perform check on
	  restart directory

2006-09-18 13:19  degironc

	* PW/scale_h.f90:

	 Bug fixing: Integrals of atomic wavefunctions (tab_at) should be rescaled
	 as it is done with other pseudopotential integrals (tab, qrad) when the cell
	 changes (vc-relax) otherwise the projectors in the LDA+U case are wrong.
	 This was wrong already in 3.0 (and probably earlier versions as well).
	 It affects LDA+U + vc-relax (or vc-dynamics).
	 SdG

2006-09-16 17:32  umari

	* CPV/: cg_sub.f90, inner_loop.f90:

	Bug corrected in cg_sub
	minor clean-up in inner_loop
	P.U.

2006-09-15 20:35  sbraccia

	* Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/input.f90, PW/realus.f90:

	Input variable tqr meved from control namelist to electrons namelist.
	Some clean-up of realus module (many unused variables removed). Introduced a
	less rough estimate for the sizes of the buffers. Size of the array qsave
	reduced to the very minimum in order to save memory. C.S.

2006-09-15 11:06  ceresoli

	* PW/: allocate_nlpot.f90, clean_pw.f90, gen_us_dj.f90,
	  gen_us_dy.f90, init_us_1.f90, init_us_2.f90, pwcom.f90:

	Added spline interpolation of the pseudopotentials. Disabled by default,
	unless you add -DUSE_SPLINES to DFLAGS in your make.sys. Magnetic response
	slightly improved by splines. By D. Ceresoli

2006-09-15 10:02  ceresoli

	* Modules/splinelib.f90:

	New function splint_deriv: compute spline's first derivative.

2006-09-14 19:08  giannozz

	* configure, configure.ac:

	Support for gfortran added (?) to configure; some configure cleanup

2006-09-14 18:33  umari

	* CPV/: cg_sub.f90, cglib.f90, ensemble_dft.f90, inner_loop.f90,
	  input.f90, print_out.f90:

	Added two new options:l_blockocc and n_blockocc
	to keep fixed the occupation of  the lowest states
	in enrgy while performing MD with ensemble DFT

	P.U.

2006-09-14 18:28  giannozz

	* flib/: indxl2g.f, infog1l.f, infog2l.f:

	format is now compatible with both f90 free format and f77 fixed format

2006-09-14 18:20  umari

	* Modules/: input_parameters.f90, read_namelists.f90:

	Two new parameters for ensemble DFT
	in order to keep fixed the lowest states
	P.U.

2006-09-14 11:55  dalcorso

	* Modules/read_namelists.f90, PP/bands.f90, PW/pw_restart.f90,
	  PW/read_file.f90, PW/setup.f90:

	Small changes. Now if nat=0 and ntyp=0 pw.x gives the bands of the free
	electrons gas.

2006-09-14 11:48  dalcorso

	* PP/sym_band.f90:

	Small bug fix in the output.

2006-09-13 18:41  giannozz

	* configure, configure.ac, make.sys.in, Doc/refman.tex,
	  Doc/users-guide.tex, flib/Makefile, iotk/src/Makefile,
	  iotk/src/iotk_base.f90, iotk/src/iotk_base.spp:

	Fixes for Mac OSX and XLF (courtesy of Pascal Thibaudeau)
	Documentation updates

2006-09-13 16:38  dalcorso

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/average_pp.f90, PW/read_file.f90, PW/setup.f90,
	  PWCOND/Makefile, VdW/Makefile:

	j-average of KB pseudo was not implemented in read_file.

2006-09-12 22:54  sbraccia

	* Modules/ptoolkit.f90, PW/para.f90:

	Routines for parallel basic algebra used by the parallel eigensolver moved from
	PW/para.f90 to Modules/ptoolkit.f90. The MPI reduce has been substituted
	everywhere by a MPI broadcast. C.S.

2006-09-12 20:31  sbraccia

	* PW/setup.f90:

	The test performed to decide whether to use the parallel eigensolver or not is
	repeted few times (only for the smaller matrices) in order to make it more
	reliable. C.S.

2006-09-12 20:28  sbraccia

	* CPV/compute_fes_grads.f90, CPV/compute_scf.f90,
	  CPV/ions_positions.f90, Doc/INPUT_CP, Doc/INPUT_PW,
	  Modules/input_parameters.f90, Modules/metadyn_base.f90,
	  Modules/metadyn_vars.f90, Modules/path_base.f90,
	  Modules/path_io_routines.f90, Modules/path_variables.f90,
	  Modules/read_namelists.f90, PW/compute_fes_grads.f90,
	  PW/compute_scf.f90:

	Clean-up of routines used for meta-dynamics and for the calculation of
	free-energy barriers. C.S.

2006-09-12 20:26  sbraccia

	* examples/example28/: run_example,
	  reference/metadyn-cp-T=300.axsf,
	  reference/metadyn-cp-T=300.metadyn,
	  reference/metadyn-cp-T=300K.axsf,
	  reference/metadyn-cp-T=300K.metadyn,
	  reference/metadyn-cp-T=300K.out, reference/metadyn-cp.axsf,
	  reference/metadyn-cp.metadyn, reference/metadyn-cp.out,
	  reference/metadyn-pw.axsf, reference/metadyn-pw.metadyn,
	  reference/metadyn-pw.out:

	Meta-dynamics example updated. C.S.

2006-09-12 19:11  giannozz

	* CPV/cpr.f90, CPV/input.f90, CPV/ions.f90, CPV/print_out.f90,
	  CPV/smcp.f90, Modules/cell_base.f90, Modules/constants.f90,
	  Modules/ions_base.f90, Modules/ions_nose.f90, PW/vcsubs.f90:

	Cleanup in constants: factem => 1/k_boltzmann
	Some unused formats removed

2006-09-12 18:17  giannozz

	* README.configure, configure, configure.ac, make.sys.in,
	  clib/c_mkdir.c, clib/memstat.c, include/defs.h.README:

	Minor changes related to Mac OS-X support - hopefully no more need to
	locate malloc.h and to define __MAC

2006-09-12 16:12  giannozz

	* examples/pwdiff.sh:

	OS-X doesn't like 'head -0'

2006-09-12 16:07  sbraccia

	* Modules/clocks.f90:

	Header updated. C.S

2006-09-12 16:06  sbraccia

	* Modules/bfgs_module.f90, PW/move_ions.f90:

	Clean-up of bfgs-related stuff. C.S.

2006-09-12 14:55  giannozz

	* Modules/read_uspp.f90:

	g95 doesn't like reading a character variable into a real variable

2006-09-11 14:56  giannozz

	* README.install, configure, configure.ac, Doc/users-guide.tex,
	  Modules/bfgs_module.f90, Modules/parser.f90, PP/plotband.f90,
	  include/c_defs.h, include/defs.h.README, include/f_defs.h,
	  install/Make.bgl, install/Make.ibm, install/Make.ibmsp,
	  install/Make.macos-xlf, install/Make.power5-aix-parallel,
	  install/Make.power5-aix-serial:

	Support for Mac OS-X (Intel) with g95 added in configure
	re-aligned configure and configure.ac
	fixed minor format glitches signaled by g95
	added __XLF preprocessing option
	updated documentation and Make.*, removed obsolete Make.ibm*

2006-09-11 14:49  giannozz

	* CPV/: Makefile, cpr.f90, macdep.f90, smcp.f90:

	Obsolete routine memory.f90 removed

2006-09-11 13:06  cavazzon

	* CPV/compute_fes_grads.f90, CPV/cp_fpmd.f90, CPV/input.f90,
	  CPV/ions.f90, Modules/constraints_module.f90:

	- fixed a bug in FPMD + constrained dynamics.
	  The error was present only when input atomic
	  positions were not sorted as the input species

2006-09-08 19:13  giannozz

	* PW/divide_class_so.f90:

	Missing continuation "&" added

2006-09-08 16:54  sbraccia

	* PW/: para.f90, cdiaghg.f90, rdiaghg.f90:

	Added routines for the parallel inversion of a lower triangular matrix (used for
	the parallelization of the diagonalization with overlap). C.S.

2006-09-07 21:36  cavazzon

	* CPV/nl_base.f90:

	- bug fix in sub nlsm1.
	  Bug was present only in CVS for pseudopotentials with "nh = 0"
	  this was causing example28 to fail

2006-09-07 19:17  giannozz

	* Doc/: INPUT_PH, INPUT_PW:

	Documentation updated (modenum, nat_todo, nrapp)

2006-09-07 19:16  giannozz

	* PH/phq_readin.f90:

	modenum should not be read again by the phonon code

2006-09-07 15:04  giannozz

	* CPV/optical.f90, Modules/constants.f90:

	Fixed factor 10 error in Debye iintroduced by recent cleanup of constants
	k_boltzman_au => k_boltzmann_au

2006-09-07 14:45  giannozz

	* iotk/src/.cvsignore:

	*.ad files ignored

2006-09-06 15:17  cavazzon

	* examples/example26/run_example:

	- scradir was removed and now restart file goes to outdir,
	  then, in example26, for run indeces greather than 1,
	  outdir should not be cleaned

2006-09-06 14:28  cavazzon

	* CPV/cp_restart.f90, examples/example17/run_example:

	- temporary nelup should be >= neldwn
	- fixed problem with occupations and restarting

2006-09-06 13:10  moscac

	* PW/: add_bfield.f90, report_mag.f90:

	bugs fixed for constrained magnetization in noncollinear case: mcons runs
	over the atomic types, not over the atoms. Modifications at line 44 in
	add_bfield and at lines 72 and 74 in report_mag.
	Adriano

2006-09-06 12:03  dalcorso

	* Doc/INPUT_BANDS, PP/bands.f90, PP/plotband.f90, PP/plotproj.f90,
	  PP/sym_band.f90:

	Small fix and changes. In some cases plotband did not find all the
	high symmetry points. When lsym=.true. bands.x does not use any more
	the old algorithm to order the bands.

2006-09-04 16:53  dalcorso

	* PP/: Makefile, plotband.f90, plotproj.f90:

	Added a small program to read the projections on the atomic wavefunctions file
	and select the bands according to these projections.
	Small bug fix in plotband.f90.

2006-09-01 18:23  dalcorso

	* Doc/INPUT_BANDS, PP/bands.f90, PP/sym_band.f90:

	Small change. The symmetry analysis can be limited to a few k points.

2006-08-31 15:51  dalcorso

	* Doc/INPUT_BANDS:

	Documentation update.

2006-08-30 18:32  giannozz

	* Modules/constants.f90:

	Cleanup of physical constants and conversion factors (to be completed)

2006-08-30 08:58  cavazzon

	* PP/pw_export.f90:

	- wrong number of indices, not pointed out by PGI compiler!

2006-08-29 14:31  giannozz

	* Makefile, README.install, TODO:

	Updated: memory.x no longer existing

2006-08-29 12:04  cavazzon

	* PW/summary.f90:

	- 3 digit instead of 2 for atom index, with verbosity = high
	  large systems were giving lots of **

2006-08-29 12:00  cavazzon

	* Doc/eps_man.tex:

	- updated manual for epsilon.x post processing

2006-08-29 11:54  cavazzon

	* PP/pw_export.f90:

	- fix in pw_export after recent updates

2006-08-29 11:40  cavazzon

	* CPV/: cglib.f90, cp_interfaces.f90, cplib.f90, cpr.f90,
	  cprsub.f90, emptystates.f90, forces.f90, ortho_base.f90,
	  print_out.f90, wf.f90:

	- again projections on atomic states.
	- MXMAs substituted with DGEMMs
	- some clean-ups

2006-08-29 11:36  cavazzon

	* Modules/fft_base.f90:

	- minor clean-ups, commented out lines removed

2006-08-29 08:39  giannozz

	* PP/pw_export.f90:

	Fixed compilation problem introduced by last changes

2006-08-28 21:21  giannozz

	* examples/example01/run_example:

	Print correct executable name

2006-08-28 18:56  giannozz

	* PW/: allocate_nlpot.f90, clean_pw.f90, gk_sort.f90, hinit0.f90,
	  pw_restart.f90, pwcom.f90:

	index igk_l2g, used only in pw_restart, is now local to that module

2006-08-28 14:26  giannozz

	* Doc/users-guide.tex:

	Documentation updated: memory.x no longer existing

2006-08-28 14:23  giannozz

	* install/: Make.macos, Make.macos-intel, Make.macos-xlf,
	  Make.power5-aix-parallel, Make.power5-aix-serial:

	Sample make.sys updated

2006-08-26 10:39  dalcorso

	* PP/plotband.f90:

	Small change.

2006-08-25 18:12  dalcorso

	* PP/: plotband.f90, sym_band.f90:

	Plotband can now read the file with the representations and write the
	bands in separate files.

2006-08-25 10:19  dalcorso

	* PP/sym_band.f90, PW/divide_class_so.f90:

	Problems with the C_4 character table.
	Updated output in sym_band.f90.

2006-08-24 21:45  giannozz

	* PW/electrons.f90:

	Fixed again (hopefully for good) the very exotic output problem

2006-08-24 21:21  giannozz

	* PW/pw_restart.f90:

	Out-of-bounds error with pools. This should fix restart problems with
	pools if wf_collect is not used. If wf_collect is used, there are other
	out-of-bounds errors in pw_restart that have to be fixed.

2006-08-24 19:49  giannozz

	* PW/: electrons.f90, n_plane_waves.f90:

	Fix for very exotic output format problem + minor changes

2006-08-24 19:36  giannozz

	* PH/: dynmatrix.f90, find_mode_sym.f90:

	harmless out-of-bound error

2006-08-24 19:24  giannozz

	* PW/: allocate_wfc.f90, electrons.f90, setup.f90:

	Previous commit had an out-of-bounds error in "electrons"
	Minor changes

2006-08-24 15:49  giannozz

	* PW/: allocate_nlpot.f90, clean_pw.f90, electrons.f90,
	  n_plane_waves.f90, pwcom.f90:

	- npwx should be summed over pools in order to prevent problems at
	  restart. There still is a crash whose origin is unclear, though.
	- some minor cleanup here and there

2006-08-24 10:51  giannozz

	* PW/setup.f90:

	Most of the spin-orbit-related code in setup goes to a separate subroutine.
	This should be a purely aestethic change with no side effects.

2006-08-24 10:47  giannozz

	* Modules/parameters.f90:

	Max number of k-points reset to its previous (and exceedingly large) value

2006-08-23 10:17  dalcorso

	* PP/sym_band.f90, examples/example22/reference/pt.nscf.out:

	Small changes.

2006-08-23 09:09  dalcorso

	* PP/sym_band.f90, examples/example01/run_example,
	  examples/example01/reference/cu.bands.out,
	  examples/example01/reference/si.bands.out,
	  examples/example22/run_example,
	  examples/example22/reference/pt.bands.out:

	Added an example of the use of bands.x for the symmetry analysis of the
	bands.

2006-08-22 19:01  dalcorso

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PH/dynmatrix.f90,
	  PH/find_mode_sym.f90, PH/phcom.f90, PH/phq_setup.f90,
	  PP/Makefile, PP/bands.f90, PP/smallgk.f90, PP/sym_band.f90,
	  PW/Makefile, PW/divide_class.f90, PW/divide_class_so.f90,
	  PW/find_group.f90, PW/para.f90, PW/pwcom.f90, PW/read_file.f90,
	  PW/summary.f90, PWCOND/Makefile, VdW/Makefile:

	Now bands.x can classify the bands according to the irreducible
	representation of the small group of k. k points on the border
	of the Brillouin zone of systems with non symmorphic space groups
	are not dealt with. Spin-orbit case included.

	Find_mode_sym extended to all the q points, with the same limitations as
	the bands.
	(still experimental).

2006-08-13 16:35  sbraccia

	* PW/hinit1.f90:

	In the case tqr=.TRUE. the augmantation charges in the small-boxes must be
	updated when the atoms are moved. Fixed. C.S.

2006-08-12 14:38  cavazzon

	* CPV/fpmdpp.f90:

	- again scradir

2006-08-12 14:29  cavazzon

	* examples/: example17/run_example, example28/run_example:

	- scradir entry removed

2006-08-12 14:27  cavazzon

	* CPV/compute_fes_grads.f90, CPV/compute_scf.f90,
	  CPV/cp_restart.f90, CPV/cplib.f90, CPV/emptystates.f90,
	  CPV/fpmdpp.f90, CPV/init.f90, CPV/input.f90, CPV/para.f90,
	  CPV/print_out.f90, CPV/restart.f90, Doc/INPUT_CP, Doc/INPUT_CPPP,
	  Modules/autopilot.f90, Modules/input_parameters.f90,
	  Modules/metadyn_base.f90, Modules/read_namelists.f90,
	  Modules/xml_io_base.f90:

	 - confusing scradir substituted everywhere with outdir,
	   that for CP now indicates the directory containing
	   all outputs

2006-08-11 17:39  cavazzon

	* CPV/cp_fpmd.f90, CPV/cp_restart.f90, CPV/cplib.f90, CPV/cpr.f90,
	  CPV/emptystates.f90, CPV/input.f90, Doc/INPUT_CP,
	  Modules/control_flags.f90, Modules/input_parameters.f90:

	- new verbosity option: verbosity = 'default+projwfc'
	  to enable the printing of wave functions projections
	  on atomic states.

2006-08-11 11:28  cavazzon

	* PW/summary.f90:

	- belive it or not, but for IBM xlf a double question mark '??'
	  within a string seams to have a special meaning!?
	  at least in this file/context.

2006-08-11 10:29  cavazzon

	* CPV/cg_sub.f90, CPV/chargedensity.f90, CPV/cp_interfaces.f90,
	  CPV/cp_restart.f90, CPV/cplib.f90, CPV/emptystates.f90,
	  CPV/fromscra.f90, CPV/guess.f90, CPV/init_run.f90,
	  CPV/inner_loop.f90, CPV/input.f90, CPV/main.f90, CPV/mainvar.f90,
	  CPV/modules.f90, CPV/move_electrons.f90, CPV/nl.f90,
	  CPV/ortho.f90, CPV/potentials.f90, CPV/print_out.f90,
	  CPV/read_pseudo.f90, CPV/restart.f90, CPV/restart_sub.f90,
	  CPV/runcg.f90, CPV/runcp.f90, CPV/rundiis.f90, CPV/runsd.f90,
	  CPV/smcp.f90, CPV/stress.f90, CPV/wave.f90, CPV/wf.f90,
	  Doc/INPUT_CP, Modules/control_flags.f90,
	  Modules/electrons_base.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, Modules/xml_io_base.f90,
	  examples/Restart_example/run_example:

	- more subroutines taken out from modules
	- enhanced restart procedure, with disk_io='high'
	  more stuff is saved to restart dir, this is required
	  for post-processing and pw.x codes.
	- wave functions are read following the iotk link, without
	  explicitly open the file, this increases the possibility
	  for interoperability and backward compatibility.
	- added input parameter saverho (to control the saving of charge density),
	  disk_io has a more general meaning
	- merging of the subroutine that computes dekin stress component
	- atomic wave function occupations factors ( "oc" ) now
	  are copied to internal "atom" module.
	- various cleanups

2006-08-10 21:00  sbraccia

	* PW/realus.f90:

	Few changes and fixes to US in real space:
	1) arrays are deallocated when no longer necessary;
	2) qsave is stored and used exploiting the symmetry of the beta-function index
	   (same approach already used for becsum);
	3) the cast of a variable from integer to double precision must be done using
	   DBLE, otherwise there is a loss of accuracy.
	C.S.

2006-08-10 10:41  cavazzon

	* Modules/parameters.f90:

	- ntypx has recently been set to 4, but this is too low for
	  many CP projects, that uses upt to 6-8 species (bio-stuff),
	  now ntypx is set again to the value 10

2006-08-09 18:01  giannozz

	* flib/sph_bes.f90:

	Bug fixed in the new routine for spherical bessel function calculation

2006-08-09 14:07  dalcorso

	* PH/star_q.f90, PW/setup.f90, PW/sgama.f90, pwtools/matdyn.f90:

	Small bug fix. Sometimes -k points were used with domag=.false..

2006-08-09 10:20  dalcorso

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PH/dynmatrix.f90,
	  PH/find_mode_sym.f90, PP/Makefile, PW/Makefile,
	  PW/divide_class.f90, PW/find_group.f90, PW/pwcom.f90,
	  PW/read_file.f90, PW/summary.f90, PWCOND/Makefile, VdW/Makefile,
	  pwtools/Makefile:

	Added a few routines to classify the vibrational modes of molecules
	according to the irreducible representations of the point group.
	(Still experimental)

2006-08-09 02:40  sbraccia

	* Modules/bfgs_module.f90:

	Fixed a problem with BFGS+GDIIS: it was not preserving the symmetry of the
	system. C.S.

2006-08-08 23:49  giannozz

	* Modules/fft_scalar.f90:

	There is some evidence that sunperf fft's work

2006-08-08 23:26  sbraccia

	* pwtools/metadyn_pp.f90:

	Added the possibility of post-processing the one-dimensional case. C.S.

2006-08-08 23:25  sbraccia

	* PW/: init_run.f90, move_ions.f90:

	Cleanup. C.S.

2006-08-08 23:24  sbraccia

	* PW/mix_rho.f90:

	Unused experimental stuff removed. C.S.

2006-08-08 23:14  sbraccia

	* PW/: cdiagh.f90, cdiaghg.f90, cegterg.f90, para.f90,
	  print_clock_pw.f90, rdiagh.f90, rdiaghg.f90, regterg.f90:

	Added parallel routines for matrix-matrix, and matrix-vector multiplications and
	for Cholesky decomposition. These routines are used to parallelize the solvers
	for the generalized eigenvalue problems, namely rdiaghg and cdiaghg (notice that
	the inversion of the lower triangular matrix L is still done using a serial
	lapack routine). These two routines are now used for Davidson parallelization.
	Old algorithm based on the orthogonalization of the correction vectors has been
	removed (it was awfully slow). The performance of the new algorithm should be
	decent. Beware unexpected side effects. C.S.

2006-08-08 20:05  giannozz

	* CPV/fpmdpp.f90, D3/d3_readin.f90, Doc/INPUT_CP, Doc/INPUT_PW,
	  Gamma/cg_readin.f90, Modules/parameters.f90,
	  Modules/read_namelists.f90, PH/phq_readin.f90, PP/bands.f90,
	  PP/dos.f90, PP/efg.f90, PP/epsilon.f90, PP/initial_state.f90,
	  PP/plan_avg.f90, PP/poormanwannier.f90, PP/postproc.f90,
	  PP/projwfc.f90, PP/pw2casino.f90, PP/pw2gw.f90,
	  PP/pw2wannier90.f90, PP/pw_export.f90, PW/input.f90,
	  PW/wfcinit.f90, PWCOND/do_cond.f90:

	- outdir is set by default to the value of the $ESPRESSO_TMPDIR
	  environment variable, or to './' (as before) if this is not set
	- pseudo_dir is set by default to the value of $ESPRESSO_PSEDIR,
	  to $HOME/espresso/pseudo/ otherwise
	- documentation updated to reflect the new defaults
	Note that the 'capture' of $HOME/pw/pseudo using a call to 'getenv'
	was already present in pwscf but it was not working (pseudo_dir was
	overwritten) so nothing susceptible to create new problems was added.

2006-08-04 14:06  cavazzon

	* CPV/nl_base.f90:


	- workaround (intel-9+mpich-1.2.6..14a):
	  mp_sum (MPI_ALLREDUCE) fails with 0 sized array
	  ( but F90 allows array to have a size of 0! )

2006-08-03 19:52  cavazzon

	* CPV/: print_out.f90, cp_interfaces.f90:

	 - undeclared variable, not reported by pgi compiler (xlf found it)

2006-08-03 19:47  cavazzon

	* CPV/: Makefile, bessel.f90, cg_sub.f90, chargedensity.f90,
	  chargemix.f90, compute_scf.f90, cp_interfaces.f90,
	  cp_restart.f90, cplib.f90, cplib_meta.f90, cpr.f90, cprsub.f90,
	  diis.f90, eigs0.f90, electrons.f90, emptystates.f90,
	  exch_corr.f90, fft.f90, forces.f90, fromscra.f90, guess.f90,
	  init_run.f90, inner_loop.f90, input.f90, ksstates.f90, main.f90,
	  main_loops.f90, mainvar.f90, modules.f90, move_electrons.f90,
	  nl.f90, nlcc.f90, optical.f90, ortho.f90, phasefactor.f90,
	  potentials.f90, print_out.f90, pseudopot.f90, pseudopot_sub.f90,
	  qqberry.f90, restart.f90, restart_sub.f90, runcg.f90,
	  runcg_ion.f90, runcp.f90, rundiis.f90, runsd.f90, smcp.f90,
	  smd.f90, stress.f90, wannier.f90, wave.f90, wf.f90:

	 - same eletronic occupations array between FPMD/CPV
	 - lot of subroutines taken out from modules and
	   corresponding interface added

2006-07-31 18:30  cavazzon

	* PW/pw_restart.f90:

	- subtle bug fix: after a restart the pseudo_dir specified in the
	  data-file.xml was not pointing anymore to the original pseudo location
	  specified in the input file.

2006-07-31 12:03  dalcorso

	* D3/Makefile, PH/Makefile, VdW/Makefile:

	Makefile update.

2006-07-31 11:05  dalcorso

	* Gamma/Makefile, PP/Makefile, PW/Makefile, PW/find_group.f90,
	  PW/summary.f90, PWCOND/Makefile:

	Added a routine to print the name of the point group. (Only with
	verbosity="high").

2006-07-28 18:17  sbraccia

	* PW/mix_rho.f90:

	Fixed a harmless array out of bound. C.S.

2006-07-28 15:00  giannozz

	* flib/sph_bes.f90:

	Minor fix to spherical bessel functions (again)

2006-07-28 12:43  cavazzon

	* CPV/: Makefile, bessel.f90, cp_interfaces.f90, pseudo_base.f90:

	- new file cp_interfaces.f90 containing the interfaces
	  to subroutines that will be taken out from the modules.
	  This will eliminate dependencies and speed-up the compilation

	  TO DEVELOPERS: to take out subroutines from modules
	                 follow the example used for bessel2 and bessel3
	                 (bessel.f90 file)

	- subroutine bessel1 removed

2006-07-28 12:38  cavazzon

	* flib/sph_bes.f90:

	- bug fix, variable ir0 was used before its definition.

2006-07-27 19:06  giannozz

	* flib/Makefile, flib/lapack_t3e.f, flib/sph_bes.f90,
	  flib/sph_dbes.f90, CPV/bessel.f90, CPV/pseudo_base.f90,
	  CPV/pseudopot.f90:

	More spherical bessel cleanup

2006-07-27 17:54  cavazzon

	* PW/cdiagh.f90:

	- workaround for a bug of PGI compiler

2006-07-27 15:11  giannozz

	* Modules/stick_base.f90:

	Workaround for Pathscale compiler bug (by Paolo Cazzato)

2006-07-27 15:03  cavazzon

	* CPV/: compute_scf.f90, cp_fpmd.f90, cplib.f90, exch_corr.f90,
	  potentials.f90, stress.f90:

	- adding fix for dual /= 4 in fpmd run
	- cleanups in vofrho and stress

2006-07-27 15:01  cavazzon

	* Modules/energies.f90:

	- cleanups

2006-07-27 14:54  giannozz

	* Doc/users-guide.tex:

	documentation updated

2006-07-26 20:24  sbraccia

	* PW/force_cc.f90:

	Fixed a bug in nlcc contribution to force and stress introduced by the recent
	modifications to v_of_rho.
	C.S.

2006-07-26 18:16  giannozz

	* PW/io_rho_xml.f90:

	Empty strings ('') not allowed in standard fortran

2006-07-26 17:18  dalcorso

	* examples/: README, example09/run_example,
	  example09/reference/ch4.nm.out, example09/reference/ch4.scf.out:

	Added an example of the lgamma_gamma symmetrization.

2006-07-26 17:02  dalcorso

	* D3/Makefile, PH/Makefile, PH/bcast_ph_input.f90,
	  PH/dynmatrix.f90, PH/find_equiv_sites.f90,
	  PH/generate_dynamical_matrix_c.f90, PH/phcom.f90, PH/phonon.f90,
	  PH/phq_readin.f90, PH/phq_setup.f90, PH/phq_summary.f90,
	  PH/set_asr_c.f90, PH/solve_e.f90, PH/solve_linter.f90:

	The new variable lgamma_gamma has been introduced in ph.x.
	This variable is .true. when xq is gamma and only the gamma point is used
	for k point sampling.
	The symmetrization used in phcg.x has been imported in ph.x in the case
	lgamma_gamma=.true..

2006-07-26 15:22  giannozz

	* flib/: Makefile, sph_bes.f90, sph_besr.f90:

	Calculation of spherical bessel functions now uses a series expansion
	for small values of the arguments - it should be numericaly more stable
	especially for high l - PLEASE CHECK
	 CVS: ----------------------------------------------------------------------

2006-07-26 15:15  giannozz

	* atomic/: compute_phi.f90, compute_phius.f90, do_mesh.f90,
	  find_qi.f90:

	Calls to sph_besr to calculate r*jl(qr) replaced by calls to sph_bes
	(same calling sequence, calculates jl(qr))

2006-07-26 15:00  giannozz

	* PW/pw_restart.f90, Modules/xml_io_base.f90:

	Fixed restarting from 'local' scratch directories, i.e. not visible to all
	processes. It was not working because pseudopotential files copied into the
	data directory were not visible to all processors. Workaround (waiting for
	a better solution): if such a situation arises, pseudopotential files are
	read from the original "pseudo_dir" instead (which has to be written into
	the restart file)

2006-07-26 14:19  cavazzon

	* CPV/cplib.f90:

	- bug fix, in blue gene code section. Thanks to C.Bekas

2006-07-26 13:42  dalcorso

	* atomic/ld1_readin.f90, atomic_doc/INPUT_LD1:

	Small changes.

2006-07-25 10:21  giannozz

	* Makefile, release.sh:

	Save ChangeLogs when packaging a release

2006-07-24 23:18  giannozz

	* configure.old:

	Oops, I made a mess with the removal of configure.old ...

2006-07-24 23:15  giannozz

	* Makefile, README.install, README.install_old, configure,
	  configure.ac, ifcmods.sh, make.sys.in, release.sh:

	Misc installation changes:
	- configure updated for mkl v. 8.1
	- added some explanation of the meaning of all variables to the
	  template make.sys.in
	- configure.old and related documentation removed;
	  a short section in README.install explains what to do
	- the (obsolete) case of ifc v.6 and earlier extracted from
	  configure and configure.old and confined in a single script
	  (ifcmods.sh)

2006-07-19 13:09  cavazzon

	* CPV/: chargedensity.f90, cplib.f90, cprsub.f90:

	- fix for BGL machine, thanks to Costas Bekas

2006-07-18 17:42  cavazzon

	* CPV/exch_corr.f90:

	- bug fix, gradient correction contribution to stress in fpmd .

2006-07-18 12:33  cavazzon

	* CPV/: main_loops.f90, potentials.f90:

	- bug fix, call to memstat with a constant argument instead of a
	  pointer.

2006-07-17 16:10  cavazzon

	* CPV/fromscra.f90:

	- bug fix, wave initialization with force pairing

2006-07-17 12:16  cavazzon

	* CPV/rundiis.f90:

	- bug fix, argument with wrong dimension, found by xlf90.
	  The error was not found by pgf90.

2006-07-17 11:15  cavazzon

	* CPV/cg.f90, CPV/cg_sub.f90, CPV/chargedensity.f90,
	  CPV/cp_restart.f90, CPV/cpr.f90, CPV/emptystates.f90,
	  CPV/forces.f90, CPV/fromscra.f90, CPV/guess.f90,
	  CPV/init_run.f90, CPV/ksstates.f90, CPV/main.f90,
	  CPV/move_electrons.f90, CPV/nl.f90, CPV/optical.f90,
	  CPV/ortho.f90, CPV/potentials.f90, CPV/restart.f90,
	  CPV/restart_sub.f90, CPV/runcg.f90, CPV/runcg_ion.f90,
	  CPV/runcp.f90, CPV/rundiis.f90, CPV/runsd.f90, CPV/smcp.f90,
	  CPV/stress.f90, CPV/wannier.f90, CPV/wave.f90,
	  Modules/wave_base.f90, Modules/wavefunctions.f90:

	- removed the spin dimension from wave function in fpmd routines.
	  Now wave functions array have only 2 indices everywhere, the first
	  for the plane waves, and the second for the electronic states.
	  When a spin calculation is performed the "spin up" states
	  are stored in the first "nupdwn(1)" columns of the wave functions
	  array, and the "spin down" states are stored in the second "nupdwn(2)"
	  columns of the same array.

2006-07-17 10:45  cavazzon

	* PP/pw_export.f90:

	- added the possibility to use the "-input" flag to specify
	  the input file. Contributed by A.Ferretti

2006-07-13 00:19  cavazzon

	* PW/pw_restart.f90:

	- Two misplaced iotk_close was causing PP to give it up when
	  some section was missing in data-file.xml (this is always true
	  for data-file.xml generated by CP)
	- Now PP works with CP for many plot_nums ... still testing

2006-07-11 19:11  cavazzon

	* examples/Restart_example/: README, run_example,
	  reference/sio2.cp.restart.out, reference/sio2.cp.start.out,
	  reference/sio2.pw.restart.out:

	- example to demostrate how it is possible to restart with PW from
	  a CP run and vice versa

2006-07-11 18:32  cavazzon

	* CPV/: cp_restart.f90, emptystates.f90, rundiis.f90, wave.f90:

	- Updates to data-file generated by CP to make it compatible with PW.
	  CP can now restart from PW , and PW (at gamma) can restart from CP.
	  In CP the following control keyword should be specified:
	    disk_io = 'high'
	  to save the charge density
	  In PW the following control keyword should be specified:
	    restart_mode='restart',
	    wf_collect = .true.
	  to save wfc

	- an example will follow

2006-07-11 16:24  giannozz

	* iotk/src/: iotk_dat+CHARACTER1_0.f90, iotk_dat+CHARACTER1_3.f90,
	  iotk_dat+COMPLEX1_0.f90, iotk_dat+COMPLEX1_3.f90,
	  iotk_dat+COMPLEX2_0.f90, iotk_dat+COMPLEX2_3.f90,
	  iotk_dat+INTEGER1_0.f90, iotk_dat+INTEGER1_3.f90,
	  iotk_dat+INTEGER2_0.f90, iotk_dat+INTEGER2_3.f90,
	  iotk_dat+LOGICAL1_0.f90, iotk_dat+LOGICAL1_3.f90,
	  iotk_dat+LOGICAL2_0.f90, iotk_dat+LOGICAL2_3.f90,
	  iotk_dat+REAL1_0.f90, iotk_dat+REAL1_3.f90, iotk_dat+REAL2_0.f90,
	  iotk_dat+REAL2_3.f90, iotk_scan.f90:

	ooops...*.f90 also updated

2006-07-11 14:40  giannozz

	* iotk/src/iotk_scan.spp:

	iotk bug with 64-bit default integers fixed

2006-07-11 12:03  dalcorso

	* PH/bcast_ph_input.f90:

	Bug fix: In the parallel case ph.x could not properly stop after max_seconds.

2006-07-10 22:15  kkudin

	* Modules/check_stop.f90:

	prefix.EXIT was broken by the last update (QE-3.1.1 does not work).
	 Kostya

2006-07-10 18:57  cavazzon

	* CPV/fpmdpp.f90:

	- fix: syntax error

2006-07-10 17:58  cavazzon

	* CPV/fpmdpp.f90:

	- cleanup + commets

2006-07-10 17:12  cavazzon

	* Doc/INPUT_CPPP:

	- new flag documented

2006-07-10 17:11  cavazzon

	* CPV/fpmdpp.f90:

	- added flag for ascii/binary file to cppp

2006-07-10 10:50  dalcorso

	* Doc/users-guide.tex:

	Small changes.

2006-07-10 10:46  dalcorso

	* atomic/: gener_pseudo.f90, pseudovloc.f90, write_results.f90,
	  write_resultsps.f90:

	Small improvements to the output of the atomic code.

2006-07-07 22:13  sbraccia

	* PH/dynmat_us.f90, PH/setup_dgc.f90, PP/add_shift_cc.f90,
	  PP/pw2casino.f90, PP/work_function.f90, PW/allocate_fft.f90,
	  PW/clean_pw.f90, PW/electrons.f90, PW/force_cc.f90,
	  PW/gradcorr.f90, PW/mix_rho.f90, PW/potinit.f90, PW/pwcom.f90,
	  PW/read_file.f90, PW/restart_in_ions.f90, PW/set_rhoc.f90,
	  PW/stres_cc.f90, PW/stres_gradcorr.f90, PW/update_pot.f90,
	  PW/v_of_rho.f90, D3/d3vrho.f90, Gamma/cg_setupdgc.f90,
	  Gamma/dynmatcc.f90, PH/dynmatcc.f90:

	1) v_of_rho has been rearranged in order to reduce the number of FFTs per step.
	Now the input of v_of_rho is the charge density in both real and reciprocal
	space (always available within the scf loop); the output is unchanged. This
	permits to get rid of one FFT for the calculation of V-Hartree and one for the
	calculation of V-XC (\nabla rhr in GGA). Array dimensions removed from the list
	of arguments of several routines (they are read from the modules). Unused
	variables removed.
	2) mix_rho has been modified in order to mix only the fourier components of the
	smooth part of the density. The FFTs in the local-TF preconditioning are done
	using the coarse mesh (cft3s). The performance of the mixing is almost
	unchanged, but the mixing itself is much cheaper. Cleanup of unused variables.
	Please, check for posible side effects of these modifications.
	C.S.

2006-07-07 10:37  tag QE-3-1-1

2006-07-07 10:37  dalcorso

	* PW/readin.f90:

	Bug fix: with the old pseudopotentials format, zv was not passed from
	pw.x to the other programs.

2006-07-07 10:17  giannozz

	* GUI/PWgui/VERSION:

	Version number updated for the GUI as well

2006-07-06 17:50  giannozz

	* configure, configure.ac, include/c_defs.h, include/defs.h.README:

	Added support for Pathscale compiler (courtesy of Paolo Cazzato)

2006-07-06 16:56  dalcorso

	* PH/: drho.f90, dvanqq.f90, solve_linter.f90:

	Bug fix: The recover of a phonon calculation with ldisp=.true. was
	not correct.

2006-07-06 16:48  dalcorso

	* PH/: phq_recover.f90, solve_linter.f90:

	Bug fix: int1 and int2 are needed to recover the US phonon calculation.
	They are saved on disk as before.

2006-07-06 16:07  dalcorso

	* PH/phonon.f90, PW/c_bands.f90:

	Avoid that a phonon run stops during bands calculation.

2006-07-06 15:26  giannozz

	* README.install, release.sh:

	Minor documentation updated

2006-07-06 15:26  giannozz

	* Doc/: refman.tex, users-guide.tex:

	Minor documentation update

2006-07-06 14:55  giannozz

	* examples/example06/reference/alas.ph.out:

	Final updates to examples

2006-07-06 14:50  giannozz

	* examples/: example02/reference/ni.phX.out,
	  example07/reference/al.elph.out, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.out,
	  example18/reference/sio2.cp.start.out,
	  example18/reference/sio2.vc-cp.out,
	  example18/reference/sio2.vc-cp.restart.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example21/reference/h2o-32.out, example21/reference/h2o-64.out,
	  example23/reference/h2o.efield.out,
	  example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.out, example25/reference/pmw.out,
	  example27/reference/c4h6.cp.metaGGA.out,
	  example28/reference/metadyn-cp-T=300K.out,
	  example28/reference/metadyn-cp.out,
	  example29/reference/si2.ensemble-dyn.out,
	  example30/reference/mgo.cp.cg.efield.out,
	  example30/reference/mgo.cp.cg.out,
	  example30/reference/mgo.cp.damp.efield.out,
	  example33/reference/ch4.fpol.out:

	Last updates to the examples

2006-07-05 23:31  sbraccia

	* Modules/check_stop.f90:

	The check on stop conditions must be done by ionode(s) and not by meta_ionode,
	otherwise parallelization on neb images doesn't work anymore. C.S.

2006-07-05 15:04  giannozz

	* atomic_doc/INPUT_LD1:

	Minor documentation update

2006-07-05 11:29  giannozz

	* Doc/: restart, users-guide.tex:

	documentation updated

2006-07-05 11:28  giannozz

	* PW/electrons.f90:

	Added comments to clarify what "electrons' does

2006-07-04 18:26  cavazzon

	* Doc/eps_man.tex:

	- updated documentation for "epsilon" post-processing

2006-07-04 15:50  degironc

	* examples/example25/: README, run_example, reference/feo_LDA.out,
	  reference/feo_LDA_again.out, reference/feo_standard.out,
	  reference/feo_user_ns.out, reference/feo_wannier.out,
	  reference/pmw.out:

	example25 (LDA+U) slightly modified, reference output updated.

2006-07-03 12:06  dalcorso

	* Modules/random_numbers.f90, PH/phq_readin.f90:

	Small bug fix.

2006-07-01 17:02  dalcorso

	* upftools/: Makefile, read_upf_tofile.f90:

	Added a small program to plot what is inside a UPF file.

2006-06-30 18:21  giannozz

	* PW/electrons.f90:

	oops...

2006-06-30 17:34  dalcorso

	* atomic/compute_phipot.f90:

	The sign of the wavefunction is computed again.

2006-06-30 17:07  giannozz

	* PW/: electrons.f90, punch.f90:

	Always save current estimate for rho during self-consistency.
	In this way the code should always find the correct charge density
	when restarting (please check!)

2006-06-30 12:21  cavazzon

	* CPV/: cprsub.f90, nlcc.f90, pseudopot.f90:

	- bug fix, "kkbeta" mistakenly used in place of "mesh" in non local
	  core correction integrals.

2006-06-30 11:02  cavazzon

	* PW/pw_restart.f90:

	- bug fix / clean-ups contributed by Andrea Ferretti

2006-06-30 11:01  cavazzon

	* Modules/xml_io_base.f90:

	- bug fix / clean-ups contributed by Aandrea Ferretti

2006-06-30 10:54  tag P

2006-06-30 10:54  dalcorso

	* PH/phonon.f90:

	Initialization of check_stop in the phonon code.

2006-06-30 00:43  kkudin

	* Modules/autopilot.f90, Modules/input_parameters.f90,
	  Modules/ions_nose.f90, Modules/read_namelists.f90, CPV/input.f90,
	  Doc/INPUT_CP:

	 Added a new thermostat type (nhptyp=3) with a control array 'nhgrp',
	allowing fine control over how thermostats are assigned to atoms
	 Kostya

2006-06-29 18:12  dalcorso

	* Gamma/Makefile, PH/Makefile:

	Makefile updated to compile previous commit.

2006-06-29 17:14  dalcorso

	* Modules/read_namelists.f90, PW/c_bands.f90, PW/electrons.f90:

	Introduced the possibility to stop (with max_seconds) and restart a band calculation.

2006-06-29 15:18  dalcorso

	* PW/c_bands.f90:

	Small problem with clocks.

2006-06-29 13:59  giannozz

	* CPV/phasefactor.f90:

	Workaround for error with Pathscale compiler

2006-06-29 13:06  cavazzon

	* CPV/: fromscra.f90, main.f90, nl.f90, potentials.f90,
	  restart_sub.f90, rundiis.f90:

	- clean-ups

2006-06-29 13:04  cavazzon

	* Doc/: INPUT_CP, eps_man.tex:

	- updated documentation for CP
	- user and reference manual for epsilon.x post processing,
	  contributed by Andrea Benassi

2006-06-29 13:02  cavazzon

	* PP/: Makefile, epsilon.f90:

	- postprocessing to calculate real and imaginary epsilon(w) and
	  jdos. Contributed by Andrea Benassi.

2006-06-29 10:29  giannozz

	* examples/: VCSexample/reference/As.vcs00.out,
	  VCSexample/reference/As.vcs500.out,
	  example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.phG.out, example02/reference/c.scf.out,
	  example02/reference/ni.nscf.out, example02/reference/ni.phX.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.scf.out, example05/reference/sibands.dat,
	  example05/reference/sibands.ps, example06/reference/alas.freq,
	  example06/reference/alas.ph.out, example06/reference/alas.phdos,
	  example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes,
	  example07/reference/al.elph.out,
	  example07/reference/al.scf.fit.out,
	  example07/reference/al.scf.out, example07/reference/lambda,
	  example08/reference/ni.dos, example08/reference/ni.dos.out,
	  example08/reference/ni.fs.bxsf, example08/reference/ni.pdos.out,
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#1(s),
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#2(d),
	  example08/reference/ni.pdos_tot, example08/reference/ni.scf.out,
	  example09/reference/dynmat.out, example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.co, example12/reference/bands.al.im,
	  example12/reference/bands.al.re,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.alwire.re,
	  example12/reference/bands.ni_down.im,
	  example12/reference/bands.ni_down.re,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example12/reference/trans.alwireh,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out, example14/reference/si.anh_G,
	  example14/reference/si.anh_X, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.out, example14/reference/si.nscf.out,
	  example14/reference/si.phG.out, example14/reference/si.phX.out,
	  example14/reference/si.scf.out, example15/reference/alas.dynG,
	  example15/reference/alas.ph.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H-cp.out,
	  example17/reference/H2+H-cp.path, example17/reference/H2+H.axsf,
	  example17/reference/H2+H.dat, example17/reference/H2+H.int,
	  example17/reference/H2+H.out, example17/reference/H2+H.path,
	  example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.axsf,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.int,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/asymmetric_H2+H.xyz,
	  example17/reference/symmetric_H2+H.axsf,
	  example17/reference/symmetric_H2+H.dat,
	  example17/reference/symmetric_H2+H.int,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.xyz,
	  example18/reference/sio2.cp.restart.out,
	  example18/reference/sio2.cp.start.out,
	  example18/reference/sio2.vc-cp.out,
	  example18/reference/sio2.vc-cp.restart.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example21/reference/h2o-32.out, example21/reference/h2o-64.out,
	  example22/reference/bands.pt.im, example22/reference/pt.cond.out,
	  example22/reference/pt.cond_t.out,
	  example22/reference/pt.nscf.out, example22/reference/pt.scf.out,
	  example22/reference/pt.tet.out, example22/reference/pt4.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example24/reference/quartz.efg.out,
	  example24/reference/quartz.scf.out,
	  example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.out, example25/reference/pmw.out,
	  example26/reference/smd1.out, example26/reference/smd2.out,
	  example26/reference/smd3.out, example26/reference/smd4.out,
	  example26/reference/smd5.out, example26/reference/smd6.out,
	  example26/reference/smd7.out,
	  example27/reference/c4h6.cp.metaGGA.out,
	  example28/reference/metadyn-cp-T=300.axsf,
	  example28/reference/metadyn-cp-T=300.metadyn,
	  example28/reference/metadyn-cp-T=300K.out,
	  example28/reference/metadyn-cp.axsf,
	  example28/reference/metadyn-cp.out,
	  example28/reference/metadyn-pw.axsf,
	  example28/reference/metadyn-pw.metadyn,
	  example28/reference/metadyn-pw.out,
	  example29/reference/si2.ensemble-dyn.out,
	  example30/reference/mgo.cp.cg.efield.out,
	  example30/reference/mgo.cp.cg.out,
	  example30/reference/mgo.cp.damp.efield.out,
	  example31/reference/si.scf.efield.out,
	  example31/reference/si.scf.efield2.out,
	  example31/reference/si.scf.out, example32/reference/h2o.cp.out,
	  example33/reference/ch4.fpol.out,
	  example33/reference/ch4.scf.out, example34/reference/ch4.scf.out,
	  example34/reference/ch4.vdw.out:

	All examples updated

2006-06-28 18:45  dalcorso

	* PW/realus.f90:

	newd_r generalized to the noncolinear/spin-orbit case. Now it can be tested
	also in these cases.

2006-06-28 11:40  dalcorso

	* PW/realus.f90:

	Bug fix: normalization of deeq corrected for the parallel case.

2006-06-28 02:25  sbraccia

	* examples/example28/run_example:

	Minor modification of meta-dynamics example. C.S.

2006-06-27 18:26  dalcorso

	* PW/punch.f90:

	Bug fix: the restart was not working correctly after a clean stop_run.

2006-06-27 18:06  dalcorso

	* Modules/read_namelists.f90, PW/newd.f90:

	Added missing bcast of the tqr variable. Cleanup of newd_nc.

2006-06-26 16:34  sbraccia

	* PW/c_bands.f90:

	What I thought was a bug in the cg diagonalization was instead my
	misunderstanding. Status quo ante recovered. C.S.

2006-06-26 09:51  cavazzon

	* CPV/: cplib.f90, emptystates.f90, forces.f90, fromscra.f90,
	  init_run.f90, input.f90, ksstates.f90, main.f90, optical.f90,
	  potentials.f90, print_out.f90, restart_sub.f90, runcg.f90,
	  runcg_ion.f90, runcp.f90, rundiis.f90, runsd.f90:

	- clean-ups

2006-06-26 09:50  cavazzon

	* clib/memstat.c:

	- allocated memory statistic using mallinfo. Mallinfo seems the most
	  used function to get the allocated memory by a process.
	  Is available on Linux and AIX, and possibly on many other systems.

2006-06-26 09:43  cavazzon

	* Modules/: input_parameters.f90, read_namelists.f90:

	- removed unused variables

2006-06-26 01:15  sbraccia

	* CPV/cpr.f90, CPV/input.f90, Doc/INPUT_CP:

	Added to CP the possibility to remove the total torque acting on the system
	(useful to simulate an isolated system). Documentation updated. C.S.

2006-06-23 20:54  sbraccia

	* PW/compute_scf.f90:

	Another bug-fix related to the istep initialization. C.S.

2006-06-23 17:47  giannozz

	* TODO, makedeps.sh, Modules/fft_scalar.f90, PW/cft3s.f90,
	  PW/ns_adj.f90, PW/pwcom.f90, include/defs.h.README, Doc/CREDITS,
	  Doc/users-guide.tex:

	Added support for Intel MKL v.8 FFTs (courtesy of Nicolas Lacorne).
	Preprocessing flag -D__FFTMKL8 must be used (configure hasn't been
	configured for this case). Whoever has access to MKL v.8 is invited
	to try and to report if it works better than FFTW. Note from the author:
	"it requires a minor bug correction in the MKL. It has been submitted
	 to Intel and will be integrated in their next release."

2006-06-23 15:46  giannozz

	* CPV/cg_sub.f90, CPV/cpr.f90, CPV/inner_loop.f90,
	  CPV/print_out.f90, CPV/smcp.f90, Modules/cell_base.f90,
	  Modules/constants.f90, Modules/electrons_base.f90,
	  Modules/ions_nose.f90, Modules/read_namelists.f90:

	Minor cleanup of unused variables and of constants

2006-06-23 12:32  giannozz

	* Doc/INPUT_PW:

	Documentation updated

2006-06-23 11:29  giannozz

	* CPV/cp_restart.f90:

	Missing deallocation was causing errors

2006-06-22 22:19  sbraccia

	* PW/: complex_diis_module.f90, real_diis_module.f90, vcsmd.f90:

	Fixed few bugs related to istep initialization: since it counts the number of
	self-consistent cycles is starts from zero. C.S.

2006-06-22 22:16  sbraccia

	* PW/c_bands.f90:

	Fixed a bug in CG diagonalization: the algorithm was initialised at each scf
	iteration except the first one (it should be the opposite). C.S.

2006-06-22 22:10  sbraccia

	* VdW/check_v_eff.f90:

	Removed unused variable. C.S.

2006-06-22 19:58  degironc

	* PW/electrons.f90:

	LDA+U: check for starting_ns should work again !

2006-06-22 18:43  degironc

	* PP/average.f90:

	improved windowing for macroscopic averages.

2006-06-22 17:41  giannozz

	* Doc/users-guide.tex:

	Documentation updated

2006-06-22 15:21  sbraccia

	* Modules/metadyn_base.f90, Modules/metadyn_io.f90,
	  Modules/path_base.f90, PW/init_run.f90, PW/input.f90,
	  PW/move_ions.f90, PW/stop_run.f90:

	Cleanup of unused variables. C.S.

2006-06-22 15:17  sbraccia

	* PW/: compute_fes_grads.f90, dynamics_module.f90, update_pot.f90:

	Fixed few bugs in meta-dynamics calculation (related to recent modifications of
	MD). C.S.

2006-06-22 15:15  sbraccia

	* Modules/constraints_module.f90, Modules/input_parameters.f90,
	  Modules/read_cards.f90, Doc/INPUT_CP, Doc/INPUT_PW:

	Added a new constraint type (bennett projection). Code provided by Guido Roma.
	C.S.

2006-06-22 12:05  cavazzon

	* CPV/: Makefile, cg_sub.f90, cp_restart.f90, cplib.f90, cpr.f90,
	  dealloc.f90, eigs0.f90, electrons.f90, emptystates.f90,
	  forces.f90, fromscra.f90, init.f90, init_run.f90, inner_loop.f90,
	  ksstates.f90, main.f90, nl.f90, nl_base.f90, optical.f90,
	  ortho.f90, ortho_base.f90, problem_size.f90, restart_sub.f90,
	  runcg.f90, runcp.f90, rundiis.f90, smcp.f90, stress.f90,
	  wannier.f90, wave.f90:

	- empty states calculation implemented also for CP
	- some more merging
	- some dependency removed
	- clean-ups

2006-06-21 14:33  dalcorso

	* upftools/ncpp2upf.f90:

	In some cases the UPF pseudopotential generated by ncpp2upf was not working
	in the atomic code.

2006-06-18 22:38  sbraccia

	* Modules/input_parameters.f90:

	Cleanup. C.S.

2006-06-16 12:29  giannozz

	* PW/: efermig.f90, efermit.f90:

	13.6058 => rytoev

2006-06-16 12:21  giannozz

	* Modules/: cell_base.f90, constants.f90, electrons_base.f90,
	  ions_nose.f90:

	terahertz and au_terahertz merged

2006-06-16 12:11  giannozz

	* Doc/: INPUT_CP, INPUT_PW:

	Documentaion updated

2006-06-16 12:10  giannozz

	* Modules/constants.f90, Modules/ions_base.f90,
	  Modules/path_base.f90, Modules/path_io_routines.f90,
	  PW/input.f90, CPV/cp_fpmd.f90, CPV/cpr.f90, CPV/eigs0.f90,
	  CPV/electrons.f90, CPV/emptystates.f90, CPV/main.f90,
	  CPV/move_electrons.f90, CPV/path_routines.f90,
	  CPV/polarization.f90, CPV/print_out.f90, CPV/runcp.f90,
	  CPV/rundiis.f90, CPV/wave_types.f90:

	Some cleanup of unit conversion variables (more to come):
	scmass => amu_au , au => autoev

2006-06-16 09:57  giannozz

	* Modules/: constants.f90, version.f90:

	- since there are two definitions of Ry, they should at least be the same !!!
	- version updated to 3.1.1 (hopefully coming soon to a theater near you)

2006-06-15 18:36  cavazzon

	* PW/pw_restart.f90:

	- bug fix, wrong dimension "npwx" read from restart file
	  in a parallel run, could cause the code crashing.

2006-06-15 16:27  sbraccia

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, Doc/INPUT_PW, PW/forces.f90,
	  PW/input.f90:

	Added a logical flag (remove_rigid_rot) used to remove the total torque acting
	on the system (useful to simulate an isolated system). Documentation updated.
	C.S.

2006-06-15 15:56  sbraccia

	* Modules/path_base.f90:

	Fixed a bug in the code for the calculation of free-energy barriers. C.S.

2006-06-14 17:26  cavazzon

	* PW/pw_restart.f90:

	- bug fix, version 3.1 was not able to restart properly when the
	  number of processors were changed

2006-06-14 16:15  giannozz

	* PH/: elphon.f90, symm.f90:

	- Electron-phonon symmetrization simplified (but still a mess)
	- default for ngauss1 in el-phon calculation set to simple gaussian
	  (ngauss1=0) . There is no reason to use Methfessel-Paxton broadening
	  to represent the delta.

2006-06-13 20:10  sbraccia

	* flib/: Makefile, remove_tot_torque.f90:

	Added a routine to remove the total torque acting on the atoms of an isolated
	system. C.S.

2006-06-13 17:35  dalcorso

	* PW/atomic_wfc_nc.f90:

	Small bug fix: vanishing components of the starting wavefunctions were not set
	to zero in the spin-orbit case.

2006-06-13 15:06  giannozz

	* Doc/: INPUT_PW, users-guide.tex:

	Documentation updated (again)

2006-06-13 12:54  giannozz

	* Doc/INPUT_PW:

	Documentation updated - the case 'phonon' is rather weird, though

2006-06-12 12:44  giannozz

	* PW/potinit.f90:

	Harmonization of thresholds for charge density normalization check:
	* 10{^-7} for renormalization/warning
	* 10^{-3} for error stop

2006-06-12 00:49  sbraccia

	* Modules/bfgs_module.f90, PW/move_ions.f90:

	Few fixes to make bfgs algorithm compatible with the new restarting procedure.
	C.S.

2006-06-08 17:44  dalcorso

	* Modules/xml_io_base.f90:

	Added missing bcast.

2006-06-08 17:22  giannozz

	* Doc/INPUT_CP:

	Documentation update

2006-06-08 16:52  giannozz

	* PW/: pw_restart.f90, read_file.f90:

	Some of the data written by PW in the XML file is no longer required
	when reading the file but assigned default values if absent. The data
	affected is mainly composed of exotic options (lda_plus_u, kunit, ...)
	or by quantities that may not necessarily be present: symmetry, Efermi,
	number of atomic wavefunctions, etc.
	This allows postprocessing of files produced by CP and by the previous
	version. For the same reason the new tag PP_CHECK issues a warning
	without stopping.
	Broadcasting of t_rev and domag was missing.

2006-06-08 13:59  giannozz

	* Modules/xml_io_base.f90:

	do not crash if new flag PP_CHECK_FILE is not found

2006-06-08 10:51  giannozz

	* install/Make.bgl:

	Preprocessing options should be -D__BGL -D__TRUE_BGL

2006-06-07 04:01  sbraccia

	* Doc/INPUT_PW, Modules/constraints_module.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  Modules/xml_io_base.f90, PW/dynamics_module.f90, PW/input.f90,
	  PW/move_ions.f90, PW/pw_restart.f90, PW/pwscf.f90,
	  PW/read_file.f90, PW/stop_run.f90, PW/update_pot.f90:

	Fixed two bugs (one related to the removal of the prefix.md file, the other to
	the extrapolation of the charge) in the restart procedure of a MD run.
	Added a control flag in the restart file used to verify if the file contains
	consistent information that can be used for post-processing.
	Cleanup of unused features and variables.
	C.S.

2006-06-06 23:39  kkudin

	* CPV/cp_restart.f90:

	 Fix another nprint_nfi related bug, related to the I/O and MPI stuff.
	 Kostya

2006-06-06 23:11  kkudin

	* CPV/cpr.f90:

	 Fixed a bug, CP should not print trajectory information into files just becauseit is the last step.
	 Kostya

2006-06-06 23:00  sbraccia

	* PW/electrons.f90:

	Diagonalization threshold for the first scf iteration performed after the first
	ionic step has been reduced to 1.D-6 (previously was 1.D-5).
	C.S.

2006-06-06 22:41  kkudin

	* CPV/input.f90:

	 Add nprint_nfi controls, I forgot to commit this file last time.
	 Kostya

2006-06-06 18:46  giannozz

	* install/: Make.altix, Make.bgl:

	Added makefile for BG/L, minor changes for Altix

2006-06-06 18:11  sbraccia

	* CPV/: cpr.f90, init_run.f90:

	Fixed a bug in constrained MD arising from the fact that in CP positions are
	sorted by specie.
	C.S.

2006-06-06 17:42  giannozz

	* PH/raman.f90:

	more explicit error messages

2006-06-06 17:05  dalcorso

	* PW/: addusdens.f90, newd.f90:

	The augmentation part of the magnetization and the magnetic field screening
	of the D coefficients is not calculated when domag=.false..

2006-06-06 16:46  giannozz

	* Doc/users-guide.tex:

	Documentation updated

2006-06-06 16:31  giannozz

	* moduledep.sh, release.sh:

	- do not use "sort -d", it serves no purpose and may confuse some systems
	- update the script for relaese packaging

2006-06-06 16:27  giannozz

	* pwtools/q2r.f90:

	Some compilers may not like a costant string in input format

2006-06-05 09:49  dalcorso

	* PWCOND/init_orbitals.f90:

	Bug fix: In particular cases the order of the orbitals was not correct.
	(A. Smogunov and ADC) (Bug found by G. Sclauzero).

2006-06-01 20:32  sbraccia

	* PW/pw_restart.f90:

	Default value for the number of tetrahedra read from the save file set to 0.
	C.S.

2006-06-01 12:51  cavazzon

	* CPV/Makefile, CPV/cg.f90, CPV/cg_sub.f90, CPV/chargedensity.f90,
	  CPV/cp_restart.f90, CPV/cplib.f90, CPV/cpr.f90, CPV/cpr_mod.f90,
	  CPV/cprstart.f90, CPV/dealloc.f90, CPV/diis.f90, CPV/eigs0.f90,
	  CPV/electrons.f90, CPV/emptystates.f90, CPV/fft.f90,
	  CPV/fftdrv.f90, CPV/forces.f90, CPV/fpmdpp.f90, CPV/fromscra.f90,
	  CPV/gsmesh.f90, CPV/guess.f90, CPV/init.f90, CPV/init_run.f90,
	  CPV/input.f90, CPV/ksstates.f90, CPV/main.f90, CPV/mainvar.f90,
	  CPV/move_electrons.f90, CPV/nl.f90, CPV/nlcc.f90, CPV/ortho.f90,
	  CPV/phasefactor.f90, CPV/potentials.f90, CPV/print_out.f90,
	  CPV/problem_size.f90, CPV/pseudopot.f90, CPV/restart.f90,
	  CPV/restart_sub.f90, CPV/runcg.f90, CPV/runcg_ion.f90,
	  CPV/runcp.f90, CPV/rundiis.f90, CPV/runsd.f90, CPV/smcp.f90,
	  CPV/stress.f90, CPV/wannier.f90, CPV/wave.f90, Doc/INPUT_CPPP,
	  Modules/electrons_base.f90, Modules/read_cards.f90,
	  Modules/wavefunctions.f90:

	- cleanups of unused features/source lines/modules
	- blue gene fix (suggested by C. Bekas)
	- CP postprocessing documentation
	- small changes to restart file to allow CP restart from
	  PW run (at gamma).

2006-06-01 11:58  giannozz

	* Doc/: BUGS, CREDITS, users-guide.tex:

	Documentation updated

2006-06-01 10:44  dalcorso

	* Makefile:

	make clean cleans also the VdW directory.

2006-05-29 16:12  dalcorso

	* Modules/xml_io_base.f90, PW/pw_restart.f90:

	The electric field variables are written in data-file.xml.
	Now punch_plot with plot_num=12 should work.

2006-05-29 11:22  giannozz

	* Doc/users-guide.tex:

	Documentatio updated

2006-05-29 11:20  giannozz

	* pwtools/metadyn_pp.f90:

	Some compilers do not like the declaration of an external function
	that is not available, even if it is not actually used

2006-05-29 11:18  giannozz

	* CPV/: exch_corr.f90, runcp.f90:

	Incorrect calls to "errore" fixed

2006-05-29 10:13  dalcorso

	* PW/: input.f90, pw_restart.f90, setup.f90:

	In a 'bands' calculation, reads the Fermi energy from data-file.xml before
	deleting it.

2006-05-28 20:14  dalcorso

	* PW/pw_restart.f90:

	Bug fix: the fractional translations read by read_file where wrong in some
	cases. (Problem found by G. Sclauzero)

2006-05-28 15:02  sbraccia

	* Modules/path_variables.f90, PW/input.f90:

	Removed unused variable. C.S.

2006-05-26 16:40  giannozz

	* Doc/: INPUT_PP, INPUT_PW, users-guide.tex:

	Documentation updated

2006-05-26 15:50  giannozz

	* GUI/PWgui/modules/atomic/: atomic-event.tcl, atomic-help.tcl,
	  atomic.tcl:

	GUI for atromic code dl1.x updated

2006-05-26 11:36  giannozz

	* flib/lapack_ibm.f:

	Missing routines added

2006-05-26 09:49  giannozz

	* Modules/fft_scalar.f90:

	SGI + SCSL works, error message removed

2006-05-25 17:42  giannozz

	* atomic/test_bessel.f90:

	f90 syntax instead of machine-dependent syntax for array initialization:
	array = (\ .. \), not [ .. ]

2006-05-23 18:50  kokalj

	* GUI/PWgui/: ChangeLog, VERSION:

	synchronizing PWgui modules with QE-3.1

2006-05-23 18:47  kokalj

	* GUI/PWgui/modules/: pw/pw-event.tcl, pw/pw-help.tcl, pw/pw.tcl,
	  atomic/atomic.tcl, ph/ph-event.tcl, ph/ph-help.tcl, ph/ph.tcl,
	  pp/pp-event.tcl, pp/pp.tcl:

	synchronizing PWgui modules with QE-3.1

2006-05-23 18:42  kokalj

	* GUI/Guib/init.tcl:

	updating ...

2006-05-19 17:21  dalcorso

	* PWCOND/rotate.f90:

	Clean-up of unused variables.

2006-05-18 20:54  giannozz

	* Doc/users-guide.tex:

	Documentation updated with the very latest ifort bugs !

2006-05-18 18:10  giannozz

	* atomic_doc/: INPUT_LD1, pseudo-gen.tex:

	documentation updated

2006-05-18 18:09  giannozz

	* Modules/metadyn_base.f90, CPV/input.f90, CPV/nl_base.f90,
	  CPV/pseudopot.f90, PW/io_rho_xml.f90:

	Various fixes for compilation on Alphas (courtesy of Giovanni Cantele)

2006-05-18 15:46  giannozz

	* atomic/: ld1_readin.f90, ld1inc.f90, run_test.f90,
	  test_bessel.f90:

	Test with Bessel functions seems to work in all cases

2006-05-18 00:13  kkudin

	* CPV/eigs0.f90:

	 Converted "local" variables with uncertain dimensions into allocatable. Please
	try to do such a conversion whenever you see such cases since they often cause
	bizzare problems that are hard to pinpoint.
	 Kostya

2006-05-17 18:16  giannozz

	* atomic/: Makefile, gener_pseudo.f90, newd_at.f90,
	  read_newpseudo.f90, read_pseudoupf.f90, run_pseudo.f90,
	  run_test.f90, start_potps.f90, test_bessel.f90:

	- added test in a spherical bessel function basis sets, not yet finished
	- fixed a weird problem that showed up only with the above test:
	  the D_lm coefficients of the PP were not initialized for the spin-down
	  (is=2) component in the lsda case for non-US PP in separable form
	  (pseudotype=2). How the correct result was obtained anyway is something
	  I still don't understand. Now the D_lm coefficients are always initialized
	  in newd_at, where the screening term is calculated
	- some cleanup here and there

2006-05-16 23:06  kkudin

	* D3/Makefile, PP/Makefile, PWCOND/Makefile, VdW/Makefile:

	 Missing electrons_base.o
	 Kostya

2006-05-15 10:18  tag QE-3-1

2006-05-15 10:18  giannozz

	* Doc/users-guide.tex:

	updated

2006-05-15 10:05  dalcorso

	* PWCOND/: condcom.f90, do_cond.f90:

	Introduced the possibility to generate a grid of 2D k-points.

2006-05-15 09:57  dalcorso

	* PWCOND/: compbs_2.f90, cond_out.f90, init_cond.f90, poten.f90,
	  transmit.f90:

	Small change: stdout used everywhere in pwcond.

2006-05-12 17:43  giannozz

	* TODO:

	Tag: QE-3-1

2006-05-12 17:01  giannozz

	* PW/: divide_et_impera.f90, io_rho_xml.f90:

	The check for the presence of charge density file
	should be done on one processor only

2006-05-12 12:06  giannozz

	* Doc/: CREDITS, users-guide.tex:

	documentataion updated

2006-05-11 20:48  sbraccia

	* examples/example17/: README, run_example, reference/H2+H-cp.axsf,
	  reference/H2+H-cp.dat, reference/H2+H-cp.int,
	  reference/H2+H-cp.out, reference/H2+H-cp.path,
	  reference/H2+H-cp.xyz, reference/H2+H.axsf, reference/H2+H.dat,
	  reference/H2+H.int, reference/H2+H.out, reference/H2+H.path,
	  reference/H2+H.xyz, reference/asymmetric_H2+H.int,
	  reference/asymmetric_H2+H.out, reference/asymmetric_H2+H.path,
	  reference/symmetric_H2+H.int, reference/symmetric_H2+H.out,
	  reference/symmetric_H2+H.path:

	Added an example of neb calculation done with cp.x. C.S.

2006-05-11 15:49  sbraccia

	* PW/dynamics_module.f90:

	Check on zero linear momentum not done in case of Langevin dynamics. C.S.

2006-05-11 10:07  giannozz

	* Doc/: BUGS, CREDITS, INPUT_PP, INPUT_PW, refman.tex, restart,
	  users-guide.tex:

	Documentation updated

2006-05-11 00:22  sbraccia

	* pwtools/Makefile:

	Makefile updated. C.S.

2006-05-10 20:51  sbraccia

	* examples/example28/: run_example,
	  reference/metadyn-cp-T=300.axsf,
	  reference/metadyn-cp-T=300.metadyn,
	  reference/metadyn-cp-T=300K.out, reference/metadyn-cp.axsf,
	  reference/metadyn-cp.metadyn, reference/metadyn-cp.out,
	  reference/metadyn-pw.axsf, reference/metadyn-pw.metadyn,
	  reference/metadyn-pw.out, README:

	Meta-dynamics example updated. C.S.

2006-05-10 20:17  sbraccia

	* CPV/compute_fes_grads.f90, CPV/input.f90,
	  Modules/constraints_module.f90, Modules/read_cards.f90:

	Fixed some bugs in finite-temperature meta-dynamics. C.S.

2006-05-10 12:03  giannozz

	* examples/: environment_variables,
	  example18/reference/sio2.cp.start.out,
	  example18/reference/sio2.vc-cp.out,
	  example18/reference/sio2.vc-cp.restart.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example21/reference/h2o-32.out, example21/reference/h2o-64.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example26/reference/smd1.out, example26/reference/smd2.out,
	  example26/reference/smd3.out, example26/reference/smd4.out,
	  example26/reference/smd5.out, example26/reference/smd6.out,
	  example26/reference/smd7.out,
	  example27/reference/c4h6.cp.metaGGA.out,
	  example28/reference/metadyn-cp.axsf,
	  example28/reference/metadyn-cp.out,
	  example28/reference/metadyn-pw.axsf,
	  example28/reference/metadyn-pw.out,
	  example29/reference/si2.ensemble-dyn.out,
	  example30/reference/mgo.cp.cg.efield.out,
	  example30/reference/mgo.cp.cg.out,
	  example30/reference/mgo.cp.damp.efield.out,
	  example32/reference/h2o.cp.out,
	  example32/reference/h2o.vib.analysis,
	  example33/reference/ch4.fpol.in,
	  example33/reference/ch4.fpol.out, example33/reference/ch4.scf.in,
	  example33/reference/ch4.scf.out, example34/reference/ch4.scf.in,
	  example34/reference/ch4.scf.out, example34/reference/ch4.vdw.in,
	  example34/reference/ch4.vdw.out:

	Examples updated. In most cases it is just the compilation date,
	File 'environment_variables' reverted to its original form

2006-05-10 12:00  giannozz

	* examples/: environment_variables, make_clean,
	  example18/reference/sio2.cp.restart.out:

	Examples updated. In most cases it is just the compilation date
	(incorrectly reported until yesterday)

2006-05-09 16:37  dalcorso

	* PW/io_rho_xml.f90:

	In the spin-orbit case, the magnetization is written on file only
	when calculated.

2006-05-09 13:28  cavazzon

	* CPV/: emptystates.f90, forces.f90, ksstates.f90, optical.f90,
	  runcg.f90, runcp.f90, rundiis.f90:

	- Bug fix, computation of empty states with FPMD

2006-05-09 09:42  giannozz

	* CPV/Makefile:

	the file containing compilation date is cpver.h, not version.h

2006-05-09 09:34  giannozz

	* examples/example31/reference/: si.scf.efield.out,
	  si.scf.efield2.out, si.scf.out:

	updated

2006-05-09 09:25  giannozz

	* examples/example25/reference/: feo_LDA.out, feo_LDA_again.out,
	  feo_standard.out, feo_user_ns.out, feo_wannier.out, pmw.out:

	Example 25 updated - PLEASE VERIFY IF RESULTS ARE CORRECT

2006-05-08 17:56  dalcorso

	* examples/example22/: run_example, reference/pt.cond_t.out,
	  reference/pt4.out:

	A transmission example added to example22.

2006-05-08 15:17  giannozz

	* examples/autopilot-example/water.autopilot.out:

	[no log message]

2006-05-08 15:15  giannozz

	* examples/autopilot-example/run_example_water:

	Example for autopilot feature added

2006-05-08 15:07  giannozz

	* examples/VCSexample/: README, run_example,
	  reference/As.vcs00.out, reference/As.vcs500.out:

	Example for Variable_Cell Simulation added

2006-05-08 14:35  giannozz

	* examples/example01/README:

	updated

2006-05-08 14:21  giannozz

	* examples/example14/reference/: si.anh_G, si.anh_X, si.d3G.out,
	  si.d3X.out, si.nscf.out, si.phG.out, si.phX.out, si.scf.out:

	updated

2006-05-08 13:35  giannozz

	* examples/example28/reference/: metadyn-cp.axsf,
	  metadyn-cp.metadyn, metadyn-cp.out, metadyn-pw.axsf,
	  metadyn-pw.metadyn, metadyn-pw.out:

	updated

2006-05-08 13:32  giannozz

	* examples/example27/reference/c4h6.cp.metaGGA.out:

	updated

2006-05-08 13:16  cavazzon

	* CPV/: compute_scf.f90, cp_fpmd.f90, cplib.f90:

	- error added when dual /= 4 is specified in FPMD
	- to avoid possible hang when print_clock('fftb') is called
	  added a dummy call to start_clock and stop_clock to all proc.
	  in parallel case.
	- default nomore for system relaxation increased in NEB calculation.

2006-05-08 12:32  giannozz

	* examples/: example24/reference/quartz.efg.out,
	  example24/reference/quartz.scf.out, example26/reference/smd1.out,
	  example26/reference/smd2.out, example26/reference/smd3.out,
	  example26/reference/smd4.out, example26/reference/smd5.out,
	  example26/reference/smd6.out, example26/reference/smd7.out:

	updated

2006-05-08 12:28  giannozz

	* examples/: example22/reference/bands.pt.im,
	  example22/reference/bands.pt.re, example22/reference/pt.cond.out,
	  example22/reference/pt.nscf.out, example22/reference/pt.scf.out,
	  example22/reference/pt.tet.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out:

	updated

2006-05-08 12:25  giannozz

	* examples/example21/reference/: h2o-32.out, h2o-64.out:

	updated

2006-05-08 12:22  giannozz

	* examples/: example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out:

	updated

2006-05-08 12:14  giannozz

	* examples/example18/reference/: sio2.cp.restart.out,
	  sio2.cp.start.out, sio2.vc-cp.out, sio2.vc-cp.restart.out:

	updated

2006-05-08 12:07  giannozz

	* examples/: example15/reference/alas.dynG,
	  example15/reference/alas.ph.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H.axsf, example17/reference/H2+H.dat,
	  example17/reference/H2+H.int, example17/reference/H2+H.out,
	  example17/reference/H2+H.path, example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.axsf,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.int,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/asymmetric_H2+H.xyz,
	  example17/reference/symmetric_H2+H.axsf,
	  example17/reference/symmetric_H2+H.dat,
	  example17/reference/symmetric_H2+H.int,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.xyz:

	updated

2006-05-08 11:57  giannozz

	* examples/example12/reference/: AlwireAl.cond.out,
	  AlwireH.cond.out, AlwireH.scf.out, al.cond.out, al.scf.out,
	  alwire.cond.out, alwire.scf.out, alwire1.scf.out, bands.al.co,
	  bands.al.im, bands.alwire.im, bands.ni_down.co, bands.ni_down.im,
	  bands.ni_down.re, ni.cond.out, ni.scf.out:

	updated

2006-05-08 11:53  giannozz

	* examples/: example09/reference/dynmat.out,
	  example09/reference/sih4.dyn.out,
	  example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out:

	updated

2006-05-08 11:49  giannozz

	* examples/example08/reference/: ni.dos, ni.dos.out, ni.fs.bxsf,
	  ni.pdos.out, ni.pdos_atm#1(Ni)_wfc#1(s),
	  ni.pdos_atm#1(Ni)_wfc#2(d), ni.pdos_tot, ni.scf.out:

	updated

2006-05-08 11:34  giannozz

	* examples/example07/reference/: al.elph.out, al.scf.fit.out,
	  al.scf.out, lambda:

	updated

2006-05-08 11:25  giannozz

	* examples/example06/reference/: alas.freq, alas.ph.out,
	  alas.phdos, alas.scf.out, matdyn.modes, q2r.out:

	updated

2006-05-08 11:21  giannozz

	* examples/example05/reference/: si.band.out, si.plotrho.out,
	  si.pp_rho.out, si.rho.dat, si.rho.ps, si.scf.out, sibands.dat,
	  sibands.ps, sicharge:

	updated

2006-05-08 11:15  giannozz

	* examples/example04/reference/: si.md2.out, si.md2_G3X.out,
	  si.md8.out:

	updated

2006-05-08 11:12  giannozz

	* examples/example03/reference/: al001.mm.out, al001.rx.out,
	  co.rx.out:

	updated

2006-05-08 11:08  giannozz

	* examples/example02/reference/: c.phG.out, c.scf.out, ni.nscf.out,
	  ni.phX.out, ni.scf.out, si.nscfX.out, si.nscfXsingle.out,
	  si.phG.out, si.phX.out, si.phXsingle.out, si.scf.out:

	updated

2006-05-08 10:13  degironc

	* PP/pw2wannier90.f90:

	close unit after use

2006-05-05 19:02  giannozz

	* examples/example13/: run_example, reference/cu.band.out,
	  reference/cu.cg.out, reference/cu.scf.out, reference/fe.angl.out,
	  reference/fe.band.out, reference/fe.pen.out,
	  reference/fe.scf.out, reference/fe.total.out,
	  reference/ni.band.out, reference/ni.scf.out,
	  reference/o2.relax.out:

	Example 13 (noncolinear magnetization) updated - PLEASE CHECK IF THE
	RESULTS MAKE SENSE. I changed the smearing in some cases from 'gaussian'
	to cold smearing

2006-05-05 17:37  degironc

	* PP/pw2wannier90.f90:

	minor change in the output format for wfc file as required by wannier90 authors.
	stefano

2006-05-05 16:05  umari

	* examples/example30/: run_example, reference/mgo.cp.cg.efield.out,
	  reference/mgo.cp.cg.out, reference/mgo.cp.damp.efield.out:

	example30 updated
	P.U.

2006-05-05 16:04  umari

	* examples/example29/: README, run_example,
	  reference/si2.ensemble-dyn.out:

	example29 updated
	P.U.

2006-05-05 16:02  umari

	* Doc/INPUT_CP:

	etresh eliminated

	P.U.

2006-05-05 16:01  umari

	* CPV/: cg.f90, cg_sub.f90, cpr.f90, inner_loop.f90, input.f90:

	etresh substituted by conv_thr
	P.U.

2006-05-05 14:23  giannozz

	* CPV/pseudopot.f90:

	Incorrect limit for x -> 0 in the calculation of derivatives of spherical
	harmonics could lead to loss of precision in stress calculation (noticed
	by Kostya)

2006-05-05 11:39  giannozz

	* Modules/autopilot.f90:

	Bug fix: electron_damping read but not used (courtesy of G. Cantele)

2006-05-05 11:03  giannozz

	* Doc/: CREDITS, INPUT_PW, users-guide.tex:

	Documentation update. PLEASE CHECK IF THE CHANGES TO THE SPIN-POLARIZED
	CASES ARE CORRECT. What is the difference between "multiplicity"
	and "tot_magnetization", by the way ?

2006-05-05 07:33  dalcorso

	* PWCOND/local.f90:

	Missing #ifdef __PARA.

2006-05-04 19:26  giannozz

	* examples/example01/: run_example, reference/al.band.cg.out,
	  reference/al.band.david.out, reference/al.scf.cg.out,
	  reference/al.scf.david.out, reference/cu.band.cg.out,
	  reference/cu.band.david.out, reference/cu.scf.cg.out,
	  reference/cu.scf.david.out, reference/ni.band.cg.out,
	  reference/ni.band.david.out, reference/ni.scf.cg.out,
	  reference/ni.scf.david.out, reference/si.band.cg.out,
	  reference/si.band.david.out, reference/si.scf.cg.out,
	  reference/si.scf.david.out:

	Example 1 updated

2006-05-04 16:37  sbraccia

	* Modules/: path_base.f90, path_io_routines.f90:

	Minor modifications of the output format. C.S.

2006-05-04 16:33  sbraccia

	* PW/: cgramg1.f90, setup.f90:

	Parallel Davidson is tested only for nbndx > 200. Some additional cleanup.
	C.S.

2006-05-04 15:21  dalcorso

	* PWCOND/local.f90:

	Bug fix: The parallel version of pwcond did not run in some machines.

2006-05-04 10:35  dalcorso

	* VdW/Makefile:

	Makefile updated.

2006-05-04 05:11  sbraccia

	* Modules/xml_io_base.f90, PW/io_rho_xml.f90, PW/update_pot.f90:

	Fixed few additional bugs in the new charge-density routines. C.S.

2006-05-04 01:24  cavazzon

	* CPV/: cp_restart.f90, fpmdpp.f90, para.f90:

	- conforming other subroutines to new charge density files

2006-05-03 23:08  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/io_pot.f90, PW/io_rho_xml.f90, PW/potinit.f90,
	  PW/remove_atomic_rho.f90, PW/update_pot.f90, PWCOND/Makefile:

	- bug fix: charge density incorrectly read in lsda case
	- io_pot removed, replaced by read_rho, write_rho. It looks like it is
	  working but more testing is needed
	- Makeifles updated

2006-05-03 21:59  kkudin

	* CPV/cplib.f90:

	 Added some missing stuff in the BGL branch. Added a flag TRUE_BGL

2006-05-03 16:33  sbraccia

	* PH/Makefile, Gamma/Makefile, PP/Makefile, PWCOND/Makefile,
	  D3/Makefile, VdW/Makefile:

	Makefiles updated. C.S.

2006-05-03 16:19  cavazzon

	* CPV/chargedensity.f90, CPV/cprstart.f90, CPV/environment.f90,
	  CPV/exch_corr.f90, CPV/init.f90, CPV/input.f90, CPV/nl_base.f90,
	  CPV/restart_sub.f90, Modules/input_parameters.f90,
	  Modules/io_global.f90, Modules/mp.f90, Modules/mp_global.f90,
	  Modules/read_namelists.f90, Modules/task_groups.f90,
	  flib/inpfile.f90:

	- Cray XD1 workaround for large communication
	- BGL porting of CP almost complete. New command
	  line argument "-ntask_groups" to specify the
	  number of task group used in parallelization.
	  to generate an executable with BGL extensions,
	  in the file make.sys the macro __BGL should
	  be specified.

2006-05-03 15:35  sbraccia

	* PW/: electrons.f90, io_rho_xml.f90, pw_restart.f90,
	  write_rho.f90, Makefile:

	Added a routine to read the charge density in the xml format. Both read_rho and
	write_rho are in the same module io_rho_xml. These routines are now used in
	pw_restart. Beware anomalous behaviours.
	C.S.

2006-05-03 04:49  sbraccia

	* PW/: print_clock_pw.f90, setup.f90:

	Parallel Davidson available again. C.S.

2006-05-02 20:43  sbraccia

	* Modules/ptoolkit.f90:

	Previous fix (reference to nonexistent matrix element) extended to other calls.
	C.S.

2006-05-02 18:52  giannozz

	* Modules/xml_io_base.f90, CPV/cp_restart.f90, CPV/print_out.f90,
	  PW/input.f90, PW/pw_restart.f90, PW/write_rho.f90:

	- CP: cleanup of dipole printout
	- PW: do not try to remove the entire prefix.save directory, it doesn't work
	  for many compilers. Remove the prefix.save/data-file.xml file instead when
	  starting a calculation from_scratch to prevent restarting from inconsistent
	  data. Notice that the original content of the prefix.save directory is
	  destroyed (except for the charge density) in the case of a non-scf or band
	  calculation as well.
	- PW+CP : write rho in binary format; in the LSDA case write rhoup+rhodw in
	  one file and rhoup-rhodw in 'polarization' file (or should it be called
	  'magnetization' like in the noncolinear case?). Beware: you cannot read
	  LSDA files produced by early versions.

2006-05-02 18:33  cavazzon

	* Modules/ptoolkit.f90:

	- bug fix, removed a reference to a non existint matrix element, which,
	  in any case, was not used.

2006-05-02 03:45  sbraccia

	* PW/: electrons.f90, potinit.f90, pw_restart.f90:

	Charge density is written on file at each scf step (in the new xml format).
	Indeed, if the charge-density is not written, neb and alike do not work anymore
	and becomes impossible to recover from a crash.
	C.S.

2006-05-02 03:41  sbraccia

	* PW/: Makefile, write_rho.f90:

	Added a routine to write the charge density in the xml format. C.S.

2006-05-02 00:14  sbraccia

	* PW/: cegterg.f90, cgramg1.f90, regterg.f90, setup.f90:

	Fixed an array out of bound in Gram-Schmidt. Cleanup of parallel Davidson.
	C.S.

2006-05-01 03:42  sbraccia

	* examples/example28/reference/: metadyn-cp.axsf,
	  metadyn-cp.metadyn, metadyn-cp.out, metadyn-pw.axsf,
	  metadyn-pw.metadyn, metadyn-pw.out:

	Meta-dynamics example updated. C.S.

2006-05-01 03:07  sbraccia

	* Doc/INPUT_CP, Doc/INPUT_PW, CPV/compute_fes_grads.f90,
	  CPV/cpr.f90, CPV/input.f90, Modules/constraints_module.f90,
	  Modules/input_parameters.f90, Modules/metadyn_base.f90,
	  Modules/metadyn_io.f90, Modules/metadyn_vars.f90,
	  Modules/read_cards.f90, PW/compute_fes_grads.f90, PW/input.f90,
	  PW/move_ions.f90, examples/example28/run_example:

	Added a specific card to set the collective variables used in meta-dynamics.
	This allowes for the possibility of setting constraints that are not collective
	variables. Example and documentation updated.
	C.S.

2006-04-28 18:27  cavazzon

	* CPV/cp_restart.f90:

	- wrong indexes for lambda, mistake of the previous commit

2006-04-28 17:56  cavazzon

	* CPV/: cp_restart.f90, exch_corr.f90, pseudo_base.f90:

	- bug fix: stress with nlcc

2006-04-27 23:25  sbraccia

	* CPV/chargedensity.f90:

	Added a missing #ifdef __PARA.  C.S.

2006-04-27 18:19  giannozz

	* Modules/pseudo_types.f90, Modules/read_upf.f90,
	  PW/upf_to_internal.f90:

	oops, lloc is NOT written into UPF pseudopotentials...

2006-04-27 17:55  giannozz

	* PW/: Makefile, electrons.f90, memory.f90, upf_to_internal.f90:

	- memory.x as implemented was impossible to maintain and basically useless.
	  We need to think to a better way to estimate the memeory usage of a run.
	- write lloc for UPF PP
	- do not write rho and potential that are never read

2006-04-27 17:50  cavazzon

	* CPV/: chargedensity.f90, cplib.f90, exch_corr.f90, main.f90,
	  modules.f90, polarization.f90, potentials.f90, print_out.f90,
	  pseudopot.f90, runcp.f90, stress.f90:

	- polarization is now written again to file prefix.pol
	- cp stress: local and hartree term computed only
	  for the 6 independent component (instead of all 9 components)
	- more BGL porting

2006-04-27 17:43  giannozz

	* Doc/: refman.tex, users-guide.tex:

	Documentation update

2006-04-27 17:10  giannozz

	* Modules/: parameters.f90, pseudo_types.f90, read_upf.f90:

	Read lloc as well with UPF

2006-04-27 16:42  dalcorso

	* PP/: local_dos.f90, punch_plot.f90:

	plotnum=10 should work also in the noncollinear case. Check removed.

2006-04-27 16:37  dalcorso

	* PP/work_function.f90:

	Generalized to non collinear case.

2006-04-27 15:53  giannozz

	* CPV/: environment.f90, pseudopot.f90, qqberry.f90:

	- write to out.N disabled (can be re-enabled by changing environment.f90)
	- cleanup in stress: sph_bes is the only routine calculating j_l(x) .
	  It wasn't properly called in previous versions for meshes starting
	  at r=0 (output was one index off). Now it should really work in all
	  cases (please test)
	- call to bess in qqberry replaced by call to sph_bes (please test)

2006-04-27 10:40  degironc

	* PW/orthoatwfc.f90:

	LDA+U: original version of orthoatmwfc (where normalization of atomic-wfc is not enforced) is reintroduced. Forces and stresses are again consistent.
	stefano

2006-04-27 04:22  kkudin

	* CPV/pseudopot.f90:

	 Tracked down the differences between the stress in the ancient CP and
	in the recent CVS. For a small test, the stress for USPPs now agrees
	much better with the ancient CP code. All the interested parties
	please test.

	 For the fix, backported the old CP's "bess" routine, since the logic
	for "sph_bes" was the cause of the differences. Please be careful when
	making "sph_bes" work for tpre=.true.

	 Another puzzle - converged CP energies were identical from the
	ancient CP through CP in PWSCF v2.1, but now are slightly different
	(same machine, compiler, etc.) The biggest difference is the
	exchange-correlation energy. Does anyone know what is the EXACT reason
	for this?

	 Kostya

2006-04-26 22:45  sbraccia

	* PW/setup.f90:

	Parallel Davidson temporarily disabled. C.S.

2006-04-26 15:53  mazzarel

	* Doc/PAW_Regular_Grid.tex:

	<develop_PAW> readme files updated

2006-04-26 14:30  mazzarel

	* PW/: electrons.f90, grid_paw_routines.f90,
	  grid_paw_variables.f90, hinit0.f90, init_run.f90, mix_rho.f90,
	  potinit.f90, sum_band.f90:

	new mix_rho mixes occ. of augm. channels too; new routine paw_prod_p ; atomic_becsum generalized to nspin=2; minor changes (RM)

2006-04-26 09:38  degironc

	* PP/pw2wannier90.f90, Modules/wannier.f90:

	small changes to pw -> wannier90

2006-04-24 19:32  sbraccia

	* Doc/INPUT_PW, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/c_bands.f90, PW/clean_pw.f90, PW/compute_fes_grads.f90,
	  PW/compute_scf.f90, PW/init_run.f90, PW/input.f90, PW/pwcom.f90,
	  PW/sum_band.f90, PH/phonon.f90:

	Fixed a bug in the definition of the diagonalization thresholds for empty
	states. This bug (introduced at the end of May 2005) was responsible for
	somehow wrong results in the case of calculations with many k-points.
	Cleanup of diagonalization thresholds: wg_set variable removed and btype array
	is now set in sum_band.
	Added a logical input variable (diago_full_acc) to decide if the empty states
	(defined as states with occupation < 1%) have to be converged at full accuracy
	or not. Defaul is .FALSE. (I am not sure this is the best choice, comments
	appreciated).
	C.S.

2006-04-24 16:44  sbraccia

	* Modules/read_uspp.f90:

	Only meta_ionode writes on stdout. C.S.

2006-04-24 15:01  sbraccia

	* Modules/: path_base.f90, path_io_routines.f90,
	  path_opt_routines.f90, path_reparametrisation.f90:

	neb&string: fixed a bug in the broyden algorithm (only for string).
	Modification of the parallel implementation: only masternode moves the path
	and then broadcasts the result to the others. C.S.

2006-04-24 12:00  degironc

	* PP/pw2wannier90.f90:

	additional small changes to pw2wannier90 interface

2006-04-21 18:50  degironc

	* Modules/wannier.f90, PP/pw2wannier90.f90:

	pw2wannier90 :  additional changes required by the Wannier90 team.

2006-04-21 17:02  sbraccia

	* CPV/runcp.f90:

	Added a missing "#ifdef __PARA". C.S.

2006-04-21 10:23  umari

	* CPV/: cg_sub.f90, inner_loop.f90:

	Added support for stress calculation within ensemble DFT, only
	for conjugate gradient
	Dynamics at constant pressure still to be checked
	P.U.

2006-04-21 05:41  sbraccia

	* Modules/path_base.f90, Modules/path_io_routines.f90,
	  Modules/path_opt_routines.f90,
	  Modules/path_reparametrisation.f90, Modules/path_variables.f90,
	  Modules/read_cards.f90, Modules/splinelib.f90,
	  CPV/main_loops.f90, CPV/stop_run.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/compute_fes_grads.f90, PW/input.f90, PW/pw_restart.f90,
	  PW/pwscf.f90, PW/stop_run.f90, Doc/INPUT_CP, Doc/INPUT_PW,
	  examples/example17/run_example, CPV/path_routines.f90:

	Cleanup of NEB code. Climbing image implemented also for the string method.
	Mariginal improvement of the broyden optimisation algorithm. The reference
	output of example17 not yet regenerated.
	C.S.

2006-04-21 02:48  kkudin

	* CPV/cglib.f90:

	 Reduce some communication.
	 Kostya

2006-04-20 16:29  sbraccia

	* Modules/metadyn_base.f90:

	Wrong filename for the save file. C.S.

2006-04-20 15:43  umari

	* CPV/: cg_sub.f90, move_electrons.f90:

	Added support for stress calculation in CPV with conjugate gradient
	The metallic case and dynamics still need to be checked.

	P.U.

2006-04-20 09:40  dalcorso

	* PW/setup.f90:

	Small bug fix: The mixed scalar-relativistic/fully relativistic case was
	not working with a local scalar-relativistic pseudo.

2006-04-19 17:49  dalcorso

	* PW/init_run.f90:

	wg initilized to 0.d0. They were written in the punch file but not initialized
	in the calculation='bands' case.

2006-04-18 16:44  dalcorso

	* PW/electrons.f90:

	Homo and Lumo are not printed with calculation='bands'.

2006-04-18 16:16  smogunov

	* PP/projwfc.f90:

	Some changes to account properly the time reversal symmetry (when present)
	for calculating the LDOS in the noncollinear case.
	A. Smogunov

2006-04-18 15:26  dalcorso

	* CPV/cp_restart.f90, Modules/xml_io_base.f90, PW/pw_restart.f90:

	- domag and t_rev written in the punch files.
	- temporary (?) fix for the fact that title is not written in the punch file.

2006-04-18 14:29  dalcorso

	* PP/projwfc.f90:

	In the spin-orbit case prints  m_j of the atomic state instead of m.

2006-04-18 14:12  dalcorso

	* Makefile, atomic_doc/make_clean,
	  atomic_doc/all-electron/test.job, atomic_doc/pseudo-gen/test.job,
	  atomic_doc/vdw-in-tfvw/clean.sh:

	make veryclean now cleans also the atomic examples.

2006-04-18 11:55  dalcorso

	* Doc/: refman.tex, users-guide.tex:

	Small changes.

2006-04-18 09:33  cavazzon

	* CPV/cg_sub.f90, CPV/chargedensity.f90, CPV/cplib.f90,
	  CPV/cpr.f90, CPV/cprsub.f90, CPV/exch_corr.f90,
	  CPV/inner_loop.f90, CPV/move_electrons.f90, CPV/nl_base.f90,
	  CPV/nlcc.f90, CPV/ortho_base.f90, CPV/pseudopot.f90,
	  CPV/runcp.f90, CPV/smcp.f90, CPV/stress.f90, CPV/wf.f90,
	  Modules/control_flags.f90, Modules/read_upf.f90,
	  PW/stres_loc.f90:

	- fix for NLCC contribution to forces and stress
	- more BGL porting
	- clean-ups

2006-04-14 12:55  cavazzon

	* CPV/restart.f90:

	- lambdas are synchronized every isave steps.
	  Possible solution of the bad energy conservation
	  observed in parallel run on some machine with USPP

2006-04-13 23:38  cavazzon

	* CPV/cplib_meta.f90, CPV/cpr.f90, CPV/dealloc.f90, CPV/eigs0.f90,
	  CPV/exch_corr.f90, CPV/fftdrv.f90, CPV/fromscra.f90,
	  CPV/init.f90, CPV/input.f90, CPV/move_electrons.f90,
	  CPV/ortho.f90, CPV/potentials.f90, CPV/restart_sub.f90,
	  CPV/runcp.f90, Modules/fft_base.f90, Modules/task_groups.f90,
	  Modules/wave_base.f90:

	- more BGL porting
	- some fixes for self interaction correction

2006-04-13 16:08  sbraccia

	* PW/ions.f90:

	Restart file was saved twice at convergence. C.S.

2006-04-12 16:52  sbraccia

	* PW/: rcgdiagg.f90, rinitcgg.f90:

	Bug in CG at gamma: wrong dimensions in a couple of reduce.  C.S.

2006-04-12 08:39  giannozz

	* configure, configure.ac:

	Fixed small bug (courtesy by David Prendergast)

2006-04-11 17:38  degironc

	* Modules/constants.f90, Modules/wannier.f90, PP/pw2wannier90.f90:

	some small additions to pw2wannier90.

2006-04-10 16:42  giannozz

	* iotk/: include/iotk_auxmacros.h, src/iotk_dat+CHARACTER1_0.f90,
	  src/iotk_dat.spp:

	Workaround for gfortran bug

2006-04-10 16:32  giannozz

	* install/Make.gfortran:

	Added support for gfortran (courtesy by Davide Ceresoli)

2006-04-10 16:02  cavazzon

	* CPV/cplib.f90:

	- fix problem that was causing smd to crash

2006-04-10 01:38  cavazzon

	* CPV/bessel.f90, CPV/chargedensity.f90, CPV/cp_fpmd.f90,
	  CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/diis.f90,
	  CPV/emptystates.f90, CPV/environment.f90, CPV/exch_corr.f90,
	  CPV/fromscra.f90, CPV/init_run.f90, CPV/main.f90,
	  CPV/modules.f90, CPV/nl.f90, CPV/nl_base.f90, CPV/potentials.f90,
	  CPV/print_out.f90, CPV/pseudo_base.f90, CPV/pseudopot.f90,
	  CPV/read_pseudo.f90, CPV/runcg_ion.f90, CPV/rundiis.f90,
	  CPV/stress.f90, Modules/cell_base.f90, Modules/mp.f90,
	  Modules/ptoolkit.f90:

	- bug fix, fpmd wasn't able to manage pseudo with radial grid
	  starting from 0.
	- more static array removed
	- clean-ups and mergings

2006-04-07 20:13  kkudin

	* Doc/INPUT_CP:

	 Update description of cell dynamics.
	 Kostya

2006-04-07 16:54  giannozz

	* CPV/cprsub.f90:

	YABIS (Yet Another Bug In Stress): CP + US case hopefully fixed (was
	bad only for l > 0 terms in q functions: same problem of sign as in NCPP).
	There are still minor discrepancies between the stress in PW and CP/FPMD,
	also in the norm-conserving case. The discrepancies are small but not
	so small to be negligible. More investigation is needed...

2006-04-07 12:39  giannozz

	* Modules/: electrons_base.f90, input_parameters.f90,
	  read_uspp.f90:

	- RRKJ PP in old format: flagging wavefunctions with zero occupancies
	  as unbound (negative occupancy) had disappeared but it is still needed
	  to prevent strange errors
	- minor cleanup

2006-04-07 09:24  giannozz

	* VdW/make.depend:

	[no log message]

2006-04-06 22:35  cavazzon

	* CPV/read_pseudo.f90:

	- Fix bug in fpmd, reading pseudo with radial grid starting
	  from 0.0

2006-04-06 19:48  giannozz

	* PH/phcom.f90:

	oops, leftover reference to char_ph

2006-04-06 14:16  giannozz

	* examples/example07/: run_example, reference/al.elph.out:

	Example 7 (already) updated

2006-04-06 14:13  giannozz

	* D3/bcast_d3_input.f90, D3/d3_readin.f90, D3/d3_summary.f90,
	  D3/d3matrix.f90, PH/bcast_ph_input.f90, PH/dynmatrix.f90,
	  PH/phcom.f90, PH/phq_readin.f90, PH/phq_summary.f90,
	  PH/punch_plot_e.f90, PH/punch_plot_ph.f90:

	The phonon code was writing garbage on output under "Title"

2006-04-06 12:26  giannozz

	* examples/example07/: README, run_example, reference/al.elph.out,
	  reference/al.nscf.out, reference/al.nscf2.out,
	  reference/al.ph.out, reference/al.scf.fit.out,
	  reference/al.scf.out, reference/lambda:

	Example for electron-phonon calculation adapted to new algorithm

2006-04-05 15:25  giannozz

	* pwtools/Makefile:

	link to a2fmod no longer needed

2006-04-05 15:15  giannozz

	* PW/Makefile, PW/a2fmod.f90, PW/enfdos.f90, PW/punch.f90,
	  PH/Makefile, PH/bcast_ph_input.f90, PH/close_phq.f90,
	  PH/dynmatrix.f90, PH/elphon.f90, PH/openfilq.f90, PH/phcom.f90,
	  PH/phq_readin.f90, PH/punch_plot_e.f90, PH/punch_plot_ph.f90,
	  PH/solve_linter.f90:

	- Electron-phonon calculation with the new (Malgorzata) algorithm should
	  now work together with dispersion calculations. No need for N separate
	  calculations for each q. The example will come soon.
	- misc el-phon cleanup, removal of old stuff
	- misc cleanup
	NOTA BENE: the phonon code badly needs a cleanup of the symmetry stuff!

2006-04-04 23:25  giannozz

	* PW/: potinit.f90, punch.f90:

	Charge density is also read from the xml file

2006-04-04 13:16  degironc

	* VdW/eff_pot.f90:

	small fix for parallel execution of vdw.x

2006-04-03 16:39  sbraccia

	* PW/input.f90:

	The "save" file is removed at the beginning of the calculation when starting
	from scratch. C.S.

2006-04-03 15:43  giannozz

	* README, Doc/INPUT.HOWTO, Doc/refman.tex, Doc/users-guide.tex:

	Documentation updated

2006-04-03 12:33  degironc

	* Makefile, makedeps.sh, VdW/Makefile, VdW/allocate_vdw.f90,
	  VdW/cegterg.f90, VdW/cg_psi.f90, VdW/cgsolve_all.f90,
	  VdW/ch_psi_all.f90, VdW/check_v_eff.f90, VdW/dv_of_drho.f90,
	  VdW/dvpsi_e.f90, VdW/eff_pot.f90, VdW/gmressolve_all.f90,
	  VdW/h_psiq.f90, VdW/incdrhoscf.f90, VdW/make.depend,
	  VdW/openfil_pp.f90, VdW/pbcg_psi.f90, VdW/polariz.f90,
	  VdW/print_clock_vdw.f90, VdW/solve_e.f90, VdW/start_vdw.f90,
	  VdW/stop_vdw.f90, VdW/vdw.f90, VdW/vdwcom.f90,
	  examples/example34/README, examples/example34/run_example,
	  examples/example34/reference/ch4.scf.in,
	  examples/example34/reference/ch4.scf.out,
	  examples/example34/reference/ch4.vdw.in,
	  examples/example34/reference/ch4.vdw.out:

	Calculation of finite (imaginary) frequency molecular polarizability using
	the approximated TF+vW scheme added.
	One new subdirectory, VdW, and one new example, example34.
	Contributed by V.H. Nguyen.

2006-04-02 23:29  cavazzon

	* CPV/compute_fes_grads.f90, CPV/compute_scf.f90, CPV/cplib.f90,
	  CPV/cpr.f90, CPV/cprstart.f90, CPV/dealloc.f90, CPV/fromscra.f90,
	  CPV/gsmesh.f90, CPV/input.f90, CPV/main.f90, CPV/main_loops.f90,
	  CPV/nlcc.f90, CPV/print_out.f90, CPV/restart_sub.f90,
	  Modules/griddim.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90:

	- important bug fix, core correction in CP was not properly set,
	  the bug was introduced with the reorganization of the fft.
	- NEB working with CP/FPMD (new calculation fpmd-neb added to check
	  all the scf engines)
	- Clean-ups

2006-04-02 02:33  sbraccia

	* PW/: ions.f90, hinit1.f90, move_ions.f90,
	  read_conf_from_file.f90:

	The ionic configuration was written in the wrong place, compromising the
	extrapolation procedure. C.S.

2006-04-02 02:29  sbraccia

	* pwtools/metadyn_pp.f90:

	Output in eV. C.S.

2006-04-02 02:28  sbraccia

	* Modules/: input_parameters.f90, parameters.f90, path_base.f90,
	  read_cards.f90, read_namelists.f90:

	Fixed bugs in the allocation of neb/string input arrays. Cleanup of unused
	parameters. C.S.

2006-04-02 00:28  sbraccia

	* Modules/xml_io_base.f90:

	Cleanup. C.S.

2006-04-02 00:27  sbraccia

	* PW/davcio.f90:

	Fixed a minor bug in one of the error messages. C.S.

2006-04-02 00:25  sbraccia

	* PW/: dynamics_module.f90, h_psi.f90, pw_gemm.f90:

	Cleanup. C.S.

2006-04-01 17:43  cavazzon

	* CPV/: cprsub.f90, modules.f90, pseudopot.f90, stress.f90:

	- important bug fix, one of the component of the stress in CP (not fpmd),
	  was carrying a wrong sign. Now checked and working with NCPP,
	  to be further checked with USPP. The stress was wrong when using
	  PP with nonlocality P or greather.

2006-03-31 23:35  kkudin

	* CPV/: cg.f90, cg_sub.f90, cglib.f90, cpr.f90, inner_loop.f90:

	 Add printout of CG subroutines' timings when CG is used. Note that for
	aesthetical reasons one may want to move logical 'tcg' from 'cg_module'
	to 'control_flags' since otherwise the 'cg_module' is needed in a lot
	of places just for 'tcg' variable.

	 Kostya

2006-03-31 21:07  giannozz

	* PW/: electrons.f90, mix_pot.f90, para.f90, summary.f90:

	ireduce => mp_sum

2006-03-31 18:00  sbraccia

	* Modules/: input_parameters.f90, read_cards.f90,
	  read_namelists.f90:

	Fixed a bug in the PLOT_WANNIER card. Dynamical allocation of input arrays for
	neb and constraints moved into the appropriate routine.
	C.S.

2006-03-30 21:43  cavazzon

	* CPV/: smcp.f90, smd.f90, smd_modules.f90:

	- bug fix, SM dynamics was crashing under some combination of input
	  parameters, because an array not allocated was used.

2006-03-30 17:33  giannozz

	* Doc/: INPUT_PW, users-guide.tex:

	Documentatoin update

2006-03-30 16:37  giannozz

	* PW/pw_restart.f90:

	Only ionode should check the existence of the XML restart file. Restarting
	from the new file format stored in local scratch directories is however not
	yet working because PP's are read by ever processor! so either a copy of PP's
	is needed on all local scratch directory or the file must be stored in a file
	system that is accessible to all processors

2006-03-30 11:43  degironc

	* PH/Makefile, PH/ccg_psi.f90, PH/cch_psi_all.f90,
	  PH/gmressolve_all.f90, PH/phcom.f90, PH/phonon.f90,
	  PH/phq_readin.f90, PH/polariz.f90, PH/solve_e_fpol.f90,
	  Doc/INPUT_PH, examples/example33/README,
	  examples/example33/run_example,
	  examples/example33/reference/ch4.fpol.in,
	  examples/example33/reference/ch4.fpol.out,
	  examples/example33/reference/ch4.scf.in,
	  examples/example33/reference/ch4.scf.out, pseudo/C.pz-vbc.UPF:

	Calculation of finite (imaginary) frequency polarizability added.
	So far it only works for non-metals and the output is specific for
	molecules (it prints polarizability, not the dielectric constants).
	Contributed by Viet Huy Nguyen.

2006-03-30 09:35  giannozz

	* examples/example17/reference/: H2+H.axsf, H2+H.dat, H2+H.int,
	  H2+H.out, H2+H.path, H2+H.xyz, asymmetric_H2+H.axsf,
	  asymmetric_H2+H.dat, asymmetric_H2+H.int, asymmetric_H2+H.out,
	  asymmetric_H2+H.path, asymmetric_H2+H.xyz, symmetric_H2+H.axsf,
	  symmetric_H2+H.dat, symmetric_H2+H.int, symmetric_H2+H.out,
	  symmetric_H2+H.path, symmetric_H2+H.xyz:

	Example 17 updated (in the hope to reduce the amount of bogus output
	diffferences in daily test)
	CVS ----------------------------------------------------------------------

2006-03-30 09:33  giannozz

	* examples/example12/reference/: AlwireAl.cond.out,
	  AlwireH.cond.out, AlwireH.scf.out, al.cond.out, al.scf.out,
	  alwire.cond.out, alwire.scf.out, alwire1.scf.out, bands.al.co,
	  bands.al.im, bands.al.re, bands.alwire.im, bands.alwire.re,
	  bands.ni_down.co, bands.ni_down.im, bands.ni_down.re,
	  ni.cond.out, ni.scf.out, trans.alwireh:

	Example 12 updated (in the hope to reduce the amount of bogus output
	diffferences in daily test)

2006-03-29 16:39  cavazzon

	* CPV/cplib.f90, CPV/environment.f90, Modules/clocks.f90:

	- bux fix in CP, in some particular cases the code was hanging when
	  colling the last print_clock, this was due to the fact that
	  some processors were not starting the clock: 'fftb'

2006-03-29 14:04  kokalj

	* PP/chdens.f90:

	if nfile > nfilemax, then reading filepp(N) or weight(N), N>nfilemax,
	produces ios /= 0; printing an explicit message in this case

2006-03-28 21:43  giannozz

	* CPV/smcp.f90, Modules/input_parameters.f90,
	  Modules/parameters.f90, Modules/read_cards.f90, PW/clean_pw.f90,
	  PW/input.f90, PW/pw_restart.f90, PW/pwcom.f90:

	More static allocations replaced by dynamic ones (nbndxx)

2006-03-28 19:48  cavazzon

	* CPV/smd.f90:

	- fixing bug seg. fault in smcp dynamic, variable taub was not allocated

2006-03-28 18:26  giannozz

	* PH/phonon.f90:

	tot_magnetization set to -1 (i.e. unset) when calculating phonon
	dispersions to prevent a stupid error when initializing non-scf
	calculations at finite k (the problem arises only with metals).
	I don't know if this may cause trouble in other cases, though.

2006-03-28 17:39  giannozz

	* clib/memstat.c:

	Only the __AIX case is kept (it was the only nonobsolete working one)

2006-03-28 16:40  sbraccia

	* CPV/: para.f90, wf.f90:

	Old style write_rho added back: it is necessary for printout of wannier
	functions and cannot be replaced by write_rho_xml.
	C.S.

2006-03-28 16:11  degironc

	* PP/pw2wannier90.f90:

	pw2wannier90.f90: parallel (R&G) and US implementation

2006-03-28 06:02  sbraccia

	* CPV/wannier_base.f90, CPV/wf.f90, Modules/read_cards.f90:

	Wannier functions were not printed when requested. Cleanup of wannier related
	stuff. C.S.

2006-03-28 00:34  sbraccia

	* Modules/path_base.f90, Modules/path_io_routines.f90,
	  PW/compute_scf.f90:

	Fixed an error in the initialization of neb variables introduced recently. C.S

2006-03-27 23:40  sbraccia

	* Doc/INPUT_PW, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PW/dynamics_module.f90, PW/input.f90:

	Added an input variable to refold the ionic coordinates into the supercell at
	each step. Fixed a serious bug in overdamped Langevin dynamics.
	C.S.

2006-03-27 19:55  giannozz

	* PW/: punch.f90, pw_restart.f90:

	The documented behavior of wf_collect is (hopefully) enforced again in PW
	wf_collect=.true.  : write the wfc to the XML directory in portable format
	wf_collect=.false. : do not write wfcs to the XML directory, leave as is
	All codes that read the xml data file should be able to automatically do
	what is needed in both cases (no warranty but I want to go home now!)
	The defaults is still .false. - not implemented for CP (but it is easy to do)

2006-03-27 19:01  cavazzon

	* CPV/cg_sub.f90, CPV/compute_scf.f90, CPV/cpr.f90, CPV/ions.f90,
	  CPV/print_out.f90, CPV/wf.f90, Modules/cell_base.f90,
	  flib/Makefile, flib/reduce.f90:

	- removed old mpi wrappers reduce.f90, that was used in CP
	- more changes for parallelization over images

2006-03-27 12:57  umari

	* CPV/: cg_sub.f90, cglib.f90, cplib.f90:

	Some cleaning in cg_sub,
	now pc2 in cglib and gram in cplib
	correctly return the updated bec's

	P.U.

2006-03-26 19:14  cavazzon

	* CPV/cp_restart.f90, CPV/cprstart.f90, CPV/emptystates.f90,
	  CPV/ksstates.f90, CPV/para.f90, CPV/wave.f90, D3/Makefile,
	  Gamma/Makefile, Modules/berry_phase.f90, Modules/clocks.f90,
	  Modules/mp_global.f90, Modules/mp_wave.f90, Modules/parser.f90,
	  Modules/printout_base.f90, Modules/read_cards.f90,
	  Modules/read_namelists.f90, Modules/recvec.f90,
	  Modules/stick_base.f90, Modules/task_groups.f90,
	  Modules/wave_base.f90, Modules/xml_io_base.f90, PH/Makefile,
	  PP/Makefile, PP/pw2wannier90.f90, PP/pw_export.f90, PW/Makefile,
	  PW/init_pool.f90, PW/pw_restart.f90, PW/startup.f90,
	  PWCOND/Makefile:

	- init_pool moved to mp_global (it is now used by CP too)
	- further changes to support image parallelization in CP
	- bug fix in XML save file for wave functions / charge density / pools .
	  In siple case and combinations of procs and polls now it seem to work.
	  More testing is required

2006-03-25 09:48  cavazzon

	* CPV/: cp_restart.f90, ksstates.f90:

	- call to write_rho_xml updated

2006-03-24 20:03  cavazzon

	* CPV/: cp_restart.f90, ksstates.f90:

	- fixed a problem with sub. arguments, due to the two
	  last updates, of the two carlo

2006-03-24 19:51  cavazzon

	* CPV/atoms_type.f90, CPV/cglib.f90, CPV/chargedensity.f90,
	  CPV/chi2.f90, CPV/compute_scf.f90, CPV/cp_fpmd.f90,
	  CPV/cp_restart.f90, CPV/cplib.f90, CPV/cpr.f90, CPV/dealloc.f90,
	  CPV/diis.f90, CPV/electrons.f90, CPV/emptystates.f90,
	  CPV/fft.f90, CPV/fftdrv.f90, CPV/guess.f90, CPV/init.f90,
	  CPV/init_run.f90, CPV/ions.f90, CPV/ions_positions.f90,
	  CPV/ksstates.f90, CPV/main.f90, CPV/mainvar.f90, CPV/nl.f90,
	  CPV/nl_base.f90, CPV/ortho.f90, CPV/ortho_base.f90,
	  CPV/polarization.f90, CPV/potentials.f90, CPV/print_out.f90,
	  CPV/problem_size.f90, CPV/pseudopot.f90, CPV/restart.f90,
	  CPV/restart_sub.f90, CPV/runcg.f90, CPV/rundiis.f90,
	  CPV/smcp.f90, CPV/smd.f90, CPV/smd_modules.f90, CPV/smlam.f90,
	  CPV/stress.f90, CPV/vanderwaals.f90, CPV/wave.f90, CPV/wf.f90,
	  Modules/griddim.f90, Modules/mp_global.f90, flib/Makefile,
	  flib/matmul.f90, flib/ngnr_set.f90:

	- static arrays dimensioned with natx removed
	- nproc substituted with nproc_image
	- mpime substituted with me_image
	- roor substituted with root_image
	- some clean-ups

2006-03-24 19:40  sbraccia

	* Modules/xml_io_base.f90, PW/pw_restart.f90, CPV/cp_restart.f90,
	  CPV/ksstates.f90, CPV/para.f90:

	Fixed a problem in the new restart file with parallelization on k-point.
	The new resart doesn't work yet with parallelization on k-points because of
	some errors (still to be fixed) in the way the wavefunctions are written and
	read. C.S.

2006-03-24 17:35  degironc

	* PP/pw2wannier90.f90:

	yet another bug corrected in the radial part.

2006-03-24 17:14  degironc

	* PP/pw2wannier90.f90:

	corrected (maybe correct) version of radial part

2006-03-24 16:45  degironc

	* PP/pw2wannier90.f90:

	radial part added to the definition of the guiding functions in pw2wannier90.

2006-03-24 12:22  cavazzon

	* CPV/print_out.f90:

	- again, call to a parallel sub. inside a processor specific "IF" section

2006-03-24 11:37  cavazzon

	* Modules/xml_io_base.f90:

	- parallel execution was hanging at the end,
	  because there was a parallel subroutine (containing barrier)
	  called in a IF( ionode ) section. Please be careful inside
	  processor specific section!

2006-03-24 04:51  kkudin

	* CPV/cp_restart.f90, CPV/print_out.f90, Modules/xml_io_base.f90:

	 Completed the addition of the last print counter. It is saved in the restart
	directory in file "print_counter.xml" when something is printed out to
	a file like $prefix.evp.
	 If, for example, iprint=10, isave=100, and the job is killed at step 150
	(via OS or $prefix.EXIT), then the next printout to file $prefix.evp will
	happen on step 160, and not 110 as before. This way file $prefix.evp is
	fully continuous without duplications, which is useful for MD trajectories.
	 Kostya

2006-03-23 19:00  cavazzon

	* CPV/atoms_type.f90, CPV/cg_sub.f90, CPV/cplib.f90, CPV/cpr.f90,
	  CPV/efield.f90, CPV/ensemble_dft.f90, CPV/init.f90,
	  CPV/init_run.f90, CPV/input.f90, CPV/ksstates.f90,
	  CPV/mainvar.f90, CPV/move_electrons.f90, CPV/nlcc.f90,
	  CPV/wf.f90, Modules/input_parameters.f90, Modules/ions_base.f90,
	  Modules/ions_nose.f90, Modules/read_cards.f90,
	  Modules/read_namelists.f90, Modules/sic.f90:

	- static array substituted with dynamic array, to reduce
	  memory requirements

2006-03-23 12:35  giannozz

	* PP/pw2wannier90.f90:

	No comma after write(..)

2006-03-23 12:00  giannozz

	* D3/Makefile, D3/openfild3.f90, Gamma/Makefile,
	  Gamma/cg_setup.f90, Modules/Makefile, Modules/io_base.f90,
	  PH/Makefile, PH/openfilq.f90, PP/Makefile, PP/openfil_pp.f90,
	  PP/pw2wan.f90, PW/Makefile, PW/ions.f90, PW/openfil.f90,
	  PW/punch.f90, PW/read_conf_from_file.f90, PW/read_file.f90,
	  PW/restart.f90, PW/write_config_to_file.f90, PWCOND/Makefile:

	Old file format and related files deleted, makefiles updated accordingly

2006-03-23 10:58  giannozz

	* Doc/: INPUT_PP, INPUT_PW, users-guide.tex:

	Documentation updated

2006-03-23 10:55  giannozz

	* CPV/: Makefile, wave.f90:

	No need to use the obsolete "io_base" module in CP

2006-03-23 10:19  cavazzon

	* CPV/brillouin.f90, CPV/cg_sub.f90, CPV/cglib.f90,
	  CPV/chargedensity.f90, CPV/chargemix.f90, CPV/chi2.f90,
	  CPV/cp_fpmd.f90, CPV/cp_restart.f90, CPV/cplib.f90,
	  CPV/cplib_meta.f90, CPV/cpr.f90, CPV/cpr_mod.f90, CPV/cprsub.f90,
	  CPV/diis.f90, CPV/electrons.f90, CPV/emptystates.f90,
	  CPV/exch_corr.f90, CPV/fftdrv.f90, CPV/fromscra.f90,
	  CPV/gtable.f90, CPV/guess.f90, CPV/init_run.f90,
	  CPV/inner_loop.f90, CPV/ksstates.f90, CPV/main.f90, CPV/nl.f90,
	  CPV/nl_base.f90, CPV/optical.f90, CPV/ortho_base.f90,
	  CPV/para.f90, CPV/polarization.f90, CPV/potentials.f90,
	  CPV/print_out.f90, CPV/pseudopot.f90, CPV/qmatrixd.f90,
	  CPV/qqberry.f90, CPV/restart.f90, CPV/restart_sub.f90,
	  CPV/runcg.f90, CPV/runcg_ion.f90, CPV/runcp.f90, CPV/rundiis.f90,
	  CPV/smcp.f90, CPV/stress.f90, CPV/turbo.f90, CPV/wave.f90,
	  CPV/wf.f90, Modules/input_parameters.f90, Modules/mp.f90,
	  Modules/read_cards.f90, PW/wgauss.f90:

	- group communicator variable substituted with intra_image_comm,
	  first step needed to parallelize neb over images also for CP.
	  Next we need to add the right communicator to all communications
	- subroutine reduce substituted everywhere with mp_sum
	- mp_sum for array with 4dims added in mp.f90
	- workaround for xlf compiler, it has problems compiling file with
	  initialization of large array in the definition line,
	  see Modules/input_parameters.f90 , initialization moved to
	  Modules/read_cards.f90 .

2006-03-23 05:02  kkudin

	* CPV/: cg.f90, cg_sub.f90, cglib.f90:

	 Some CG cleanup to reduce unnecessary memory usage (with an eye on BlueG)
	 Kostya

2006-03-23 03:19  kkudin

	* Modules/xml_io_base.f90:

	Forgot to comment out RESTARTXX
	 Kostya

2006-03-23 03:17  kkudin

	* CPV/cp_restart.f90, CPV/mainvar.f90, CPV/print_out.f90,
	  Modules/xml_io_base.f90:

	Introduce logic to save the last print counter. Designed to avoid double printing
	into files like *.pos and *.evp whenever the job is killed ungracefully (not
	completed yet ...)
	 Kostya with C.S. help

2006-03-22 19:58  giannozz

	* Modules/read_namelists.f90, PW/input.f90, PW/orthoatwfc.f90,
	  PW/setup.f90:

	calculations='bands' now does exactly what it is expected to do
	LDA+U yields normalized values for projections even if the
	atomic wavefunctions are not correctly normalized (Matteo C)

2006-03-22 18:22  giannozz

	* include/defs.h.README:

	Documentation updated

2006-03-22 18:22  giannozz

	* iotk/include/iotk_config.h:

	Updated for Nec

2006-03-22 18:13  degironc

	* Modules/Makefile, Modules/io_files.f90, Modules/wannier.f90,
	  PP/Makefile, PP/pw2wannier90.f90:

	pw2wannier90 changed so as to conform to new definition of wannier.nnkp file.
	Radial part of the projectors still need to be fixed

2006-03-22 17:51  cavazzon

	* CPV/: cplib.f90, fromscra.f90, init_run.f90, move_electrons.f90:

	- bug fixed in vofrho

2006-03-22 17:39  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PWCOND/Makefile:

	Makefile updated

2006-03-22 17:36  giannozz

	* Modules/: path_base.f90, xml_io_base.f90:

	Minor fixes

2006-03-22 17:33  giannozz

	* PW/: Makefile, cdiaghg.f90, para.f90, pw_restart.f90,
	  read_conf_from_file.f90, scala_cdiag.f90, scala_cdiaghg.f90,
	  scala_utils.f90, scopy_t3e.f90, set_kplusb.f90,
	  write_config_to_file.f90:

	cleanup of unused scalapack routines + misc cleanup

2006-03-20 23:44  giannozz

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PW/electrons.f90, PW/input.f90,
	  PW/punch.f90, PW/pwcom.f90, PW/setup.f90:

	calculation='bands' introduced (but not finished)
	leftover stuff from calculation='raman' removed

2006-03-20 10:13  dalcorso

	* PP/local_dos1d.f90:

	Generalized to the spin-orbit case.

2006-03-17 20:36  kkudin

	* Modules/control_flags.f90, Doc/INPUT_CP, CPV/cp_restart.f90,
	  CPV/input.f90, CPV/restart_sub.f90:

	 1) link disk_io to reduce_io in CP, when disk_io='low' in CP the charge
	density file is not written (perhaps the default could be reverted)
	 2) added an option ion_velocities='change_step'. Here one restarts from
	a file with CG while changing the timestep. The old timestep should be supplied
	in tolp. The main goal is to make the [t-1] ion positions to be proportionally
	smaller. This way one can go through CP->CG->CP sequence while changing the
	timestep and keeping all the ionic and Nose positions & velocities fully
	consistent as to keep previous equilibration. Perhaps variable cell variables
	should also be rescaled in the same way.

	 Option 2) is somewhat ugly in how things are specified, but practically useful
	if one does not want to re-equilibrate with the time step change.

	 I could not extract the timestep value from the restart file, is it not
	being written?

	 Kostya

2006-03-17 18:56  sbraccia

	* PW/setup.f90:

	Parallel diagonalizer at gamma disabled for IBM only. C.S.

2006-03-17 15:08  sbraccia

	* PW/stop_run.f90:

	Added other checks on the status of the I/O units.
	C.S.

2006-03-17 15:07  sbraccia

	* Modules/constants.f90, PW/dynamics_module.f90:

	Cleanup of the dynamics module. C.S.

2006-03-17 10:15  giannozz

	* install/: Make.cray-xd1, Make.ibm, Make.ibmsp, Make.macos,
	  Make.t3e:

	Machine-dependent makefiles updated

2006-03-16 19:32  giannozz

	* configure, configure.ac:

	configure should now correctly set __ESSL

2006-03-16 19:04  giannozz

	* PP/plotrho.f90, PW/cdiagh.f90, PW/cft3s.f90, PW/rdiagh.f90,
	  PW/rdiaghg.f90, CPV/fft.f90, CPV/wf.f90, flib/transto.f90,
	  Modules/fft_scalar.f90, Modules/mp.f90, Modules/parser.f90,
	  Modules/ptoolkit.f90:

	__AIX (IBM machines with essl) split into __AIX and __ESSL
	Beware: configure not yet updated

2006-03-16 18:58  cavazzon

	* CPV/: cp_restart.f90, cplib.f90, cpr.f90, environment.f90,
	  exch_corr.f90, fromscra.f90, move_electrons.f90, ortho.f90,
	  restart_sub.f90, runcp.f90:

	- adding changes needed to compute Self Interaction Correction
	  contributed by F.Baletto

2006-03-16 16:37  dalcorso

	* PP/bands.f90:

	Improved algorithm.

2006-03-16 14:19  giannozz

	* PW/stres_us.f90:

	Yet another bug in stress: LSDA + Gamma point

2006-03-16 10:28  dalcorso

	* D3/Makefile, Gamma/Makefile, PWCOND/Makefile:

	Makefile updated.

2006-03-16 04:41  kkudin

	* CPV/print_out.f90, Modules/printout_base.f90:

	 Added an option to the CP output routine to print out various files with
	atomic labels and also to print out *.pos file as XYZ
	 The option is off by default, but can be enabled with nice_output_files=.true.
	in print_out.f90 source.

	 Kostya

2006-03-16 02:58  kkudin

	* CPV/cp_restart.f90, Modules/xml_io_base.f90:

	 Added a comment line to the xml_io_base.f90 to make it easy to get back
	the earlier RESTARTXX name for the directory.

	 Also, added a logical parameter "write_charge_density" to cp_restart.f90
	Setting it to "false" gets rid of the "charge-density.xml" file. Perhaps,
	this could become an input parameter at some point.

	 As a side comment, running never ending CP dynamics is a bit different
	from PW calculations which will finish at some point. Thus saving as little
	stuff as possible is highly desirable (with options to save more).

	 Kostya

2006-03-15 15:59  giannozz

	* PW/setup.f90:

	Parallel diagonalization in the gamma case does not seem to work,
	at least on sp - disabled for now

2006-03-15 12:23  giannozz

	* CPV/Makefile, CPV/cp_fpmd.f90, CPV/cplib.f90, CPV/cpr_mod.f90,
	  CPV/cprsub.f90, CPV/nl_base.f90, CPV/pseudopot.f90,
	  CPV/qqberry.f90, CPV/wf.f90, Modules/read_uspp.f90:

	- combined index instead of two symmetric indices for array dqrad
	- the logic of the combined index for US PP is now the same everywhere
	  (i.e in PW, CP, and in the pseudopotential format):
	     do iv=1,N
	        do jv=iv,N
	           ijv=jv*(jv-1)/2+iv
	  (in PW the indices are called nb, mb). In order to get ijv from (iv,jv):
	     if (iv > jv) then
	         ijv=iv*(iv-1)/2+jv
	     else
	         ijv=jv*(jv-1)/2+iv
	     end if
	- the above change also fixes a serious bug affecting Vanderbilt US PP
	  in UPF format (only half of the qfcoef array was present, but not the
	  good half)

2006-03-14 14:54  giannozz

	* PP/: poormanwannier.f90, projwfc.f90:

	Oops...pmw.x wasn't working

2006-03-14 11:59  giannozz

	* PW/: drhoc.f90, read_ncpp.f90, readin.f90, setup.f90,
	  upf_to_internal.f90:

	Variable "msh" was set in many places but not in all cases
	Now it is set in one place and hopefully in all cases

2006-03-14 10:24  giannozz

	* PP/: openfil_pp.f90, poormanwannier.f90, postproc.f90:

	cleanup; openfil_pp should disappear soon

2006-03-14 10:23  giannozz

	* PW/: compute_fes_grads.f90, openfil.f90, punch.f90,
	  pw_restart.f90, read_conf_from_file.f90, read_file.f90,
	  restart.f90:

	- "else" instead of "#else" in read_file was causing all kinds of problems
	- name of the restart directory changed for ".save-new" to ".save"

2006-03-13 18:21  sbraccia

	* PW/: init_run.f90, openfil.f90, pw_restart.f90, read_file.f90,
	  wfcinit.f90:

	Fixed a bug related to the opening and closing of the wavefunctions unit
	(iunwfc). Added additional tests on the IO units.
	C.S.

2006-03-13 17:57  sbraccia

	* Modules/metadyn_io.f90:

	Fixed a bug in the restart file for meta-dynamics. C.S.

2006-03-13 17:38  sbraccia

	* PW/: punch.f90, stop_run.f90:

	Fixed a problem related to the way neb code handles files. C.S.

2006-03-13 17:36  sbraccia

	* Modules/path_opt_routines.f90:

	Removed debug printout. C.S.

2006-03-13 17:35  sbraccia

	* PW/davcio.f90:

	Added a check to verify if the unit is opened.
	C.S.

2006-03-11 21:44  umari

	* CPV/cg_sub.f90:

	small change in critical case recovery.

	P.U. & I.D.

2006-03-11 14:04  giannozz

	* PW/openfil.f90:

	startingwfc='from_file' was yielding 'cannot open connected unit' error

2006-03-10 23:35  sbraccia

	* Modules/bfgs_module.f90:

	Bug fix in the BFGS algorithm: the code doesn't loop indefinitely anymore when
	trust_radius gets shorter than the minimum (it simply stops with an error
	message).
	Default value for trust_radius_min reduced to 1.D-4 bohr.
	C.S.

2006-03-10 23:31  sbraccia

	* PW/input.f90, Doc/INPUT_PW, Modules/control_flags.f90,
	  Modules/read_namelists.f90, PW/dynamics_module.f90:

	Added the possibility of performing over-damped Langevin dynamics (PW only).
	C.S.

2006-03-10 23:27  sbraccia

	* PW/: ions.f90, punch.f90:

	oops, wrong files in the previous commit. C.S.

2006-03-10 23:06  sbraccia

	* PW/: ions.f90, pwscf.f90, stop_run.f90:

	Still on the call to punch: now the save file is written at the end of each
	self-consistency (no matters how the level of I\O is set) and at the end of
	the run (in stop_run).
	C.S.

2006-03-10 17:02  cavazzon

	* CPV/: cp_fpmd.f90, cprsub.f90, eigs0.f90, init_run.f90,
	  ortho_base.f90, pseudopot.f90, qqberry.f90, runcp.f90:

	- bug fix in fill_qrl, to be further examined
	- fill_qrl from cplib to pseudopot
	- ortho: mxma substituted with dgemm and pmatmul (parallel)

2006-03-09 14:49  sbraccia

	* PW/stop_run.f90:

	oops, punch has not to be called here at convergence. C.S.

2006-03-09 14:43  sbraccia

	* PW/stop_run.f90:

	Added a call to "punch": this is necessary to restrt from an interrupted run.
	C.S.

2006-03-09 14:20  giannozz

	* Modules/fft_scalar.f90:

	Changes for Nec-SX6

2006-03-09 14:19  giannozz

	* PP/: Makefile, d_matrix_so.f90:

	Unused variables removed (gave problems with Nec)
	Makefile updated

2006-03-09 14:09  giannozz

	* Doc/: INPUT_PW, users-guide.tex:

	Documentation updated

2006-03-09 10:57  cavazzon

	* CPV/fft.f90, CPV/fftdrv.f90, Modules/control_flags.f90,
	  Modules/mp_global.f90, Modules/task_groups.f90:

	- adding Task Groups fft driver (Blue Gene)

2006-03-08 19:05  giannozz

	* PW/: Makefile, stres_us.f90:

	Nasty bug in Gamma-only stress calculation when lmax=0
	Makefile updated

2006-03-08 17:50  umari

	* CPV/efermi.f90:


	variable entrospin is correctely assigned
	However this does not affect previous results

	P.U.

2006-03-08 17:29  cavazzon

	* Modules/task_groups.f90:

	- oops, syntax error

2006-03-08 17:28  cavazzon

	* Modules/task_groups.f90:

	- removed circular dependency between fft_base and task_groups

2006-03-08 12:18  giannozz

	* PH/add_for_charges.f90:

	Excessive usage of memory fixed

2006-03-08 11:39  dalcorso

	* PP/projwfc.f90:

	In the LSDA case, projections are now written in two separate files.

2006-03-08 11:10  giannozz

	* PH/: Makefile, openfilq.f90:

	- fix for alpha compilation (and bad check anyway)
	- Makefile updated

2006-03-08 11:08  giannozz

	* Modules/: read_cards.f90, wave_base.f90:

	- added check on end-of-file when reading atomic data
	- fix for alpha compilation in wave_base

2006-03-08 11:07  giannozz

	* README.install, configure, configure.ac, release.sh:

	Documentation updtae
	configure: option -fpe1 for alpha

2006-03-08 10:21  cavazzon

	* Modules/task_groups.f90:

	- task_group was not compiling in scalar build

2006-03-08 10:03  cavazzon

	* CPV/Makefile, CPV/cprsub.f90, CPV/dealloc.f90,
	  Modules/task_groups.f90:

	- more Blue Geen stuff, task groups initialization subroutine.

2006-03-08 05:00  sbraccia

	* Modules/path_base.f90, Modules/path_io_routines.f90,
	  Modules/path_opt_routines.f90,
	  Modules/path_reparametrisation.f90, Modules/path_variables.f90,
	  PW/compute_fes_grads.f90, PW/compute_scf.f90:

	Cleanup of unused variables. C.S.

2006-03-08 03:04  sbraccia

	* Modules/bfgs_module.f90:

	Fixed a small bug in the bfgs algorithm: the memory of the last successeful
	was lost lost in the case of a history reset.
	C.S.

2006-03-08 00:05  sbraccia

	* PW/setup.f90:

	Added missing barriers in the automatic test for the parallel diagonaliser: they
	are necessary to syncronise the jobs before measuring the time.
	C.S.

2006-03-07 18:22  giannozz

	* Modules/read_uspp.f90:

	oops...RRKJ3 format was not working

2006-03-07 15:00  giannozz

	* PH/Makefile, PP/Makefile, PP/pw2gw.f90, PWCOND/Makefile,
	  D3/Makefile, Gamma/Makefile:

	Makefiles updated

2006-03-07 15:00  giannozz

	* Modules/read_upf.f90:

	functions scan_begin, scan_end must be public

2006-03-07 14:59  giannozz

	* PW/: Makefile, paw.f90, readin.f90, restart.f90:

	makefile and module usaghe updated

2006-03-07 14:29  giannozz

	* atomic/: Makefile, c6_tfvw.f90, ld1_setup.f90,
	  read_pseudoupf.f90:

	Makefile and module names updated; format P should be 1P

2006-03-07 14:26  giannozz

	* Modules/Makefile, Modules/read_oldpseudo.f90,
	  Modules/read_upf.f90, Modules/read_uspp.f90,
	  Modules/readpseudo.f90, CPV/Makefile, CPV/read_pseudo.f90:

	More USPP cleanup (or maybe mess-up) and memory reduction
	Only CP compiles right now, the rest is coming soon

2006-03-07 11:15  giannozz

	* CPV/: cp_fpmd.f90, cplib.f90, cprsub.f90, modules.f90,
	  nl_base.f90, pseudopot.f90, qqberry.f90, wf.f90:

	Memory saving in US PP and small boxes: packed form for more arrays
	PLEASE NOTE: the logic for packed index is as follows everywhere
	do i=1,N
	   do j=1,i
	      ij = (i-1)*i/2 + j
	This is equivalent to
	ij = 0
	do i=1,N
	   do j=1,i
	      ij = ij + 1
	This is not (yet) the same as used in PW, though

2006-03-06 14:31  giannozz

	* CPV/read_pseudo.f90, Modules/read_oldpseudo.f90, PW/Makefile,
	  PW/read_pseudo.f90, PW/readin.f90, PW/readnewvan.f90:

	More pseudopotential cleanup - unexpected side effects are possible

2006-03-06 12:12  giannozz

	* PW/Makefile, Modules/read_oldpseudo.f90, PW/readin.f90,
	  PW/readvan.f90:

	Routines for old Vanderbilt format merged - some details still to be fixed

2006-03-06 11:39  giannozz

	* CPV/Makefile, CPV/cplib.f90, CPV/cprsub.f90, CPV/modules.f90,
	  CPV/pseudopot.f90, CPV/qqberry.f90, CPV/read_pseudo.f90,
	  Modules/Makefile, Modules/uspp.f90, flib/simpsn.f90:

	- memory usage of arrays qradb, dqrad reduced whenever the maximum number
	  of beta functions is smaller than the fixed maimum nbrx
	- routines for herman-skillman integration moved together to other
	  integration routines in flib/ . We should one day decide which one of
	  these routines should be used: they all do basically the same thing
	- routine reading ultrasoft PP in the old Vanderbilt format moved to
	  Modules/. More USPP cleanup coming soon.

2006-03-06 00:02  cavazzon

	* Modules/Makefile, Modules/fft_base.f90, Modules/fft_types.f90,
	  Modules/mp.f90, Modules/mp_global.f90, Modules/parameters.f90,
	  Modules/stick_base.f90, Modules/task_groups.f90,
	  Modules/wave_base.f90, PW/data_structure.f90:

	- changes needed for blue gene porting

2006-03-03 16:02  dalcorso

	* PW/: input.f90, mix_rho.f90:

	Mixing "local-TF" seems to work in the noncollinear/spin-orbit cases.
	Check removed.
	Bug fix in the LSDA case.
	The exponential of zero is not computed.

2006-03-03 15:19  giannozz

	* PW/: allocate_nlpot.f90, bp_c_phase.f90, bp_calc_btq.f90,
	  bp_qvan3.f90, c_phase_field.f90, dqvan2.f90, gen_us_dj.f90,
	  gen_us_dy.f90, h_epsi_her.f90, init_us_1.f90, input.f90,
	  qvan2.f90, realus.f90, scale_h.f90:

	Replaced several allocations with fixed dimensions with dimensions
	calculated at run-time (should save some memory.
	DIIS diagonalization disabled

2006-03-03 15:17  giannozz

	* CPV/: cpr_mod.f90, pseudopot.f90, qqberry.f90:

	Replaced several allocations with fixed dimensions with dimensions
	calculated at run-time; combined index instead of two symmetric indices
	in some PP arrays. Should save a sizable amount of memory.

2006-03-03 15:14  giannozz

	* Modules/uspp.f90:

	Added variable "nbetam": maximum number of beta functions actually needed.
	Should replace "nbrx" in the dimensioning of variables whenever possible
	(i.e. except arrays read from PP files) to save memory.

2006-03-02 19:25  giannozz

	* CPV/pseudopot.f90:

	Do not allocate memory used by variable-cell if doing fixed-cell

2006-03-02 16:45  sbraccia

	* CPV/path_routines.f90:

	Removed obsolescent variables that I forgot in the yesterday's cleanup.
	C.S.

2006-03-01 21:10  sbraccia

	* Modules/path_base.f90:

	oops ...  C.S.

2006-03-01 20:59  sbraccia

	* Doc/INPUT_CP, Doc/INPUT_PW,
	  examples/example17/reference/H2+H.axsf,
	  examples/example17/reference/H2+H.dat,
	  examples/example17/reference/H2+H.int,
	  examples/example17/reference/H2+H.out,
	  examples/example17/reference/H2+H.path,
	  examples/example17/reference/H2+H.xyz,
	  examples/example17/reference/asymmetric_H2+H.axsf,
	  examples/example17/reference/asymmetric_H2+H.dat,
	  examples/example17/reference/asymmetric_H2+H.int,
	  examples/example17/reference/asymmetric_H2+H.out,
	  examples/example17/reference/asymmetric_H2+H.path,
	  examples/example17/reference/asymmetric_H2+H.xyz,
	  examples/example17/reference/symmetric_H2+H.axsf,
	  examples/example17/reference/symmetric_H2+H.dat,
	  examples/example17/reference/symmetric_H2+H.int,
	  examples/example17/reference/symmetric_H2+H.out,
	  examples/example17/reference/symmetric_H2+H.path,
	  examples/example17/reference/symmetric_H2+H.xyz:

	NEB: documentation and examples updated. C.S.

2006-03-01 20:57  sbraccia

	* CPV/path_routines.f90, Modules/input_parameters.f90,
	  Modules/path_base.f90, Modules/path_io_routines.f90,
	  Modules/path_opt_routines.f90, Modules/path_variables.f90,
	  Modules/read_namelists.f90, PW/input.f90:

	Cleanup of NEB related stuff: unused variables and algorithms have been
	removed. C.S.

2006-03-01 16:25  giannozz

	* PW/: cegterg.f90, cgramg1.f90, pw_restart.f90, regterg.f90,
	  setup.f90:

	Not sure the new format works in the noncolinear case, but for sure
	it was not working before. TABs removed

2006-02-28 12:01  cavazzon

	* CPV/: cprstart.f90, environment.f90, stop_run.f90:

	- program_name is no more used in the definition of
	  the environment

2006-02-27 21:06  sbraccia

	* CPV/compute_fes_grads.f90, CPV/compute_scf.f90, CPV/cpr.f90,
	  CPV/cprstart.f90, CPV/environment.f90, CPV/fromscra.f90,
	  CPV/init.f90, CPV/input.f90, CPV/path_routines.f90,
	  CPV/stop_run.f90, Modules/ions_nose.f90, Modules/path_base.f90,
	  Modules/path_io_routines.f90, Modules/read_cards.f90,
	  PW/compute_fes_grads.f90:

	Fixed several bugs in the code used to compute free-energy barriers (for both
	CP and PW). C.S.

2006-02-27 21:01  sbraccia

	* PW/dynamics_module.f90:

	[no log message]

2006-02-27 18:37  giannozz

	* PW/: pw_restart.f90, read_file.f90:

	Also wavefunctions are read from the file in new format. For the time being
	wavefunctions are read, distributed across processors, written to file in
	the old format. Very ineffective but it should work (at least in the fixed
	cell case; variable-cell still to be fixed).

2006-02-27 13:45  giannozz

	* PP/: Makefile, pw2gw.f90:

	Makefile updates (Andrea Ferretti)

2006-02-24 18:46  giannozz

	* PW/: pw_restart.f90, read_file.f90:

	The charge density is written and read to the XML restart file

2006-02-24 18:36  giannozz

	* Doc/: INPUT_PW, users-guide.tex:

	Documentation update

2006-02-23 23:10  cavazzon

	* CPV/cplib.f90, CPV/fft.f90, CPV/nlcc.f90, CPV/smd.f90,
	  CPV/wf.f90, Modules/fft_types.f90:

	- Box grid data layout descriptor used in fft high level driver
	- fix in smdinit for Box grid descriptor

2006-02-23 17:20  degironc

	* PP/pw2wannier90.f90:

	bug corrected in pw2wannier: ordering of k+G in guiding functions was incorrect

2006-02-23 14:07  giannozz

	* Modules/fft_scalar.f90:

	Parallel fft on boxes with FFTW3 was not properly done
	Now it seems to work but the Cu example in example 1 crashes
	for no apparent good reason in parallel

2006-02-23 02:41  kkudin

	* CPV/cpr.f90:

	Moved the calculation of current time to the proper place
	Otherwise the printed time was (nstep-1)*fact, and not nstep*fact
	 Kostya

2006-02-22 18:38  giannozz

	* Modules/fft_scalar.f90, CPV/fft.f90, PW/cft3s.f90,
	  PW/gradcorr.f90, PW/para.f90:

	Support for FFT v.3 added (for good this time)

2006-02-21 23:25  giannozz

	* Modules/fft_scalar.f90:

	More fft cleanup (including compilation errors in untested cases)

2006-02-21 17:15  giannozz

	* CPV/cp_fpmd.f90, CPV/fft.f90, PW/cft3.f90, PW/cft3s.f90,
	  PW/ggen.f90:

	Added __USE_3D_FFT option for testing purposes. In serial execution, it
	does not use 'sticks' in the fft for wavefunctions; in parallel execution,
	it uses the 3d serial fft (valid for one processor per pool only!)

2006-02-21 17:12  giannozz

	* Modules/fft_scalar.f90:

	Removed obsolete Fujitsu ffts, added fftw v.3, without serial sticks and
	parallelized boxes. No warranty it will work: I would be surprised if it did

2006-02-20 10:42  cavazzon

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PWCOND/Makefile:

	- Makefile updated

2006-02-20 00:29  cavazzon

	* CPV/cg_sub.f90, CPV/cglib.f90, CPV/chargedensity.f90,
	  CPV/chargemix.f90, CPV/cplib.f90, CPV/cpr.f90, CPV/dealloc.f90,
	  CPV/diis.f90, CPV/electrons.f90, CPV/exch_corr.f90,
	  CPV/fpmdpp.f90, CPV/fromscra.f90, CPV/init.f90, CPV/init_run.f90,
	  CPV/inner_loop.f90, CPV/input.f90, CPV/ksstates.f90,
	  CPV/mainvar.f90, CPV/move_electrons.f90, CPV/optical.f90,
	  CPV/para.f90, CPV/print_out.f90, CPV/restart_sub.f90,
	  CPV/rundiis.f90, CPV/smcp.f90, CPV/wf.f90,
	  Modules/control_flags.f90, Modules/fft_base.f90,
	  Modules/fft_types.f90, Modules/xml_io_base.f90:

	- charge density is now read and written in CP/FPMD trough xml subroutine
	- CP/FPMD post processing updated, charge and states written in xsf/grd format
	- CP rhoofr moved to file chargedensity.f90
	- merged from_scratch subroutine

2006-02-17 15:42  sbraccia

	* PW/compute_fes_grads.f90:

	... oops, wrong file in the previous commit.
	C.S.

2006-02-17 15:35  sbraccia

	* PW/compute_fes_grads.f90:

	Fixed some bugs affecting the wfc extrapolation in the computation of free-energy barriers.
	C.S.

2006-02-17 15:32  sbraccia

	* pwtools/metadyn_pp.f90:

	Fixed an error in the FES recosntruction.
	C.S.

2006-02-17 12:14  giannozz

	* Modules/xml_io_base.f90:

	oops, first compile, then commit ...

2006-02-17 12:10  giannozz

	* Modules/xml_io_base.f90:

	Only the processor that creates the restart directory should check
	if it is writable (suggested by Matteo Cococcioni)

2006-02-17 11:27  dalcorso

	* PP/projwfc.f90:

	Added the possibility to write the projections on file.

2006-02-16 23:39  cavazzon

	* CPV/Makefile, CPV/band_type.f90, CPV/charge_types.f90,
	  CPV/cptypes.f90, CPV/exch_corr.f90, CPV/fftdrv.f90, CPV/main.f90,
	  CPV/potentials.f90, CPV/runcp.f90, Modules/Makefile,
	  Modules/electrons_base.f90, Modules/fft_base.f90,
	  Modules/mp_buffers.f90, Modules/mp_wave.f90:

	- fft scatter (alltoallv), transpose (alltoall), itranspose (isend/irecv)
	  made interchangeable (see Module/fft_base and CPV/fftdrv for more detail)
	- obsolete files removed

2006-02-16 17:48  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PWCOND/Makefile:

	Update of Makefiles

2006-02-16 17:46  giannozz

	* README, TODO, configure, configure.ac:

	Doc and configure update (for sgi)

2006-02-16 17:45  giannozz

	* PW/clean_pw.f90, Modules/fft_scalar.f90:

	Some more FFT cleanup

2006-02-16 14:38  dalcorso

	* PW/input.f90:

	The code stops in the noncollinear case if wfc_order > 0.

2006-02-16 14:22  giannozz

	* Modules/fft_scalar.f90, PW/Makefile, PW/cft3.f90, PW/cft3s.f90,
	  PW/cft_3.f90:

	All machine-dependent 3d FFTs moved to module fft_scalar

2006-02-16 09:02  degironc

	* PW/tabd.f90:

	corrected a typo for Cobalt in tabd.f90

2006-02-15 18:17  giannozz

	* PW/setup.f90:

	xlf complains about missing comma in format
	sCVS: ----------------------------------------------------------------------

2006-02-15 18:11  giannozz

	* CPV/: Makefile, crayfft.f90, fft.f90, fftdrv.f90:

	NEC FFT replaced by the one in fft_scalar

2006-02-15 18:10  giannozz

	* Modules/fft_scalar.f90:

	- NEC FFT added to fft_scalar: no idea whether it works!
	- a few comments updated, some cleanup

2006-02-15 12:03  giannozz

	* Modules/fft_scalar.f90, PH/Makefile, PW/Makefile, PW/cft3.f90,
	  PW/cft3s.f90, PW/cft_sun.f90:

	SUN FFT's merged into fft_scalar - no more cft_1 and cft_2.
	In fft_scalar the convention for the sign of the transform
	is now the most common one, and not the essl one. Comments
	updated to reflect this and other changes.

2006-02-15 10:50  dalcorso

	* examples/example11/reference/: O.out, O_gamma.out, al.out:

	Example 11 updated.

2006-02-14 18:04  dalcorso

	* PW/: electrons.f90, setup.f90, summary.f90:

	Bug fix: HOMO-LUMO levels with fixed occupations ware wrong in some cases.
	Fixed occupations are written on output. (suggested by G. Sclauzero)
	Additional checks on the occupations.

2006-02-14 17:06  giannozz

	* Doc/: INPUT_CP, INPUT_WFDD, refman.tex:

	Documentation for wfdd added (manu)

2006-02-14 17:05  giannozz

	* PP/: Makefile, wfdd.f90:

	Updated wfdd from Manu

2006-02-14 15:54  giannozz

	* pwtools/: Makefile, q2r.f90:

	Call to serial fft changed, Makefile updated

2006-02-14 15:44  giannozz

	* PWCOND/cft3sp.f90:

	Wrapper for serial 3d fft no longer needed

2006-02-14 15:22  giannozz

	* PWCOND/: Makefile, poten.f90:

	Makefile updated

2006-02-14 15:21  giannozz

	* PP/Makefile:

	Updated

2006-02-14 15:18  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PH/elphon.f90:

	Makefile update

2006-02-14 15:17  giannozz

	* PW/: Makefile, cft3s.f90, cft_3.f90, cft_fftw.f90, cft_sgi.f90,
	  cft_sp.f90, cft_t3e.f90, cfts_3.f90:

	First attempt of a cleanup of FFT mess in PW

2006-02-14 15:15  giannozz

	* Modules/: path_reparametrisation.f90, read_namelists.f90:

	- workaround for mips compiler bug
	- changed default for Wannier as suggested by Manu

2006-02-14 15:13  giannozz

	* CPV/fft.f90:

	Compilation problem with fftw

2006-02-14 11:23  cavazzon

	* CPV/Makefile, CPV/cg_sub.f90, CPV/chargedensity.f90,
	  CPV/chargemix.f90, CPV/cplib.f90, CPV/cplib_meta.f90,
	  CPV/environment.f90, CPV/exch_corr.f90, CPV/fft.f90,
	  CPV/fftdrv.f90, CPV/forces.f90, CPV/init.f90, CPV/inner_loop.f90,
	  CPV/interfaces.f90, CPV/interfaces_main.f90, CPV/ksstates.f90,
	  CPV/main.f90, CPV/miller.f90, CPV/nlcc.f90, CPV/ortho.f90,
	  CPV/ortho_base.f90, CPV/para.f90, CPV/potentials.f90,
	  CPV/print_out.f90, CPV/problem_size.f90, CPV/restart.f90,
	  CPV/wf.f90, Modules/fft_types.f90:

	- fft drivers reorganization, elimination of redundant subroutines

2006-02-13 17:31  giannozz

	* examples/daily_test:

	Restore "environmental_variables" after the end of the test so that
	the next cvs update will not detect a change if there isn't any

2006-02-13 17:29  giannozz

	* upftools/uspp2upf.f90:

	xlf complains if there is no space between a label and a command

2006-02-13 17:24  dalcorso

	* PP/dipole.f90:

	Total dipole printed with the same sign of the electronic and ionic parts.
	(Spotted by G. Sclauzero)

2006-02-10 18:00  dalcorso

	* upftools/Makefile:

	Compilation problem.

2006-02-10 17:21  dalcorso

	* examples/example22/: run_example, reference/pt.scf.out,
	  reference/pt.tet.out:

	Example 22 updated to print the stress.

2006-02-10 16:02  dalcorso

	* PW/: addusstress.f90, stres_cc.f90, stres_gradcorr.f90,
	  stres_har.f90, stres_knl.f90, stres_loc.f90, stres_us.f90,
	  stress.f90, v_of_rho.f90:

	Stress in the noncollinear/spin-orbit case added.

2006-02-10 11:27  giannozz

	* D3/Makefile, Gamma/Makefile, PWCOND/Makefile:

	Added missing reference to random_numbers.o

	Directory Raman/ removed: removed it from CVS/Entries to get rid of error.
	I am experimenting a little bit with CVS so if you encounter strange
	problems please let me know

2006-02-09 22:46  sbraccia

	* PW/: dynamics_module.f90, move_ions.f90:

	dynamics splitted into two different routines, one for Verlet dynamics, the other
	for preconditioned damped dynamics.
	C.S.

2006-02-09 15:01  degironc

	* examples/EXX_example/reference/: c.pbe0.1nlcc.out-80,
	  co.pbe0.1nlcc.out-80, n.pbe0.1nlcc.out-80, n2.pbe0.1nlcc.out-80,
	  o.pbe0.1nlcc.out-80, o2.pbe0.1nlcc.out-80, si.PBE0_nq=1.out,
	  si.PBE0_nq=2.out, si.PBE0_nq=4.out, summarize:

	reference file again

2006-02-09 14:53  degironc

	* examples/EXX_example/Pseudo/: CPBE085nlcc.RRKJ3, CPBE1nlcc.RRKJ3,
	  NPBE085nlcc.RRKJ3, NPBE1nlcc.RRKJ3, OPBE085nlcc.RRKJ3,
	  OPBE1nlcc.RRKJ3:

	pseudo for EXX example

2006-02-09 14:44  degironc

	* examples/EXX_example/: README, run_example:

	add EXX example

2006-02-09 09:44  degironc

	* PW/exx.f90:

	mispelled variable... sorry

2006-02-09 08:30  silviu

	* configure, configure.ac:

	added flag '-assume buffered_io' when compiling on alpha systems, for improved i/o rates. [silviu]

2006-02-08 19:17  cavazzon

	* CPV/: Makefile, blacs.f90, bmesh.f90, fields_type.f90, grid.f90,
	  ortho.f90, potentials.f90, scalapack.f90:

	- various clean-ups

2006-02-08 17:58  sbraccia

	* pwtools/: Makefile, metadyn_pp.f90:

	Added a post-processing tool to reconstruct the free-energy landscape from a
	meta-dynamics run. Documentation included in the header of the metadyn_pp.f90 file.
	C.S.

2006-02-08 16:46  degironc

	* Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/exx.f90, PW/input.f90:

	EXX: improved treatrmet of q+G=0 term

2006-02-08 01:35  sbraccia

	* PW/setup.f90:

	Another small improvement of the automatic test. C.S.

2006-02-07 19:39  giannozz

	* pwtools/matdyn.f90:

	Calculation of Eliashberg function a2F works again

2006-02-07 17:07  sbraccia

	* PW/setup.f90:

	The automatic test for the use of parallel Housholder is now done only for Davidson
	diagonalisation and starts from a matrix of dimension nbnd. C.S.

2006-02-07 17:01  sbraccia

	* PW/rdiagh.f90:

	Cleanup. C.S.

2006-02-07 16:56  sbraccia

	* PW/cegterg.f90:

	Fixed a bug in Davidson diagonalisation with parallel subspace-diag.
	C.S.

2006-02-07 16:55  sbraccia

	* PW/cgramg1.f90:

	Fixed an error in the Gram-Schmidt orthogonalisation.
	C.S.

2006-02-07 14:49  cavazzon

	* CPV/guess.f90:

	- call to diagonalize

2006-02-07 14:48  cavazzon

	* Modules/ptoolkit.f90:

	- bug fix, exchanging data in cdiagonalize
	- diagonalize now accept leading dimensions

2006-02-07 14:46  cavazzon

	* PW/: cdiagh.f90, rdiagh.f90, setup.f90:

	- fixed a bug that was causing the code to hang when checking
	  the performance of the parallel diagonalization
	- call of diagonalize in rdiagh using leading dimension for h

2006-02-07 09:52  giannozz

	* flib/inpfile.f90, upftools/Makefile, upftools/any2upf.f90,
	  upftools/errore.f90, upftools/fhi2upf.f90, upftools/rrkj2upf.f90,
	  upftools/uspp2upf.f90, upftools/vanderbilt.f90,
	  upftools/vdb2upf.f90, upftools/write_upf.f90:

	Removed conflicting calls to "errore"
	Low-level routines and simple programs should not call "errore"

2006-02-06 19:15  umari

	* PW/: c_phase_field.f90, h_epsi_her.f90:

	slightly faster Berry's phase electric field.

	P.U.

2006-02-06 15:38  sbraccia

	* PW/setup.f90:

	Improved automaic test for parallel davidson.
	C.S.

2006-02-05 18:25  cavazzon

	* CPV/Makefile, CPV/guess.f90, CPV/init.f90, CPV/ortho_base.f90,
	  CPV/rsmesh.f90, Modules/ptoolkit.f90, PW/cdiagh.f90:

	- cdiagonalize updated to work with arrays with a leading
	  dimension different from "n"
	- copy of h and v in cdiagh eliminated
	- some other clean ups

2006-02-04 19:48  sbraccia

	* Modules/ptoolkit.f90:

	Some cleanup. C.S.

2006-02-04 15:06  cavazzon

	* CPV/Makefile, Modules/Makefile, Modules/berry_phase.f90,
	  Modules/random_numbers.f90, PH/Makefile, PP/Makefile,
	  PW/Makefile, atomic/Makefile, flib/Makefile,
	  flib/random_numbers.f90, pwtools/Makefile:

	- module random_numbers moved from flib to Modules to avoid
	  circular dependency. All general purpouse modules should go in
	  directory Modules!

2006-02-03 21:23  sbraccia

	* PW/: ccgdiagg.f90, rcgdiagg.f90:

	Cleanup. C.S.

2006-02-03 21:20  sbraccia

	* Modules/ptoolkit.f90, PW/cdiagh.f90, PW/cegterg.f90,
	  PW/regterg.f90, PW/setup.f90:

	Davidson with parallel subspace diagonalization implemented. At startup the code automatically
	checks whether or not it is convenient to use the parallel diagonalizer reporting the result.
	The output is still verbose to facilitate the identification of bugs.
	C.S.

2006-02-03 19:42  sbraccia

	* PH/Makefile, Gamma/Makefile, PP/Makefile, D3/Makefile,
	  PWCOND/Makefile:

	Makefiles updated.
	C.S.

2006-02-03 18:31  sbraccia

	* PW/Makefile:

	Makefile updated.
	C.S.

2006-02-03 18:31  sbraccia

	* PW/rdiagh.f90:

	Added driver for dioagonalization of real matrices.
	C.S.

2006-02-03 18:29  sbraccia

	* Modules/control_flags.f90:

	Added control variables used by parallel davidson.
	C.S.

2006-02-03 17:57  giannozz

	* CPV/inner_loop.f90:

	Please no DOS end-of-lines and no comments in Italian !!!

2006-02-03 15:49  giannozz

	* Doc/: CREDITS, users-guide.tex:

	Documentation updated

2006-02-03 10:28  giannozz

	* Modules/: parallel_include.f90, ptoolkit.f90, read_cards.f90:

	- fix for serial compilation (MPI_COMM_WORLD not known)
	- removed forgotten test print
	- parallel_include: SHMEM => __SHMEM

2006-02-03 05:12  sbraccia

	* Modules/constraints_module.f90, Modules/path_base.f90,
	  PW/compute_fes_grads.f90, CPV/compute_fes_grads.f90:

	Fixed some bugs affecting meta-dynamics.
	C.S.

2006-02-03 02:16  sbraccia

	* Modules/ptoolkit.f90:

	MPI communicator added explicitly to all the routines. Some cleanup.
	C.S.

2006-02-03 02:04  sbraccia

	* PW/cgramg1.f90:

	ZDOTC and DDOT replaced by ZGEMV and DGEMV.
	C.S.

2006-02-02 16:20  giannozz

	* PP/plan_avg.f90, Modules/parser.f90, Modules/read_cards.f90:

	- compilation problem in plan_avg fixed
	- add check on end-of-file when reading k-points. A mistake in the
	  specification of k-points could lead to a strange crash with no
	  apparent reason

2006-02-01 19:01  umari

	* CPV/: cg_sub.f90, cpr.f90, efield.f90, fromscra.f90,
	  init_run.f90, inner_loop.f90, input.f90, move_electrons.f90,
	  print_out.f90, restart_sub.f90, runcp.f90:

	Added second Berry's phase el. field
	some improvements in inner_loop
	P.U.

2006-02-01 18:57  umari

	* Modules/: input_parameters.f90, read_namelists.f90:

	Added new paremeters for second Berry's phase electric field
	(it's for Raman calculations)

	P.U.

2006-02-01 18:56  giannozz

	* CPV/compute_fes_grads.f90, CPV/compute_scf.f90,
	  CPV/cp_restart.f90, CPV/environment.f90, CPV/ksstates.f90,
	  CPV/path_routines.f90, D3/d3_readin.f90, Doc/INPUT_PW,
	  Doc/users-guide.tex, Gamma/cg_readin.f90, Modules/autopilot.f90,
	  Modules/bfgs_module.f90, Modules/constraints_module.f90,
	  Modules/io_files.f90, Modules/metadyn_base.f90,
	  Modules/parser.f90, Modules/path_base.f90,
	  Modules/path_io_routines.f90, Modules/path_opt_routines.f90,
	  Modules/read_cards.f90, Modules/xml_io_base.f90, PH/phonon.f90,
	  PH/phq_readin.f90, PP/bands.f90, PP/dos.f90, PP/efg.f90,
	  PP/initial_state.f90, PP/plan_avg.f90, PP/poormanwannier.f90,
	  PP/postproc.f90, PP/projwfc.f90, PP/pw2casino.f90, PP/pw2gw.f90,
	  PP/pw2wannier90.f90, PW/compute_fes_grads.f90,
	  PW/compute_scf.f90, PW/dynamics_module.f90, PW/exx.f90,
	  PW/input.f90, PW/mix_rho.f90, PW/read_file.f90,
	  PW/restart_from_file.f90, PW/vcsmd.f90, PW/vcsubs.f90,
	  PWCOND/do_cond.f90, flib/Makefile, flib/int_to_char.f90,
	  flib/trimcheck.f90, pwtools/q2r.f90:

	- Variable cell: use Cesar Da Silva's version of the damping algorithm
	  (he claims it is more tested); documentation updated (sort of)
	- routines find_free_unit, delete_if_present, moved from 'parser'
	  to 'io_files' (it is a more natural place)
	- routines int_to_char moved from 'parser' to flib/ (it is quite
	  unrelated with the rest of the module)
	- routine trimcheck moved from flib/ to 'io_files' (more natural place)

2006-02-01 08:56  giannozz

	* CPV/cp_restart.f90:

	oops...call to write_bz needed to be updated

2006-01-31 22:49  giannozz

	* Modules/xml_io_base.f90, PH/elphon.f90, PW/pw_restart.f90:

	Info on k-point grid is needed by electron-phonon calculation with
	Malgorzata's algorithm

2006-01-31 18:49  dalcorso

	* PP/: local_dos1d.f90, plan_avg.f90:

	Planar average generalized to the non collinear case.

2006-01-31 18:22  giannozz

	* PW/input.f90, PW/pw_restart.f90, flib/Makefile,
	  flib/trimcheck.f90, PP/bands.f90, PP/dos.f90, PP/efg.f90,
	  PP/initial_state.f90, PP/plan_avg.f90, PP/poormanwannier.f90,
	  PP/postproc.f90, PP/projwfc.f90, PP/pw2casino.f90, PP/pw2gw.f90,
	  PP/pw2wannier90.f90, PP/sumpdos.f90:

	Added check on the presence of a slash at the end of outdir everywhere.
	Since it is done in 100 places, I added a small function 'trimcheck'

2006-01-31 15:54  degironc

	* Doc/INPUT_PW:

	documentation update

2006-01-31 15:17  giannozz

	* PW/: pw_restart.f90, read_file.f90:

	Bug with new restart and noncolinear case fixed

2006-01-30 17:17  giannozz

	* PH/dvpsi_e.f90, PH/openfilq.f90, PH/phq_setup.f90,
	  PW/allocate_wfc.f90, PW/init_run.f90, PW/memory.f90,
	  PW/n_plane_waves.f90, PW/read_file.f90:

	Restart with new format works (sort of: charge density and wavefunctions
	are not yet read from xml file) in parallel execution

2006-01-29 17:43  cavazzon

	* CPV/: cg_sub.f90, cp_restart.f90, cplib.f90, cpr.f90,
	  cpr_mod.f90, cprsub.f90, eigs0.f90, electrons.f90, fromscra.f90,
	  guess.f90, init_run.f90, mainvar.f90, move_electrons.f90,
	  ortho.f90, ortho_base.f90, print_out.f90, restart.f90,
	  restart_sub.f90, smcp.f90, smd.f90, smd_modules.f90, wannier.f90,
	  wave.f90:

	[no log message]

2006-01-29 00:06  sbraccia

	* examples/example28/run_example:

	Metadynamics example adapted to new input. C.S.

2006-01-28 23:36  sbraccia

	* Doc/: INPUT_CP, INPUT_PW:

	Doc updated. C.S.

2006-01-28 23:35  sbraccia

	* CPV/input.f90, Modules/constraints_module.f90,
	  Modules/input_parameters.f90, Modules/metadyn_base.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90,
	  PW/compute_fes_grads.f90, PW/dynamics_module.f90, PW/input.f90,
	  CPV/compute_fes_grads.f90:

	New denomination of constraint types (now an identification string is used instead of
	an index). Removed the two cases constrained_verlet and constrained_damp: a constrained
	dynamics is automatically done if the CONSTRAINTS card is present. Added a keyword to
	monitor the value of the constraints during the simulation. In this case the constraints are
	not imposed.
	C.S.

2006-01-27 19:14  giannozz

	* Doc/: INPUT_PH, users-guide.tex:

	Documentation updated

2006-01-27 19:12  giannozz

	* include/defs.h.README:

	documentation for preprocessing updated

2006-01-27 15:21  giannozz

	* PH/: phq_readin.f90, phq_summary.f90, solve_e.f90:

	Masses read from input by ph.x were overwritten by masses read from data file
	(new format). The latter are now used only if masses are not read from input.

2006-01-27 14:13  giannozz

	* pwtools/q2r.f90:

	tolerant_cft3 is no longer needed

2006-01-27 10:09  giannozz

	* iotk/include/iotk_config.h:

	Revert to explicit preprocessing of real kinds as numbers:
	too many compilers didn't like preprocessing to selected_real_kind

2006-01-27 00:35  kkudin

	* pwtools/Makefile, upftools/Makefile:

	Added missing dependencies for IBM SP3
	 Kostya

2006-01-27 00:13  silviu

	* Doc/: INPUT_CP, INPUT_PW:

	fixed a typo in the documentation. [silviu]

2006-01-26 17:42  giannozz

	* TODO, configure, configure.ac, D3/d3_readin.f90, Doc/refman.tex,
	  Modules/fft_scalar.f90, Modules/readpseudo.f90,
	  Modules/version.f90, Modules/xml_io_base.f90, PW/cdiagh.f90,
	  PW/cft3.f90, PW/cft3s.f90, PW/cft_3.f90, PW/cft_sgi.f90,
	  PW/compute_scf.f90, PW/memory.f90, flib/random_numbers.f90,
	  include/defs.h.README, include/f_defs.h, install/Make.altix,
	  install/Make.irix, install/Make.origin, pwtools/q2r.f90:

	- Version number updated to 3.1
	- Changed format when writing a copy of the UPF file: for some reason
	  the free format adds an initial blank character, causing the program
	  to fail when reading (in fixed format) additional info for spin-orbit.
	  Format A is now used when writing, free format when reading. (AdC)
	- More preprocessing cleanup and documentation: anybody having access
	  to weird machines is kindly requested to verify if things work

2006-01-26 14:08  giannozz

	* include/: c_defs.h, defs.h.README, f_defs.h:

	Cleanup of preprocessing stuff in include files, documentation updated
	Who knows what the __GNU_LINK stuff was used for?

2006-01-25 19:22  giannozz

	* PW/pw_restart.f90:

	Since celldm are written to the restart file and used by some postprocessing
	codes, they should be read as well. Not sure this is the best thing to do
	(they should be used only as input data) but at least it fixes stm images

2006-01-25 14:33  sbraccia

	* Doc/INPUT_PW, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PW/input.f90, PW/pwcom.f90,
	  PW/vcsmd.f90:

	Added an input variable to specify the convergence threshold for variable-cell relaxations.
	C.S.

2006-01-25 10:39  giannozz

	* examples/daily_test:

	Updated version of the script for automatic testing

2006-01-25 05:28  sbraccia

	* PW/move_ions.f90:

	Added a missing broadcast. C.S.

2006-01-25 05:27  sbraccia

	* Modules/constraints_module.f90:

	Cleanup. C.S.

2006-01-25 05:24  sbraccia

	* CPV/emptystates.f90, CPV/wave.f90, Modules/ions_base.f90,
	  Modules/metadyn_base.f90, Modules/path_base.f90,
	  Modules/path_opt_routines.f90, Modules/uspp.f90,
	  Modules/wave_base.f90, PH/random_matrix.f90, PH/set_irr.f90,
	  PP/d_matrix_nc.f90, PP/d_matrix_so.f90,
	  PW/complex_diis_module.f90, PW/d_matrix.f90,
	  PW/dynamics_module.f90, PW/real_diis_module.f90, PW/wfcinit.f90,
	  atomic/trou.f90:

	All functions used to generate random number collected in a single module. Added two routines
	random numbers from a normal distribution.
	C.S.

2006-01-25 05:20  sbraccia

	* pwtools/: ev.f, ev.f90:

	Program ev converted to f90. C.S.

2006-01-25 05:18  sbraccia

	* makedeps.sh:

	Script updated. C.S.

2006-01-25 05:18  sbraccia

	* flib/: random_numbers.f90, rranf.f90, Makefile:

	All functions used to generate random number collected in a single module. Added two routines
	random numbers from a normal distribution.
	C.S.

2006-01-24 19:37  giannozz

	* atomic/: ascheqps.f90, descreening.f90, ld1.f90, ld1inc.f90:

	Energies used for PP generation are correctly written to the header
	of the UPF file

2006-01-24 16:54  giannozz

	* CPV/: adjef.f90, berryion.f90, cg_sub.f90, cp_version.f90,
	  cplib.f90, cplib_meta.f90, cpr.f90, crayfft.f90, diis.f90,
	  gtable.f90, init.f90, inner_loop.f90, main.f90, mainvar.f90,
	  polarization.f90, qmatrixd.f90, read_pseudo.f90, redis.f90,
	  smd.f90, smd_modules.f90, stop_run.f90, wf.f90:

	Misc cleanud and removal of old/obsolete/mysterious preprocessing

2006-01-23 15:13  cavazzon

	* CPV/cp_restart.f90:

	- bug fix, reading and writing wavefunctions when SIC is used

2006-01-20 15:28  dalcorso

	* PP/Makefile, PP/atomic_wfc_nc_proj.f90, PP/cubicspinsym.f90,
	  PP/d_matrix_nc.f90, PP/d_matrix_so.f90, PP/hexspinsym.f90,
	  PP/projwfc.f90, flib/Makefile, flib/invmat_complex.f90:

	Projwfc generalized to noncollinear and spin-orbit cases (still experimental).
	Contributed by R. Mazzarello.

2006-01-20 14:34  cavazzon

	* PP/plan_avg.f90:

	- bug fix, statement out of order

2006-01-20 14:30  cavazzon

	* PP/punch_plot.f90:

	- bug fix for parallel build

2006-01-20 11:16  giannozz

	* pwtools/matdyn.f90:

	Ry vs cm^(-1) confusion introduced by recent changes - cleaned up

2006-01-19 18:59  giannozz

	* PP/: Makefile, plan_avg.f90, plot_io.f90, projwfc.f90,
	  punch_plot.f90, stm.f90, voronoy.f90:

	Calculation of planar averages of wavefunctions moved out of pp.x
	into a separate code (plan_avg.x). Output file should be the same.
	Completely untested: it compiles, no warranty that it works!

2006-01-19 16:44  giannozz

	* PW/: read_file.f90, readin.f90, setup.f90:

	Another fix for new format: USPP was not correctly set

2006-01-19 14:46  giannozz

	* PW/pw_restart.f90:

	Another fix for new restart (lsda case was not working)

2006-01-18 19:10  giannozz

	* PW/pw_restart.f90:

	Missing broadcast causing crash in phonon with new restart and parallel
	execution. There are for sure others: results are incorrect.

2006-01-18 18:20  giannozz

	* PW/: compute_fes_grads.f90, gradcorr.f90, init_us_1.f90,
	  openfil.f90, punch.f90, pw_restart.f90, read_conf_from_file.f90,
	  read_file.f90:

	Various fixes for the new file format. Now this is the default unless
	__OLDPUNCH is defined. The norm-conserving phonon code should work, but
	the USPP case doesn't, and likely many postprocessings as well.
	Workaround for ifort crashes in gradcorr.

2006-01-18 17:15  giannozz

	* Modules/readpseudo.f90:

	Fixed-format reads in UPF modules replaced by free-format reads:
	the new file format wrote a copy of PPs in a slightly different UPF format
	that was not correctly read, thus leading to wrong results in phonon ...

2006-01-17 17:52  sbraccia

	* Modules/constraints_module.f90, Modules/metadyn_base.f90,
	  Modules/metadyn_io.f90, CPV/compute_fes_grads.f90,
	  PW/compute_fes_grads.f90, PW/dynamics_module.f90,
	  PW/move_ions.f90:

	Fixed some bugs introduced in the metadynamics by the recent modifications.
	C.S.

2006-01-15 21:18  giannozz

	* CPV/qmatrixd.f90, D3/bcast_d3_input.f90, D3/d3_readin.f90,
	  D3/d3_setup.f90, D3/d3_summary.f90, D3/d3matrix.f90,
	  Gamma/Makefile, Gamma/cg_readin.f90, Gamma/cg_setup.f90,
	  Gamma/cg_summary.f90, Gamma/phcg.f90, Gamma/writedyn.f90,
	  PH/Makefile, PH/bcast_ph_input.f90, PH/solve_e.f90,
	  PH/solve_e2.f90, PH/solve_linter.f90, PP/Makefile,
	  PP/punch_plot.f90, PW/para.f90, PWCOND/Makefile,
	  clib/fft_stick.c, clib/fftw.c, clib/fftw.h, flib/reduce.f90,
	  flib/scnds.f90:

	- Miscellaneous fixes of compilation errors left after last changes
	- support for cray-xt3 (courtesy of Axel Kohlmeyer)

2006-01-15 21:06  giannozz

	* install/Make.cray-xt3:

	Added Makefile for cray-xt3 machine (courtesy of Axel Kohlmeyer)

2006-01-13 20:41  sbraccia

	* Modules/constraints_module.f90:

	... oops

2006-01-13 18:27  sbraccia

	* CPV/compute_fes_grads.f90, CPV/cpr.f90,
	  Modules/constraints_module.f90, Modules/metadyn_base.f90,
	  Modules/metadyn_io.f90, Modules/metadyn_vars.f90,
	  Modules/read_cards.f90, PW/compute_fes_grads.f90:

	Metadynamics cleanup. C.S.

2006-01-13 18:25  sbraccia

	* PW/: Makefile, clean_pw.f90, dynamics.f90, dynamics_module.f90,
	  init_run.f90, input.f90, move_ions.f90, pwcom.f90, vcsmd.f90:

	Routines and variables used for molecular dynamics in PWscf merged into a single module.
	C.S.

2006-01-13 18:13  sbraccia

	* PW/: pw_restart.f90, restart.f90, summary.f90:

	Removed some "spaghetti" dependencies. C.S.

2006-01-13 17:27  giannozz

	* Doc/: refman.tex, users-guide.tex:

	Documentation update

2006-01-13 16:38  giannozz

	* PH/: bcast_ph_input.f90, phonon.f90, phqscf.f90, solve_e.f90,
	  solve_e2.f90, solve_linter.f90:

	1) phonon: workaround for serious bug in parallel execution
	   (waiting for a better solution)
	2) time_max => max_second : bad name but the same everywhere

2006-01-13 14:53  giannozz

	* CPV/: cp_fpmd.f90, cplib.f90, modules.f90, pseudopot.f90,
	  qqberry.f90, read_pseudo.f90:

	Module "qrl" no longer needed, removed

2006-01-12 22:03  giannozz

	* CPV/: cprsub.f90, pseudopot.f90:

	Do not allocate large arrays that are not used with fixed cell

2006-01-12 20:39  giannozz

	* Makefile:

	Do not save binaries and libraries in iotk with 'make tar'

2006-01-12 12:23  kokalj

	* PW/vcsmd.f90:

	Printing the atomic positions by "call output_tau( lmovecell)" at each dynamics iteration, so that the pwo2xsf.sh will be able to parse the pw.x output file and create an animated XSF file.

2006-01-10 15:04  cavazzon

	* CPV/cg_sub.f90, CPV/cglib.f90, CPV/chargedensity.f90,
	  CPV/chargemix.f90, CPV/cp_restart.f90, CPV/cplib.f90,
	  CPV/cplib_meta.f90, CPV/cpr.f90, CPV/electrons.f90,
	  CPV/emptystates.f90, CPV/exch_corr.f90, CPV/fft.f90,
	  CPV/fields_type.f90, CPV/forces.f90, CPV/fromscra.f90,
	  CPV/grid.f90, CPV/guess.f90, CPV/init_run.f90,
	  CPV/inner_loop.f90, CPV/input.f90, CPV/ksstates.f90,
	  CPV/main.f90, CPV/mainvar.f90, CPV/move_electrons.f90,
	  CPV/nl_base.f90, CPV/nlcc.f90, CPV/optical.f90, CPV/ortho.f90,
	  CPV/ortho_base.f90, CPV/para.f90, CPV/potentials.f90,
	  CPV/print_out.f90, CPV/qmatrixd.f90, CPV/restart.f90,
	  CPV/restart_sub.f90, CPV/rsmesh.f90, CPV/runcg.f90,
	  CPV/runcg_ion.f90, CPV/runcp.f90, CPV/rundiis.f90, CPV/runsd.f90,
	  CPV/smcp.f90, CPV/stress.f90, CPV/turbo.f90, CPV/wave.f90,
	  CPV/wf.f90, Modules/descriptors.f90, Modules/electrons_base.f90,
	  Modules/parallel_types.f90, Modules/ptoolkit.f90,
	  Modules/read_namelists.f90, Modules/xml_io_base.f90,
	  flib/Makefile, flib/gridsetup.f90, flib/localindex.f90,
	  pwtools/matdyn.f90:

	- FPMD/CP ortho subroutines merged as much as possible.
	- Many ortho auxiliary functions (tauset, rhoset, sigset, calphi, updatc)
	  are now in common between FPMD/CP, and moved to module ortho_base.f90
	- In FPMD, three index vectors, related to real space like charge and potential
	  have been substituted with single index vector like in CP, for compatibility
	  and efficiency.
	- Bug fix in pwtools/matdyn.f90 a logical variable was used in place of a
	  character variable

2006-01-10 12:20  giannozz

	* CPV/: cp_fpmd.f90, modules.f90, pseudopot.f90, qqberry.f90,
	  read_pseudo.f90:

	The qrl functions, i.e. Q_ij(r) split into l-components, are now fit to
	the "conventional" Vanderbilt (qfunc+qfcoef) form if this is not available.
	This removes a major difference between CP and PW in the treatment of USPP.
	Only the 1.0.0 Vanderbilt format written by some obsolete version of the
	Vanderbilt code should be affected, but beware unintended side effects!!!

2006-01-09 15:54  sbraccia

	* PW/dynamics.f90:

	Fixed and error in the initialization of finite temperature MD (PW only). C.S.

2006-01-05 22:50  giannozz

	* pwtools/q2r.f90:

	Better input checks

2006-01-05 20:02  giannozz

	* PH/elphon.f90, PW/enfdos.f90, pwtools/Makefile,
	  pwtools/matdyn.f90, pwtools/q2r.f90:

	Electron-phonon calculation with new algorithm works in parallel
	(but not yet with pools). New versions of q2r and matdyn added.

2006-01-05 18:30  sbraccia

	* PW/: hinit0.f90, hinit1.f90:

	Cleanup. C.S.

2006-01-05 18:29  sbraccia

	* PW/update_pot.f90:

	Fixed a bug in the potential extrapolation: the structure factors must be computed
	in any case when pot_order > 0. C.S.

2006-01-05 11:42  giannozz

	* Doc/: INPUT_CP, INPUT_PW, refman.tex:

	Documentation updated, many misspells corrected

2006-01-04 20:09  sbraccia

	* Modules/read_cards.f90:

	Fixed a bug in the way constraints are read. C.S.

2006-01-04 17:42  dalcorso

	* PW/read_file.f90:

	Still SR/FR mixing.

2006-01-04 09:30  silviu

	* CPV/ortho_base.f90:

	bug fixed in orthogonalize_rrho. [silviu]

2006-01-04 02:31  sbraccia

	* CPV/cp_restart.f90, Modules/xml_io_base.f90, PW/pw_restart.f90:

	Cleanup. Some of the modifications suggested by G.Bussi implemented. C.S.

2006-01-03 17:05  dalcorso

	* Gamma/Makefile, PH/Makefile:

	Compilation problems.

2006-01-03 16:26  dalcorso

	* Doc/INPUT_PP, PP/Makefile, PP/local_dos_mag.f90, PP/postproc.f90,
	  PP/punch_plot.f90:

	Added the possibility to plot the contribution of each orbital
	to the magnetization density. Only for the noncollinear case.

2006-01-03 16:13  dalcorso

	* PW/electrons.f90:

	The printed HOMO LUMO levels were not correct with fixed occupations.

2006-01-03 16:08  dalcorso

	* PP/: compute_sigma_avg.f90, local_dos.f90:

	Mixing of scalar relativistic and fully relativistic pseudopotentials in
	PP routines.

2006-01-02 22:00  silviu

	* Modules/electrons_base.f90:

	bug fix in subroutine set_nelup_neldw [silviu]

2006-01-02 13:07  silviu

	* Modules/read_namelists.f90:

	bug fixed in the parallel execusion of cp/pw with the new input parameters
	tot_charge/tot_magnetization/multiplicity. [silviu]

2006-01-01 13:21  silviu

	* Doc/: INPUT_CP, INPUT_PW:

	documentation update. [silviu]

2006-01-01 13:16  silviu

	* PW/Makefile, PW/setup.f90, Modules/electrons_base.f90:

	input variables tot_magnetization and multiplicity were added to pw.x [silviu]

2006-01-01 10:23  silviu

	* Doc/INPUT_PW:

	documentation update for input variable tot_charge [silviu]

2006-01-01 10:17  silviu

	* PW/: input.f90, pwcom.f90, setup.f90:

	variable tot_charge added to the input of pw.x [silviu]

2006-01-01 00:41  silviu

	* CPV/input.f90, Modules/electrons_base.f90,
	  Modules/input_parameters.f90, Doc/INPUT_CP:

	Input to cp was updated to include variable tot_magnetization, as an
	alternative way of specifying the spin state. [silviu]

2005-12-29 23:57  silviu

	* Makefile, makedeps.sh:

	Directory name change CPVIB-->VIB (Courtesy of Paolo Gianozzi). Please
	remove directory CPVIB, run: "cvs update -d" and makedeps.sh before
	recompiling. [silviu]

2005-12-29 18:23  umari

	* CPV/: Makefile, cg.f90, cg_sub.f90, cglib.f90, init_run.f90,
	  inner_loop.f90:

	New scheme for
	US+conjugate gradient: better preconditioning
	ensemble dft : better algorithm

	new file inner_loop.f90

	P.U.

2005-12-29 15:27  giannozz

	* Modules/read_namelists.f90:

	More cleanup of error messages (too many checks on 'calculation'!)

2005-12-29 15:16  giannozz

	* Modules/read_namelists.f90:

	Cleanup of error messages

2005-12-29 11:08  giannozz

	* iotk/include/iotk_config.h:

	"Generic" config file for iotk, should at least compile in all cases

2005-12-29 09:39  silviu

	* CPV/cplib.f90:

	removing subroutine poles from cplib. [silviu]

2005-12-28 18:42  giannozz

	* Doc/: CREDITS, users-guide.tex:

	Doc update

2005-12-28 17:36  giannozz

	* PW/: efermig.f90, efermit.f90:

	Minor cleanup

2005-12-28 16:57  giannozz

	* Modules/: read_cards.f90, io_base.f90:

	Minor cleanup

2005-12-28 16:12  giannozz

	* GUI/PWgui/src/: run.itcl, settings.itcl:

	References to chdens.x removed - there is still one left in run.itcl
	I am not sure what should be done in that case

2005-12-28 16:06  giannozz

	* Makefile, GUI/PWgui/pwgui.settings:

	Reference to chdens.x removed

2005-12-28 12:34  giannozz

	* Gamma/Makefile:

	Makefile updtaed (again)

2005-12-28 12:33  giannozz

	* PWCOND/Makefile, D3/Makefile:

	Makefile updated

2005-12-28 12:14  giannozz

	* Gamma/Makefile:

	Makefile updated

2005-12-28 12:04  giannozz

	* PW/enfdos.f90:

	oops...

2005-12-28 12:03  giannozz

	* PW/Makefile:

	Missing file added

2005-12-28 11:55  giannozz

	* PH/: Makefile, bcast_ph_input.f90, clinear.f90, elphon.f90,
	  phcom.f90, phq_readin.f90, symm.f90:

	Electron-phonon calculation using Malgorzata's technique
	Still preliminary and undocumented

2005-12-28 11:49  giannozz

	* PW/: Makefile, a2fmod.f90, enfdos.f90, input.f90, punch.f90:

	Electron-phonon calculation using Malgorzata's technique
	Still preliminary and undocumented

2005-12-28 11:42  giannozz

	* Modules/: read_namelists.f90, input_parameters.f90:

	Electron-phonon calculation using Malgorzata's technique
	Still preliminary and undocumented

2005-12-23 12:19  fratesi

	* Doc/PAW_Regular_Grid.tex:

	<develop_PAW> update of PAW working notes (GF)

2005-12-23 10:41  degironc

	* PP/pw2wannier90.f90:

	pw->wannier90 interface: guiding function phase factor fixed.

2005-12-22 19:03  fratesi

	* Doc/PAW_Regular_Grid.tex:

	<develop_PAW> Added working notes on PAW (GF)

2005-12-22 15:01  degironc

	* PP/pw2wannier90.f90:

	improved version of pw->wannier90 interface ...

2005-12-22 12:50  fratesi

	* atomic/atomic_paw.f90:

	<develop_PAW> Added flag for checking Int n(r) r^2 dr (GF)

2005-12-22 12:50  fratesi

	* atomic/set_rho_core.f90:

	<develop_PAW> Cleanup for core charge (GF)

2005-12-22 12:23  giannozz

	* Gamma/.cvsignore, Gamma/Makefile, pwtools/.cvsignore,
	  D3/.cvsignore, D3/Makefile, PH/Makefile, PP/.cvsignore,
	  PP/Makefile, PWCOND/.cvsignore, PWCOND/Makefile:

	Oops, forgotten module splinelib after yesterday's change ...

2005-12-21 21:27  sbraccia

	* Doc/: INPUT_CP, INPUT_PW, constraints_HOWTO.tex:

	Doc updated. Added a mini howto that explains how to implement additional constrait types.
	C.S.

2005-12-21 21:26  sbraccia

	* Modules/: constraints_module.f90, input_parameters.f90,
	  read_cards.f90:

	Constraint on torsional angles implemented. Constraint on planar angle extended to work
	also in the case of linear angles (180 degrees). General cleanup.
	C.S.

2005-12-21 21:24  sbraccia

	* Modules/basic_algebra_routines.f90:

	Cleanup. C.S.

2005-12-21 18:26  fratesi

	* PW/: electrons.f90, grid_paw_variables.f90:

	<develop_PAW> wrong ranges in deband_paw, descf_paw. Set really_do_paw=.T. (GF)

2005-12-21 17:30  dalcorso

	* PW/: atomic_wfc_nc.f90, init_us_1.f90, newd.f90, pwcom.f90,
	  setup.f90, sum_band.f90, upf_to_internal.f90:

	Added the possibility to mix scalar relativistic and fully relativistic
	pseudopotentials with lspinorb=.true. (Still experimental)

2005-12-21 16:19  fratesi

	* PW/: electrons.f90, grid_paw_routines.f90,
	  grid_paw_variables.f90, newd.f90, potinit.f90, sum_band.f90:

	<develop_PAW> first SCF with PAW (GF&RM)

2005-12-21 16:12  giannozz

	* PW/.cvsignore, PW/realus.f90, Modules/splinelib.f90:

	There was a copy of part of the splinelib module in PW/realus.f90.
	Now there is a single copy in splinelib, with a modified calling
	sequence of 'spline'. There shouldn't be any side effects, but who
	knows. Note that there are still two routines called 'spline' :
	the other one is in PP/plotband.f90

2005-12-21 12:20  giannozz

	* PH/: .cvsignore, dynmat0.f90, dynmatrix.f90, phq_setup.f90,
	  phq_summary.f90, sym_def.f90, symdvscf.f90:

	Cleanup

2005-12-21 09:51  degironc

	* PP/: Makefile, pw2wannier90.f90:

	Initial version of the interface from pw to wannier90 (Nicola Marzari et al., www.wannier.org).
	Not working yet.

2005-12-21 00:54  cavazzon

	* CPV/Makefile, CPV/cplib.f90, CPV/eigs0.f90, CPV/eigsp.f90,
	  CPV/electrons.f90, CPV/ortho.f90, CPV/ortho_base.f90,
	  CPV/smcp.f90, flib/Makefile, flib/eispack.f90:

	- fixed a bug in smcp: setup of variable fccc. example26 is now
	  working again
	- calls to very old "rs" eispack driver replaced by calls do
	  "dspev" lapack driver
	- subroutines sigset, rhoset, tauset moved from cplib.f90 to
	  ortho_base.f90, now they are used in fpmd subroutines too

2005-12-20 20:54  giannozz

	* configure, configure.ac:

	oops...this is the correct fixe for alpha with cxml

2005-12-20 17:26  giannozz

	* PW/: pwcom.f90, setup.f90:

	Obsolete variable removed

2005-12-20 16:33  fratesi

	* PW/: grid_paw_routines.f90, grid_paw_variables.f90, hinit0.f90,
	  newd.f90, potinit.f90, upf_to_internal.f90:

	<develop_PAW> PAW evaluation of non-local coefficients; nlcc; initial guess for becsum from atomic occupations (nspin=1 only, yet).   G.F.

2005-12-20 12:38  degironc

	* Modules/functionals.f90:

	B3LYP -> B3LP otherwise dft parsing find a conflict with LYP .
	parsing is becoming complicated and should be rethought ...

2005-12-20 11:30  giannozz

	* makedeps.sh:

	Updated for dependencies in CPVIB

2005-12-19 18:51  giannozz

	* atomic/: gener_pseudo.f90, pseudovloc.f90, trou.f90:

	- no beta functions in PP generation? no problem !
	- the present algorithm for locating zeros in find_coeff i) was absurd,
	  ii) under some circumstances it could take an inordinate amount of time.
	  While i) still holds, ii) should be fixed now

2005-12-19 17:54  degironc

	* Modules/functionals.f90:

	B3LYP ...now it compiles

2005-12-19 17:46  degironc

	* Modules/functionals.f90:

	B3LYP added to functiohnals.f90

2005-12-19 17:18  giannozz

	* configure, configure.ac:

	Fix for Alpha + cxml

2005-12-19 14:49  silviu

	* Makefile:

	more adaptations to makefile [silviu]

2005-12-19 14:00  degironc

	* Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/input.f90:

	EXX should now work in parallel also for (nqx1,nqx2,nqx3) /= (1,1,1)

2005-12-17 22:22  sbraccia

	* Doc/: INPUT_CP, INPUT_PW:

	Doc updated. C.S.

2005-12-17 22:21  sbraccia

	* PW/input.f90:

	Cleanp. C.S.

2005-12-17 22:21  sbraccia

	* CPV/cp_restart.f90, Modules/xml_io_base.f90, PW/punch.f90,
	  PW/pw_restart.f90, PW/read_file.f90:

	Other fixes related to the XML restart file. C.S.

2005-12-17 21:02  sbraccia

	* D3/Makefile, PP/Makefile, PWCOND/Makefile:

	Added missing dependency. C.S.

2005-12-17 18:40  sbraccia

	* PW/input.f90, PW/pwscf.f90, CPV/cprstart.f90, CPV/input.f90,
	  CPV/path_routines.f90, Gamma/phcg.f90, Modules/check_stop.f90:

	Stop by user request (prefix.EXIT) was not working for CP. Fixed and reorganised.
	C.S.

2005-12-17 00:28  sbraccia

	* PW/read_conf_from_file.f90:

	Fixed a bug in the restart procedure of variable-cell dynamics: after the swap of at with at_old
	the bg were not recalculated. Someone who really knows how vcmd works should check this fix.
	C.S.

2005-12-16 20:56  giannozz

	* CPV/: .cvsignore, read_pseudo.f90:

	Bug fix: CP yielded bad results with RRKJ3 US PP in old format
	Same PP in UPF format were not affected - spotted by Matteo C.

2005-12-16 13:24  giannozz

	* Doc/INPUT_PW:

	Better (?) explanation of atomic position cards

2005-12-16 09:46  giannozz

	* install/Make.macos:

	Makefile for MAC OS-X with 'veclib' framework

2005-12-16 09:45  giannozz

	* flib/blas_mac.f:

	Workaround for BLAS bug on Mac OS with 'veclib' framework

2005-12-15 23:40  giannozz

	* CPV/read_pseudo.f90:

	CP stops instead of crashing if a pseudopotential file is not found;
	the type of PP format is reported in a slightly less obscure way

2005-12-15 16:29  giannozz

	* Modules/.cvsignore, iotk/src/.cvsignore:

	As suggested by Giovanni

2005-12-15 14:34  moscac

	* atomic/ascheqps.f90:

	New way to perform Newton algorithm in ascheqps routine. It seams to
	to be more efficient in crytical cases. I've tried it on pseudo-gen
	examples and it works. Let me know if it creates problems in other
	cases.
	Adriano

2005-12-15 11:31  giannozz

	* atomic_doc/INPUT_LD1, atomic/ld1_readin.f90:

	Allow noninteger valence charge for half core-hole PP generation

2005-12-14 14:31  giannozz

	* atomic/gener_pseudo.f90:

	Useless write of pseudowavefunctions removed

2005-12-14 10:40  dalcorso

	* atomic/run_test.f90:

	Small bug fix in the guess of core radii.

2005-12-14 10:34  giannozz

	* Doc/: INPUT_Gamma, refman.tex, users-guide.tex:

	Misc documentation update

2005-12-14 09:20  degironc

	* atomic/ld1_setup.f90:

	fixing a bug in OEP atomic calculation introduced on 2005-11-05 version

2005-12-13 22:58  sbraccia

	* Modules/xml_io_base.f90, PW/pw_restart.f90, PW/read_file.f90,
	  CPV/cp_restart.f90:

	Some other bugs in the XML data-file fixed. C.S.

2005-12-13 18:58  giannozz

	* atomic/: Makefile, el_config.f90, ld1_readin.f90, ld1_setup.f90,
	  normalize.f90, occ_spin.f90:

	More atomic code cleanup
	- el_config.f90 now contains all routines reading electronic configuration
	- occ_spin.f90 contains all routines that assign spin or j top states
	- more explicit message
	- issue warning but do not stop if generating an USPP with zero augmentation
	  charge

2005-12-13 17:45  fratesi

	* PW/: grid_paw_routines.f90, grid_paw_variables.f90, hinit0.f90,
	  upf_to_internal.f90:

	<develop_PAW> calculation of core charge for PAW (RM&GF)

2005-12-13 17:38  giannozz

	* atomic/: el_config.f90, ld1_readin.f90, ld1_setup.f90,
	  ld1inc.f90, run_test.f90:

	- it is possible to specify j=l-1/2 and j=l+1/2 states for relativistic
	  calculations (rel=2) using "config" to pass the electronic configuratio
	- more checks on what is read in input
	- some cleanup

2005-12-13 15:45  sbraccia

	* CPV/cp_restart.f90, Modules/xml_io_base.f90, PW/punch.f90,
	  PW/pw_restart.f90, PW/read_file.f90, PH/phonon.f90:

	Various fixes to the xml data-file (thanks to A.Ferretti).
	C.S.

2005-12-13 14:55  ballabio

	* Doc/INPUT_CP:

	[no log message]

2005-12-13 12:50  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/fromscra.f90, CPV/init.f90,
	  CPV/init_run.f90, CPV/main.f90, CPV/move_electrons.f90,
	  CPV/ortho.f90, CPV/ortho_base.f90, CPV/print_out.f90,
	  CPV/restart_sub.f90, CPV/runcp.f90, CPV/rundiis.f90,
	  CPV/runsd.f90, CPV/smcp.f90, Modules/electrons_base.f90:

	- bug fix: vc-relax and ibrav=0+celldm(1)+CELL_PARAMETERS
	- logic behind variable fccc and ccc cleaned up and shared
	  between fpmd and cp subroutines
	- rhoset, sigset, tauset cleaned-up and prepared for the
	  merging of the ortho subs.

2005-12-13 10:33  ballabio

	* makedeps.sh:

	[no log message]

2005-12-12 09:11  silviu

	* Doc/INPUT_CP:

	Added input variable to namelist SYSTEM: multiplicity. It is redundent in
	principle since the same information can be specified with nelup and neldw.
	However in systems containing many atoms of various kinds it can help reduce
	human errors. If unspecified, this parameter is ignored. [silviu]

2005-12-12 09:02  silviu

	* Modules/input_parameters.f90, Modules/electrons_base.f90,
	  CPV/input.f90:

	Added input variable to namelist SYSTEM: multiplicity. It is redundent in
	principle since the same information can be specified with nelup and neldw.
	However in systems containing many atoms of various kinds it can help reduce
	human errors. If unspecified, this parameter is ignored. [silviu]

2005-12-12 01:17  silviu

	* Doc/INPUT_CP:

	Added an input variable to SYSTEM namelist: tot_charge. The same information
	could also be specified with a proper choise of nelec. The later option however
	is more sensitive to human errors, especially when working on large systems
	containing diverse elements (or when working in the middle of the night...) [silviu]

2005-12-12 01:11  silviu

	* CPV/input.f90, Modules/electrons_base.f90,
	  Modules/input_parameters.f90:

	Added an input variable to SYSTEM namelist: tot_charge. The same information
	could also be specified with a proper choise of nelec. The later option however
	is more sensitive to human errors, especially when working on large systems
	containing diverse elements (or when working in the middle of the night...) [silviu]

2005-12-11 14:43  silviu

	* Modules/electrons_base.f90:

	Added a check/error messege when occunpation='fixed', nelec is odd and nspin=1. [silviu]

2005-12-09 17:01  sbraccia

	* PW/dynamics.f90:

	Bug in the MD output (PW only): the time step was printed out in ps instead of fs.
	C.S.

2005-12-09 16:47  degironc

	* Modules/functionals.f90:

	EXX: ex and vx initialized to zero when computing HF

2005-12-09 14:08  degironc

	* PW/: electrons.f90, exx.f90, para.f90, symrho.f90:

	EXX minor cleanup and parallel implementation

2005-12-09 12:13  cavazzon

	* CPV/cg_sub.f90, CPV/cglib.f90, CPV/cplib.f90, CPV/cpr.f90,
	  CPV/fromscra.f90, CPV/guess.f90, CPV/pseudo_base.f90,
	  CPV/restart.f90, CPV/restart_sub.f90, CPV/runcg.f90,
	  CPV/runcg_ion.f90, CPV/runcp.f90, CPV/rundiis.f90, CPV/smcp.f90,
	  CPV/wave.f90, flib/simpsn.f90:

	- bug fix: Lapack DSPEV was used even when ESSL were used
	- Same gram subroutine both for CP and FPMD subroutines
	- simpson_fpmd everywhere substituted with simpson_cp90

2005-12-09 10:07  giannozz

	* CPV/init_run.f90:

	No reason to allocate large arrays for variable-cell dynamics
	if it is not performed - beware: this will lead to core dumps
	if those arrays are used when unnecessary

2005-12-09 04:49  sbraccia

	* CPV/compute_fes_grads.f90, CPV/main_loops.f90,
	  Modules/metadyn_base.f90, Modules/metadyn_io.f90,
	  Modules/metadyn_vars.f90, PW/compute_fes_grads.f90, PW/pwscf.f90:

	Fixed some bugs in the restarting procedure of meta-dynamics. C.S.

2005-12-08 22:56  umari

	* CPV/: cg_sub.f90, cglib.f90, input.f90, qmatrixd.f90:

	Added support for nspin==2 in CG/+eDFT and berry's phase electric field
	Fixed MKL support in eDFT

	P.U.

2005-12-08 15:28  sbraccia

	* PW/dynamics.f90:

	Constant temperature MD was corrupted by my recent modifications. Fixed.
	C.S.

2005-12-07 18:17  sbraccia

	* PW/pw_restart.f90, CPV/cp_restart.f90:

	Small modifications. C.S.

2005-12-07 18:16  sbraccia

	* Modules/metadyn_base.f90, Modules/metadyn_io.f90,
	  PW/compute_fes_grads.f90, CPV/compute_fes_grads.f90:

	Fixed some bugs in the parallel I/O of meta-dynamics.
	C.S.

2005-12-07 08:56  silviu

	* examples/example32/reference/: h2o.cp.out, h2o.vib.analysis:


	example 32 updated for new namelist in the input. [silviu]

2005-12-07 08:55  silviu

	* examples/example32/run_example:

	example 32 updated for new namelist in the input.

2005-12-07 05:37  sbraccia

	* Modules/coarsegrained_vars.f90:

	Extensive clean-up and reorganisation of meta-dynamics. The algorithm
	implemented is the one described in PRL 92, 17061 (2004) and, at present, only
	works at zero temperature.
	The restart files are now written in xml format and are saved ina sub-directory
	of the main "save" directory.
	C.S.

2005-12-07 05:22  sbraccia

	* examples/example28/: run_example, reference/metadyn-cp.axsf,
	  reference/metadyn-cp.metadyn, reference/metadyn-cp.out,
	  reference/metadyn-pw.axsf, reference/metadyn-pw.metadyn,
	  reference/metadyn-pw.out:

	Extensive clean-up and reorganisation of meta-dynamics. The algorithm
	implemented is the one described in PRL 92, 17061 (2004) and, at present, only
	works at zero temperature.
	The restart files are now written in xml format and are saved ina sub-directory
	of the main "save" directory.
	C.S.

2005-12-07 05:18  sbraccia

	* Modules/metadyn_base.f90, Modules/metadyn_io.f90,
	  Modules/metadyn_vars.f90, Modules/Makefile, PW/Makefile,
	  CPV/Makefile, CPV/compute_fes_grads.f90, CPV/cpr.f90,
	  CPV/cprstart.f90, CPV/input.f90, CPV/main_loops.f90,
	  CPV/stop_run.f90, Doc/INPUT_CP, Doc/INPUT_PW,
	  Modules/constraints_module.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PW/compute_fes_grads.f90,
	  PW/dynamics.f90, PW/electrons.f90, PW/input.f90,
	  PW/move_ions.f90, PW/punch.f90, PW/pwscf.f90, PW/stop_run.f90:

	Extensive clean-up and reorganisation of meta-dynamics. The algorithm
	implemented is the one described in PRL 92, 17061 (2004) and, at present, only
	works at zero temperature.
	The restart files are now written in xml format and are saved ina sub-directory
	of the main "save" directory.
	C.S.

2005-12-06 18:30  giannozz

	* CPV/crayfft.f90:

	Updated for NEC-sx6 (Guido)

2005-12-06 15:55  cavazzon

	* CPV/input.f90, CPV/main.f90, CPV/potentials.f90,
	  CPV/print_out.f90, CPV/runcp.f90, Modules/energies.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  Modules/sic.f90:

	- some updates about SIC for fpmd calculations
	  contributed by F.Baletto

2005-12-06 10:34  giannozz

	* examples/example32/run_example:

	Bad variable

2005-12-06 10:27  giannozz

	* examples/example30/reference/: mgo.cp.cg.efield.out,
	  mgo.cp.cg.out, mgo.cp.damp.efield.out:

	Examples updated

2005-12-06 10:24  giannozz

	* examples/: example28/reference/metadyn-cp.out,
	  example29/reference/si2.ensemble-dyn.out:

	Examples updated

2005-12-06 10:20  giannozz

	* examples/: example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example27/reference/c4h6.cp.metaGGA.out:

	Examples updated

2005-12-06 10:16  giannozz

	* examples/: example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example21/reference/h2o-32.out, example21/reference/h2o-64.out:

	Examples updated

2005-12-06 10:13  giannozz

	* examples/example18/reference/: sio2.cp.start.out, sio2.vc-cp.out,
	  sio2.vc-cp.restart.out:

	Examples updated

2005-12-06 10:05  giannozz

	* CPV/crayfft.f90:

	Undefined variables were present - would have never compiled

	Should we keep this ancient cray stuff or remove it altogether???

2005-12-05 18:25  fratesi

	* PW/: grid_paw_routines.f90, grid_paw_variables.f90:

	<develop_PAW> XC one-center energy and potential (GF)

2005-12-05 18:12  dalcorso

	* Modules/io_files.f90:

	Longer filenames for PWCOND.

2005-12-05 17:07  fratesi

	* PW/: grid_paw_routines.f90, grid_paw_variables.f90, setup.f90,
	  sum_band.f90, upf_to_internal.f90:

	<develop_PAW> evaluation of one-center hartree potentials and energies, plus minor changes (GF)

2005-12-05 09:51  giannozz

	* D3/d3_setup.f90:

	oops...forgot this one in yesterday's commit

2005-12-04 17:36  giannozz

	* Gamma/Makefile, Gamma/cg_setup.f90, Gamma/dmxc.f90,
	  Gamma/phcg.f90, Modules/functionals.f90, PH/Makefile,
	  PH/dmxc.f90, PH/dmxc_spin.f90, PH/phq_setup.f90,
	  flib/functionals.f90, flib/lsda_functionals.f90, D3/Makefile,
	  atomic/Makefile, atomic/c6_tfvw.f90:

	calculation of derivatives of exchange-correlation functional moved to
	Modules/functionals.f90 and flib/functionals.f90 and lsda_functionals.f90
	Duplicated routine dmxc.f90 removed. Atomic code does not depend any
	longer on PH/.

2005-12-03 10:53  giannozz

	* Doc/users-guide.tex:

	Documentation updated

2005-12-02 18:10  silviu

	* Doc/INPUT_CPVIB:

	updated documentation. [silviu]

2005-12-02 17:20  giannozz

	* iotk/: include/iotk_auxmacros.h, include/iotk_auxmacros.spp,
	  include/iotk_config.h, tools/auto_config:

	Guido's changes for NEC SX6

2005-12-02 17:16  giannozz

	* flib/latgen.f90:

	Misspell

2005-12-02 17:13  giannozz

	* PW/input.f90:

	ibrav=0 fixed in stable branch

2005-12-02 16:44  giannozz

	* pwtools/Makefile:

	Guido's changes for NEC-SX6

2005-12-02 15:51  degironc

	* PH/dynmatrix.f90, PP/average.f90, PP/chdens.f90, PP/dipole.f90,
	  PP/voronoy.f90, PW/input.f90, flib/latgen.f90,
	  pwtools/dynmat.f90, pwtools/matdyn.f90, pwtools/q2r.f90:

	Fixed problem with ibrav=0  in the chain ph.x -> q2r.x -> matdyn.x
	If ibrav=0 ph.x write also  at(3,3) and symm_type and so do q2.x and matdyn.x
	It could actually be simpler to always write/read at(3,3) and symm_type and
	forget about ibrav and celldm ...

	latgen modified so that it deals properly with ibrav=0 case.

2005-12-02 15:50  giannozz

	* install/Make.sxcross:

	Guido's changes for NEC SX6

2005-12-02 15:01  fratesi

	* PW/grid_paw_variables.f90:

	<develop_PAW> variables added for local potential and spheropole
	(GF)

2005-12-02 11:50  giannozz

	* PW/dynamics.f90:

	remove_constr_force => remove_constraint_force

2005-12-02 00:48  sbraccia

	* CPV/print_out.f90:

	Small fix in the output format.
	C.S.

2005-12-01 18:25  giannozz

	* CPV/: cplib.f90, cprsub.f90, modules.f90, pseudo_base.f90,
	  pseudopot.f90, qqberry.f90, read_pseudo.f90:

	Cleanup of the Ultrasoft PP: variable "cmesh", used only for PP in the
	archaic USPP format with Herman-Skilman grid, removed. The integration
	is now performed used the same logic (but not yet the same routine) of
	the other cases.

2005-12-01 17:54  giannozz

	* Doc/: refman.tex, users-guide.tex:

	- users' guide: added warning by Kostya about electronic Nose' thermostats
	- reference manual: added section on how to contribute

2005-12-01 16:53  sbraccia

	* PW/dynamics.f90:

	Minor improvements to the preconditioned quick-min relaxation scheme.
	C.S.

2005-12-01 12:09  degironc

	* PW/: addusdens.f90, newd.f90, realus.f90:

	realus now compile in parallel

2005-11-30 18:35  degironc

	* atomic_doc/vdw-in-tfvw/: test.job, reference/compare.dat:

	misprint corrected in test.job

2005-11-30 16:49  degironc

	* D3/Makefile, Gamma/Makefile, Modules/input_parameters.f90,
	  PH/Makefile, PP/Makefile, PW/Makefile, PW/addusdens.f90,
	  PW/hinit0.f90, PW/input.f90, PW/newd.f90, PW/realus.f90,
	  PWCOND/Makefile:

	PWscf: defining variable tqr=.true. in system namelist, Augmentations
	charges are computed in real space only in spheres around the atoms and
	these patches are added to rho on the dense fft grid.

	Affected routines: addusdens and newd.

	Should scale linearly with system size, as opposed to the quadratic
	scaling of the G-space implentation.

	Experimental version:
	 - no forces nor stress yet.
	 - parallel version to be tested
	 - not to mention phonon and the other codes ...

	DISCLAIMER

	There are accuracy issues to be understood better, we may need properly
	modifies pseudopotentials in order to avoid (or reduce) errors when
	ecutrho is still insufficient to describe all Fourier components of the
	augmentation charge.
	In this case (that is nearly always) also the usal G-space has errors
	(negative charges for molecules and surfaces, for instance) but they are
	usually small and we are used to live with them.
	Some experience is needed to understand the relevance of the error related
	to R-space augmentation charges.
	CP has R-space augmentation with small-boxes.
	They also produce some different, usually small, errors.
	I think (I may be wrong) this is the origin of the fact that sometime PWscf
	and CP total energies are not exactly the same.

	SdG and Antonio Suriano

2005-11-30 12:02  ballabio

	* README.configure, README.install, Doc/users-guide.tex:

	documentation updated [Gerardo]

2005-11-30 12:02  ballabio

	* configure, configure.ac:

	small fix [Gerardo]

2005-11-29 19:15  ballabio

	* configure, configure.ac:

	split architectures:
	linux32 --> ia32
	linux64 --> ia64, amd64
	check for acml on amd64
	[Gerardo]

2005-11-26 01:10  silviu

	* examples/example32/: README, run_example, reference/h2o.cp.out,
	  reference/h2o.vib.analysis:

	added example 32 for cpvib.x [silviu]

2005-11-26 01:05  silviu

	* examples/README:

	adding example 32 for using cpvib.x [silviu]

2005-11-25 10:07  cavazzon

	* CPV/cpr.f90, CPV/fromscra.f90, CPV/init_run.f90, CPV/ions.f90,
	  CPV/print_out.f90, Modules/ions_base.f90:

	- bug fix, the center of mass cdmi was defined first in real
	  variables and then in scaled variable. Now the scaled
	  center of mass is stored in variable "cdms".
	  This patch affect only the standard output.

2005-11-25 00:59  silviu

	* Doc/INPUT_CPVIB:

	improved documentation. [silviu]

2005-11-24 22:32  silviu

	* Makefile:

	update global Makefile for cpvib.x [silviu]

2005-11-24 22:19  silviu

	* Doc/INPUT_CPVIB:

	Documentation for cpvib.x [silviu]

2005-11-24 22:17  silviu

	* makedeps.sh:

	A new code (cpvib.x) for calculating normal modes, Born charge tensors
	and infrared cross-section for isolated molecules/cluster in vacuum.
	It uses the CP as an underlying DFT engine, and a the frozen-phonon
	approach for calculating the energy Hessian. [silviu]

2005-11-24 17:55  degironc

	* Doc/: CREDITS, users-guide.tex:

	credits updated

2005-11-24 17:11  degironc

	* atomic/Makefile, atomic/all_electron.f90, atomic/c6_tfvw.f90,
	  atomic/ld1_readin.f90, atomic/ld1inc.f90, atomic_doc/INPUT_LD1,
	  atomic_doc/vdw-in-tfvw/AAREADME,
	  atomic_doc/vdw-in-tfvw/ar.sla-gl.in,
	  atomic_doc/vdw-in-tfvw/ar.sla-noc.in,
	  atomic_doc/vdw-in-tfvw/ar.sla-pz.in,
	  atomic_doc/vdw-in-tfvw/kr.sla-gl.in,
	  atomic_doc/vdw-in-tfvw/kr.sla-noc.in,
	  atomic_doc/vdw-in-tfvw/kr.sla-pz.in,
	  atomic_doc/vdw-in-tfvw/ne.sla-gl.in,
	  atomic_doc/vdw-in-tfvw/ne.sla-noc.in,
	  atomic_doc/vdw-in-tfvw/ne.sla-pz.in,
	  atomic_doc/vdw-in-tfvw/test.job,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-gl.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-gl.out,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-noc.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-noc.out,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-pz.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ar.sla-pz.out,
	  atomic_doc/vdw-in-tfvw/reference/compare.dat,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-gl.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-gl.out,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-noc.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-noc.out,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-pz.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/kr.sla-pz.out,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-gl.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-gl.out,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-noc.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-noc.out,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-pz.freq-pol.dat,
	  atomic_doc/vdw-in-tfvw/reference/ne.sla-pz.out:

	Calculation of the frequency dependent atomic polarizability and van der Waals
	C6 coefficients using Thomas-Fermi + vonWeizsaeker approximation for the
	kinetic energy functional is implemented in atomic code.
	A directory with some examples is added in atomic_doc
	Contributed by Huy-Viet Nguyen (SISSA).

2005-11-23 23:40  kkudin

	* Modules/ions_nose.f90:

	Make NH thermostat initialization more consistent when the NH thermostat is NOT used
	 Kostya

2005-11-23 17:30  giannozz

	* Modules/ions_nose.f90:

	variable changed from intent(out) to intent(inout)

2005-11-23 17:14  silviu

	* CPV/fromscra.f90:

	change variable ht type in subroutine from_scratch_fpmd to intend(INOUT). [silviu]

2005-11-23 17:10  silviu

	* CPV/cpr.f90:

	upper and lower temperature bounds for velocity rescaling were not properly
	defined. [silviu]

2005-11-23 14:36  giannozz

	* CPV/: Makefile, dipol_matrix.f90:

	Unused file removed

2005-11-22 17:41  silviu

	* CPV/restart_sub.f90:

	bug fix, wave finction velocity was not set to zero when 'tzeroe' flag is on.

2005-11-22 14:33  giannozz

	* atomic/write_cpmd.f90:

	alfa_core was not initialized

2005-11-22 09:09  giannozz

	* CPV/restart_sub.f90:

	"na" was declared twice

2005-11-22 09:07  giannozz

	* PW/gradcorr.f90:

	vtxc, etxc variables are intent(inout)

2005-11-22 09:05  giannozz

	* Modules/autopilot.f90:

	uninitialised variable nrules replaced by n_rules
	: ----------------------------------------------------------------------

2005-11-22 00:41  silviu

	* CPV/cplib.f90:

	Subroutine poles uses now the minimum-image convention when calculating
	the dipole moment. That way one don't have to worry about placing the
	molecule/cluster in the center of the cell. [silviu]

2005-11-21 19:10  fratesi

	* PW/: Makefile, grid_paw_routines.f90, grid_paw_variables.f90,
	  hinit0.f90, init_run.f90, readin.f90, upf_to_internal.f90:

	<develop_PAW> introduced modules for PAW calculation on regular grid, under development (GF)

2005-11-21 18:28  giannozz

	* CPV/cg_sub.f90, CPV/cp_restart.f90, CPV/input.f90,
	  CPV/nl_base.f90, CPV/phasefactor.f90, CPV/restart.f90,
	  CPV/wannier.f90, CPV/wf.f90, PW/restart.f90:

	First batch of alpha compilation problems

2005-11-20 22:44  silviu

	* CPV/cplib.f90:

	Modified subroutine 'poles' to calculate also the ionic contribution to the
	dipole moment + cleanup. [silviu]

2005-11-20 22:17  silviu

	* Modules/constants.f90:

	Adding conversion for dipole moment from AU to Debye. [silviu]

2005-11-19 22:29  silviu

	* CPV/dipol_matrix.f90:

	Comments were translated from Italian to English. [silviu]

2005-11-18 17:25  giannozz

	* release.sh:

	Final (?) release script

2005-11-18 17:18  silviu

	* make.sys.in:

	Added search path for modules in directory CPV. [silviu]

2005-11-18 15:28  giannozz

	* CPV/cplib.f90:

	No reason to keep vofrho_wf (no longer used)
	Subroutine "poles" (also not used) kept for now - might be useful later

2005-11-18 15:02  giannozz

	* PP/sumpdos.f90:

	Bug fix for spin-polarized case (Andrea Ferretti)

2005-11-18 08:59  kokalj

	* GUI/PWgui/doc/pwdocs/Makefile:

	updating the Makefile: the LaTeX-->HTML process was not perfect: the pwscf image was missing, and latex2html makes several annoying "mathend000#" markers in the html text. Using "sed" to get rid of these.

2005-11-18 08:14  kokalj

	* GUI/PWgui/: BUGS, INSTALL, NEWS:

	updating a bit the info

2005-11-18 08:00  kokalj

	* GUI/PWgui/modules/pw/pw-event.tcl:

	the fe_step() dimension (for metadynamics) has not been linked
	with the auxil-variable n_fe_step

2005-11-17 09:46  giannozz

	* release.sh:

	Yet another small fix to the packaging script

2005-11-17 09:26  giannozz

	* PP/Makefile, PP/pw2gw.f90, Doc/users-guide.tex, release.sh:

	Final small changes

2005-11-17 00:08  silviu

	* CPV/cplib.f90:

	Updating the interface of subroutine 'poles' to return also the dipole vector. [silviu]

2005-11-15 17:52  dalcorso

	* PW/cubicsym.f90:

	The names of two symmetry operations were wrong. (Contributed by R. Mazzarello)

2005-11-15 09:56  kokalj

	* GUI/Guib/src/tclIndex:

	[no log message]

2005-11-15 09:55  kokalj

	* GUI/Guib/src/: keywidgets.itcl, widgets.itcl:

	adding guib's scale widget

2005-11-15 09:55  kokalj

	* GUI/Guib/src/validate.itcl:

	improving some validators

2005-11-15 09:42  kokalj

	* GUI/PWgui/modules/pw/: pw-event.tcl, pw.tcl:

	updating CONSTRAINS card

2005-11-14 17:49  giannozz

	* release.sh:

	More tweaking of the packaging script

2005-11-14 16:55  giannozz

	* examples/example28/reference/: metadyn-cp.metadyn,
	  metadyn-cp.out:

	Example 28 was what was intended to

2005-11-14 16:41  giannozz

	* Modules/coarsegrained_vars.f90:

	g95 doesn't like format "L"

2005-11-14 16:39  giannozz

	* release.sh:

	Missing file added

2005-11-14 12:22  giannozz

	* pwtools/matdyn.f90:

	Yet anoher bad call to sgama

2005-11-14 10:37  giannozz

	* Doc/nomefile.upf:

	[no log message]

2005-11-14 09:50  giannozz

	* PW/sgama.f90:

	Comment

2005-11-14 09:50  giannozz

	* README, TODO, release.sh:

	Minor updates

2005-11-14 09:48  giannozz

	* PH/star_q.f90:

	Initialize t_rev to zero, just in case

2005-11-13 23:17  silviu

	* CPV/input.f90:

	Breaking long code lines to shorter ones (i.e. adding '&'),
	g95 doesn't like very long lines. [silviu]

2005-11-12 10:21  giannozz

	* examples/example28/reference/: metadyn-cp.metadyn,
	  metadyn-cp.out:

	Example 28 updated (again) - please check

2005-11-12 10:18  giannozz

	* examples/example23/reference/h2o.efield.out:

	Example 23 updated (again) - please check

2005-11-12 10:17  giannozz

	* examples/example18/reference/: sio2.vc-cp.out,
	  sio2.vc-cp.restart.out:

	example 18 updated (again) - please check

2005-11-11 18:31  umari

	* CPV/input.f90:

	Added flag to stop calculation if (in cp.x)
	ensemble DFT and NOT conjugate gradient
	berry phase electric field and nspin==2
	conjugate gradient and nspin==2
	P.U.

2005-11-11 17:25  sbraccia

	* Modules/xml_io_base.f90:

	Yet another modification to the history subdir (provided by Yonas Abraham). It does not
	affect the otuput unless the code is compiled with -D__VERBOSE_SEAVE.
	C.S.

2005-11-11 17:11  giannozz

	* CPV/: cg_sub.f90, cprsub.f90, efermi.f90:

	References updated, some cleanup of unused routines

2005-11-11 11:57  degironc

	* PW/pwcom.f90:

	 in order to compile recent change for t_rev

2005-11-11 10:01  giannozz

	* PW/pwcom.f90:

	Set to zero new variable t_rev for symmetry with noncolinear magnetization
	Since it is used and initialised only by pw.x, setting it to zero prevents
	potential problems with all other codes.

2005-11-11 09:22  giannozz

	* PH/star_q.f90:

	Incorrect call to 'sgama' after last changes

	When you change the calling sequence of a routine,
	please change it in all places where it is called!

2005-11-11 09:11  giannozz

	* examples/example22/reference/: bands.pt.im, pt.cond.out,
	  pt.nscf.out, pt.scf.out, pt.tet.out:

	Example for spin-orbit updated (almost no difference)

2005-11-11 09:10  giannozz

	* examples/example13/reference/: cu.band.out, cu.cg.out,
	  cu.scf.out, fe.angl.out, fe.band.out, fe.pen.out, fe.scf.out,
	  fe.total.out, ni.band.out, ni.scf.out, o2.relax.out:

	Example for noncolinear case updated to reflect new output
	Same results but less k-points

2005-11-11 01:21  kkudin

	* CPV/: move_electrons.f90, restart_sub.f90:

	 Added a branch to the code to make sure that "lambdam" used in CP is
	initialized to something sane in code paths not using "interpolate_lambda"
	 Kostya

2005-11-10 16:09  kokalj

	* GUI/PWgui/modules/pw/: pw-event.tcl, pw-help.tcl, pw.tcl:

	updating the PWgui's PW module to refelct new input.

	In particular:

	- the noncolinear and constrained/fixed magnetization staff has been added (please check)
	- the support for 'metadyn' type calculation has been added
	(please check)

	Not yet DONE: the gui cannot handle (yet) the new form of CONSTRANITS card.

2005-11-10 12:35  giannozz

	* examples/: example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.phG.out, example02/reference/c.scf.out,
	  example02/reference/ni.nscf.out, example02/reference/ni.phX.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.scf.out, example06/reference/alas.freq,
	  example06/reference/alas.ph.out, example06/reference/alas.phdos,
	  example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes,
	  example07/reference/al.elph.out, example07/reference/al.nscf.out,
	  example07/reference/al.nscf2.out, example07/reference/al.ph.out,
	  example07/reference/al.scf.out, example08/reference/ni.dos.out,
	  example08/reference/ni.fs.bxsf, example08/reference/ni.pdos.out,
	  example08/reference/ni.scf.out, example09/reference/dynmat.out,
	  example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.co, example12/reference/bands.al.im,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.ni_down.im,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example14/reference/si.anh_G, example14/reference/si.anh_X,
	  example14/reference/si.d3G.out, example14/reference/si.d3X.out,
	  example14/reference/si.nscf.out, example14/reference/si.phG.out,
	  example14/reference/si.phX.out, example14/reference/si.scf.out,
	  example15/reference/alas.dynG, example15/reference/alas.ph.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H.axsf, example17/reference/H2+H.dat,
	  example17/reference/H2+H.int, example17/reference/H2+H.out,
	  example17/reference/H2+H.path, example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.axsf,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.int,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/asymmetric_H2+H.xyz,
	  example17/reference/symmetric_H2+H.axsf,
	  example17/reference/symmetric_H2+H.dat,
	  example17/reference/symmetric_H2+H.int,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.xyz, example18/run_example,
	  example18/reference/new1.out, example18/reference/new2.out,
	  example18/reference/new3.out, example18/reference/new4.out,
	  example18/reference/sio2.cp.restart.out,
	  example18/reference/sio2.cp.start.out,
	  example18/reference/sio2.vc-cp.out,
	  example18/reference/sio2.vc-cp.restart.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example21/reference/h2o-32.out, example21/reference/h2o-64.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example24/reference/quartz.efg.out,
	  example24/reference/quartz.scf.out,
	  example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.out, example25/reference/pmw.out,
	  example26/reference/smd1.out, example26/reference/smd2.out,
	  example26/reference/smd3.out, example26/reference/smd4.out,
	  example26/reference/smd5.out, example26/reference/smd6.out,
	  example26/reference/smd7.out, example27/run_example,
	  example27/reference/c4h6.cp.metaGGA.out,
	  example27/reference/new1.out,
	  example28/reference/metadyn-cp.metadyn,
	  example28/reference/metadyn-cp.out,
	  example28/reference/metadyn-pw.out, example29/run_example,
	  example29/reference/new1.out,
	  example29/reference/si2.ensemble-dyn.out, example30/run_example,
	  example30/reference/mgo.cp.cg.efield.out,
	  example30/reference/mgo.cp.cg.out,
	  example30/reference/mgo.cp.damp.efield.out,
	  example30/reference/new1.out, example30/reference/new2.out,
	  example30/reference/new3.out, example31/run_example,
	  example31/reference/new1.out, example31/reference/new2.out,
	  example31/reference/new3.out,
	  example31/reference/si.scf.efield.out,
	  example31/reference/si.scf.efield2.out,
	  example31/reference/si.scf.out:

	All examples, excepted examples 13 and 22 that might be affected by the
	last pacth, updated - some output names changed to more explicit ones

2005-11-10 11:16  dalcorso

	* pwtools/Makefile:

	To compile previous commit.

2005-11-10 10:09  smogunov

	* PW/: kpoint_grid.f90, pwcom.f90, setup.f90, sgam_at_mag.f90,
	  sgama.f90, summary.f90, symrho_mag.f90:

	Time reversal symmetry is also exploited in noncollinear spin case (A. Smogunov)

2005-11-09 18:57  cavazzon

	* CPV/print_out.f90, CPV/restart.f90, Modules/ions_base.f90:

	- few more useful print out for CP/FPMD
	  partial temperatures and mean square displacement

2005-11-09 18:13  umari

	* examples/example30/reference/: new1.out, new2.out, new3.out:

	New output files for example30
	P.U.

2005-11-09 18:11  umari

	* examples/example30/: README, run_example:

	Modified example30 for faster running
	P.U.

2005-11-09 18:10  giannozz

	* Doc/: README, restart, users-guide.tex:

	Documentation updated

2005-11-09 18:06  giannozz

	* PP/: Makefile, chdens.f90, sumpdos.f90:

	Minor change + auxilary code ot sum PDOS by Andrea Ferretti

2005-11-09 17:33  cavazzon

	* CPV/input.f90, CPV/runcp.f90, Modules/electrons_base.f90:

	- check added on SIC staff with CP
	- FPMD error message fixed for SIC with nupdwn(1) = 1 and nupdwn(2) = 0

2005-11-09 05:15  sbraccia

	* Modules/xml_io_base.f90:

	The history subdirectory (in the main save directory) is created and the
	data-file.xml files saved only if the code is compiled with the preprocessor
	flag -D__VERBOSE_SAVE (they are not saved by default).
	In the future I'll look for a better solution.
	C.S.

2005-11-09 00:40  kkudin

	* CPV/cpr.f90:

	Moved smooth restart CG->CP code to a slightly different location in
	order to take into account the very last step as well.
	 Kostya

2005-11-08 21:06  giannozz

	* CPV/input.f90:

	bad output message caused a crash when issued

2005-11-08 20:23  sbraccia

	* Modules/io_files.f90:

	oops ... (I forgot this file in the previous commit).
	C.S.

2005-11-08 18:54  kkudin

	* CPV/Makefile, atomic/Makefile, upftools/Makefile:

	Added missing stuff when linking on IBM with XLF
	 Kostya

2005-11-08 18:37  dalcorso

	* PW/sum_band.f90:

	Bug fix.

2005-11-08 17:48  sbraccia

	* CPV/cp_restart.f90, CPV/cpr.f90, Modules/xml_io_base.f90,
	  PW/pw_restart.f90:

	Fixed a bug in cpr (the eigenvalues were not always computed when the restart file was saved).
	In the history sub-directory the data-files are now saved as: data-file.${iteration-number}.xml
	C.S.

2005-11-08 11:04  giannozz

	* CPV/: cp_fpmd.f90, cprsub.f90, modules.f90, pseudopot.f90,
	  qqberry.f90, read_pseudo.f90:

	The "qrl" array - used for compatibility with old Vanderbilt format -
	takes 200Mb with default parameters! Reduced to almost half by using
	the symmetry wrt index exchange.

2005-11-08 02:13  umari

	* examples/example29/reference/new1.out:

	Faster example 29

	P.U.

2005-11-08 02:13  umari

	* examples/example29/run_example:

	Faster example 29
	P.U.

2005-11-08 02:12  umari

	* CPV/cpr.f90:

	Uncommented lines for smooth restart CG to CP

	P..U.

2005-11-08 01:03  cavazzon

	* CPV/cpr.f90, CPV/eigs0.f90, CPV/eigsp.f90, CPV/electrons.f90,
	  CPV/print_out.f90, CPV/smcp.f90, Doc/INPUT_CP,
	  Modules/electrons_base.f90, Modules/energies.f90:

	- CP/FPMD print out routines merged, now physical quantities are
	  displayed with the same layout

2005-11-07 20:35  sbraccia

	* CPV/cp_restart.f90, Modules/xml_io_base.f90, PW/pw_restart.f90:

	filenames modified so that all the files inside the "save" directory have standard names
	that do not depend on the prefix.
	C.S.

2005-11-07 19:56  sbraccia

	* CPV/cp_restart.f90, CPV/restart_sub.f90, Modules/check_stop.f90:

	Some cleanup: the info message about reading/writing the restart file now indicates the
	restart directory (the only file users are aware of) and not the xml descriptor.
	C.S.

2005-11-07 18:31  cavazzon

	* CPV/: cp_restart.f90, restart.f90, restart_sub.f90:

	- writing and reading restart file is now notified on standard output

2005-11-07 17:49  cavazzon

	* CPV/: ions_positions.f90, phasefactor.f90:

	 - Bug fix, ionic steepest descent was not working

2005-11-07 17:46  cavazzon

	* Modules/read_namelists.f90:

	- default values for nr1b nr2b nr3b set equal to 3,
	  this is required by the routine phfacs .
	  now the code should not complain when this values
	  are not specified in the input.
	  A way to warn users to use sensible values for US pseudo
	  is still missing.

2005-11-07 12:11  dalcorso

	* Doc/INPUT_BANDS:

	Documentation of bands.x .

2005-11-07 12:07  dalcorso

	* PP/Makefile, PP/bands.f90, PP/compute_sigma_avg.f90,
	  PW/allocate_nlpot.f90, PW/init_us_1.f90:

	Bands.x calculates the expectation value of the spin operator on each
	spinor wave-function.
	(A. Smogunov and ADC)

2005-11-06 21:57  cavazzon

	* CPV/para.f90:

	charge density now is read through xml base method

2005-11-06 21:55  cavazzon

	* Modules/xml_io_base.f90:

	added a method to read charge density

2005-11-06 21:30  sbraccia

	* CPV/cp_restart.f90, Modules/io_files.f90,
	  Modules/xml_io_base.f90, PW/pw_restart.f90:

	Clean-up of the xml stuff: the restart directory is now "prefix"_"ndw".save (previously RESTART"ndw")
	and the xml data-file is data-file.xml (previously restart.xml). The restart dir now contains a
	history sub-dir that contains a copy of the previous files data-file.xml (to facilitate post-processing).
	Examples' references do not need to be regenerated.
	C.S.

2005-11-04 18:22  giannozz

	* Doc/users-guide.tex:

	Manual updated

2005-11-04 18:22  giannozz

	* atomic/compute_phi.f90:

	Do not print unnecessary warning

2005-11-04 18:20  giannozz

	* pwtools/matdyn.f90:

	More explicit error message

2005-11-04 12:47  degironc

	* CPV/cplib.f90, CPV/exch_corr.f90, CPV/init_run.f90,
	  CPV/mainvar.f90, CPV/modules.f90, CPV/potentials.f90,
	  CPV/read_pseudo.f90, Gamma/a_h.f90, Gamma/cg_setup.f90,
	  Gamma/cg_setupdgc.f90, Modules/functionals.f90, PH/addnlcc.f90,
	  PH/addnlcc_zstar_eu_us.f90, PH/dv_of_drho.f90, PH/setup_dgc.f90,
	  PW/divide_et_impera.f90, PW/electrons.f90, PW/exx.f90,
	  PW/gradcorr.f90, PW/h_psi.f90, PW/input.f90, PW/read_ncpp.f90,
	  PW/readvan.f90, PW/set_kup_and_kdw.f90, PW/setup.f90,
	  PW/stres_gradcorr.f90, PW/upf_to_internal.f90, PW/v_of_rho.f90,
	  atomic/atomic_paw.f90, atomic/elsd.f90, atomic/elsdps.f90,
	  atomic/ld1_setup.f90, atomic/new_potential.f90,
	  atomic/sic_correction.f90, flib/more_functionals.f90:

	More small changes to funct module, some clean up of the EXX part.
	stefano

2005-11-03 17:12  fratesi

	* atomic/: atomic_paw.f90, descreening.f90, gener_pseudo.f90,
	  ld1_readin.f90, ld1_writeout.f90:

	<develop_PAW> added atomic charge in PAW atomic descriptor; when generating PAW write also the .UPF file for corresponding US pseudopotential; symmetrizing bmat, qvan, qq, kindiff. (GF)

2005-11-03 17:07  fratesi

	* PW/upf_to_internal.f90, Modules/pseudo_types.f90,
	  Modules/readpseudo.f90:

	<develop_PAW> added atomic charge in PAW atomic descriptor

2005-11-03 16:59  giannozz

	* Modules/: check_stop.f90, readpseudo.f90:

	When reading UPF potentials it is better to check for end-of-file rather
	than saving a useless value of 'iostat' that is never verified

2005-11-03 08:45  giannozz

	* upftools/Makefile:

	A link to a module was missing (Axel)

2005-11-02 23:49  silviu

	* Modules/functionals.f90:

	Adaptations for g95: function definitions must contain parenthesis, even if no arguments are passed. [silviu]

2005-11-02 18:26  degironc

	* PP/projwfc.f90:

	projwfc.f90  sorting of projections modified  (use hpsort_eps)

	As projections are printed to sdout with 3 decimal digids, (sorted by
	magnitude, in decreasing order), projections differing by less than 1.d-4
	are considered equal so that output does not depend on phase of the moon

	stefano

2005-11-02 18:22  degironc

	* flib/sort.f90:

	hpsort_eps modified in such a way that when two elements are "equals" their order is decided on the basis of the index variable ind().
	This was stated in the routine header but not implemented for hpsort_eps while it was already so for ihpsort and hpsort.
	Aim: do not swap two elements if they are "equal".

	stefano

2005-11-02 16:53  dalcorso

	* PP/bands.f90:

	Bug fix: sometimes bands was not working in the noncollinear case.

2005-11-02 16:42  giannozz

	* examples/example20/reference/nh3.out:

	Example 20 updated

2005-11-02 16:41  degironc

	* CPV/cp_fpmd.f90, CPV/cp_restart.f90, CPV/cplib.f90,
	  CPV/exch_corr.f90, CPV/input.f90, CPV/potentials.f90,
	  CPV/print_out.f90, CPV/read_pseudo.f90, D3/d3dyn_cc.f90,
	  Gamma/a_h.f90, Gamma/cg_setup.f90, Gamma/cg_setupdgc.f90,
	  Gamma/dgcxc.f90, Gamma/dgcxc_spin.f90, Gamma/dmxc.f90,
	  Gamma/phcg.f90, Modules/energies.f90, Modules/functionals.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PH/addnlcc.f90, PH/addnlcc_zstar_eu_us.f90, PH/dgcxc.f90,
	  PH/dgcxc_spin.f90, PH/dmxc.f90, PH/dmxc_spin.f90,
	  PH/dv_of_drho.f90, PH/setup_dgc.f90, PP/xctest.f90,
	  PW/electrons.f90, PW/gradcorr.f90, PW/input.f90,
	  PW/pw_restart.f90, PW/read_ncpp.f90, PW/readin.f90,
	  PW/readnewvan.f90, PW/readvan.f90, PW/restart.f90,
	  PW/stres_gradcorr.f90, PW/summary.f90, PW/upf_to_internal.f90,
	  PW/v_of_rho.f90, atomic/atomic_paw.f90, atomic/elsd.f90,
	  atomic/elsdps.f90, atomic/exc_t.f90, atomic/ld1_readin.f90,
	  atomic/ld1_setup.f90, atomic/ld1_writeout.f90,
	  atomic/new_potential.f90, atomic/read_newpseudo.f90,
	  atomic/read_pseudoupf.f90, atomic/sic_correction.f90,
	  atomic/vxc_t.f90, atomic/vxcgc.f90, atomic/write_cpmd.f90,
	  atomic/write_paw_recon.f90, atomic/write_results.f90,
	  atomic/write_resultsps.f90, atomic/write_upf.f90,
	  flib/functionals.f90, flib/lsda_functionals.f90,
	  flib/more_functionals.f90, upftools/fhi2upf.f90,
	  upftools/ncpp2upf.f90, upftools/virtual.f90:

	Modules/functionals.f90 modified.

	The idea is that module funct contains data defining the DFT functional in use
	and a number of functions and subroutines to manage them.
	Data are PRIVATE and are (shuold be) accessed and set only by function calls.
	Basic drivers to compute XC quantities are also included.

	It should be the main place where definitions for and calculation of xc
	functionals are centralized.

	In CPV printout [A.U.] replaced by [HARTREE A.U.] in many places.

	stefano

2005-11-02 16:41  giannozz

	* examples/example21/reference/: h2o-32.out, h2o-64.out:

	Example 21 updated

2005-11-02 16:40  giannozz

	* examples/example23/reference/: h2o.efield.out, h2o.wannier.out:

	Example 23 updated

2005-11-02 12:52  giannozz

	* examples/example25/reference/: feo_LDA.in, feo_LDA.out,
	  feo_LDA_again.out, feo_standard.in, feo_standard.out,
	  feo_user_ns.in, feo_user_ns.out, feo_wannier.in, feo_wannier.out,
	  pmw.in, pmw.out:

	Example 25 updated. Note that "pmw.out" produces a large amount of output data
	that seems to be quite difficult to compare with reference data. Maybe it should
	be renamed so that 'check_example' doesn't make the comparison, but then the
	correctness of results should be checked in some other way

2005-11-02 11:14  giannozz

	* iotk/: Makefile, IDE/IDE.conf, include/iotk_config.h,
	  include/iotk_version.h, include/iotk_version.sh, src/Makefile,
	  src/iotk_attr+CHARACTER1_0.f90, src/iotk_attr+COMPLEX1_0.f90,
	  src/iotk_attr+COMPLEX1_3.f90, src/iotk_attr+COMPLEX2_0.f90,
	  src/iotk_attr+COMPLEX2_3.f90, src/iotk_attr+INTEGER1_0.f90,
	  src/iotk_attr+INTEGER1_3.f90, src/iotk_attr+INTEGER2_0.f90,
	  src/iotk_attr+INTEGER2_3.f90, src/iotk_attr+LOGICAL1_0.f90,
	  src/iotk_attr+LOGICAL1_3.f90, src/iotk_attr+LOGICAL2_0.f90,
	  src/iotk_attr+LOGICAL2_3.f90, src/iotk_attr+REAL1_0.f90,
	  src/iotk_attr+REAL1_3.f90, src/iotk_attr+REAL2_0.f90,
	  src/iotk_attr+REAL2_3.f90, src/iotk_base.f90,
	  src/iotk_dat+CHARACTER1_0.f90, src/iotk_dat+CHARACTER1_3.f90,
	  src/iotk_dat+COMPLEX1_0.f90, src/iotk_dat+COMPLEX1_3.f90,
	  src/iotk_dat+COMPLEX2_0.f90, src/iotk_dat+COMPLEX2_3.f90,
	  src/iotk_dat+INTEGER1_0.f90, src/iotk_dat+INTEGER1_3.f90,
	  src/iotk_dat+INTEGER2_0.f90, src/iotk_dat+INTEGER2_3.f90,
	  src/iotk_dat+LOGICAL1_0.f90, src/iotk_dat+LOGICAL1_3.f90,
	  src/iotk_dat+LOGICAL2_0.f90, src/iotk_dat+LOGICAL2_3.f90,
	  src/iotk_dat+REAL1_0.f90, src/iotk_dat+REAL1_3.f90,
	  src/iotk_dat+REAL2_0.f90, src/iotk_dat+REAL2_3.f90,
	  src/iotk_files.f90, src/iotk_misc.f90, src/iotk_scan.f90,
	  src/iotk_str.f90, src/iotk_unit.f90, src/iotk_write.f90:

	1) patch by Axel Kohlmeyer for new architectures
	2) Makefiles regenerated - files *.F90 are also cleaned
	3) Version number and CVS revision updated

2005-11-02 10:45  giannozz

	* examples/example26/reference/: smd1.out, smd2.out, smd3.out,
	  smd4.out, smd5.out, smd6.out, smd7.out:

	Example 26 updated

2005-11-02 10:43  giannozz

	* examples/example27/reference/new1.out:

	Example 27 updated

2005-11-02 10:39  giannozz

	* examples/example28/reference/: metadyn-cp.metadyn,
	  metadyn-cp.out, metadyn-pw.axsf, metadyn-pw.metadyn,
	  metadyn-pw.out:

	Ecample 28 updated

2005-11-02 10:34  giannozz

	* examples/example29/reference/: new1.in, new1.out:

	example 29 updated

2005-11-02 10:31  giannozz

	* examples/example30/reference/: new1.out, new2.out, new3.out:

	Example 30 updated

2005-11-01 23:40  sbraccia

	* CPV/cprsub.f90:

	check_tables must be called only in the case of variable cell dynamics.
	C.S.

2005-11-01 23:23  giannozz

	* CPV/pseudopot.f90:

	Patch from Axel Kohlmeyer: mp-sum => mp_max, fixing a serious error
	in parallel execution. PLEASE CHECK

2005-11-01 23:13  giannozz

	* Doc/users-guide.tex:

	Documentation updated (__LAM trick explained)

2005-11-01 17:42  kkudin

	* CPV/input.f90:

	Removed excessive beautification (i.e. leading "&") in format strings
	because ifort 9.0 on AMD64 complained
	 Kostya

2005-11-01 00:56  umari

	* PW/input.f90:

	lconstrain was defined twice
	alpha refused to compile
	P.U.

2005-10-31 17:52  umari

	* CPV/cpr.f90:

	Added the possibility (now it's commented)
	of smooth restart CG to CP, to be used in CP molecular dynamics

	P.U.

2005-10-31 16:18  degironc

	* Modules/path_base.f90:

	my old ifc 7.0 does not like unbalanced assignement statement like
	pos_(:,1) = pos(1:dim,1)
	and crashes with Address error

	pos_(1:dim,1) = pos(1:dim,1)
	is reuired

	stefano

2005-10-31 09:19  dalcorso

	* atomic/pseudovloc.f90:

	The generation of the local potential is now independent from the order of jjs.

2005-10-31 08:37  giannozz

	* PW/compute_fes_grads.f90:

	Fixed bug when restarting metadynamics (CS)

2005-10-30 22:23  giannozz

	* Modules/: coarsegrained_vars.f90, constraints_module.f90:

	Bugs in constrained minimization fixed + better output format
	for metadynamics

2005-10-29 00:18  silviu

	* configure, configure.ac:

	Fixing the definition of F77 for the cygwing environment. [silviu]

2005-10-28 17:30  giannozz

	* atomic/ld1_setup.f90, atomic_doc/INPUT_LD1,
	  atomic_doc/pseudo-gen/AAREADME, atomic_doc/pseudo-gen/as.in:

	Documentation updated, more exoplicit messages

2005-10-27 11:38  giannozz

	* atomic/ld1_setup.f90:

	Yet another obscure error message made less obscure

2005-10-27 11:23  giannozz

	* atomic_doc/all-electron/: AAREADME, test.job, reference/ar.out,
	  reference/c_oep.out, reference/cu.out, reference/cu1.out,
	  reference/f.out, reference/h.out, reference/he.out,
	  reference/mg.out, reference/ne_oep.out, reference/pt.out,
	  reference/u.out, reference/u1.out, reference/w.out:

	All-electron examples updated. Examples for h and he yield lousy results:
	what about better examples?

2005-10-27 10:51  giannozz

	* atomic_doc/pseudo-gen/: AAREADME, test.job, reference/Al.rrkj3,
	  reference/Asrel.RRKJ3.UPF, reference/OPBE.RRKJ3,
	  reference/Ptrel.RRKJ3.UPF, reference/Si.recon,
	  reference/SiPBE_nc, reference/al.out, reference/as.out,
	  reference/o.out, reference/pt.out, reference/si_nc.out,
	  reference/si_nc_paw.out:

	Ecxamples for PP generation updated

2005-10-27 10:23  giannozz

	* atomic_doc/pseudo-test/AAREADME:

	Also updated

2005-10-27 10:14  giannozz

	* atomic_doc/pseudo-test/: al.in, as.in, test.job,
	  reference/Garel.tm.UPF, reference/al.out, reference/as.out,
	  reference/ga.out, reference/ni.out, reference/rh.out,
	  reference/s.out:

	Examples for pseudopotential testing updated - please verify

2005-10-27 09:23  giannozz

	* DAILY_TEST:

	[no log message]

2005-10-27 09:22  giannozz

	* examples/daily_test:

	Updated script for daily test (in the appropriate location)

2005-10-26 17:32  umari

	* examples/example31/reference/: new1.out, new2.out, new3.out:

	Added reference files
	P.U.

2005-10-26 17:28  umari

	* examples/example31/README:

	Added for example berry's phase electric field with pw.x
	P.U.

2005-10-26 16:45  fratesi

	* atomic/ld1_readin.f90:

	Ops... (GF)

2005-10-26 16:31  fratesi

	* atomic/: atomic_paw.f90, compute_phi.f90, gener_pseudo.f90,
	  ld1_readin.f90, ld1inc.f90, set_rho_core.f90, start_potps.f90:

	PAW generation from NC is now possible by setting variable lnc2paw=.true. in input

2005-10-26 16:11  umari

	* examples/example31/run_example:

	Example for berry's phase electric field with pw.x
	P.U.

2005-10-26 09:52  giannozz

	* examples/example13/reference/: cu.band.out, cu.cg.out,
	  cu.scf.out, fe.angl.out, fe.band.out, fe.pen.out, fe.scf.out,
	  fe.total.out, ni.band.out, ni.scf.out, o2.relax.out:

	Example updated - pleae verify

2005-10-26 09:51  giannozz

	* examples/example28/reference/: metadyn-cp.metadyn,
	  metadyn-cp.out, metadyn-pw.out:

	Example updated - please verify

2005-10-26 02:37  umari

	* CPV/electrons.f90:

	Just some cleanings
	P.U.

2005-10-26 01:25  umari

	* examples/README:

	Adding example for pw with berry's phase eletric field
	P.U.

2005-10-26 01:17  umari

	* PW/: c_phase_field.f90, electrons.f90, input.f90, pwcom.f90,
	  summary.f90:

	Changed nberrycic--->nberrycyc
	Added summary of electric field stuff
	Better output in c_phase_field
	P.U.

2005-10-26 01:11  umari

	* Modules/: input_parameters.f90, read_namelists.f90:

	Changed nberrycic --> nberrycyc
	P.U.

2005-10-26 01:07  umari

	* Doc/INPUT_PW:

	Added Infos for Berry's phase finite electric field
	P.U.

2005-10-25 23:41  umari

	* CPV/: berryion.f90, bforceion.f90, cg.f90, cg_sub.f90,
	  dforceb.f90, gtable.f90, print_out.f90, qmatrixd.f90,
	  qqberry.f90:

	Just added some comments
	P.U.

2005-10-25 20:11  umari

	* examples/example30/reference/: new1.out, new2.out, new3.out:

	Added references output files
	P.U.

2005-10-25 20:07  umari

	* examples/example30/README:

	Infos for example30 , CP&CG with berry's phase el. field
	P.U.

2005-10-25 18:40  giannozz

	* atomic/ld1_setup.f90:

	Sloppy test could give bogus error

2005-10-25 17:47  umari

	* examples/example30/run_example:

	Added example for Berry's phase electric field in cp.x
	with CP and CG
	P.U.

2005-10-25 17:44  umari

	* CPV/cglib.f90:

	Clearer comments

	P.U.

2005-10-25 15:34  giannozz

	* atomic/ld1.f90:

	Oops...

2005-10-25 15:29  giannozz

	* atomic/: Makefile, ld1.f90:

	Write version number instead of (bogus) date

2005-10-25 15:28  giannozz

	* Makefile:

	No dependency of atomic upon PW

2005-10-25 15:08  giannozz

	* TODO, CPV/cp_fpmd.f90, CPV/cpr.f90, CPV/input.f90, CPV/ions.f90,
	  CPV/print_out.f90, Modules/cell_base.f90, Modules/constants.f90,
	  Modules/read_namelists.f90:

	UMA => AMU everywhere . For people not speaking latin-derived languages
	the connection between UMA and Atomic Mass Units is not obvious.

2005-10-25 00:06  umari

	* CPV/: efield.f90, move_electrons.f90, print_out.f90, runcp.f90:

	Fixed some bugs for electric field with CP

	P.U.

2005-10-24 20:38  umari

	* Doc/INPUT_CP:

	added description of berry's phase electric field
	parameters for cg&cp
	P.U.

2005-10-24 17:04  umari

	* pseudo/: Mg.pz-n-vbc.UPF, O.pz-rrkjus.UPF:

	Added pseudo potentials for example of electric field
	in cp.x (bulk MgO)

	P.U.

2005-10-24 16:43  umari

	* examples/README:

	Adding example for electric fields in cp.x

	P.U.

2005-10-23 01:42  umari

	* examples/example29/reference/: new1.in, new1.out:

	Added reference files.

	P.U.

2005-10-23 01:26  umari

	* examples/example29/run_example:

	Added example for CG+ENSEMBLE
	P.U.

2005-10-23 01:25  umari

	* examples/example29/README:

	Added for CG+ENSEMBLE
	P.U.

2005-10-23 01:01  sbraccia

	* examples/: example28/README, example28/run_example,
	  example28/reference/metadyn-cp.axsf,
	  example28/reference/metadyn-cp.metadyn,
	  example28/reference/metadyn-cp.out,
	  example28/reference/metadyn-pw.axsf,
	  example28/reference/metadyn-pw.metadyn,
	  example28/reference/metadyn-pw.out, README:

	Added example for meta-dynamics. C.S.

2005-10-23 00:54  umari

	* examples/README:

	For new example 28, CG+ENSEMBLE+BO-MD
	where is example27???

	P.U.

2005-10-23 00:53  sbraccia

	* Modules/coarsegrained_vars.f90, Modules/constraints_module.f90,
	  CPV/compute_fes_grads.f90, PW/compute_fes_grads.f90:

	Few fixes and some cleanup in metadynamics. C.S.

2005-10-23 00:37  sbraccia

	* PW/input.f90:

	cleanup. C.S.

2005-10-22 23:33  umari

	* pseudo/Si.pbe-rrkj.UPF:

	I added this pseudo for the example of a Silicon dimer,
	BO MD, conjugate gradient and ensemble DFT
	The other Si pseudos in the example were not on the
	pwscf.org web-page of pseudos

	P.U.

2005-10-22 01:19  umari

	* CPV/vofrho2.f90:

	Infamous routine vofrho2 eliminated.
	P.U.

2005-10-22 01:09  umari

	* CPV/Makefile:

	Infamous routine vofrho2 eliminated
	P.U.

2005-10-22 01:05  umari

	* Doc/INPUT_CP:

	Added infos for conjugate gradient and ensemble dft
	P.U.

2005-10-22 00:57  umari

	* Modules/: input_parameters.f90, read_namelists.f90:

	Set default value of n_inner from 0 to 2
	P.U.

2005-10-21 21:44  umari

	* Modules/read_namelists.f90:

	Added electric field  Berry-phase style inputs for CP
	P.U.

2005-10-21 21:41  umari

	* CPV/: init_run.f90, main.f90, restart_sub.f90:

	Fixed C.G., ENSEMBLE-DFT,ELECTRIC FIELD
	P.U.

2005-10-21 21:40  umari

	* CPV/: cg.f90, cg_sub.f90, cglib.f90, cplib.f90, cprsub.f90:

	Fixed C.G., ENSEMBLE-DFT, ELECTRIC FIELD
	P.U.

2005-10-21 21:34  umari

	* CPV/print_out.f90:

	In printout_new , new parameter atot for C.G. +ensemble
	P.U.

2005-10-21 21:33  umari

	* CPV/cpr.f90:

	Added some ensemble flags,
	call to printout_new modified new parameters
	atot for C.G. +Ensemble
	P.U.

2005-10-21 20:29  umari

	* CPV/move_electrons.f90:

	Eliminated fossil ensemble part in Car-Parrinello electronic
	minimization. Infemous routine vofrho2 no longer called
	P.U.

2005-10-21 20:14  umari

	* CPV/input.f90:

	Added electric field input possibility
	P.U.

2005-10-21 20:04  sbraccia

	* CPV/Makefile:

	Modules used by cp listed explicitly. C.S.

2005-10-21 17:44  sbraccia

	* CPV/print_out.f90:

	ETTT => ECONT. C.S.

2005-10-21 17:42  sbraccia

	* Modules/cell_base.f90:

	CP: the reciprocal lattice vectors bg were in the wrong units (different from those
	used in PW for the same variable). C.S.

2005-10-21 17:38  umari

	* CPV/gtable.f90:

	Some clean-ups.
	P.U.

2005-10-21 17:36  umari

	* CPV/bforceion.f90:

	error corrected
	P.U.

2005-10-21 17:36  umari

	* CPV/: efield.f90, qqberry.f90:

	Major clean-ups
	P.U.

2005-10-21 17:35  umari

	* CPV/cg_sub.f90:

	Major clean-ups

	P.U.

2005-10-21 17:14  dalcorso

	* Makefile:

	make very_clean deletes also configure.msg

2005-10-21 16:51  giannozz

	* release.sh:

	Packaging script fixed (iotk was missing)

2005-10-21 15:01  dalcorso

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/inverse_s.f90, PW/sgam_at_mag.f90, PW/sgama.f90,
	  PW/symrho_mag.f90, PWCOND/Makefile, pwtools/Makefile:

	Changed symmetrization in the non-collinear case.
	(A. Smogunov and ADC)

2005-10-21 13:19  kokalj

	* Makefile:

	target tar-gui didn't work, bacause the ";" was missing after "fi" statement

2005-10-20 22:35  kkudin

	* Doc/INPUT_PW, Modules/input_parameters.f90, Modules/io_files.f90,
	  Modules/read_namelists.f90, PW/input.f90, PW/openfil.f90:

	Renamed input 'nodedir' to 'wfcdir'
	Fixed cases that do not know about 'wfcdir'
	 Kostya

2005-10-20 19:57  sbraccia

	* Doc/: INPUT_CP, INPUT_PW:

	Doc updated. C.S.

2005-10-20 17:22  sbraccia

	* CPV/compute_fes_grads.f90, CPV/cp_restart.f90, CPV/cpr.f90,
	  CPV/fromscra.f90, CPV/init_run.f90, CPV/input.f90,
	  CPV/restart.f90, CPV/stop_run.f90,
	  Modules/coarsegrained_vars.f90, Modules/constraints_module.f90,
	  Modules/input_parameters.f90, Modules/io_files.f90,
	  Modules/parameters.f90, Modules/path_base.f90,
	  Modules/path_opt_routines.f90,
	  Modules/path_reparametrisation.f90, Modules/path_variables.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90,
	  PW/compute_fes_grads.f90, PW/input.f90, PW/pw_restart.f90,
	  PW/stop_run.f90:

	Several bug-fix and clean-up.
	NEB: removed unused variables; removed allocatable input arrays from input_parameters (to be
	consistent with the rest of the input stuff) and replaced by static arrays.
	XML: unit 99 used to read/write wfc's replaced by a call to iotk_free_unit.
	constraints: the static array "fion" is passed as an array-section to constraint subroutines.
	metadyn: fe_step must be defined as an array of "time-steps" (one for each deg-of-freedom).
	C.S.

2005-10-20 17:17  ballabio

	* examples/environment_variables:

	[no log message]

2005-10-20 17:12  ballabio

	* makedeps.sh:

	[no log message]

2005-10-20 17:07  ballabio

	* README.install, Doc/users-guide.tex:

	updated, removed all under/overfull hboxes [Gerardo]

2005-10-20 16:01  giannozz

	* DAILY_TEST, Makefile, TODO, configure, configure.ac, makedeps.sh,
	  release.sh:

	Miscellaneous small fixes and additions

2005-10-20 15:37  ballabio

	* README.install:

	updated [Gerardo]

2005-10-20 15:23  ballabio

	* README.configure:

	updated [Gerardo]

2005-10-20 14:28  giannozz

	* GUI/PWgui/VERSION:

	Version number updated

2005-10-20 14:28  giannozz

	* examples/example19/run_example:

	Misspell

2005-10-20 10:28  giannozz

	* CPV/ortho_base.f90:

	Constants passed as argument must be explicit double precision

2005-10-20 10:28  giannozz

	* PW/exx.f90:

	Bad call to reduce

2005-10-20 10:01  giannozz

	* pwtools/: dynmat.f90, matdyn.f90, q2r.f90:

	Erroneous errors

2005-10-20 09:34  giannozz

	* PW/: c_bands.f90, ccgdiagg.f90, cegterg.f90, cinitcgg.f90,
	  electrons.f90, exx.f90, h_epsi_her.f90, pwcom.f90, wfcinit.f90:

	The current index of k-point, used in exact-exchange and electric-field
	calculations, is saved in variable current_k

2005-10-20 00:19  kkudin

	* install/: Make.ibm, Make.ibmsp:

	Updated bmaxdata to the maximum allowed under 32 bits
	( 0x7FFFFFFF or 2Gb-1 )
	 Kostya

2005-10-19 21:40  sbraccia

	* CPV/cp_restart.f90:

	Added the unit for the simulation time.
	C.S.

2005-10-19 17:04  giannozz

	* atomic_doc/INPUT_LD1:

	Documentation updated

2005-10-19 15:57  giannozz

	* CPV/: Makefile, diis.f90, enthropy.f90, entropy.f90, rundiis.f90:

	"enthropy" => "entropy" !

2005-10-19 02:54  kkudin

	* Modules/input_parameters.f90, Modules/io_files.f90,
	  Modules/read_namelists.f90, Doc/INPUT_PW, PW/input.f90,
	  PW/openfil.f90:

	Added an input variable to PWSCF called 'nodedir'
	If absent, it defaults to 'outdir'
	Whatever files opened in openfil.f90 will be opened in 'nodedir' (wfc, igk, ...)
	Everything else is unaffected
	The idea is to make it easier to store large *.wfc files on nodes while keeping
	the other files in a central location
	The patch is minimally intrusive and only replaces temporarily a variable
	in openfil.f90 ( this is an ugly but "clean" hack for now )
	Please test if it does what is claimed
	 Kostya

2005-10-18 23:49  sbraccia

	* Modules/ions_nose.f90:

	Fixed a bug spotted by Yonas Abraham in the autopilot (ions_nose_init is called every
	time the temperature is changed, but ions_nose_allocate must be called only once).
	C.S.

2005-10-18 22:55  kkudin

	* examples/environment_variables:

	Added some code to automatically set BIN_DIR and PSEUDO_DIR assuming the
	regular Espresso directory structure. Please check.
	 Kostya

2005-10-18 18:03  giannozz

	* atomic_doc/INPUT_LD1:

	Units were unspecified

2005-10-18 02:32  kkudin

	* CPV/: cp_restart.f90, cpr.f90, init_run.f90, restart.f90,
	  smcp.f90, smd.f90, wannier.f90:

	 Fixed the "massive" Nose-Hoover chains' restart information, now the number
	of chains is saved as well. The XML file got an extra variable.
	 Kostya

2005-10-18 02:27  kkudin

	* CPV/restart_sub.f90:

	Reset tps to zero when doing 'reset_counters'
	And, by the way, why *.evp file now has integer time steps instead of
	the total simulation time? I liked that one better ...
	 Kostya

2005-10-18 01:46  umari

	* CPV/pseudo_base.f90:

	Ooopsss

	some debug removed

	P.U.

2005-10-18 01:45  umari

	* CPV/pseudo_base.f90:


	There was a problem with pseudo potentials with NLCC,
	CP stopped in compute_rhocg
	Changed
	IF( gb(ig) > gsmall ) THEN
	into
	IF( abs(xg*r(1)) > gsmall ) THEN

	P.U.

2005-10-17 22:06  kkudin

	* CPV/restart_sub.f90:

	Introduced delt0=0.0 in order to kill some ancient ionic & cell motion under
	certain restart conditions that nobody understands anymore
	 Kostya

2005-10-17 22:03  kkudin

	* Modules/ions_base.f90:

	Added variable to count the number of frozen Cartesian coordinates
	 Kostya

2005-10-17 22:01  kkudin

	* CPV/cpr.f90:

	Added check to NOT shift to the center of mass if some Cartesians are frozen
	 Kostya

2005-10-17 14:39  sbraccia

	* CPV/cp_restart.f90, Modules/xml_io_base.f90, PW/pw_restart.f90:

	XML: binary files are now written as iotk files. PWscf now uses the routine
	to write the density plane by plane (the same used by CP).
	C.S.

2005-10-17 11:25  giannozz

	* examples/: README, save_results,
	  example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.phG.out, example02/reference/c.scf.out,
	  example02/reference/ni.nscf.out, example02/reference/ni.phX.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.plotrho.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.rho.dat, example05/reference/si.rho.ps,
	  example05/reference/si.scf.out, example05/reference/sibands.dat,
	  example05/reference/sibands.ps, example05/reference/sicharge,
	  example06/reference/alas.freq, example06/reference/alas.ph.out,
	  example06/reference/alas.phdos, example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes, example06/reference/q2r.out,
	  example07/reference/al.elph.out, example07/reference/al.nscf.out,
	  example07/reference/al.nscf2.out, example07/reference/al.ph.out,
	  example07/reference/al.scf.out, example08/reference/ni.dos,
	  example08/reference/ni.dos.out, example08/reference/ni.pdos.out,
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#1(s),
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#2(d),
	  example08/reference/ni.pdos_tot, example08/reference/ni.scf.out,
	  example09/reference/sih4.dyn.out,
	  example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.co, example12/reference/bands.al.im,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.ni_down.im,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example12/reference/trans.alwireh,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out, example14/reference/si.anh_G,
	  example14/reference/si.anh_X, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.out, example14/reference/si.nscf.out,
	  example14/reference/si.phG.out, example14/reference/si.phX.out,
	  example14/reference/si.scf.out, example15/reference/alas.dynG,
	  example15/reference/alas.ph.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110+1.0eV.ps,
	  example16/reference/AlAs110-1.0eV.ps,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H.axsf, example17/reference/H2+H.dat,
	  example17/reference/H2+H.int, example17/reference/H2+H.out,
	  example17/reference/H2+H.path, example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example18/reference/new1.out, example18/reference/new2.out,
	  example18/reference/new3.out, example18/reference/new4.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example21/reference/h2o-32.out, example21/reference/h2o-64.out,
	  example22/reference/bands.pt.im, example22/reference/pt.cond.out,
	  example22/reference/pt.nscf.out, example22/reference/pt.scf.out,
	  example22/reference/pt.tet.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example24/reference/quartz.efg.out,
	  example24/reference/quartz.scf.out,
	  example25/reference/feo_LDA.in, example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.in,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.in,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.in,
	  example25/reference/feo_wannier.out, example25/reference/pmw.in,
	  example25/reference/pmw.out, example26/reference/smd1.out,
	  example26/reference/smd2.out, example26/reference/smd3.out,
	  example26/reference/smd4.out, example26/reference/smd5.out,
	  example26/reference/smd6.out, example26/reference/smd7.out,
	  example27/reference/new1.out:

	Examples updated - PPLEASE VERIFY

2005-10-17 09:07  dalcorso

	* PW/gradcorr.f90:

	Bug fix: unintialized variable in gradcorr.  This bug appeared in April 2005.
	Previous versions of the routine were OK.

2005-10-16 01:25  sbraccia

	* CPV/compute_fes_grads.f90, Doc/INPUT_CP, Doc/INPUT_PW,
	  Modules/coarsegrained_vars.f90, Modules/constraints_module.f90,
	  PW/compute_fes_grads.f90, PW/input.f90, PW/setup.f90,
	  Modules/read_namelists.f90:

	Small modifications in the metadynamics algorithm. Doc updated.
	C.S.

2005-10-14 15:14  giannozz

	* configure, configure.ac:

	configure extended to a few more cases (Axel)

2005-10-13 15:36  giannozz

	* Doc/: BUGS, ChangeLog, INPUT_PW, README, users-guide.tex:

	Documentation updated

2005-10-12 17:54  giannozz

	* PW/electrons.f90:

	Missing comma in format - come comppilers may complain

2005-10-12 17:52  giannozz

	* flib/latgen.f90:

	Case ibrav=13 was not correct

2005-10-12 17:51  giannozz

	* pwtools/kpoints.f:

	Case ibrav=5 was not properly done

2005-10-11 18:22  giannozz

	* upftools/UPF:

	Do not include "<" and ">" in the INFO section

2005-10-11 14:34  fratesi

	* atomic/atomic_paw.f90, atomic/ld1_readin.f90,
	  atomic/ld1_writeout.f90, atomic/parameters.f90, PW/readin.f90,
	  PW/upf_to_internal.f90, Modules/pseudo_types.f90,
	  Modules/readpseudo.f90:

	Removed previously added constrain on ndm=ndmx and nchix=nwfsx (G.F.)

2005-10-11 10:43  fratesi

	* atomic/: atomic_paw.f90, gener_pseudo.f90, parameters.f90,
	  run_pseudo.f90:

	pw.x can read PAW format (and perform US calculation on it) [provided that ndmx in Modules/parameters.f90 and ndm in atomic/parameters.f90 are the same] (G.F.)

2005-10-11 10:39  fratesi

	* atomic/set_rho_core.f90:

	using file_core (GF)

2005-10-11 10:35  fratesi

	* PW/upf_to_internal.f90, Modules/pseudo_types.f90,
	  Modules/readpseudo.f90:

	pw.x can read PAW format (and perform US calculation on it) [provided that ndmx in Modules/parameters.f90 and ndm in atomic/parameters.f90 are the same] (G.F.)

2005-10-11 10:34  fratesi

	* PW/readin.f90:

	pw.x can read PAW format (and perform US calculation on it) [provided that ndmx in Modules/parameters.f90 and ndm in atomic/parameters.f90 are the same]

2005-10-10 14:38  silviu

	* configure:

	Added support for cygwin/g95 combination, for serial code. It seems that configure.ac is not used (???) and all changes were introduced in configure script directly.

2005-10-10 12:35  fratesi

	* atomic/set_rho_core.f90:

	Removed line
	    file_core=' '
	which was forbidding to print file with core charge.
	G.F.

2005-10-10 09:58  dalcorso

	* Makefile:

	A file was missing in the tar file.

2005-10-10 09:26  giannozz

	* PW/readin.f90:

	Yet another problem in atomic wavefunction check fixed

2005-10-07 16:50  giannozz

	* PW/readin.f90:

	Ooops - check on norm of atomic wavefunctions was not correct

2005-10-07 14:04  fratesi

	* atomic/gener_pseudo.f90:

	ops...
	GF

2005-10-07 13:56  fratesi

	* atomic/: atomic_paw.f90, compute_phi.f90, do_mesh.f90,
	  gener_pseudo.f90, ld1_readin.f90, ld1inc.f90:

	In branch "develop_PAW"
	Added possibility of generating PAW setup over a NC one instead of over AE.
	(compiler flag)
	G.F.

2005-10-07 09:00  fratesi

	* atomic/do_mesh.f90:

	changed rab(mesh) into rab(ndm) in variable declaration
	(mesh is not yet known)
	G.F.

2005-10-07 04:37  sbraccia

	* PW/: compute_fes_grads.f90, dynamics.f90, input.f90:

	Some fix for metadynamics. C.S.

2005-10-06 22:27  silviu

	* Modules/bfgs_module.f90:

	Fixed a syntax error. S.Z.

2005-10-06 20:17  giannozz

	* Doc/: INPUT_PWCOND, users-guide.tex:

	Minor documentation update

2005-10-06 20:17  giannozz

	* Modules/bfgs_module.f90:

	Less alarmistic and more specific message printed

2005-10-06 20:16  giannozz

	* PW/: atomic_rho.f90, atomic_wfc.f90, electrons.f90,
	  init_at_1.f90, punch.f90, readin.f90, set_rhoc.f90:

	- Minor changes to output: warnings only where appropriate
	- pw.x stops if the charge is seriously off
	- "punch" writes the charge density in the correct place
	- check on zero atomic wavefunctions

2005-10-06 18:38  ballabio

	* configure, configure.ac:

	g95 does have preprocessing, configure updated [Gerardo]

2005-10-06 15:36  sbraccia

	* examples/example03/: run_example, reference/al001.mm.out:

	Example updated. C.S.

2005-10-06 15:32  sbraccia

	* CPV/cpr.f90, Modules/bfgs_module.f90,
	  Modules/constraints_module.f90, PW/compute_fes_grads.f90,
	  PW/dynamics.f90, PW/input.f90:

	New damped-dynamics based on the quick-min: H^-1|f> is used instead of |f> and H^1 is
	updated with the BFGS algorithm. The performance is similar to the quasi-newton method,
	but the algorithm is much simpler. Moreover it works also with constrained dynamics.
	C.S.

2005-10-06 12:08  ballabio

	* configure, configure.ac:

	another fix [Gerardo]

2005-10-06 11:44  ballabio

	* configure, configure.ac, CPV/Makefile, Modules/Makefile,
	  flib/Makefile, iotk/src/Makefile:

	fixed problem with compilation rules [Gerardo]

2005-10-06 11:32  ballabio

	* CPV/Makefile, Modules/Makefile, flib/Makefile:

	fix for g95 [Gerardo]

2005-10-06 11:31  ballabio

	* install/: Make.alpha, Make.alphaMPI, Make.altix, Make.beo_ifc,
	  Make.beowulf, Make.cygwin, Make.fujitsu, Make.hitachi, Make.hp,
	  Make.hpMPI, Make.ia64, Make.ibm, Make.ibmsp, Make.irix,
	  Make.origin, Make.pc_abs, Make.pc_ifc, Make.pc_lahey,
	  Make.pc_pgi, Make.sun, Make.sunMPI, Make.sxcross, Make.t3e:

	adapted for recent Makefile changes [Gerardo]

2005-10-06 10:59  ballabio

	* iotk/src/Makefile:

	fix for g95 [Gerardo]

2005-10-05 20:11  ballabio

	* configure, configure.ac, make.sys.in, CPV/Makefile, D3/Makefile,
	  Gamma/Makefile, Modules/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PWCOND/Makefile, atomic/Makefile, flib/Makefile,
	  iotk/src/Makefile, pwtools/Makefile, upftools/Makefile:

	now configure checks separately for serial and parallel compilers [Gerardo]

2005-10-04 16:08  giannozz

	* examples/example12/run_example:

	llapack varibale no longer used

2005-10-04 16:08  giannozz

	* PWCOND/: Makefile, compbs.f90, compbs_2.f90, condcom.f90,
	  do_cond.f90, gep.f, gep_gep.f90, gep_x.f90:

	Cleanup of obsolete stuff

2005-10-04 13:15  kokalj

	* GUI/Guib/lib/tclUtils.tcl:

	the ::tclu::scan proc is not exported anymore

2005-10-04 13:12  kokalj

	* GUI/PWgui/make.usage:

	adding description for the pwgui-starkit-vfs target

2005-10-04 13:11  kokalj

	* GUI/PWgui/Makefile:

	updating Makefile: doc/pwdocs/manual/ --> doc/pwdocs/users-guide/

2005-10-03 18:59  giannozz

	* Doc/: INPUT_PW, users-guide.tex:

	Minor fixes to documentation

2005-10-03 18:44  giannozz

	* PP/chdens.f90:

	First attempt to fix the postprocessing in the parallel case

2005-10-03 18:39  giannozz

	* PH/: solve_e.f90, solve_linter.f90:

	Replace two pointers that ifort doesn't seem to like with allocatable
	arrays with the "target" option

2005-10-01 18:04  cavazzon

	* CPV/chargedensity.f90, CPV/cpr.f90, CPV/fpmdpp.f90,
	  CPV/input.f90, CPV/main.f90, CPV/mainvar.f90,
	  CPV/move_electrons.f90, CPV/print_out.f90, Doc/INPUT_CP,
	  Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90:

	- fixed a problem with the charge written in restart dir, since
	  vofrho overwrites rhor, what was written in the restart was the
	  potential and not the charge density.
	- clean-up in input_parameters and INPUT_CP doc

2005-09-29 15:17  ballabio

	* Makefile, make.sys.in, CPV/Makefile, D3/Makefile, Gamma/Makefile,
	  PH/Makefile, PP/Makefile, PW/Makefile, PWCOND/Makefile,
	  atomic/Makefile, iotk/src/Makefile, pwtools/Makefile,
	  upftools/Makefile:

	separated LDFLAGS and LIBS [Gerardo]

2005-09-28 19:23  ballabio

	* configure, configure.ac:

	small change in configure output [Gerardo]

2005-09-28 19:15  ballabio

	* configure.msg.in:

	[no log message]

2005-09-28 19:10  ballabio

	* configure, configure.ac, configure.msg.in:

	moved Espresso-specific stuff from configure to external file
	configure may now be used also for other projects [Gerardo]

2005-09-28 17:50  giannozz

	* flib/error.f90:

	Small fix in parallel case suggested by P. Cazzato

2005-09-27 18:53  cavazzon

	* CPV/: Makefile, cplib.f90:

	- fix in computation of stress for runs where tpre = .true. and thdyn = .false.

2005-09-27 18:40  giannozz

	* PW/input.f90:

	yet another fix, hopefully the last, for mass conversion ...

2005-09-27 18:34  giannozz

	* PW/input.f90:

	Better fix for unit conversion problem with variable cell dynamics

2005-09-27 17:45  giannozz

	* PW/input.f90:

	Conversion to atomic unit for "amass" was performed twice

2005-09-27 13:07  ballabio

	* configure, configure.ac:

	added support for g95+mkl (second try)
	plus some editing to final messages [Gerardo]

2005-09-27 12:29  ballabio

	* configure, configure.ac:

	added support for g95+mkl [Gerardo]

2005-09-27 08:43  sbraccia

	* Modules/control_flags.f90, PW/Makefile, PW/bfgs.f90,
	  PW/input.f90, PW/ions.f90, PW/move_ions.f90, PW/summary.f90:

	old bfgs algorithm removed. C.S.

2005-09-26 17:56  cavazzon

	* Makefile, README.install_old, CPV/Makefile, CPV/cprsub.f90,
	  CPV/pseudopot.f90, Doc/CREDITS, Doc/INPUT_CP, Doc/INPUT_FPMD,
	  Doc/README, Doc/users-guide.tex, Modules/read_namelists.f90:

	- CP docs revised
	- CP postprocessing ( cppp.x ) now properly read restart.xml and
	  trajectory files to produce xcrysden files ( .xsf .axsf )

2005-09-26 13:58  kokalj

	* GUI/PWgui/: init.tcl, pwgui.tcl:

	initialization stuf moved from pwscf.tcl to init.tcl

2005-09-26 13:57  kokalj

	* GUI/PWgui/INSTALL:

	ActiveTcl WEB site update

2005-09-26 13:56  kokalj

	* GUI/PWgui/modules/pw/pw.tcl:

	improving atomic_coordinates validators

2005-09-26 13:54  kokalj

	* GUI/PWgui/doc/pwdocs/Makefile:

	makefile improvement

2005-09-26 13:54  kokalj

	* GUI/PWgui/src/settings.itcl:

	appplication --> application

2005-09-26 13:53  kokalj

	* GUI/PWgui/src/pwscf.itcl:

	"PWSCF User's guide" --> "User's Guide for Quantum-ESPRESSO"

2005-09-26 13:52  kokalj

	* GUI/PWgui/src/run.itcl:

	a few minor changes

2005-09-26 13:46  kokalj

	* GUI/Guib/: src/guibKeywords.itcl, ChangeLog, VERSION:

	[no log message]

2005-09-26 13:44  kokalj

	* GUI/Guib/src/guibUtils.itcl:

	this file contains guib general-purpose utility functions

2005-09-26 13:36  kokalj

	* GUI/Guib/src/: guib-keywords-def.tcl, guib.itcl,
	  guibKeywords.itcl, keywidgets.itcl, moduleObj.itcl,
	  optionmenuhelp.itcl, radioboxhelp.itcl, table.itcl, tclIndex,
	  validate.itcl:

	adding -varscope option to "module" guib
			keyword.

2005-09-26 13:35  kokalj

	* GUI/Guib/src/gui.itcl:

	adding "::guib::GUI::addHelp cascade" passibility. Few
			other minor improvements.

2005-09-26 13:32  kokalj

	* GUI/Guib/: lib/tclIndex, src/build.itcl:

	[no log message]

2005-09-26 13:32  kokalj

	* GUI/Guib/lib/tkUtils.tcl:

	improving widgetName, toplevelName
			functions. tku::errorDialog and tku::warningDialog
			deprecated, use tclu::errorDialog and
			tclu::warningDialog instead. Adding tku::exitApp function.

2005-09-26 13:29  kokalj

	* GUI/Guib/lib/tclUtils.tcl:

	adding dummy and several functions for arguments
	manipulation

2005-09-26 13:26  kokalj

	* GUI/Guib/init.tcl:

	[no log message]

2005-09-26 00:59  cavazzon

	* CPV/Makefile, CPV/fpmdpp.f90, CPV/input.f90,
	  Modules/ions_base.f90:

	- CP post processing updated to use iotk
	- small fix in randpos

2005-09-24 16:48  dalcorso

	* PH/solve_linter.f90:

	Bug fix: The recent changes to the conduction band projection
	was not working with US-PP.

2005-09-24 12:07  giannozz

	* CPV/bessel.f90, D3/d3_setup.f90, Gamma/cg_readin.f90:

	Minor changes to error messages

2005-09-24 12:07  giannozz

	* Modules/version.f90:

	Version number updated

2005-09-24 12:06  giannozz

	* examples/README, atomic_doc/INPUT_LD1:

	Updated

2005-09-24 12:05  giannozz

	* flib/dost.f90:

	Minor changes

2005-09-24 04:49  sbraccia

	* CPV/compute_fes_grads.f90, PW/compute_fes_grads.f90,
	  Modules/coarsegrained_vars.f90, Modules/constraints_module.f90:

	Fixed some bugs in the definition of coordination numbers, IO formats, and metadynamics.
	C.S.

2005-09-24 04:42  sbraccia

	* Modules/: basic_algebra_routines.f90, path_base.f90,
	  path_opt_routines.f90, path_variables.f90:

	Cleanup. C.S.

2005-09-23 14:50  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/exch_corr.f90,
	  CPV/fftdrv.f90, CPV/modules.f90, CPV/nlcc.f90,
	  CPV/potentials.f90, CPV/print_out.f90, CPV/pseudopot.f90,
	  CPV/vofrho2.f90, Modules/cell_base.f90:

	- fix in stress calculation for non linear core correction

2005-09-23 10:59  giannozz

	* PP/pw_export.f90:

	List of g^2 was incorrect in parallel case

2005-09-23 10:57  giannozz

	* GUI/PWgui/modules/ph/: ph-event.tcl, ph-help.tcl, ph.tcl:

	Phonon GUI updated - some options still not implemented

2005-09-22 18:20  giannozz

	* README, TODO, configure, configure.ac:

	Final output of configure is somewhat less confusing

2005-09-22 16:03  giannozz

	* PW/: stres_knl.f90, stres_us.f90:

	In parallel executoin, an unitialized variable was added to nonlocal stress
	leading to incorrect results on at least some machines (found by Paolo Cazzato)

2005-09-22 01:54  sbraccia

	* iotk/: Makefile, OPTIONS, src/Makefile:

	Modifications to the iotk makefiles to include additional tools (thanks to Andrea Ferretti).
	C.S.

2005-09-22 01:38  sbraccia

	* PW/compute_fes_grads.f90:

	Fixed small bug in metadynamics. C.S.

2005-09-21 20:02  sbraccia

	* PW/compute_fes_grads.f90, CPV/compute_fes_grads.f90,
	  Modules/coarsegrained_vars.f90:

	Improved the output format and the restart procedure for meta-dynamics.
	C.S.

2005-09-21 18:36  sbraccia

	* Doc/INPUT_CP, Doc/INPUT_FPMD, Doc/INPUT_PW,
	  Modules/read_cards.f90, Modules/constraints_module.f90:

	Constraints reorganised (the indexes have been modified). Doc updated.
	C.S.

2005-09-20 23:50  sbraccia

	* examples/example17/: run_example, reference/H2+H.axsf,
	  reference/H2+H.dat, reference/H2+H.int, reference/H2+H.out,
	  reference/H2+H.path, reference/H2+H.xyz,
	  reference/asymmetric_H2+H.axsf, reference/asymmetric_H2+H.dat,
	  reference/asymmetric_H2+H.int, reference/asymmetric_H2+H.out,
	  reference/asymmetric_H2+H.path, reference/asymmetric_H2+H.xyz,
	  reference/symmetric_H2+H.axsf, reference/symmetric_H2+H.dat,
	  reference/symmetric_H2+H.int, reference/symmetric_H2+H.out,
	  reference/symmetric_H2+H.path, reference/symmetric_H2+H.xyz:

	NEB example updated. C.S.

2005-09-20 22:54  sbraccia

	* Modules/input_parameters.f90, Doc/INPUT_PW,
	  GUI/PWgui/modules/pw/pw-event.tcl,
	  GUI/PWgui/modules/pw/pw-help.tcl, GUI/PWgui/modules/pw/pw.tcl:

	GUI and documentation updated to reflect the new input.
	C.S.

2005-09-20 21:31  sbraccia

	* CPV/compute_fes_grads.f90, PW/compute_fes_grads.f90:

	Metadynamics output modified.
	C.S.

2005-09-20 17:17  sbraccia

	* CPV/compute_fes_grads.f90, CPV/cprstart.f90, CPV/input.f90,
	  CPV/stop_run.f90, Modules/coarsegrained_vars.f90,
	  Modules/input_parameters.f90, Modules/io_files.f90,
	  Modules/read_namelists.f90, PW/compute_fes_grads.f90,
	  PW/input.f90, PW/pwscf.f90, PW/stop_run.f90:

	First experimental version of the Laio-Parrinello metadynamics. This implementation
	is compatible with both PWscf and CP. Examples and documentation will follow.
	C.S.

2005-09-20 14:58  cavazzon

	* pwtools/bands_FS.f:

	- Workaround: PGI compiler 6.0.1 doesn't like open do construct like
	    do
	    enddo
	  substituted with
	    do while( .true. )
	    end do

2005-09-20 12:35  giannozz

	* GUI/PWgui/modules/atomic/: atomic-help.tcl, atomic.tcl:

	Help completed for ld1 GUI

2005-09-20 04:27  sbraccia

	* examples/example04/reference/: si.md2.out, si.md2_G3X.out,
	  si.md8.out:

	Output updated. C.S.

2005-09-20 04:21  sbraccia

	* PW/dynamics.f90, examples/example03/reference/al001.mm.out:

	Another small modification of output format. C.S.

2005-09-20 01:27  sbraccia

	* examples/example03/: run_example, reference/al001.mm.out,
	  reference/al001.rx.out, reference/co.rx.out:

	Example updated. C.S.

2005-09-20 00:06  sbraccia

	* PW/: dynamics.f90, read_conf_from_file.f90:

	Small modifications of the output format (some space was missing).
	C.S.

2005-09-19 20:19  sbraccia

	* PW/dynamics.f90:

	Minor modifications to Verlet dynamics. C.S.

2005-09-19 05:30  sbraccia

	* PP/postproc.f90:

	Bug fix: clean_pw requires a non optional input variable (logical).
	C.S.

2005-09-19 01:49  cavazzon

	* Makefile, README, README.cvs, README.install, release.sh,
	  CPV/Makefile, CPV/cp_restart.f90, CPV/cplib.f90, CPV/cpr.f90,
	  CPV/cprstart.f90, CPV/environment.f90, CPV/exch_corr.f90,
	  CPV/get_cp.f90, CPV/get_fpmd.f90, CPV/init.f90, CPV/input.f90,
	  CPV/print_out.f90, CPV/pseudopot.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  examples/example19/README, examples/example19/run_example,
	  examples/example20/README, examples/example20/run_example,
	  examples/example21/README, examples/example21/run_example:

	 - Executable fpmd.x no more built, new calculation "fpmd" added, to
	   execute cp.x with fpmd flavour
	 - stress for LSD calculation fixed ( but more test required )

2005-09-19 01:10  sbraccia

	* PW/compute_fes_grads.f90, CPV/compute_fes_grads.f90, CPV/cpr.f90,
	  CPV/cprstart.f90, CPV/input.f90, CPV/main_loops.f90,
	  Modules/coarsegrained_vars.f90:

	Clean-up of the code for the calculation of free-energy barriers.
	C.S.

2005-09-17 06:04  sbraccia

	* Doc/INPUT_PW:

	Doc updated. C.S.

2005-09-17 04:41  sbraccia

	* CPV/cp_restart.f90:

	XML restart file: the pseudopotential filenames were not read.
	C.S.

2005-09-17 04:35  sbraccia

	* CPV/compute_fes_grads.f90, CPV/cpr.f90,
	  Modules/coarsegrained_vars.f90, Modules/constraints_module.f90,
	  Modules/path_io_routines.f90, Modules/path_opt_routines.f90,
	  Modules/read_cards.f90, PW/compute_fes_grads.f90,
	  PW/compute_scf.f90, PW/dynamics.f90, PW/move_ions.f90,
	  PW/pwscf.f90:

	Extensive clean-up and reorganisation of the routines for the calculation
	of potential energy and free-energy barriers.
	C.S.

2005-09-17 04:14  sbraccia

	* Modules/bfgs_module.f90, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/input.f90:

	Fixed some errors in the BFGS relaxations that were mkaing the algorithm to
	fail for some nasty system.

2005-09-15 19:31  giannozz

	* Doc/INPUT_PP, Doc/README, Doc/users-guide.tex, PP/chdens.f90:

	Defaults updated to prevent problem if namelist &plot is present but empty
	Documentation updated

2005-09-15 18:51  cavazzon

	* CPV/cp_fpmd.f90, CPV/cprstart.f90, CPV/fromscra.f90,
	  CPV/main.f90, CPV/main_loops.f90, CPV/potentials.f90,
	  CPV/pseudopot.f90, CPV/restart_sub.f90, CPV/rundiis.f90,
	  CPV/waveinit.f90, clib/memstat.c:

	- more CP/FPMD merging
	- clean-up

2005-09-15 17:28  giannozz

	* PP/: chdens.f90, cube.f90:

	- xlf doesn't like the syntax used to initialise arrays of strings
	- gaussian cube format assumed nr1=nrx1 and so on

2005-09-15 17:14  sbraccia

	* Modules/parser.f90:

	Bug fix in delete_if_present: only ionode has to remove the file.
	C.S.

2005-09-14 19:25  giannozz

	* GUI/PWgui/ChangeLog:

	Updated

2005-09-14 19:24  giannozz

	* GUI/PWgui/: doc/pwdocs/Makefile, modules/pp/pp-event.tcl,
	  modules/pp/pp-help.tcl, modules/pp/pp.tcl, src/pwscf.itcl:

	GUI updated to reflect new input of pp.x - chdens.x input removed,
	documentation (marginally) updated

2005-09-14 16:19  giannozz

	* examples/example16/: run_example, reference/AlAs110.pp_stm+.out,
	  reference/AlAs110.pp_stm-.out, reference/AlAs110re.scf.out:

	Example updated

2005-09-14 15:54  giannozz

	* PH/elphon.f90, PW/atomic_rho.f90, PW/efermig.f90, PW/efermit.f90,
	  PW/electrons.f90, PW/gweights.f90, PW/set_rhoc.f90,
	  PW/tweights.f90:

	Do not stop if Fermi energy cannot be calculated in a non scf run:
	just issue a warning and continue
	Minor output changes

2005-09-14 15:46  giannozz

	* examples/example05/reference/: si.chdens.out, si.pp_rho.out:

	Examples updated

2005-09-14 14:48  giannozz

	* PP/: chdens.f90, plot_io.f90, postproc.f90:

	More tweaking with post-processing

2005-09-13 22:30  giannozz

	* Doc/INPUT_CHDENS, Doc/INPUT_PP, PP/Makefile, PP/chdens.f90,
	  PP/postproc.f90, PW/clean_pw.f90, examples/example05/README,
	  examples/example05/run_example, examples/example16/README,
	  examples/example16/run_example:

	chdens.x merged into pp.x - all functionalities are still there
	and it is still possible to do the two steps independently.
	The output is basically the sum of the two outputs with minor
	differences. Documentation and examples updated, GUI not yet.

2005-09-13 15:54  kokalj

	* GUI/PWgui/modules/atomic/: atomic.tcl, atomic-event.tcl:

	Elaborating a bit on Paolo's coding. In particular, making pages and event handlers ...

2005-09-13 15:22  giannozz

	* atomic/: elsd.f90, elsdps.f90:

	Long do-loop reshuffled to prevent g95 optimisation bug

2005-09-13 11:33  giannozz

	* examples/: example01/reference/al.band.david.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.scf.out, example02/reference/ni.nscf.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.scf.out, example06/reference/alas.ph.out,
	  example06/reference/alas.scf.out,
	  example07/reference/al.nscf.out,
	  example07/reference/al.nscf2.out, example07/reference/al.scf.out,
	  example08/reference/ni.dos.out, example08/reference/ni.scf.out,
	  example10/reference/BP.out, example10/reference/chg.out,
	  example11/reference/O.out, example11/reference/al.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.scf.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/ni.scf.out, example13/reference/cu.band.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out,
	  example14/reference/si.nscf.out, example14/reference/si.scf.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example22/reference/pt.nscf.out, example22/reference/pt.scf.out,
	  example22/reference/pt.tet.out,
	  example24/reference/quartz.scf.out,
	  example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.out:

	Examples updated in oprder to reflect new output

2005-09-13 11:27  giannozz

	* examples/example18/reference/: new1.out, new3.out, new4.out:

	Examples updated to refelect new output

2005-09-13 11:06  giannozz

	* examples/example09/reference/sih4.dyn.out:

	Examples updated to reflect new output

2005-09-13 11:02  giannozz

	* examples/example23/reference/: h2o.efield.out, h2o.wannier.out:

	Examples updated to reflect new output

2005-09-13 10:51  giannozz

	* examples/example25/reference/: feo_LDA.out, feo_LDA_again.out,
	  feo_standard.out, feo_user_ns.out, feo_wannier.out:

	Examples uodated to reflect new output

2005-09-13 10:47  giannozz

	* examples/example27/reference/new1.out:

	Examples updated

2005-09-12 19:13  giannozz

	* GUI/PWgui/: modules/atomic/atomic-event.tcl,
	  modules/atomic/atomic-help.tcl, modules/atomic/atomic.tcl,
	  modules/atomic/commands.tcl, VERSION, src/pwscf.itcl:

	First attempt, not yet completely working, of a GUI for the atomic code

2005-09-11 02:50  sbraccia

	* CPV/compute_fes_grads.f90, CPV/compute_scf.f90, CPV/cpr.f90,
	  CPV/cpr_mod.f90, CPV/init_run.f90, CPV/input.f90,
	  CPV/path_routines.f90, Modules/coarsegrained_vars.f90,
	  Modules/ions_base.f90, Modules/path_formats.f90,
	  Modules/path_reparametrisation.f90, Modules/path_variables.f90,
	  Modules/read_cards.f90, PW/compute_fes_grads.f90:

	NEB clean-up; fixed some bugs in the CP implementation. C.S.

2005-09-09 23:37  umari

	* Modules/energies.f90:

	removed re-definition of eht in subroutine print_energy
	it caused the appearance of 'electrostati energy = 0.00'
	in output file

	P. U.

2005-09-09 12:58  giannozz

	* pwtools/matdyn.f90:

	Correct or less strange, normalisation for phonon DOS

2005-09-07 17:33  cavazzon

	* CPV/smcp.f90, Doc/smd.tex, examples/example26/README,
	  examples/example26/run_example,
	  examples/example26/reference/smd1.out,
	  examples/example26/reference/smd2.out,
	  examples/example26/reference/smd3.out,
	  examples/example26/reference/smd4.out,
	  examples/example26/reference/smd5.out,
	  examples/example26/reference/smd6.out,
	  examples/example26/reference/smd7.out:

	- SMD example and documentation updated.
	  Thanks to Yosuke Kanai

2005-09-07 17:06  giannozz

	* PWCOND/: cond_out.f90, local.f90:

	Printout restored to its correct value

2005-09-06 19:33  giannozz

	* examples/example21/reference/: h2o-32.out, h2o-64.out:

	Examples updated to reflect new ouput

2005-09-06 18:06  giannozz

	* examples/example23/reference/: h2o.efield.out, h2o.wannier.out:

	Exampl updated to reflect new output

2005-09-06 16:29  giannozz

	* examples/example18/reference/: new1.out, new2.out, new3.out,
	  new4.out:

	Examples updated to reflect new output

2005-09-06 16:25  giannozz

	* examples/: example20/reference/nh3.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out:

	Examples updated to reflect new output

2005-09-06 16:15  giannozz

	* examples/example27/reference/new1.out:

	Examples updated to reflect new output

2005-09-06 12:24  cavazzon

	* CPV/smcp.f90:

	- bug fix, rhoc was allocated two times

2005-09-06 11:27  cavazzon

	* CPV/cp_fpmd.f90, CPV/input.f90, CPV/pseudopot.f90, CPV/smd.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90:

	- added input parameter "refg" in the control namelist to set the
	  accurancy of the pseudopotential table for CP/FPMD (default values = 0.05Ryd)
	  mmx now is calculated depending on refg and ecutrho

2005-09-06 02:52  sbraccia

	* Modules/xml_io_base.f90, CPV/cp_restart.f90:

	Fixed some problems with the xml restart. Added some other variables to the
	xml file. C.S.

2005-09-02 18:51  umari

	* PW/pw_restart.f90:

	Eliminated double declaration:
	 USE wvfct,                ONLY : et, wg, nbnd
	in order to compile on alpha
	P.U.

2005-09-02 18:37  umari

	* Modules/wavefunctions.f90:

	Just changed
	<      USE kinds, ONLY :  DP
	---
	>      USE kinds, ONLY :  DP, DP
	in order to compile on alpha

	P.U.

2005-09-02 18:36  umari

	* Modules/ions_nose.f90:

	Just changed the order in which variables are
	defined, in order to compile on alpha
	P. U.

2005-09-02 09:37  dalcorso

	* PW/potinit.f90:

	Small change. Magnetization is printed only when calculated.

2005-09-01 17:10  umari

	* PW/h_epsi_her.f90:

	Done some cleaning: italian to english
	P. U.

2005-08-31 17:28  sbraccia

	* Doc/: INPUT_CP, README.WANNIER:

	Documentation of wannier stuff updated. Obsolescent README.WANNIER file
	removed. C.S.

2005-08-31 16:57  giannozz

	* examples/example08/: README, run_example:

	Example for Fermi Surface plot added to example 8

2005-08-31 11:19  cavazzon

	* PW/: allocate_nlpot.f90, atomic_wfc.f90, init_us_2.f90,
	  qvan2.f90:

	- few implicit real to integer type conversion made explicit
	  pointed out by A.Ferretti

2005-08-31 05:19  sbraccia

	* PW/gk_sort.f90:

	oops ...
	C.S.

2005-08-30 23:10  sbraccia

	* Modules/xml_io_base.f90, PW/allocate_nlpot.f90, PW/gk_sort.f90,
	  PW/pw_restart.f90, PW/read_file.f90, D3/Makefile, Gamma/Makefile,
	  PP/Makefile:

	Some cleanup of the xml punch file: now the pseudopotential is properly
	written and read. Added some consistency checks. Postprocessing programs
	not yet working (at least not all of them).
	C.S.

2005-08-30 18:35  giannozz

	* pwtools/: Makefile, bands_FS.f, kvecs_FS.f, matdyn.f90:

	Added auxiliary codes by Eyvaz Isaev for Fermi energy visualisation

2005-08-30 18:27  giannozz

	* PW/data_structure.f90, atomic/atomic_paw.f90,
	  atomic/compute_phi.f90, atomic/find_qi.f90,
	  atomic/gener_pseudo.f90, atomic/run_pseudo.f90, atomic/scf.f90,
	  atomic/set_rho_core.f90, Modules/constraints_module.f90,
	  Modules/read_namelists.f90, PH/add_for_charges.f90,
	  PH/phq_setup.f90, PH/psidspsi.f90, PP/add_shift_cc.f90,
	  PP/do_initial_state.f90, PP/elf.f90, PP/punch_plot.f90,
	  PW/davcio.f90, PW/dynamics.f90, PW/gk_sort.f90, PW/input.f90,
	  PW/mix_pot.f90, PW/mix_rho.f90, PW/restart_in_electrons.f90,
	  PW/restart_in_ions.f90, PW/setup.f90, PW/stress.f90,
	  PW/upf_to_internal.f90:

	error (..., -1) => infomsg

2005-08-30 17:11  giannozz

	* Doc/: BUGS, CREDITS, INPUT_RAM, README, iotk_manual.txt,
	  users-guide.tex:

	Various updates to dcumentation
	INPUT_RAM removed: refers to an obsolete code
	iotk_manual.txt removed: iotk has its own documentation

2005-08-30 16:12  umari

	* Modules/Makefile:

	added dependencies
	P.U.

2005-08-30 12:36  cavazzon

	* CPV/cp_restart.f90, iotk/README, iotk/TODO, iotk/doc/manual.txt,
	  iotk/src/iotk_attr+CHARACTER1_0.f90,
	  iotk/src/iotk_attr+COMPLEX1_0.f90,
	  iotk/src/iotk_attr+COMPLEX1_3.f90,
	  iotk/src/iotk_attr+COMPLEX2_0.f90,
	  iotk/src/iotk_attr+COMPLEX2_3.f90,
	  iotk/src/iotk_attr+INTEGER1_0.f90,
	  iotk/src/iotk_attr+INTEGER1_3.f90,
	  iotk/src/iotk_attr+INTEGER2_0.f90,
	  iotk/src/iotk_attr+INTEGER2_3.f90,
	  iotk/src/iotk_attr+LOGICAL1_0.f90,
	  iotk/src/iotk_attr+LOGICAL1_3.f90,
	  iotk/src/iotk_attr+LOGICAL2_0.f90,
	  iotk/src/iotk_attr+LOGICAL2_3.f90,
	  iotk/src/iotk_attr+REAL1_0.f90, iotk/src/iotk_attr+REAL1_3.f90,
	  iotk/src/iotk_attr+REAL2_0.f90, iotk/src/iotk_attr+REAL2_3.f90,
	  iotk/src/iotk_attr.spp, iotk/src/iotk_base.f90,
	  iotk/src/iotk_base.spp, iotk/src/iotk_dat+CHARACTER1_0.f90,
	  iotk/src/iotk_dat+CHARACTER1_3.f90,
	  iotk/src/iotk_dat+COMPLEX1_0.f90,
	  iotk/src/iotk_dat+COMPLEX1_3.f90,
	  iotk/src/iotk_dat+COMPLEX2_0.f90,
	  iotk/src/iotk_dat+COMPLEX2_3.f90,
	  iotk/src/iotk_dat+INTEGER1_0.f90,
	  iotk/src/iotk_dat+INTEGER1_3.f90,
	  iotk/src/iotk_dat+INTEGER2_0.f90,
	  iotk/src/iotk_dat+INTEGER2_3.f90,
	  iotk/src/iotk_dat+LOGICAL1_0.f90,
	  iotk/src/iotk_dat+LOGICAL1_3.f90,
	  iotk/src/iotk_dat+LOGICAL2_0.f90,
	  iotk/src/iotk_dat+LOGICAL2_3.f90, iotk/src/iotk_dat+REAL1_0.f90,
	  iotk/src/iotk_dat+REAL1_3.f90, iotk/src/iotk_dat+REAL2_0.f90,
	  iotk/src/iotk_dat+REAL2_3.f90, iotk/src/iotk_dat.spp,
	  iotk/src/iotk_dat_interf.f90, iotk/src/iotk_dat_interf.spp,
	  iotk/src/iotk_error.spp, iotk/src/iotk_files.spp,
	  iotk/src/iotk_fmt.f90, iotk/src/iotk_fmt.spp,
	  iotk/src/iotk_fmt_interf.f90, iotk/src/iotk_fmt_interf.spp,
	  iotk/src/iotk_misc.f90, iotk/src/iotk_misc.spp,
	  iotk/src/iotk_misc_interf.f90, iotk/src/iotk_misc_interf.spp,
	  iotk/src/iotk_module.f90, iotk/src/iotk_module.spp,
	  iotk/src/iotk_scan.spp, iotk/src/iotk_str.f90,
	  iotk/src/iotk_str.spp, iotk/src/iotk_str_interf.f90,
	  iotk/src/iotk_str_interf.spp, iotk/src/iotk_unit.spp,
	  iotk/src/iotk_write.spp, iotk/src/iotk_xtox.spp,
	  iotk/src/test.f90:

	- iotk library updated to the last stable version ( 1.0.1 )
	- small fix in cp_restart, reading occupation when restarting
	  from a PW run

2005-08-29 22:29  sbraccia

	* Modules/xml_io_base.f90, PW/openfil.f90, PW/pw_restart.f90,
	  PW/read_file.f90, PW/restart.f90, flib/error.f90,
	  CPV/cp_restart.f90, D3/Makefile, PP/Makefile, PWCOND/Makefile:

	More merge between xml routines used by cp/fpmd and pwscf. Many fixes in the
	pwscf set of drivers that read the xml punch file.
	Now the postprocessing codes that use the read_file routine to read the punch
	file should work (please check).
	C.S.

2005-08-29 12:11  giannozz

	* pwtools/rigid.f90:

	Added message explaining why there is no LO-TO splitting

2005-08-29 10:34  giannozz

	* CPV/errore.f90:

	[no log message]

2005-08-28 16:09  giannozz

	* CPV/adjef.f90, CPV/atoms_type.f90, CPV/band_type.f90,
	  CPV/berryion.f90, CPV/bessel.f90, CPV/bforceion.f90,
	  CPV/brillouin.f90, CPV/cg.f90, CPV/cg_sub.f90, CPV/cglib.f90,
	  CPV/chargedensity.f90, CPV/chargemix.f90, CPV/chi2.f90,
	  CPV/compute_scf.f90, CPV/cp_emass.f90, CPV/cp_fpmd.f90,
	  CPV/cp_restart.f90, CPV/cplib.f90, CPV/cplib_meta.f90,
	  CPV/cpr.f90, CPV/cpr_mod.f90, CPV/cprsub.f90, CPV/crayfft.f90,
	  CPV/dforceb.f90, CPV/diis.f90, CPV/dipol_matrix.f90,
	  CPV/efield.f90, CPV/eigs0.f90, CPV/eigsp.f90, CPV/electrons.f90,
	  CPV/emptystates.f90, CPV/ensemble_dft.f90, CPV/enthropy.f90,
	  CPV/environment.f90, CPV/exch_corr.f90, CPV/fft.f90,
	  CPV/fftdrv.f90, CPV/fields_type.f90, CPV/fnl.f90,
	  CPV/forceconv.f90, CPV/forces.f90, CPV/fpmdpp.f90,
	  CPV/fromscra.f90, CPV/geninv.f90, CPV/greenf.f90, CPV/gsmesh.f90,
	  CPV/gtable.f90, CPV/guess.f90, CPV/indices.f90, CPV/init.f90,
	  CPV/init_run.f90, CPV/input.f90, CPV/interfaces.f90,
	  CPV/ions.f90, CPV/ions_positions.f90, CPV/ksstates.f90,
	  CPV/main.f90, CPV/main_loops.f90, CPV/mainvar.f90,
	  CPV/metaxc.f90, CPV/miller.f90, CPV/modules.f90,
	  CPV/move_electrons.f90, CPV/nl.f90, CPV/nl_base.f90,
	  CPV/nlcc.f90, CPV/optical.f90, CPV/ortho.f90, CPV/ortho_base.f90,
	  CPV/para.f90, CPV/path_routines.f90, CPV/periodic.f90,
	  CPV/phasefactor.f90, CPV/polarization.f90, CPV/potentials.f90,
	  CPV/print_out.f90, CPV/pseudo_base.f90, CPV/pseudopot.f90,
	  CPV/qmatrixd.f90, CPV/qqberry.f90, CPV/read_pseudo.f90,
	  CPV/redis.f90, CPV/restart.f90, CPV/restart_sub.f90,
	  CPV/runcg.f90, CPV/runcg_ion.f90, CPV/runcp.f90, CPV/rundiis.f90,
	  CPV/runsd.f90, CPV/scalapack.f90, CPV/smcp.f90, CPV/smd.f90,
	  CPV/smd_modules.f90, CPV/smlam.f90, CPV/spharmonic.f90,
	  CPV/spline.f90, CPV/stress.f90, CPV/turbo.f90, CPV/util.f90,
	  CPV/vanderwaals.f90, CPV/vofrho2.f90, CPV/wannier.f90,
	  CPV/wannier_base.f90, CPV/wave.f90, CPV/waveinit.f90, CPV/wf.f90,
	  CPV/wrapper.f90, D3/ch_psi_all2.f90, D3/d0rhod2v.f90,
	  D3/d2mxc.f90, D3/d3_exc.f90, D3/d3_init.f90, D3/d3_setup.f90,
	  D3/d3_summary.f90, D3/d3_symdyn.f90, D3/d3_symdynph.f90,
	  D3/d3_valence.f90, D3/d3com.f90, D3/d3dyn_cc.f90, D3/d3ionq.f90,
	  D3/d3matrix.f90, D3/d3toten.f90, D3/d3vrho.f90,
	  D3/davcio_drho2.f90, D3/dpsi_corr.f90, D3/dpsidpsidv.f90,
	  D3/dpsidvdpsi.f90, D3/dqrhod2v.f90, D3/drho_cc.f90,
	  D3/drho_drc.f90, D3/drhod2v.f90, D3/dvdpsi.f90, D3/dvscf.f90,
	  D3/gen_dpdvp.f90, D3/incdrhoscf2.f90, D3/openfild3.f90,
	  D3/psymd0rho.f90, D3/qstar_d3.f90, D3/rotate_and_add_d3.f90,
	  D3/set_d3irr.f90, D3/set_efsh.f90, D3/set_sym_irr.f90,
	  D3/sgama_d3.f90, D3/solve_linter_d3.f90, D3/sym_def1.f90,
	  D3/symd0rho.f90, D3/trntnsc_3.f90, D3/w_1gauss.f90,
	  D3/write_d3dyn.f90, D3/writed3dyn_5.f90, Gamma/a_h.f90,
	  Gamma/cg_readin.f90, Gamma/cg_setup.f90, Gamma/cg_setupdgc.f90,
	  Gamma/cgcom.f90, Gamma/cgsolve.f90, Gamma/d2ion.f90,
	  Gamma/dgcxc.f90, Gamma/dgcxc_spin.f90, Gamma/dgradcorr.f90,
	  Gamma/dielec.f90, Gamma/dmxc.f90, Gamma/drhodv.f90,
	  Gamma/dvb_cc.f90, Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90,
	  Gamma/dyndiar.f90, Gamma/dynmat_init.f90, Gamma/dynmatcc.f90,
	  Gamma/generate_dynamical_matrix.f90,
	  Gamma/generate_effective_charges.f90, Gamma/h_h.f90,
	  Gamma/phcg.f90, Gamma/pw_dot.f90, Gamma/rhod2vkb.f90,
	  Gamma/solve_e.f90, Gamma/solve_ph.f90, Gamma/zvscal.f90,
	  Modules/atom.f90, Modules/autopilot.f90,
	  Modules/basic_algebra_routines.f90, Modules/bfgs_module.f90,
	  Modules/cell_base.f90, Modules/check_stop.f90,
	  Modules/clocks.f90, Modules/coarsegrained_vars.f90,
	  Modules/constants.f90, Modules/constraints_module.f90,
	  Modules/control_flags.f90, Modules/electrons_base.f90,
	  Modules/energies.f90, Modules/fft_base.f90,
	  Modules/fft_scalar.f90, Modules/griddim.f90,
	  Modules/input_parameters.f90, Modules/io_base.f90,
	  Modules/ions_base.f90, Modules/ions_nose.f90, Modules/kind.f90,
	  Modules/mp.f90, Modules/mp_buffers.f90, Modules/mp_wave.f90,
	  Modules/parallel_types.f90, Modules/path_base.f90,
	  Modules/path_io_routines.f90, Modules/path_opt_routines.f90,
	  Modules/path_reparametrisation.f90, Modules/path_variables.f90,
	  Modules/printout_base.f90, Modules/pseudo_types.f90,
	  Modules/pseudodata.f90, Modules/ptoolkit.f90,
	  Modules/read_namelists.f90, Modules/readpseudo.f90,
	  Modules/recvec.f90, Modules/shmem_include.f90, Modules/sic.f90,
	  Modules/smallbox.f90, Modules/splinelib.f90,
	  Modules/stick_base.f90, Modules/timestep.f90, Modules/uspp.f90,
	  Modules/wave_base.f90, Modules/wavefunctions.f90,
	  Modules/xml_io_base.f90, PH/add_dkmds.f90,
	  PH/add_for_charges.f90, PH/add_zstar_ue.f90,
	  PH/add_zstar_ue_us.f90, PH/addcore.f90, PH/adddvepsi_us.f90,
	  PH/adddvscf.f90, PH/addnlcc.f90, PH/addnlcc_zstar_eu_us.f90,
	  PH/addusdbec.f90, PH/addusddens.f90, PH/addusddense.f90,
	  PH/addusdynmat.f90, PH/addusldos.f90, PH/cft_wave.f90,
	  PH/cg_psi.f90, PH/cgsolve_all.f90, PH/ch_psi_all.f90,
	  PH/chi_test.f90, PH/compute_alphasum.f90, PH/compute_becalp.f90,
	  PH/compute_becsum.f90, PH/compute_drhous.f90,
	  PH/compute_dvloc.f90, PH/compute_nldyn.f90,
	  PH/compute_qdipol.f90, PH/compute_weight.f90, PH/d2ionq.f90,
	  PH/d2mxc.f90, PH/davcio_drho.f90, PH/dgcxc.f90,
	  PH/dgcxc_spin.f90, PH/dgradcorr.f90, PH/dhdrhopsi.f90,
	  PH/dielec.f90, PH/dielec_test.f90, PH/dmxc.f90, PH/dmxc_spin.f90,
	  PH/drho.f90, PH/drhodv.f90, PH/drhodvloc.f90, PH/drhodvnl.f90,
	  PH/drhodvus.f90, PH/dv_of_drho.f90, PH/dvanqq.f90, PH/dvkb3.f90,
	  PH/dvpsi_e.f90, PH/dvpsi_e2.f90, PH/dvqpsi_us.f90,
	  PH/dvqpsi_us_only.f90, PH/dyndia.f90, PH/dynmat0.f90,
	  PH/dynmat_us.f90, PH/dynmatcc.f90, PH/dynmatrix.f90,
	  PH/ef_shift.f90, PH/el_opt.f90, PH/elph.f90, PH/elphon.f90,
	  PH/h_psiq.f90, PH/hdiag.f90, PH/incdrhoscf.f90, PH/incdrhous.f90,
	  PH/io_pattern.f90, PH/localdos.f90, PH/newdq.f90,
	  PH/openfilq.f90, PH/pcgreen.f90, PH/phcom.f90, PH/phonon.f90,
	  PH/phq_init.f90, PH/phq_setup.f90, PH/phq_summary.f90,
	  PH/phqscf.f90, PH/psidspsi.f90, PH/psymdvscf.f90, PH/psyme.f90,
	  PH/psyme2.f90, PH/punch_plot_e.f90, PH/punch_plot_ph.f90,
	  PH/q2qstar_ph.f90, PH/q_points.f90, PH/raman_mat.f90,
	  PH/ramanm.f90, PH/random_matrix.f90, PH/rotate_and_add_dyn.f90,
	  PH/set_drhoc.f90, PH/set_dvscf.f90, PH/set_irr.f90,
	  PH/set_irr_mode.f90, PH/set_irr_nosym.f90, PH/setlocq.f90,
	  PH/setqmod.f90, PH/setup_dgc.f90, PH/smallgq.f90, PH/solve_e.f90,
	  PH/solve_e2.f90, PH/solve_e_nscf.f90, PH/solve_linter.f90,
	  PH/star_q.f90, PH/sym_and_write_zue.f90, PH/sym_def.f90,
	  PH/sym_elop.f90, PH/symdvscf.f90, PH/symdyn_munu.f90,
	  PH/symdynph_gq.f90, PH/syme.f90, PH/syme2.f90, PH/symram.f90,
	  PH/tra_write_matrix.f90, PH/trntnsc.f90, PH/trntnsr_3.f90,
	  PH/write_dyn_on_file.f90, PH/write_epsilon_and_zeu.f90,
	  PH/write_matrix.f90, PH/write_ramtns.f90, PH/zstar_eu.f90,
	  PH/zstar_eu_us.f90, PP/add_shift_cc.f90, PP/add_shift_lc.f90,
	  PP/add_shift_us.f90, PP/addusdens1d.f90, PP/average.f90,
	  PP/bands.f90, PP/cft.f90, PP/cgracsc.f90, PP/chdens.f90,
	  PP/cube.f90, PP/dipole.f90, PP/do_initial_state.f90,
	  PP/do_shift_ew.f90, PP/dos.f90, PP/dosg.f90, PP/efg.f90,
	  PP/elf.f90, PP/ggen1d.f90, PP/local_dos.f90, PP/local_dos1d.f90,
	  PP/openfil_pp.f90, PP/plan_avg.f90, PP/plot_io.f90,
	  PP/plot_whole_cell.f90, PP/plotrho.f90, PP/poormanwannier.f90,
	  PP/postproc.f90, PP/projwfc.f90, PP/punch_plot.f90,
	  PP/pw2casino.f90, PP/pw2wan.f90, PP/pw_export.f90, PP/stm.f90,
	  PP/voronoy.f90, PP/wfdd.f90, PP/work_function.f90, PP/xctest.f90,
	  PP/xsf.f90, PW/add_bfield.f90, PW/add_efield.f90,
	  PW/add_vuspsi.f90, PW/add_vuspsi_nc.f90, PW/addusdens.f90,
	  PW/addusforce.f90, PW/addusstress.f90, PW/atomic_rho.f90,
	  PW/atomic_wfc.f90, PW/atomic_wfc_nc.f90, PW/becmod.f90,
	  PW/bfgs.f90, PW/bp_c_phase.f90, PW/bp_calc_btq.f90,
	  PW/c_bands.f90, PW/c_gemm.f90, PW/ccalbec.f90, PW/ccalbec_nc.f90,
	  PW/ccgdiagg.f90, PW/cdiagh.f90, PW/cdiaghg.f90, PW/cdiisg_nc.f90,
	  PW/cegterg.f90, PW/cft3.f90, PW/cft3s.f90, PW/cft_3.f90,
	  PW/cft_fftw.f90, PW/cft_sgi.f90, PW/cft_sp.f90, PW/cft_sun.f90,
	  PW/cft_t3e.f90, PW/cfts_3.f90, PW/cgramg1.f90, PW/cgramg1_nc.f90,
	  PW/checkallsym.f90, PW/checksym.f90, PW/cinitcgg.f90,
	  PW/complex_diis_module.f90, PW/compute_dip.f90,
	  PW/compute_fes_grads.f90, PW/compute_rho.f90, PW/compute_scf.f90,
	  PW/cryst_to_car.f90, PW/cubicsym.f90, PW/d_matrix.f90,
	  PW/data_structure.f90, PW/davcio.f90, PW/deriv_drhoc.f90,
	  PW/diis_base.f90, PW/divide_et_impera.f90, PW/dndepsilon.f90,
	  PW/dndtau_of_k.f90, PW/dprojdepsilon.f90, PW/dprojdtau.f90,
	  PW/dqvan2.f90, PW/drhoc.f90, PW/dvloc_of_g.f90, PW/dynamics.f90,
	  PW/efermig.f90, PW/efermit.f90, PW/electrons.f90, PW/eqvect.f90,
	  PW/estimate.f90, PW/ewald.f90, PW/ewald_dipole.f90, PW/exx.f90,
	  PW/force_cc.f90, PW/force_corr.f90, PW/force_ew.f90,
	  PW/force_hub.f90, PW/force_lc.f90, PW/force_us.f90,
	  PW/forces.f90, PW/g_psi.f90, PW/g_psi_mod.f90, PW/g_psi_nc.f90,
	  PW/gen_at_dj.f90, PW/gen_at_dy.f90, PW/gen_us_dj.f90,
	  PW/gen_us_dy.f90, PW/get_locals.f90, PW/ggen.f90, PW/gk_sort.f90,
	  PW/gradcorr.f90, PW/gweights.f90, PW/h_1psi.f90,
	  PW/h_1psi_nc.f90, PW/h_epsi_her.f90, PW/h_psi.f90,
	  PW/h_psi_nc.f90, PW/hexsym.f90, PW/init_at_1.f90, PW/init_ns.f90,
	  PW/init_paw_1.f90, PW/init_paw_2.f90, PW/init_us_1.f90,
	  PW/init_us_2.f90, PW/input.f90, PW/interpolate.f90,
	  PW/io_pot.f90, PW/irrek.f90, PW/iweights.f90, PW/kpoint_grid.f90,
	  PW/lchk_tauxk.f90, PW/linmin.f90, PW/make_pointlists.f90,
	  PW/memory.f90, PW/mix_pot.f90, PW/mix_rho.f90, PW/mode_group.f90,
	  PW/move_ions.f90, PW/n_plane_waves.f90, PW/new_ns.f90,
	  PW/newd.f90, PW/noncol.f90, PW/ns_adj.f90, PW/openfil.f90,
	  PW/ortho.f90, PW/orthoatwfc.f90, PW/output_tau.f90, PW/para.f90,
	  PW/paw.f90, PW/potinit.f90, PW/psymrho.f90, PW/psymrho_mag.f90,
	  PW/pw_gemm.f90, PW/pw_restart.f90, PW/pwcom.f90, PW/qvan2.f90,
	  PW/rcgdiagg.f90, PW/rdiaghg.f90, PW/read_conf_from_file.f90,
	  PW/read_file.f90, PW/read_ncpp.f90, PW/readnewvan.f90,
	  PW/readvan.f90, PW/real_diis_module.f90, PW/regterg.f90,
	  PW/remove_atomic_rho.f90, PW/report_mag.f90, PW/restart.f90,
	  PW/restart_in_electrons.f90, PW/restart_in_ions.f90, PW/rgen.f90,
	  PW/rho2zeta.f90, PW/rinitcgg.f90, PW/rotate_wfc.f90,
	  PW/rotate_wfc_gamma.f90, PW/rotate_wfc_nc.f90, PW/s_1psi.f90,
	  PW/s_axis_to_ca.f90, PW/s_psi.f90, PW/s_psi_nc.f90,
	  PW/save_in_cbands.f90, PW/save_in_electrons.f90,
	  PW/save_in_ions.f90, PW/scala_cdiag.f90, PW/scala_cdiaghg.f90,
	  PW/scala_utils.f90, PW/scopy_t3e.f90, PW/set_kplusb.f90,
	  PW/set_kplusq.f90, PW/set_kup_and_kdw.f90, PW/set_rhoc.f90,
	  PW/set_vrs.f90, PW/setlocal.f90, PW/setqf.f90, PW/setup.f90,
	  PW/setupkpt.f90, PW/sgam_at.f90, PW/sgam_at_mag.f90,
	  PW/sgam_ph.f90, PW/sgama.f90, PW/smallg_q.f90, PW/sph_ind.f90,
	  PW/spinor.f90, PW/stres_cc.f90, PW/stres_ewa.f90,
	  PW/stres_gradcorr.f90, PW/stres_har.f90, PW/stres_hub.f90,
	  PW/stres_knl.f90, PW/stres_loc.f90, PW/stres_us.f90,
	  PW/stress.f90, PW/struct_fact.f90, PW/sum_band.f90, PW/sumkg.f90,
	  PW/sumkt.f90, PW/summary.f90, PW/swap.f90, PW/symrho.f90,
	  PW/symrho_mag.f90, PW/symscalar.f90, PW/symtns.f90,
	  PW/symvect.f90, PW/symz.f90, PW/tabd.f90, PW/trntns.f90,
	  PW/trnvecc.f90, PW/trnvect.f90, PW/tweights.f90,
	  PW/update_pot.f90, PW/updathes.f90, PW/upf_to_internal.f90,
	  PW/usnldiag.f90, PW/usnldiag_nc.f90, PW/v_of_rho.f90,
	  PW/vcsmd.f90, PW/vcsubs.f90, PW/vhpsi.f90, PW/vhpsi_nc.f90,
	  PW/vloc_of_g.f90, PW/vloc_psi.f90, PW/vpack.f90, PW/w0gauss.f90,
	  PW/w1gauss.f90, PW/wfcinit.f90, PW/wgauss.f90,
	  PW/write_config_to_file.f90, PW/write_ns.f90, PW/wsweight.f90,
	  PWCOND/bessj.f90, PWCOND/cft3sp.f90, PWCOND/compbs.f90,
	  PWCOND/compbs_2.f90, PWCOND/cond_out.f90, PWCOND/condcom.f90,
	  PWCOND/do_cond.f90, PWCOND/eigenchnl.f90, PWCOND/form_zk.f90,
	  PWCOND/four.f90, PWCOND/gep_gep.f90, PWCOND/gep_x.f90,
	  PWCOND/gramsh.f90, PWCOND/hev_ab.f90, PWCOND/init_cond.f90,
	  PWCOND/init_gper.f90, PWCOND/init_orbitals.f90,
	  PWCOND/integrals.f90, PWCOND/jbloch.f90, PWCOND/kbloch.f90,
	  PWCOND/local.f90, PWCOND/poten.f90, PWCOND/rotate.f90,
	  PWCOND/rotproc.f90, PWCOND/save_cond.f90,
	  PWCOND/scatter_back.f90, PWCOND/scatter_forw.f90,
	  PWCOND/summary_band.f90, PWCOND/sunitary.f90,
	  PWCOND/transmit.f90, atomic/add_exchange.f90, atomic/ascheq.f90,
	  atomic/ascheqlocps.f90, atomic/ascheqps.f90,
	  atomic/atomic_paw.f90, atomic/cfdsol.f90, atomic/chargeps.f90,
	  atomic/compute_chi.f90, atomic/compute_det.f90,
	  atomic/compute_phi.f90, atomic/compute_phipot.f90,
	  atomic/compute_phius.f90, atomic/compute_solution.f90,
	  atomic/descreening.f90, atomic/dfx_new.f90,
	  atomic/dir_outward.f90, atomic/dirsol.f90, atomic/dmixp.f90,
	  atomic/do_mesh.f90, atomic/drho0ofvx.f90, atomic/drhoofv.f90,
	  atomic/dvex.f90, atomic/el_config.f90, atomic/elsd.f90,
	  atomic/elsdps.f90, atomic/esic.f90, atomic/exc_t.f90,
	  atomic/find_qi.f90, atomic/gener_pseudo.f90, atomic/green.f90,
	  atomic/hartree.f90, atomic/int_0_inf_dr.f90,
	  atomic/integrate_inward.f90, atomic/integrate_outward.f90,
	  atomic/intref.f90, atomic/inward.f90, atomic/ld1_readin.f90,
	  atomic/ld1_setup.f90, atomic/ld1inc.f90, atomic/lderiv.f90,
	  atomic/lderivps.f90, atomic/lschps.f90, atomic/new_potential.f90,
	  atomic/newd_at.f90, atomic/nodenum.f90, atomic/normalize.f90,
	  atomic/outward.f90, atomic/pseudovloc.f90,
	  atomic/read_pseudo.f90, atomic/read_pseudoupf.f90,
	  atomic/run_pseudo.f90, atomic/run_test.f90, atomic/scf.f90,
	  atomic/seriebes.f90, atomic/series.f90, atomic/set_rho_core.f90,
	  atomic/set_sl3.f90, atomic/sic_correction.f90,
	  atomic/start_potps.f90, atomic/starting_potential.f90,
	  atomic/trou.f90, atomic/vdpack.f90, atomic/vext.f90,
	  atomic/vpack.f90, atomic/vxc_t.f90, atomic/vxcgc.f90,
	  atomic/write_cpmd.f90, atomic/write_paw_recon.f90,
	  atomic/write_pseudo.f90, atomic/write_results.f90,
	  atomic/write_resultsps.f90, atomic/write_upf.f90, flib/avrec.f90,
	  flib/bachel.f90, flib/dost.f90, flib/dylmr2.f90, flib/erf.f90,
	  flib/functionals.f90, flib/gridsetup.f90, flib/iceil.f90,
	  flib/invmat.f90, flib/latgen.f90, flib/linpack.f90,
	  flib/lsda_functionals.f90, flib/more_functionals.f90,
	  flib/ngnr_set.f90, flib/recips.f90, flib/rranf.f90,
	  flib/scnds.f90, flib/simpsn.f90, flib/sort.f90,
	  flib/sort_gvec.f90, flib/sph_bes.f90, flib/sph_besr.f90,
	  flib/sph_dbes.f90, flib/volume.f90, flib/ylmr2.f90,
	  pwtools/dynmat.f90, pwtools/fqha.f90, pwtools/lambda.f90,
	  pwtools/matdyn.f90, pwtools/path_int.f90, pwtools/q2r.f90,
	  pwtools/rigid.f90, upftools/cpmd2upf.f90, upftools/fhi2upf.f90,
	  upftools/fpmd2upf.f90, upftools/ncpp2upf.f90,
	  upftools/oldcp2upf.f90, upftools/read_upf.f90,
	  upftools/rrkj2upf.f90, upftools/vanderbilt.f90,
	  upftools/virtual.f90, upftools/write_upf.f90:

	dbl => DP (defined as previously dbl was)
	syntax for declarations: real(DP), without "kind="

2005-08-27 02:14  silviu

	* Doc/INPUT_CP:

	Updated documentation of the CP code to reflect the new &WANNIER name list.
	Adapted from the original documentation of Manu Sharma.
	S.Z.

2005-08-26 19:44  giannozz

	* TODO, CPV/adjef.f90, CPV/berryion.f90, CPV/bforceion.f90,
	  CPV/cg_sub.f90, CPV/cglib.f90, CPV/chargedensity.f90,
	  CPV/chi2.f90, CPV/cp_fpmd.f90, CPV/cp_restart.f90, CPV/cplib.f90,
	  CPV/cplib_meta.f90, CPV/cprsub.f90, CPV/crayfft.f90,
	  CPV/dforceb.f90, CPV/diis.f90, CPV/dipol_matrix.f90,
	  CPV/efermi.f90, CPV/electrons.f90, CPV/emptystates.f90,
	  CPV/ensemble_dft.f90, CPV/exch_corr.f90, CPV/fft.f90,
	  CPV/forces.f90, CPV/grid.f90, CPV/guess.f90, CPV/indices.f90,
	  CPV/ions.f90, CPV/ksstates.f90, CPV/miller.f90, CPV/nl.f90,
	  CPV/nl_base.f90, CPV/nlcc.f90, CPV/optical.f90, CPV/ortho.f90,
	  CPV/ortho_base.f90, CPV/para.f90, CPV/phasefactor.f90,
	  CPV/polarization.f90, CPV/potentials.f90, CPV/print_out.f90,
	  CPV/pseudopot.f90, CPV/qmatrixd.f90, CPV/qqberry.f90,
	  CPV/read_pseudo.f90, CPV/runcp.f90, CPV/rundiis.f90,
	  CPV/smcp.f90, CPV/spline.f90, CPV/vanderwaals.f90,
	  CPV/vofrho2.f90, CPV/wannier.f90, CPV/wave.f90, CPV/wf.f90,
	  D3/d0rhod2v.f90, D3/d3_exc.f90, D3/d3_summary.f90,
	  D3/d3_symdyn.f90, D3/d3_symdynph.f90, D3/d3_valence.f90,
	  D3/d3dyn_cc.f90, D3/d3ionq.f90, D3/d3vrho.f90, D3/dpsidpsidv.f90,
	  D3/dpsidvdpsi.f90, D3/dqrhod2v.f90, D3/drho_drc.f90,
	  D3/dvdpsi.f90, D3/dvscf.f90, D3/incdrhoscf2.f90, D3/qstar_d3.f90,
	  D3/rotate_and_add_d3.f90, D3/set_efsh.f90, D3/set_sym_irr.f90,
	  D3/sym_def1.f90, D3/symd0rho.f90, D3/w_1gauss.f90, Gamma/a_h.f90,
	  Gamma/dgradcorr.f90, Gamma/dvpsi_kb.f90, Gamma/dynmatcc.f90,
	  Gamma/h_h.f90, Gamma/pw_dot.f90, Gamma/rhod2vkb.f90,
	  Modules/cell_base.f90, Modules/electrons_base.f90,
	  Modules/energies.f90, Modules/fft_base.f90,
	  Modules/fft_scalar.f90, Modules/mp_wave.f90,
	  Modules/ptoolkit.f90, Modules/read_cards.f90,
	  Modules/stick_base.f90, Modules/wave_base.f90, PH/addnlcc.f90,
	  PH/addnlcc_zstar_eu_us.f90, PH/addusdbec.f90, PH/addusddens.f90,
	  PH/addusdynmat.f90, PH/cgsolve_all.f90, PH/chi_test.f90,
	  PH/compute_alphasum.f90, PH/compute_becalp.f90,
	  PH/compute_becsum.f90, PH/compute_nldyn.f90, PH/d2ionq.f90,
	  PH/dhdrhopsi.f90, PH/dielec.f90, PH/drho.f90, PH/drhodv.f90,
	  PH/drhodvnl.f90, PH/drhodvus.f90, PH/dv_of_drho.f90,
	  PH/dvanqq.f90, PH/dvpsi_e2.f90, PH/dyndia.f90, PH/dynmat0.f90,
	  PH/dynmat_us.f90, PH/dynmatcc.f90, PH/dynmatrix.f90,
	  PH/el_opt.f90, PH/elphon.f90, PH/incdrhoscf.f90,
	  PH/incdrhous.f90, PH/localdos.f90, PH/pcgreen.f90,
	  PH/phq_summary.f90, PH/punch_plot_e.f90, PH/q2qstar_ph.f90,
	  PH/raman_mat.f90, PH/random_matrix.f90,
	  PH/rotate_and_add_dyn.f90, PH/set_irr.f90, PH/set_irr_mode.f90,
	  PH/setup_dgc.f90, PH/smallgq.f90, PH/sym_def.f90,
	  PH/sym_elop.f90, PH/symdvscf.f90, PH/symdyn_munu.f90,
	  PH/symdynph_gq.f90, PH/syme.f90, PH/syme2.f90, PH/symram.f90,
	  PH/tra_write_matrix.f90, PH/zstar_eu.f90, PP/add_shift_cc.f90,
	  PP/add_shift_us.f90, PP/addusdens1d.f90, PP/average.f90,
	  PP/cgracsc.f90, PP/chdens.f90, PP/cube.f90, PP/do_shift_ew.f90,
	  PP/efg.f90, PP/elf.f90, PP/local_dos.f90, PP/local_dos1d.f90,
	  PP/punch_plot.f90, PP/pw2casino.f90, PP/stm.f90, PP/voronoy.f90,
	  PP/wfdd.f90, PW/addusdens.f90, PW/addusforce.f90,
	  PW/addusstress.f90, PW/atomic_rho.f90, PW/atomic_wfc.f90,
	  PW/atomic_wfc_nc.f90, PW/bp_c_phase.f90, PW/c_gemm.f90,
	  PW/c_phase_field.f90, PW/ccgdiagg.f90, PW/cdiagh.f90,
	  PW/cdiisg_nc.f90, PW/cegterg.f90, PW/cinitcgg.f90,
	  PW/compute_rho.f90, PW/dndepsilon.f90, PW/dndtau_of_k.f90,
	  PW/dprojdtau.f90, PW/ewald.f90, PW/ewald_dipole.f90, PW/exx.f90,
	  PW/force_cc.f90, PW/force_corr.f90, PW/force_ew.f90,
	  PW/force_us.f90, PW/forces.f90, PW/gen_at_dj.f90,
	  PW/gen_at_dy.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PW/gradcorr.f90, PW/h_epsi_her.f90, PW/h_psi.f90,
	  PW/init_paw_2.f90, PW/init_us_1.f90, PW/init_us_2.f90,
	  PW/make_pointlists.f90, PW/mode_group.f90, PW/new_ns.f90,
	  PW/ns_adj.f90, PW/set_rhoc.f90, PW/setlocal.f90, PW/stres_cc.f90,
	  PW/stres_ewa.f90, PW/stres_har.f90, PW/stres_knl.f90,
	  PW/stres_loc.f90, PW/stres_us.f90, PW/struct_fact.f90,
	  PW/sum_band.f90, PW/usnldiag.f90, PW/usnldiag_nc.f90,
	  PW/vcsubs.f90, PW/vloc_psi.f90, PW/wfcinit.f90, PW/write_ns.f90,
	  PWCOND/form_zk.f90, PWCOND/gep_x.f90, PWCOND/integrals.f90,
	  PWCOND/jbloch.f90, PWCOND/kbloch.f90, PWCOND/poten.f90,
	  PWCOND/save_cond.f90, PWCOND/summary_band.f90,
	  PWCOND/sunitary.f90, PWCOND/transmit.f90, atomic/green.f90,
	  atomic/write_upf.f90, flib/more_functionals.f90,
	  flib/ngnr_set.f90, flib/rranf.f90, include/f_defs.h,
	  iotk/src/iotk_attr+COMPLEX1_0.f90,
	  iotk/src/iotk_attr+COMPLEX2_0.f90, pwtools/dynmat.f90,
	  pwtools/matdyn.f90, pwtools/path_int.f90, pwtools/q2r.f90,
	  pwtools/rigid.f90, upftools/fpmd2upf.f90, upftools/ncpp2upf.f90,
	  upftools/rrkj2upf.f90:

	General cleanup of intrinsic functions:

	conversion to real    => DBLE
	(including real part of a complex number)
	conversion to complex => CMPLX
	complex conjugate     => CONJG
	imaginary part        => AIMAG

	All functions are uppercase.
	CMPLX is preprocessed by f_defs.h and performs an explicit cast:
	#define CMPLX(a,b)  cmplx(a,b,kind=DP)
	This implies that 1) f_defs.h must be included whenever a CMPLX is present,
	2) CMPLX should stay in a single line, 3) DP must be defined.

	All occurrences of real, float, dreal, dfloat, dconjg, dimag, dcmplx
	removed - please do not reintroduce any of them.
	Tested only with ifc7 and g95 - beware unintended side effects

	Maybe not the best solution (explicit casts everywhere would be better)
	but it can be easily changed with a script if the need arises.
	The following code might be used to test for possible trouble:

	program test_intrinsic

	  implicit none
	  integer, parameter :: dp = selected_real_kind(14,200)
	  real (kind=dp) :: a = 0.123456789012345_dp
	  real (kind=dp) :: b = 0.987654321098765_dp
	  complex (kind=dp) :: c = ( 0.123456789012345_dp, 0.987654321098765_dp)

	  print *, '      A = ', a
	  print *, ' DBLE(A)= ', DBLE(a)
	  print *, '      C = ', c
	  print *, 'CONJG(C)= ', CONJG(c)
	  print *, 'DBLE(c),AIMAG(C)  = ', DBLE(c), AIMAG(c)
	  print *, 'CMPLX(A,B,kind=dp)= ', CMPLX( a, b, kind=dp)

	end program test_intrinsic

	Note that CMPLX and REAL without a cast yield single precision numbers on
	ifc7 and g95 !!!

2005-08-26 11:31  dalcorso

	* PP/bands.f90:

	Added a check on spin_component.

2005-08-26 11:28  cavazzon

	* CPV/cp_fpmd.f90, CPV/cp_restart.f90, CPV/cpr.f90,
	  CPV/pseudopot.f90, CPV/restart.f90, CPV/smcp.f90,
	  CPV/wannier.f90, Modules/xml_io_base.f90, PW/punch.f90,
	  PW/pw_restart.f90:

	- added a subroutine to write the charge density in XML plane by plane
	- minor fixes to PW/pw_restart
	- Added the possibility to restart using CP from a PW run (at gamma),
	  working but still sperimental.

2005-08-25 15:35  giannozz

	* PH/Makefile:

	Missing dependency added

2005-08-25 15:01  cavazzon

	* Modules/autopilot.f90:

	- autopilot.f90 wasn't compiling on IBM AIX machines
	- compiler complains for espression like: logical_var == .FALSE.
	  this is not standard f90, use: .NOT. logical_var
	  instead
	- subroutine "flush" is not a standard intrinsic f90 sub.
	  use our "flush_unit" wrapper

2005-08-24 18:47  dalcorso

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/gradcorr.f90, PW/gradcorr_nc.f90,
	  PW/v_of_rho.f90, PWCOND/Makefile:

	Merging of gradcorr.f90 and gradcorr_nc.f90.

2005-08-24 17:52  sbraccia

	* PW/Makefile:

	Added missing dependency.
	C.S.

2005-08-24 16:39  giannozz

	* PH/Makefile, PW/Makefile:

	Makefiles updated

2005-08-24 16:39  giannozz

	* TODO:

	[no log message]

2005-08-24 16:35  cavazzon

	* CPV/cp_restart.f90:

	- fixed a bug with nose-hoover chains and restart file.
	  The restart sub was always writing and reading a chain
	  of the maximum lenght, regardless the real lenght of
	  the chain.

2005-08-24 16:32  sbraccia

	* examples/example23/: run_example, reference/h2o.efield.out,
	  reference/h2o.wannier.out:

	Example of CP dynamics with wannier functions updated.
	C.S.

2005-08-24 16:20  targacept

	* CPV/cpr.f90, CPV/input.f90, CPV/restart.f90, Modules/parser.f90,
	  Modules/read_cards.f90, Modules/autopilot.f90,
	  Doc/README.AUTOPILOT:

	Adding Autopilot Feature Suite

2005-08-24 15:17  sbraccia

	* CPV/compute_scf.f90, CPV/cp_restart.f90, CPV/cpr.f90,
	  CPV/fromscra.f90, CPV/init.f90, CPV/init_run.f90,
	  CPV/move_electrons.f90, CPV/path_routines.f90,
	  CPV/pseudotab_base.f90, CPV/restart.f90, CPV/restart_sub.f90,
	  Modules/printout_base.f90:

	Some buf fix for the implementation of NEB in the CP code.
	C.S.

2005-08-23 20:47  sbraccia

	* Modules/: control_flags.f90, ions_base.f90, uspp.f90:

	Cleanup. C.S.

2005-08-23 20:42  sbraccia

	* CPV/input.f90, CPV/wannier_base.f90, CPV/wf.f90, CPV/wannier.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90:

	Dynamics with wannier functions: variables wf_dt and wfdt unified. Added a check on
	the input value of calwf.
	C.S.

2005-08-23 19:47  targacept

	* CPV/Makefile:

	Adjusting Makefiles for ions_nose.o

2005-08-23 19:46  targacept

	* Modules/Makefile:

	Adjusting Makefile to include ions_nose.o

2005-08-23 17:50  sbraccia

	* PW/: davcio.f90, dynamics.f90, pwscf.f90:

	Cleanup. Fixed some problems related to velocity rescaling.
	C.S.

2005-08-23 15:19  cavazzon

	* Modules/electrons_base.f90:

	- bug fix, wrong array dimension in CP with odd number of bands
	  pointed out by C.S.

2005-08-22 22:13  targacept

	* Modules/ions_nose.f90:

	Moving back to Modules directory prior to submission of Autopilot Suite
	Here are former logs from CPV.
	1.7 ballabio 2005-8-17
	moved & in continued line to 6th position, ifort9 wants it [Gerardo]

	1.6 kkudin 2005-07-29
	Rescaled the target kinetic energy by ndega/(3*nat) for massive Nose chains,
	added a way to turn off the common thermostat on top of the massive Nose
	Kostya

	1.5 kkudin 2005-07-29
	For more than 1 Nose (chain) thermostat per system added a common thermostat
	on top of all the other ones
	 Kostya

	1.4 sbraccia 2005-07-18
	Greneral cleanup. NEB works again also with the CP code.
	C.S

	1.3 kkudin 2005-07-05
	by Kostya
	This patch adds "massive" Nose-Hoover chains for ions (i.e. each ion
	can have a separate NH chain attached to it)
	Some fixes are still needed in different places:
	-the information on the number of NH chains [nhpdim] needs to be
	saved and read from the restart file (not done now)
	-the NH velocities also need to be all saved [nhpdim*nhpcl]
	-an input option needs to be added to zero out the NH velocities during
	a restart in order to permit "on the fly" thermostat changes
	-deallocation of the module variables gives glibc error with IFC 8.0 & 8.1 in
	cpr.f90

	1.2 ballabio 2005-05-18
	more end subroutine --> end subroutine name [Gerardo]

	1.1 sbraccia 2005-05-16
	ions_base splitted in three different files: ions_base.f90 (still in Modules), ions_positions.f90 and ions_nose (in CPV).
	C.S.

2005-08-22 22:11  targacept

	* CPV/ions_nose.f90:

	Moving back to Modules directory prior to submission of Autopilot Suite

2005-08-22 16:57  cavazzon

	* CPV/cprsub.f90:

	- Another wrong variable declariation, this time found by Intel,
	  it was not found by IBM and PGI!

2005-08-22 16:25  cavazzon

	* CPV/modules.f90:

	- PGI found a wrong variable specification (that IBM xlf hasen't found)

2005-08-22 16:14  cavazzon

	* CPV/Makefile, CPV/atoms_type.f90, CPV/brillouin.f90,
	  CPV/cg_sub.f90, CPV/chargedensity.f90, CPV/compute_scf.f90,
	  CPV/cp_fpmd.f90, CPV/cplib.f90, CPV/cpr.f90, CPV/cpr_mod.f90,
	  CPV/cprstart.f90, CPV/cprsub.f90, CPV/cptypes.f90,
	  CPV/dealloc.f90, CPV/diis.f90, CPV/electrons.f90,
	  CPV/emptystates.f90, CPV/exch_corr.f90, CPV/fnl.f90,
	  CPV/forces.f90, CPV/fromscra.f90, CPV/gsmesh.f90, CPV/guess.f90,
	  CPV/init.f90, CPV/init_run.f90, CPV/input.f90, CPV/ions.f90,
	  CPV/ksstates.f90, CPV/main.f90, CPV/main_loops.f90,
	  CPV/mainvar.f90, CPV/modules.f90, CPV/move_electrons.f90,
	  CPV/nl.f90, CPV/nl_base.f90, CPV/nlcc.f90, CPV/optical.f90,
	  CPV/phasefactor.f90, CPV/potentials.f90, CPV/print_out.f90,
	  CPV/pseudo_base.f90, CPV/pseudopot.f90, CPV/pseudotab_base.f90,
	  CPV/read_pseudo.f90, CPV/restart.f90, CPV/restart_sub.f90,
	  CPV/runcg.f90, CPV/runcg_ion.f90, CPV/runcp.f90, CPV/rundiis.f90,
	  CPV/runsd.f90, CPV/smcp.f90, CPV/stress.f90, CPV/turbo.f90,
	  CPV/wave.f90, CPV/wave_types.f90, CPV/waveinit.f90, Doc/INPUT_CP,
	  Doc/INPUT_FPMD, Modules/control_flags.f90,
	  Modules/electrons_base.f90, Modules/energies.f90,
	  Modules/griddim.f90, Modules/input_parameters.f90,
	  Modules/ions_base.f90, Modules/printout_base.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90,
	  examples/example23/run_example:

	- FPMD: pseudopotential variable wsg, wnl, fnl substituted with
	  dion, beta, bec everyware.
	- subroutines formfn, compute_beta, nlsm1, nlsm2, ecc ... now are common
	  between FPMD and CPV, a lot of clean ups!
	- Changes in stdout: relevant physical quantities ( positions velocities an cell )
	  are now printed with the seme format of the corresponding input card,
	  like in PW, as was suggested by SdG.
	- exemple23 updated to reflect the new input namelist "wannier"
	- Subroutine init_run now is used in FPMD too.
	- WARNING in the stress computed with CP, for a pseudo with core-corrections,
	  a contribution is missing! Not yet fixed, I need to talk with PG for the
	  box staff.
	- WARNING the examples reference are not updated, I'm on the IBM sp, and
	  I prefer to update them from a linux machine.

2005-08-22 15:50  sbraccia

	* Modules/: path_base.f90, path_opt_routines.f90:

	NEB cleanup. Fixed a bug in the identification of frozen images
	(relevant only for use_freezing=.TRUE.). C.S.

2005-08-19 11:00  ballabio

	* examples/time_example:

	[no log message]

2005-08-18 11:37  degironc

	* PW/divide_et_impera.f90:

	EXX & PARA: undefined variables define

2005-08-17 15:59  degironc

	* PW/wfcinit.f90:

	Bug Fix in LDA+U:
	        orthoatmwfc (the routine that set LDA+U projectors)
	        should always be called in wfcinit even if startingwfc=='file'
	sdg

2005-08-17 14:59  ballabio

	* CPV/ions_nose.f90, Modules/cell_base.f90,
	  Modules/electrons_base.f90:

	moved & in continued line to 6th position, ifort9 wants it [Gerardo]

2005-08-17 14:37  ballabio

	* PP/dipole.f90:

	add & for continuation, g95 wanted it [Gerardo]

2005-08-17 14:03  ballabio

	* PWCOND/Makefile, D3/Makefile:

	compilation fix [Gerardo]

2005-08-17 13:58  ballabio

	* PH/Makefile, Gamma/Makefile:

	compilation fix [Gerardo]

2005-08-17 13:53  ballabio

	* PH/: phcom.f90, solve_linter.f90:

	renamed module efield -> efield_mod to solve a conflict [Gerardo]

2005-08-17 10:43  degironc

	* PW/: c_bands.f90, divide_et_impera.f90, electrons.f90, exx.f90,
	  h_psi.f90, setup.f90, sum_band.f90:

	EXX: Gamma-specific part implemented,
	     kind of parallel implementation (untested)

	SdG

2005-08-16 14:57  umari

	* PP/Makefile:

	added support for electric field in PW

2005-08-16 14:56  umari

	* Modules/: input_parameters.f90, io_files.f90, ions_base.f90,
	  read_namelists.f90:

	added support for electric field

2005-08-16 14:04  umari

	* PW/: Makefile, c_bands.f90, c_phase_field.f90, ccgdiagg.f90,
	  cegterg.f90, cinitcgg.f90, electrons.f90, h_epsi_her.f90,
	  input.f90, openfil.f90, pwcom.f90, stop_run.f90:

	Added electric field (berry phase style)
	support in pw.

	in call ro routines ccgdiagg cegterg cinitcgg
	added ik (integer) k-point considerd

	h_epsi_her calculates V_el|Psi>
	c_phase_field.f90 calculates berry phase
	during a scf calculation

	P.U.

2005-08-12 16:37  degironc

	* atomic_doc/all-electron/: c_oep.in, ne_oep.in:

	Optimized Effective Potential implemented in the atomic code
	currently :
	 - ONLY for all-electron calculations
	 - ONLY for non-relativistic case
	 - determination of the exchange potential in the tail region tends
	   to be ill defined ... rmax not too large are tipically needed

	 sdg

2005-08-12 16:33  degironc

	* Modules/functionals.f90, atomic/Makefile,
	  atomic/add_exchange.f90, atomic/dfx_new.f90,
	  atomic/drho0ofvx.f90, atomic/drhoofv.f90, atomic/dvex.f90,
	  atomic/elsd.f90, atomic/green.f90, atomic/inward.f90,
	  atomic/ld1_setup.f90, atomic/ld1inc.f90,
	  atomic/new_potential.f90, atomic/outward.f90, atomic/set_sl3.f90,
	  atomic/write_results.f90, atomic_doc/all-electron/test.job,
	  atomic_doc/all-electron/reference/c_oep.out,
	  atomic_doc/all-electron/reference/ne_oep.out:

	Optimized Effective Potential implemented in the atomic code
	currently :
	 - ONLY for all-electron calculations
	 - ONLY for non-relativistic case
	 - determination of the exchange potential in the tail region tends
	   to be ill defined ... rmax not too large are tipically needed

	 sdg

2005-08-09 18:58  degironc

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/dndtau.f90, PWCOND/Makefile:

	unused PW/dndtau.f90 removed, makefile updated accordingly

2005-08-09 09:34  degironc

	* CPV/read_pseudo.f90, D3/Makefile, Gamma/Makefile,
	  Modules/Makefile, Modules/functionals.f90, PH/Makefile,
	  PP/Makefile, PW/Makefile, PW/bachel.f90, PW/read_ncpp.f90,
	  PW/readvan.f90, PW/upf_to_internal.f90, PWCOND/Makefile,
	  atomic/Makefile, flib/Makefile, flib/bachel.f90, flib/simpsn.f90,
	  upftools/Makefile, upftools/fhi2upf.f90, upftools/nclib.f90,
	  upftools/ncpp2upf.f90, upftools/virtual.f90:

	- makefile update after yesterday changes
	- variable "ishybrid" added to Modules/funct.f90 to manage hybrid functionals
	- duplicated subroutines in upftools/nclib.f90 removed

2005-08-08 17:55  degironc

	* CPV/cplib.f90, CPV/modules.f90, CPV/read_pseudo.f90,
	  Modules/functionals.f90, Modules/metagga.f90, PW/read_ncpp.f90,
	  PW/readvan.f90, PW/upf_to_internal.f90:

	special module Modules/metagga.f90 removed.
	The "ismeta" variable has been included in Modules/functionals
	and calls to which_dft has been simplified.

2005-08-08 17:41  degironc

	* CPV/: cplib_meta.f90, metaxc.f90:

	missing license statement added

2005-08-08 16:56  degironc

	* PW/: electrons.f90, exx.f90, gradcorr.f90, print_clock_pw.f90:

	more changes to the EXX part

2005-08-08 16:13  dalcorso

	* PWCOND/transmit.f90:

	Angular momentum projection of eigenchannels generalized to the noncolinear
	case.

2005-08-05 10:25  giannozz

	* PP/dipole.f90:

	More cleanup of the dipole/MAakovPayne stuff

2005-08-03 19:00  giannozz

	* Makefile, TODO, make.sys.in, CPV/Makefile, D3/Makefile,
	  Gamma/Makefile, PH/Makefile, PWCOND/Makefile, atomic/Makefile,
	  iotk/Makefile, pwtools/Makefile:

	Updated Makefile with better dependencies (AK)

2005-08-03 18:58  giannozz

	* PW/: Makefile, input.f90:

	Updated Makefile with better dependencies (AK)
	Filename length brought to 256 (as in the rest of the code)

2005-08-03 18:57  giannozz

	* PP/: Makefile, dipole.f90:

	Updated Makefile with better dependencies (AK)
	Dipole/Makov-Payne calculation: first major cleanup

2005-08-03 18:55  giannozz

	* upftools/: Makefile, ncpp2upf.f90:

	Possible out-of-bound error in ncpp2upf (found by Axel Kohlmeyer)
	Updated Makefile with better dependencies (also by AK)

2005-08-03 15:37  giannozz

	* Doc/users-guide.tex:

	Updates to the manual

2005-08-02 18:13  giannozz

	* GUI/PWgui/doc/pwdocs/: Makefile, htmlise.sh:

	manual => users-guide

2005-08-02 17:17  giannozz

	* examples/: example05/run_example, example16/run_example:

	Examples updated

2005-08-02 17:17  giannozz

	* Doc/: INPUT_CHDENS, INPUT_PP:

	Documentation updated (not yet the GUI)

2005-08-02 17:16  giannozz

	* PP/: chdens.f90, postproc.f90, punch_plot.f90:

	Calculation of polarisation moved from chdens into postproc
	Warning message added. Input for chdens simplified

2005-08-02 10:44  giannozz

	* examples/: example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out:

	Examples updated to reflect the new output

2005-08-01 17:39  cavazzon

	* CPV/print_out.f90:

	- printout of execution seconds every step removed

2005-08-01 17:22  giannozz

	* examples/example27/reference/new1.out:

	Example updated for new output format

2005-08-01 16:30  giannozz

	* examples/example20/reference/nh3.out:

	Examples updated to reflect new output
	CVS ----------------------------------------------------------------------

2005-08-01 16:25  giannozz

	* examples/: example18/reference/new1.out,
	  example18/reference/new2.out, example18/reference/new3.out,
	  example18/reference/new4.out, example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out:

	Examples updated to reflect new output

2005-08-01 14:59  giannozz

	* examples/example08/reference/ni.pdos.out:

	Example updated to reflect new output

2005-08-01 14:53  giannozz

	* examples/example07/reference/al.elph.out:

	Example updated to reflect new output

2005-08-01 14:49  giannozz

	* examples/example06/reference/q2r.out:

	Example updated to refelect new output

2005-08-01 14:27  giannozz

	* pwtools/q2r.f90:

	uffa...

2005-08-01 12:34  giannozz

	* pwtools/q2r.f90:

	Ooops..

2005-08-01 11:33  giannozz

	* examples/pwdiff.sh:

	Return error -1, not 1, if a file is absent (for automatic checking)

2005-08-01 11:31  giannozz

	* PP/projwfc.f90:

	Reduce number of (in-)significant figures

2005-08-01 11:23  giannozz

	* PH/: elphon.f90, q_points.f90:

	q_points: unit iudyn was undefined on entry
	el-ph: reduced number of (in)significant figures printed

2005-08-01 11:18  giannozz

	* pwtools/q2r.f90:

	Message on FFT check is less confuding and less difficult to parse

2005-08-01 11:06  giannozz

	* examples/prediff.awk:

	More timing printout info filtered out when checking output. PLEASE STOP
	ADDING EVERY DAY A NEW TIMING PRINTOUT WITH A DIFFERENT FORMAT!!!!

2005-08-01 08:56  dalcorso

	* atomic/lderiv.f90:

	Bug fix: the logaritmic derivative in the fully relativistic case is
	working again. Major and minor components were exchanged but this
	routine was not updated.

2005-07-29 20:56  kkudin

	* CPV/ions_nose.f90:

	Rescaled the target kinetic energy by ndega/(3*nat) for massive Nose chains,
	added a way to turn off the common thermostat on top of the massive Nose
	Kostya

2005-07-29 20:55  kkudin

	* Doc/INPUT_CP:

	Rescaled the target kinetic energy by ndega/(3*nat) for massive Nose chains,
	added a way to turn off the common thermostat on top of the massive Nose

2005-07-29 18:33  giannozz

	* Modules/: input_parameters.f90, read_namelists.f90:

	Default value for max_second increased to 1d7, i.e. 115 days

2005-07-29 18:31  giannozz

	* Doc/: INPUT_PH, INPUT_PW:

	Documentation update

2005-07-29 18:25  giannozz

	* examples/example15/: reference/alas.dynG,
	  reference/alas.nscf.out, reference/alas.ph.out,
	  reference/alas.ram, reference/alas.ram.out, reference/alas.sus,
	  run_example:

	Example for Raman updated (uses second-order response instead of 2n+1)

2005-07-29 05:18  kkudin

	* CPV/cpr.f90, CPV/ions_nose.f90, CPV/main.f90, Doc/INPUT_CP:

	For more than 1 Nose (chain) thermostat per system added a common thermostat
	on top of all the other ones
	 Kostya

2005-07-28 19:26  giannozz

	* examples/: prediff.awk, save_results,
	  example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.phG.out, example02/reference/c.scf.out,
	  example02/reference/ni.nscf.out, example02/reference/ni.phX.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.chdens.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.scf.out, example05/reference/sibands.ps,
	  example06/reference/alas.freq, example06/reference/alas.ph.out,
	  example06/reference/alas.phdos, example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes, example06/reference/q2r.out,
	  example07/reference/al.elph.out, example07/reference/al.nscf.out,
	  example07/reference/al.nscf2.out, example07/reference/al.ph.out,
	  example07/reference/al.scf.out, example08/reference/ni.dos.out,
	  example08/reference/ni.pdos.out,
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#1(s),
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#2(d),
	  example08/reference/ni.scf.out, example09/reference/sih4.dyn.out,
	  example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out, example14/reference/si.anh_G,
	  example14/reference/si.anh_X, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.out, example14/reference/si.nscf.out,
	  example14/reference/si.phG.out, example14/reference/si.phX.out,
	  example14/reference/si.scf.out,
	  example15/reference/alas.nscf.out, example15/reference/alas.ram,
	  example15/reference/alas.ram.out,
	  example15/reference/alas.scf.out, example15/reference/alas.sus,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H.axsf, example17/reference/H2+H.dat,
	  example17/reference/H2+H.int, example17/reference/H2+H.out,
	  example17/reference/H2+H.path, example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.axsf,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.int,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/asymmetric_H2+H.xyz,
	  example17/reference/symmetric_H2+H.axsf,
	  example17/reference/symmetric_H2+H.dat,
	  example17/reference/symmetric_H2+H.int,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.xyz,
	  example18/reference/new1.out, example18/reference/new2.out,
	  example18/reference/new3.out, example18/reference/new4.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example22/reference/pt.nscf.out, example22/reference/pt.scf.out,
	  example22/reference/pt.tet.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.out, example25/reference/pmw.out:

	Minor changes to scripts used to check and save examples
	All examples updated again (sorry), this time with ifort 8
	Only pwcond refuses to work with this particular compiler

2005-07-28 18:30  cavazzon

	* CPV/compute_scf.f90, CPV/cp_fpmd.f90, CPV/cpr.f90,
	  CPV/fromscra.f90, CPV/init.f90, CPV/init_run.f90, CPV/input.f90,
	  CPV/restart_sub.f90, CPV/smcp.f90, CPV/waveinit.f90,
	  Modules/read_namelists.f90:

	 - CP/FPMD clean-ups
	 - CP: NEB is working again! (at least on the case of the example17)

2005-07-28 17:48  giannozz

	* examples/pwdiff.sh:

	diff => diff -wib (less garbage on output)

2005-07-28 14:59  giannozz

	* pwtools/: dynmat.f90, rigid.f90:

	Visualization of normal modes (sort of) for xcrysden added

2005-07-28 12:43  cavazzon

	* CPV/cp_restart.f90:

	- CP/FPMD more meaningful error message when the restart file is not found,
	  or is not writable

2005-07-28 11:03  giannozz

	* PP/stm.f90:

	write cpu time in a form that can be easily parsed out

2005-07-27 18:09  cavazzon

	* CPV/compute_scf.f90, CPV/cp_restart.f90, CPV/cprstart.f90,
	  CPV/input.f90, CPV/ions.f90, CPV/main.f90, CPV/path_routines.f90,
	  CPV/restart.f90, CPV/restart_sub.f90, Modules/electrons_base.f90,
	  Modules/input_parameters.f90, Modules/ions_base.f90,
	  Modules/printout_base.f90, Modules/read_namelists.f90:

	- FPMD/CP variable "nbnd" and "nelec" are computed automatically if
	  not specified in the input, like in PW
	- FPMD/CP directory for restart file now could be specified with
	  the input parameter "scradir" in the control namelist
	- FPMD: NEB is working again!

2005-07-27 11:27  giannozz

	* examples/prediff.awk:

	Skip more irrelevant lines (appearing in the output of cp and of neb)
	when comparing examples

2005-07-27 10:37  giannozz

	* examples/example14/reference/: si.d3G.out, si.d3X.out:

	examples updated

2005-07-27 10:30  giannozz

	* D3/d3toten.f90:

	write cpu times in such a way that they do no confuse check_example

2005-07-26 18:59  giannozz

	* examples/example13/reference/cu.diis.out:

	[no log message]

2005-07-26 18:58  giannozz

	* examples/: example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.phG.out, example02/reference/c.scf.out,
	  example02/reference/ni.nscf.out, example02/reference/ni.phX.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.chdens.out,
	  example05/reference/si.plotband.out,
	  example05/reference/si.plotrho.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.scf.out, example05/reference/sibands.ps,
	  example06/reference/alas.freq, example06/reference/alas.ph.out,
	  example06/reference/alas.phdos, example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes, example06/reference/q2r.out,
	  example07/reference/al.elph.out, example07/reference/al.nscf.out,
	  example07/reference/al.nscf2.out, example07/reference/al.ph.out,
	  example07/reference/al.scf.out, example08/reference/ni.dos.out,
	  example08/reference/ni.pdos.out,
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#1(s),
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#2(d),
	  example08/reference/ni.scf.out, example09/reference/sih4.dyn.out,
	  example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.co, example12/reference/bands.al.im,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.ni_down.im,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example12/reference/trans.alwireh,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out, example14/reference/si.anh_G,
	  example14/reference/si.anh_X, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.out, example14/reference/si.nscf.out,
	  example14/reference/si.phG.out, example14/reference/si.phX.out,
	  example14/reference/si.scf.out,
	  example15/reference/alas.nscf.out, example15/reference/alas.ram,
	  example15/reference/alas.ram.out,
	  example15/reference/alas.scf.out, example15/reference/alas.sus,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H.axsf, example17/reference/H2+H.dat,
	  example17/reference/H2+H.int, example17/reference/H2+H.out,
	  example17/reference/H2+H.path, example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.axsf,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.int,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/asymmetric_H2+H.xyz,
	  example17/reference/symmetric_H2+H.axsf,
	  example17/reference/symmetric_H2+H.dat,
	  example17/reference/symmetric_H2+H.int,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.xyz,
	  example18/reference/new1.out, example18/reference/new2.out,
	  example18/reference/new3.out, example18/reference/new4.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example22/reference/pt.cond.out, example22/reference/pt.nscf.out,
	  example22/reference/pt.scf.out, example22/reference/pt.tet.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example24/reference/quartz.efg.out,
	  example24/reference/quartz.scf.out,
	  example25/reference/feo_LDA.in, example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.in,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.in,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.in,
	  example25/reference/feo_wannier.out, example25/reference/pmw.in,
	  example25/reference/pmw.out:

	Examples updated - NOT ALL OF THEM HAVE BEEN VERIFIED
	Needed to try the daily test

2005-07-26 18:53  giannozz

	* examples/README:

	DOc update

2005-07-25 18:04  giannozz

	* Doc/INPUT_CHDENS:

	Documentation (but not yet the GUI) updated

2005-07-25 18:03  giannozz

	* PP/: Makefile, chdens.f90, dipole.f90:

	Cleanup: dipole calculation extracted from chdens and put into a
	separate file. Note that :
	- both executables are still untested
	- no example is available for dipole calculation
	- more cleanup is coming, at the end of which the GUI will have to be updated

2005-07-25 15:43  cavazzon

	* pwtools/: q2r.f90, rigid.f90:

	- intrinsic functions cmplx and sum were declared as complex(kind=dp)
	  and PGI complains (and doesn't compile) about that

2005-07-25 15:08  cavazzon

	* PH/q_points.f90:

	- variable iudyn was associated (with use) and declared in the
	  same subroutine

2005-07-21 15:24  ballabio

	* CPV/: Makefile, get_cp.f90, get_fpmd.f90, get_program.f90:

	eliminated include file [Gerardo]

2005-07-20 16:57  giannozz

	* Doc/INPUT_PH, Doc/users-guide.tex, PH/bcast_ph_input.f90,
	  PH/openfilq.f90, PH/phq_readin.f90, PH/phq_recover.f90,
	  PH/phq_summary.f90, PH/q_points.f90, PH/raman.f90,
	  pwtools/Makefile, pwtools/matdyn.f90, pwtools/q2r.f90,
	  pwtools/rigid.f90:

	Updated documentation for simplified interatomic force constants calculation
	A file containing information on the q-point grid is written by ph.x
	and read by q2r.x, thus making the process less clumsy
	The phonon code does not restart automatically any longer unless instructed
	to do so by setting input variable "recover"
	Misc cleanup

2005-07-20 16:23  giannozz

	* examples/example06/: README, run_example, reference/alas.freq,
	  reference/alas.nscf.out, reference/alas.ph.out,
	  reference/alas.phG.out, reference/alas.phdos,
	  reference/alas.scf.out, reference/matdyn.modes,
	  reference/q2r.out:

	Example for phonon dispersion calculation updated

2005-07-20 16:16  cavazzon

	* CPV/: Makefile, cprstart.f90, get_program.f90, main.f90,
	  start.f90, stop_run.f90:

	- now cp.x and fpmd.x are compiled using the same PROGRAM file
	  (cprstart.f90). The new subroutine get_program sets the
	  strings program_name ( CP90 for cp.x and FPMD for fpmd.x ),
	  to distinguish the call tree
	- change required by NEB

2005-07-19 17:09  sbraccia

	* upftools/: nclib.f90, write_upf.f90:

	Pseudopotential converter updated for metagga.
	C.S.

2005-07-19 14:43  giannozz

	* PP/elf.f90:

	Elf + Ultrasoft: avoid error with negative charge

2005-07-19 04:58  sbraccia

	* CPV/main_loops.f90:

	NEB in CP: stdout was not reconnected to unit 6.
	C.S.

2005-07-18 04:56  sbraccia

	* CPV/input.f90, Modules/bfgs_module.f90,
	  Modules/constraints_module.f90, PW/compute_fes_grads.f90,
	  PW/input.f90:

	Cleanup of unused variables.
	C.S.

2005-07-18 03:16  sbraccia

	* CPV/: compute_scf.f90, cprstart.f90, dealloc.f90, init.f90,
	  init_run.f90, input.f90, ions_nose.f90, main_loops.f90,
	  path_routines.f90, stop_run.f90:

	Greneral cleanup. NEB works again also with the CP code.
	C.S.

2005-07-16 17:15  sbraccia

	* Modules/path_base.f90, Modules/path_opt_routines.f90,
	  PW/compute_scf.f90:

	Fixed a severe bug in the NEB restart procedure. The broyden optimiser has been made
	simpler (the previous version did't work well). C.S.

2005-07-15 22:57  kkudin

	* Doc/INPUT_CP:

	added conversion between THz and cm^{-1} for those who are THz challenged
	Kostya

2005-07-15 15:20  sbraccia

	* PP/Makefile, PH/Makefile, PWCOND/Makefile, Gamma/Makefile,
	  atomic/Makefile, D3/Makefile:

	Fixed dependencies from metagga.
	C.S.

2005-07-15 08:52  kkudin

	* CPV/smlam.f90:

	Slightly change how the string is reparameterized. example26 still needs
	good verification ...
	Kostya

2005-07-15 04:12  kkudin

	* Doc/INPUT_CP:

	added description of electron_dynamics='cg'
	Kostya

2005-07-15 03:52  kkudin

	* CPV/: cpr.f90, input.f90:

	Set electronic kinetic energy for CG to 0
	Convert electron_dynamics='cg' to tcg=.true. in CP code
	In principle, input variable 'tcg' should be removed at some point
	Kostya

2005-07-15 03:09  kkudin

	* CPV/cg_sub.f90:

	Fixed a bug that prevented CG from working with ionic dynamics
	Kostya

2005-07-14 23:58  sbraccia

	* examples/example27/README, examples/example27/run_example,
	  pseudo/C.meta.tm.UPF, pseudo/Hmeta.tm.UPF,
	  examples/example27/reference/new1.out:

	Example for meta-gga (contributed by Xiaofei Wang).
	C.S.

2005-07-14 22:01  sbraccia

	* flib/more_functionals.f90, CPV/cp_fpmd.f90, CPV/read_pseudo.f90,
	  Modules/functionals.f90:

	The flag that identifies meta-gga XC is now TPSS (to avoid conflicts
	with other possible implementations of meta-gga).
	C.S.

2005-07-14 20:12  sbraccia

	* Modules/path_base.f90:

	Fixed a bug in NEB that appeared after removing PBCs.
	C.S.

2005-07-13 21:35  sbraccia

	* Modules/functionals.f90, PW/Makefile, PW/read_ncpp.f90,
	  PW/readvan.f90, PW/upf_to_internal.f90:

	Added a check that prevents pwscf to run with a metagga pseudopotential.
	C.S.

2005-07-13 21:03  sbraccia

	* CPV/read_pseudo.f90, Modules/functionals.f90,
	  Modules/metagga.f90:

	Fixed the a bug in the metagga.
	C.S.

2005-07-13 20:22  sbraccia

	* CPV/Makefile, CPV/cp_fpmd.f90, CPV/cplib.f90, CPV/cplib_meta.f90,
	  CPV/dealloc.f90, CPV/exch_corr.f90, CPV/init_run.f90,
	  CPV/mainvar.f90, CPV/metaxc.f90, CPV/modules.f90,
	  CPV/read_pseudo.f90, Modules/Makefile, Modules/functionals.f90,
	  Modules/metagga.f90, flib/more_functionals.f90:

	META-GGA implemented (by Xiaofei Wang) in the CP code for norm-conserving pseudopotentials only.
	C.S.

2005-07-13 04:29  kkudin

	* Doc/INPUT_CP:

	Updated the description of Nose-Hoover chain thermostats, including the
	"massive" chains
	Kostya

2005-07-13 00:21  sbraccia

	* CPV/smcp.f90:

	Cleanup of modules.
	C.S.

2005-07-12 22:08  sbraccia

	* Modules/cell_base.f90, Modules/control_flags.f90,
	  Modules/electrons_base.f90, Modules/energies.f90,
	  Modules/ions_base.f90, CPV/Makefile, CPV/berryion.f90,
	  CPV/bforceion.f90, CPV/cpr.f90, CPV/init_run.f90,
	  CPV/main_loops.f90:

	Added a routine that initialise the cp code (previously done in cpr). This routine is called by
	cpr_loop. This has required some variables previously local to cpr to be moved into modules.
	C.S.

2005-07-12 21:02  silviu

	* Doc/INPUT_CP:

	Syntax error.
	S.Z.

2005-07-11 15:16  sbraccia

	* PW/move_ions.f90:

	Fixed an error in the printout.
	C.S.

2005-07-11 13:10  sbraccia

	* Modules/Makefile, Modules/path_io_routines.f90,
	  Modules/path_reparametrisation.f90, Modules/supercell.f90,
	  PW/Makefile, pwtools/Makefile, pwtools/path_int.f90,
	  Gamma/Makefile, PH/Makefile:

	Removed unnecessary supercell file. NEB does not use pbc.
	C.S.

2005-07-11 01:48  sbraccia

	* PW/Makefile, PW/pwscf.f90, PW/stop_pw.f90, PW/stop_run.f90,
	  CPV/Makefile, CPV/stop_pw.f90, Modules/path_base.f90:

	stop_pw renamed stop_run to be consistent with the similar rutine for cp.
	C.S.

2005-07-10 23:42  sbraccia

	* CPV/: Makefile, cpr.f90, cprstart.f90, stop_run.f90, wannier.f90:

	Added to cp a subroutine to stop the code (similar to stop_pw).
	C.S.

2005-07-10 21:58  cavazzon

	* CPV/cp_restart.f90, CPV/restart.f90, Modules/xml_io_base.f90:

	- some changes in restart file to add tags of NEWPUNCH

2005-07-10 21:27  sbraccia

	* CPV/: cpr.f90, cprstart.f90, smcp.f90:

	Cleanup. Removed "#ifdef __SMD" that was set as xlf workaround, with the result that smd stuff was never
	compiled and was no longer working.
	C.S.

2005-07-08 18:29  dalcorso

	* Modules/read_cards.f90:

	occupations='from_input' in the noncollinear case.

2005-07-08 17:18  dalcorso

	* examples/example11/reference/O.out:

	O.out was almost empty. Restored the reference output.

2005-07-08 15:54  giannozz

	* Doc/: INPUT_PW, users-guide.tex:

	Documentation update

2005-07-08 15:53  giannozz

	* atomic_doc/INPUT_LD1:

	Update

2005-07-08 15:52  giannozz

	* examples/example09/: run_example, reference/sih4.dyn.out:

	Minor update

2005-07-08 15:52  giannozz

	* Gamma/: phcg.f90, solve_ph.f90, writedyn.f90:

	Cleanup of the restart mess

2005-07-08 04:56  sbraccia

	* CPV/: cprstart.f90, input.f90, main_loops.f90, start.f90:

	Cleanup. C.S.

2005-07-07 21:54  sbraccia

	* CPV/cpr.f90, CPV/ions.f90, PW/dynamics.f90,
	  Modules/constraints_module.f90:

	Fixed another error in the implementation of SHAKE: masses in hartree are twice the masses in rydberges.
	C.S.

2005-07-07 01:11  sbraccia

	* CPV/: cpr.f90, wannier.f90:

	Cleanup of module dependencies.
	C.S.

2005-07-06 00:18  sbraccia

	* Modules/constraints_module.f90, PW/dynamics.f90:

	Fixed an error in the Verlet dynamics recently implemented for pwscf.
	C.S.

2005-07-05 23:02  kkudin

	* CPV/cp_restart.f90, CPV/cpr.f90, CPV/input.f90,
	  CPV/ions_nose.f90, CPV/ions_positions.f90, CPV/main.f90,
	  CPV/print_out.f90, CPV/smcp.f90, Modules/input_parameters.f90,
	  Modules/ions_base.f90, Modules/read_namelists.f90:

	 by Kostya
	This patch adds "massive" Nose-Hoover chains for ions (i.e. each ion
	can have a separate NH chain attached to it)
	Some fixes are still needed in different places:
	-the information on the number of NH chains [nhpdim] needs to be
	saved and read from the restart file (not done now)
	-the NH velocities also need to be all saved [nhpdim*nhpcl]
	-an input option needs to be added to zero out the NH velocities during
	a restart in order to permit "on the fly" thermostat changes
	-deallocation of the module variables gives glibc error with IFC 8.0 & 8.1 in
	cpr.f90

2005-07-05 22:06  sbraccia

	* Doc/INPUT_CP:

	Fixed an error in the definition of nbnd.
	C.S.

2005-07-04 12:57  degironc

	* Modules/input_parameters.f90, PW/electrons.f90, PW/exx.f90,
	  PW/input.f90:

	some bugs in EXX corrected
	SdG

2005-07-04 12:34  cavazzon

	* Makefile, CPV/cpr.f90, CPV/input.f90, CPV/mainvar.f90,
	  CPV/modules.f90, CPV/move_electrons.f90, CPV/path_routines.f90,
	  CPV/potentials.f90, CPV/pseudopot.f90, CPV/read_pseudo.f90,
	  CPV/smcp.f90, CPV/stress.f90, Gamma/Makefile,
	  Modules/cell_base.f90, PH/Makefile:

	- cell_base, added support for cell input units, ex: CELL_PARAMETERS (angstrom)
	- core charge, same module between CPV and FPMD
	- Makefile: added dependency between "mods" and "libiotk"
	- Makefile: fix for dependencies in PH and Gamma when __NEWPUNCH is defined

2005-07-04 01:56  sbraccia

	* CPV/cp_restart.f90, Modules/xml_io_base.f90, PW/pw_restart.f90:

	More merging of cp_restart and pw_restart.
	C.S.

2005-07-03 18:58  sbraccia

	* CPV/wannier_base.f90:

	Fixed a trivial error (not indicated by ifort!!!).
	C.S.

2005-07-02 04:52  sbraccia

	* Modules/Makefile, Modules/xml_io_base.f90, CPV/cp_restart.f90,
	  PW/Makefile, PW/pw_restart.f90:

	Added a common module that contains (some of) the subroutines used to write the various
	sections of the XML restart/punch file.
	C.S.

2005-07-01 22:39  sbraccia

	* CPV/input.f90, CPV/wannier.f90, CPV/wannier_base.f90, CPV/wf.f90,
	  Modules/input_parameters.f90, Modules/read_cards.f90,
	  Modules/read_namelists.f90:

	Added a card for plotting wannier functions (and related stuff).
	C.S.

2005-07-01 16:26  sbraccia

	* CPV/Makefile, CPV/cpr.f90, CPV/input.f90, CPV/wannier.f90,
	  CPV/wannier_base.f90, CPV/wf.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90:

	Added a namelist for cp-dynamics with wannier functions (and related stuff).
	C.S.

2005-07-01 10:02  dalcorso

	* examples/example13/run_example:

	Updated  ni.scf.in. starting_magnetization defined only once.
	(Thanks to W. Yu).

2005-06-30 20:57  sbraccia

	* PW/: openfil.f90, pw_restart.f90:

	Some new stuff about XML punch-file.
	C.S.

2005-06-30 14:53  sbraccia

	* CPV/: cpr.f90, cpr_mod.f90:

	Again some fix for making constrained dynamics compatible with fixed ions.
	C.S.

2005-06-30 12:10  sbraccia

	* PW/compute_fes_grads.f90:

	I forgot to commit this file after updating the constrained dynamics.
	C.S.

2005-06-29 23:26  sbraccia

	* Doc/: INPUT_CP, INPUT_FPMD, INPUT_PW:

	Minor fixes. C.S.

2005-06-29 23:22  sbraccia

	* CPV/cpr.f90, CPV/ions.f90, Modules/constraints_module.f90,
	  PW/dynamics.f90:

	Constrained dynamics made compatible with fixed ions (if_pos).
	C.S.

2005-06-28 17:50  sbraccia

	* PW/: Makefile, input.f90, punch.f90, pw_restart.f90,
	  read_conf_from_file.f90:

	First (tentative) version of the XML punch-file. Not yet ready to be used.
	The new file is written (together with the old one) and used if the code is compiled
	with -D__NEWPUNCH.
	C.S.

2005-06-28 17:05  sbraccia

	* Gamma/Makefile:

	dynamics.o removed from the list of objects.
	C.S.

2005-06-28 09:55  giannozz

	* pwtools/: dynmat.f90, pwi2xsf.sh:

	Minor changes in the output

2005-06-27 22:24  sbraccia

	* Modules/bfgs_module.f90:

	Minor modificaions. C.S.

2005-06-27 22:21  sbraccia

	* Modules/constraints_module.f90, CPV/cpr.f90, CPV/input.f90,
	  CPV/ions.f90, PW/dynamics.f90, PW/move_ions.f90:

	Fixed some bugs in the implementation of SHAKE. MD in PWscf is performed with standard Verlet
	algorithm to have a single implementation of SHAKE (velocity Verlet uses RATTLE).
	C.S.

2005-06-27 15:11  degironc

	* Modules/input_parameters.f90, PW/electrons.f90, PW/exx.f90,
	  PW/h_psi.f90, PW/input.f90, PW/print_clock_pw.f90,
	  PW/set_kup_and_kdw.f90, PW/setup.f90, PW/v_of_rho.f90:


	more EXX experimental stuff
	stefano

2005-06-22 15:56  giannozz

	* flib/inpfile.f90:

	oops...

2005-06-22 13:08  cavazzon

	* CPV/: cplib.f90, vofrho2.f90:

	- bug fix, variable rhoc used and passed as argument in vofrho

2005-06-22 12:16  giannozz

	* upftools/: any2upf.f90, cpmd2upf.f90, fhi2upf.f90, ncpp2upf.f90,
	  oldcp2upf.f90, rrkj2upf.f90, uspp2upf.f90, vdb2upf.f90:

	Filenames from command line read in a single routine (get_file

2005-06-22 12:08  giannozz

	* PP/plotband.f90, PP/plotrho.f90, flib/inpfile.f90,
	  pwtools/dist.f:

	g95 doesn't like any longer iargc to be defined external
	Filenames from command line read in a single routine (get_file)

2005-06-22 10:30  cavazzon

	* upftools/fpmd2upf.f90:

	- added a call to input_from_file.

2005-06-22 10:29  cavazzon

	* clib/: Makefile, cpflush.c:

	- cpflush substituted everywhere with flush_unit

2005-06-22 10:28  cavazzon

	* CPV/: chargedensity.f90, cp_restart.f90, cplib.f90, cpr.f90,
	  cptypes.f90, emptystates.f90, fpmdpp.f90, fromscra.f90,
	  guess.f90, init.f90, main.f90, modules.f90, nlcc.f90,
	  potentials.f90, pseudopot.f90, read_pseudo.f90, restart.f90,
	  restart_sub.f90, runcg.f90, runcg_ion.f90, rundiis.f90,
	  runsd.f90, smcp.f90, stress.f90, wave.f90, waveinit.f90:

	- restart tags now using those suggested by CS
	- flags for core cor. (nlcc, nlcc_any) used in FPMD too
	- fixed a bug in read_pseudo.f90 ( related to nlcc )
	- other merging anc clean-ups

2005-06-22 10:21  cavazzon

	* Modules/: griddim.f90, readpseudo.f90:

	- output format changed to avoid ***
	- more informative error message

2005-06-22 09:16  giannozz

	* upftools/vanderbilt.f90:

	Use the "rcut" field in USPP to store rinner instead of 10

2005-06-22 09:14  giannozz

	* atomic/: Makefile, ld1_readin.f90, ld1_writeout.f90,
	  write_cpmd.f90, write_pseudo.f90:

	Misc patches from Axel

2005-06-22 00:37  kkudin

	* CPV/cpr.f90, Modules/ions_base.f90, Modules/printout_base.f90:

	Added ind_bck array to be used with the CP code. The main purpose is to
	be able to print atoms in the input order with atomic labels (and not
	sorted). Subroutine print_pos_in needs to be uncommented in cpr.f90, for
	now it is not activated in order to double check possible compatibility
	issues with other codes. When activated, the file *.pos will have positions
	in angstroms readable by any XYZ reader.

2005-06-22 00:31  kkudin

	* Doc/INPUT_CP:

	Added a description of the Nose-Hoover chain variables, specifically,
	nhpcl & ndega

2005-06-20 14:33  giannozz

	* Makefile, TODO, cl2html.pl, cvs2cl.pl, Doc/users-guide.tex:

	"make log" produces a ChangeLog file: bug fixed, html format added
	(Axel Kohlmeyer)

2005-06-20 14:12  giannozz

	* examples/: example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.phG.out, example02/reference/c.scf.out,
	  example02/reference/ni.nscf.out, example02/reference/ni.phX.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.out, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.chdens.out,
	  example05/reference/si.plotband.out,
	  example05/reference/si.plotrho.out,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.rho.dat, example05/reference/si.rho.ps,
	  example05/reference/si.scf.out, example05/reference/sibands.dat,
	  example05/reference/sibands.ps, example05/reference/sicharge,
	  example06/reference/alas.freq, example06/reference/alas.nscf.out,
	  example06/reference/alas.ph.out,
	  example06/reference/alas.phG.out, example06/reference/alas.phdos,
	  example06/reference/alas.scf.out,
	  example06/reference/matdyn.modes, example06/reference/q2r.out,
	  example07/reference/al.elph.out, example07/reference/al.nscf.out,
	  example07/reference/al.nscf2.out, example07/reference/al.ph.out,
	  example07/reference/al.scf.out, example08/reference/ni.dos,
	  example08/reference/ni.dos.out, example08/reference/ni.pdos.out,
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#1(s),
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#2(d),
	  example08/reference/ni.pdos_tot, example08/reference/ni.scf.out,
	  example10/reference/BP.out, example10/reference/chg.out,
	  example11/reference/O.out, example11/reference/O_gamma.out,
	  example11/reference/al.out,
	  example12/reference/AlwireAl.cond.out,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.out, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/alwire1.scf.out,
	  example12/reference/bands.al.co, example12/reference/bands.al.im,
	  example12/reference/bands.alwire.co,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.alwire.re,
	  example12/reference/bands.ni_down.im,
	  example12/reference/bands.ni_down.re,
	  example12/reference/ni.cond.out, example12/reference/ni.scf.out,
	  example12/reference/trans.alwireh,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.out,
	  example13/reference/fe.band.out, example13/reference/fe.pen.out,
	  example13/reference/fe.scf.out, example13/reference/fe.total.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out, example14/reference/si.anh_G,
	  example14/reference/si.anh_X, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.out, example14/reference/si.nscf.out,
	  example14/reference/si.phG.out, example14/reference/si.phX.out,
	  example14/reference/si.scf.out,
	  example15/reference/alas.nscf.out, example15/reference/alas.ram,
	  example15/reference/alas.ram.out,
	  example15/reference/alas.scf.out, example15/reference/alas.sus,
	  example16/reference/AlAs110+1.0eV.ps,
	  example16/reference/AlAs110-1.0eV.ps,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H.axsf, example17/reference/H2+H.dat,
	  example17/reference/H2+H.int, example17/reference/H2+H.out,
	  example17/reference/H2+H.path, example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.axsf,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.int,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.path,
	  example17/reference/asymmetric_H2+H.xyz,
	  example17/reference/symmetric_H2+H.axsf,
	  example17/reference/symmetric_H2+H.dat,
	  example17/reference/symmetric_H2+H.int,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.path,
	  example17/reference/symmetric_H2+H.xyz,
	  example18/reference/new1.out, example18/reference/new2.out,
	  example18/reference/new3.out, example18/reference/new4.out,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example22/reference/pt.cond.out, example22/reference/pt.nscf.out,
	  example22/reference/pt.scf.out, example22/reference/pt.tet.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out,
	  example24/reference/quartz.efg.out,
	  example24/reference/quartz.scf.out,
	  example25/reference/feo_LDA.in, example25/reference/feo_LDA.out,
	  example25/reference/feo_LDA_again.out,
	  example25/reference/feo_standard.in,
	  example25/reference/feo_standard.out,
	  example25/reference/feo_user_ns.in,
	  example25/reference/feo_user_ns.out,
	  example25/reference/feo_wannier.in,
	  example25/reference/feo_wannier.out, example25/reference/pmw.in,
	  example25/reference/pmw.out:

	Examples updated

2005-06-17 15:27  degironc

	* D3/close_open.f90, D3/openfild3.f90, Gamma/cg_setup.f90,
	  PH/openfilq.f90, PH/phonon.f90, PH/solve_e.f90, PH/solve_e2.f90,
	  PH/solve_linter.f90, PP/openfil_pp.f90, PP/pw2casino.f90,
	  PW/bfgs.f90, PW/compute_fes_grads.f90, PW/compute_scf.f90,
	  PW/diropn.f90, PW/dynamics.f90, PW/electrons.f90,
	  PW/force_hub.f90, PW/io_pot.f90, PW/mix_pot.f90, PW/mix_rho.f90,
	  PW/move_ions.f90, PW/openfil.f90, PW/potinit.f90,
	  PW/read_conf_from_file.f90, PW/read_file.f90, PW/restart.f90,
	  PW/restart_from_file.f90, PW/restart_in_electrons.f90,
	  PW/restart_in_ions.f90, PW/save_in_cbands.f90,
	  PW/save_in_electrons.f90, PW/save_in_ions.f90, PW/seqopn.f90,
	  PW/stop_pw.f90, PW/stres_hub.f90, PW/update_pot.f90,
	  PW/vcsmd.f90:


	seqopn.f90 and diropn.f90 modified in such a way that the name of
	all files open by seqopn.f90 and diropn.f90 in the TMP_DIR have the
	general form "prefix"."extension" where extension is the only part of
	the filename passed as an argument. This should avoid conflicts between
	different jobs running at the same time and sharing the same TMP_DIR
	(provided they have different prefixes ...)

	All examples (from 1 to 26) give the same output as before on my pc.
	Please let me know if you notice unexpected behaviours.

	stefano

	PS: example26 apparently does nothing (even giving the command run_example 7)..
	As it uses cp.x which does not use seqopn/diropn routines this behaviour
	cannot be due to the present changes.

2005-06-16 04:55  sbraccia

	* PW/compute_fes_grads.f90:

	Again an error in the restart file for the computation of free-energy barriers.
	C.S.

2005-06-14 23:10  sbraccia

	* Doc/CREDITS:

	credits updated. C.S.

2005-06-14 17:09  giannozz

	* Gamma/cg_readin.f90:

	Added check: double grid not allowed

2005-06-14 17:07  sbraccia

	* Modules/path_io_routines.f90:

	Fixed an error in the way the restart file was read.
	C.S.

2005-06-13 18:35  sbraccia

	* Modules/coarsegrained_vars.f90, Modules/constraints_module.f90,
	  Modules/path_base.f90, Modules/path_io_routines.f90,
	  PW/clean_pw.f90, PW/compute_fes_grads.f90, PW/compute_scf.f90,
	  PW/dynamics.f90:

	Fixed some bugs in the code for the computation of free energy barriers.
	C.S.

2005-06-13 16:08  suriano

	* PW/exx.f90:

	EXX: now divergency works also with more than one k point.
	Antonio Suriano

2005-06-13 14:52  suriano

	* PW/exx.f90:

	EXX: bug in divergency. Now only first time the factor is computed.
	Antonio Suriano

2005-06-10 09:56  giannozz

	* examples/example09/: README, run_example, reference/sih4.dyn.out,
	  reference/sih4.nm.out, reference/sih4.scf.out:

	Example 09 updated

2005-06-09 20:11  giannozz

	* pwtools/: dynmat.f90, matdyn.f90, q2r.f90, rigid.f90:

	More dynamical allocation and more cleanup

2005-06-09 16:29  giannozz

	* pwtools/: dynmat.f90, matdyn.f90:

	Static allocation replaced by dynamical allocation, cleanup

2005-06-09 11:28  giannozz

	* examples/example06/run_example:

	Update to new input format for dynmat and matdyn

2005-06-09 11:28  giannozz

	* examples/example09/run_example:

	Update to new input format for dynmat

2005-06-09 11:27  giannozz

	* pwtools/dynmat.f90:

	re-enable ASR on Z*, indent

2005-06-09 09:36  giannozz

	* flib/inpfile.f90:

	More accurate error message

2005-06-09 09:34  giannozz

	* PH/phq_readin.f90, PW/input.f90, Gamma/cg_readin.f90,
	  PWCOND/do_cond.f90, pwtools/matdyn.f90, pwtools/q2r.f90:

	New routine input_from_file called everywhere

2005-06-09 09:34  giannozz

	* PP/: bands.f90, chdens.f90, dos.f90, elf.f90, postproc.f90,
	  projwfc.f90:

	New routine input_from_file called everywhere
	Untested changes to ELF for the case US + double grid
	(the kinetic energy density is still incorrect but less than before)

2005-06-08 23:46  cavazzon

	* CPV/wf.f90:

	PGI compiler ( 6.0 ) complains about the function declaration:

	COMPLEX(KIND=dbl) FUNCTION somefunction( )
	  USE kinds, only: dbl

	He want to see:

	FUNCTION somefunction()
	  USE kinds, only: dbl
	  COMPLEX(KIND=dbl) :: somefunction

	The second is for sure a correct construct, but
	honestly I don't remember if the first is wrong,
	it seems not, then most probably the error is a pgi bug!

2005-06-08 23:30  cavazzon

	* CPV/cp_fpmd.f90, CPV/cp_restart.f90, CPV/input.f90, CPV/nl.f90,
	  CPV/potentials.f90, CPV/pseudopot.f90, Modules/recvec.f90,
	  flib/Makefile, flib/inpfile.f90:

	- in CP/FPMD added the possibility to specify input with
	  command line parameter -input like in PW
	- restart file layout modified

2005-06-08 13:15  suriano

	* PW/exx.f90:

	Separate subroutine to calculate factor for divergency.
	Antonio Suriano

2005-06-08 12:12  giannozz

	* PW/init_us_1.f90:

	Do not allow nqlc to be set to less than 0 if there are only local
	pseudopotentials in the system (Andrea Ferretti)

2005-06-07 21:02  sbraccia

	* Doc/INPUT_PW:

	Doc updated. C.S.

2005-06-07 19:22  giannozz

	* pwtools/: dynmat.f90, matdyn.f90, q2r.f90, rigid.f90:

	Improved Acoustic Sum Rule By Nicolas&Nicola merged
	No warranty that it works: it just compiles

2005-06-07 18:07  sbraccia

	* CPV/: Makefile, compute_fes_grads.f90:

	Added a dummy compute_fes_grads routine to CPV. C.S.

2005-06-07 16:15  sbraccia

	* Modules/coarsegrained_vars.f90:

	Added missing module. Sorry ...
	C.S.

2005-06-07 16:09  giannozz

	* D3/d3_setup.f90, D3/drho_drc.f90, Modules/io_base.f90:

	Several bugs in third-order derivatives fixed (courtesy of Nicolas
	Mounet and MIchele Lazzeri)

2005-06-07 15:39  sbraccia

	* CPV/wf.f90:

	Fixed a couple of bugs in the code for wannier-cp-dynamics (Manu Sharma).
	Some cleanup of the code.
	C.S.

2005-06-07 13:21  dalcorso

	* PP/dos.f90, PP/dosg.f90, flib/dost.f90:

	dos.f90 updated. It should now work also in the non collinear case.

2005-06-07 11:45  suriano

	* PW/exx.f90:

	Exx.f90: now it compiles.

	Antonio Suriano

2005-06-07 00:38  sbraccia

	* PW/: cft3.f90, cft3s.f90:

	Cleanup: f_defs.h should be included before the definition or use of cpp macros
	(it should be the first line after the license).
	C.S.

2005-06-06 19:53  sbraccia

	* Modules/Makefile, Modules/ions_base.f90, Modules/path_base.f90,
	  Modules/path_io_routines.f90, PW/Makefile, PW/clean_pw.f90,
	  PW/compute_fes_grads.f90, PW/compute_scf.f90:

	Added new methods and variables for the calculation of potential-energy and free-energy barriers
	using neb or smd in a coarse-grained space (as in metadynamics). Still under development.
	C.S.

2005-06-06 16:32  suriano

	* PW/exx.f90:

	Exx module: added some code to treat qq=0 divergence.

2005-06-05 18:18  sbraccia

	* Doc/INPUT_CP:

	Doc updated. C.S.

2005-06-03 16:30  giannozz

	* PW/: gradcorr.f90, mix_rho.f90:

	The scf error computed in the noncolinear case was not entirely
	correct after the recent changes
	No need to specify the array bounds in gradcorr.f90

2005-06-02 22:06  giannozz

	* Makefile, D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PWCOND/Makefile:

	Makefiles updated

2005-06-01 21:12  giannozz

	* PW/: Makefile, allocate_fft.f90, clean_pw.f90, electrons.f90,
	  memory.f90, mix_rho.f90, mix_rho_nc.f90, pwcom.f90:

	More cleanup of the mixing

2005-06-01 17:06  giannozz

	* atomic_doc/INPUT_LD1:

	Documentation updated

2005-05-31 22:58  giannozz

	* PW/: clean_pw.f90, electrons.f90, mix_rho.f90, mix_rho_nc.f90,
	  pwcom.f90:

	The charge mixing accepts on input charges in reciprocal space
	(first step towards storing rho(G) instead of rho(r) as it is now
	 Still incomplete but everything should work with no side effects)
	Mixing for colinear and noncolinear version merged - the latter only
	for 'plain' mixing. Case ngm0 != ngm not yet ready.

2005-05-31 16:23  ballabio

	* configure, configure.ac, make.sys.in:

	splitted LIBS into BLAS_LIBS, LAPACK_LIBS, FFT_LIBS etc.
	everybody please try reconfiguring and check if I broke anything
	[Gerardo]

2005-05-31 15:15  giannozz

	* PW/: electrons.f90, input.f90:

	Only mixing_mode='plain' is implemented in noncolinear calculations

2005-05-28 18:05  sbraccia

	* CPV/cpr.f90:

	wannier-function CP: the check on convergence must be done starting from the second
	CP step.
	C.S.

2005-05-27 19:20  sbraccia

	* PW/c_bands.f90:

	Fixed an error in the definition of the diagonalization threshold for empty bands.
	C.S.

2005-05-27 15:49  cavazzon

	* CPV/pseudopot.f90, Modules/constants.f90, flib/sph_bes.f90,
	  upftools/fpmd2upf.f90:

	- fpmd2upf made more user friendly
	- sph_bes, check on small G changed to avoid
	  problems with log. atomic grid , that are dense near 0

2005-05-27 14:56  giannozz

	* PW/potinit.f90:

	oops, parallel case forgotten

2005-05-27 14:52  giannozz

	* PW/: atomic_rho.f90, electrons.f90, potinit.f90, punch.f90:

	- do not set to zero the negative part of the charge density
	  when starting from superpositions of atomic charges: it is useless
	- print HOMO/top of the VB and LUMO/bottom of the CB when available
	- always start from charge density and recalculate the potential,
	  also in a non-scf calculation
	- do not overwrite the charge density after a non-scf calculation

2005-05-27 00:42  sbraccia

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90, PW/input.f90:

	Added variables for dynamics in the coarse-grained phase-space (metadynamics)
	defined by the constraints that can be set with the appropriate card.
	C.S.

2005-05-25 19:36  giannozz

	* atomic/ld1_readin.f90:

	add check on US and NC matching radii

2005-05-25 17:52  sbraccia

	* PW/: electrons.f90, mix_rho.f90, mix_rho_nc.f90:

	mix_rho_nc was not compatible with the new electrons: fixed.
	Cleanup of mix_rho. C.S.

2005-05-25 17:09  sbraccia

	* PW/cinitcgg.f90:

	Fixed a bug in the initialization of cg diagonalization for the noncollinear case.
	C.S.

2005-05-25 16:48  umari

	* CPV/cg_sub.f90:

	Debugged version of runcg_uspp. P.U.

2005-05-25 16:46  umari

	* CPV/ensemble_dft.f90:

	Change in allocate_enseble_dft nat to natx. P.U.

2005-05-25 16:45  umari

	* CPV/cpr.f90:

	Now when tens==.true. it allocates also the C.G. arrays.
	In call allocate_ensemble_dft changed nat to natx for compatibility with vofrho. P.U.

2005-05-25 16:41  umari

	* CPV/cplib.f90:

	In subroutine dforce, fixed support for ensemble DFT

2005-05-25 16:40  ballabio

	* Doc/README:

	manual.tex now is called users-guide.tex [Gerardo]

2005-05-25 16:37  ballabio

	* README.install, Doc/users-guide.tex:

	added note about fftw.h [Gerardo]

2005-05-25 14:48  giannozz

	* include/defs.h.README:

	Doc updated

2005-05-25 14:45  giannozz

	* Modules/io_base.f90:

	File version number updated

2005-05-25 14:39  giannozz

	* Modules/read_cards.f90:

	Check on automatic k-point grid added

2005-05-25 05:02  sbraccia

	* include/f_defs.h:

	The Preprocessor flag -D__FLUSH has been removed. C.S.

2005-05-25 04:58  sbraccia

	* PH/solve_linter.f90, PW/compute_scf.f90, PW/electrons.f90,
	  PW/summary.f90, flib/error.f90, D3/d3_summary.f90,
	  D3/solve_linter_d3.f90, PH/dvpsi_e.f90, PH/phq_summary.f90,
	  PH/solve_e.f90, PH/solve_e2.f90:

	The new subroutine flush_unit() is used everywhere. C.S.

2005-05-25 04:56  sbraccia

	* flib/: Makefile, flush_unit.f90:

	Added a new wrapper to the flush routine. Hereafter to flush a unit use:
	CALL flush_unit( unitnumber ) without any "#ifdef". All the check are done within
	flush_unit.
	C.S.

2005-05-25 00:13  umari

	* CPV/cg.f90:

	parameters for conjugated gradient are correctly set

2005-05-24 19:18  giannozz

	* Doc/INPUT_PW:

	Documentation updates
	Potential mixing (mixing_mode='potential') removed in the preceding commit

2005-05-24 19:17  giannozz

	* PW/: bfgs.f90, electrons.f90, input.f90, potinit.f90,
	  print_clock_pw.f90, setup.f90, sum_band.f90, sumkt.f90,
	  summary.f90, tweights.f90, update_pot.f90:

	Call to subroutine tweights was not updated after recent changes.
	Fixed spin-up and spin-down occupancies should now work for tetrahedra
	Who knows what bfield(3) is ?

2005-05-24 16:11  dalcorso

	* PW/add_bfield.f90, PW/electrons.f90, PW/potinit.f90,
	  examples/example13/run_example,
	  examples/example13/reference/fe.total.out:

	Constrained_magnetization='total' now works also with charge mixing.
	Example updated.

2005-05-24 15:37  giannozz

	* PW/electrons.f90:

	Calculation of Vout-Vin for scf force correction is working again

2005-05-24 14:46  sbraccia

	* PW/ccgdiagg.f90:

	Debug printout removed. C.S.

2005-05-24 13:04  ballabio

	* callhtml.pl, calltree.pl:

	added new perl scripts to compute calling tree [Gerardo]

2005-05-24 11:51  dalcorso

	* examples/example13/: README, run_example, reference/fe.total.out:

	Added an example of a noncollinear calculation with constrained_magnetization='total'.

2005-05-24 10:29  dalcorso

	* PW/add_bfield.f90:

	Added a check to avoid division by zero.

2005-05-23 19:03  giannozz

	* PP/: elf.f90, punch_plot.f90:

	ELF + Gamma implemented

2005-05-23 17:42  dalcorso

	* PW/add_bfield.f90:

	Bug fix: The recently modified constraint on the atomic direction of
	the magnetization was wrong.

2005-05-23 14:40  giannozz

	* PW/: electrons.f90, mix_rho.f90, mix_rho_nc.f90, pwcom.f90:

	Removed duplicated call to v_of_rho with charge mixing
	Very minor differences with respect to previous version
	in energy terms during scf are possible

2005-05-23 10:03  degironc

	* PW/: electrons.f90, exx.f90, h_psi.f90:

	more EXX stuff

2005-05-22 21:05  giannozz

	* PW/: electrons.f90, mix_rho.f90:

	Some simplifications in the logic of "electron":
	- non-scf calculation done in a separate routine
	- check on insufficient diagonalization threshold less obscure

2005-05-20 16:23  sbraccia

	* Modules/path_base.f90:

	Fixed a bug in the use of mass-weighted coordinates.
	C.S.

2005-05-20 10:37  giannozz

	* PW/input.f90:

	Check on lda+U+noncolinear was not working

2005-05-20 09:56  giannozz

	* Doc/: INPUT_CP, INPUT_D3, INPUT_DOS, INPUT_FPMD, INPUT_PH,
	  INPUT_PROJWFC, INPUT_PW:

	Doc update

2005-05-19 23:17  giannozz

	* TODO, PH/solve_e.f90, PH/solve_e2.f90, PH/solve_linter.f90,
	  PW/electrons.f90, PW/mix_pot.f90, PW/mix_rho.f90,
	  PW/mix_rho_nc.f90:

	No reason to have different length and naming convention for files
	used (or not used) by mixing

2005-05-19 17:04  degironc

	* PW/exx.f90:

	 forgotten file for HF exchange

2005-05-19 14:25  degironc

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/c_bands.f90, PW/electrons.f90, PW/h_psi.f90,
	  PW/print_clock_pw.f90, PW/pwscf.f90, PW/v_of_rho.f90,
	  PWCOND/Makefile:

	Experimental version with some (incomplete and probably wrong) exact
	exchange stuff.
	These features can be obtained by compiling with -DEXX added to DFLAGS
	in make.sys
	***** DO NOT USE FOR ANY PRODUCTION RUN. *****

	Stefano and Antonio

2005-05-19 13:09  cavazzon

	* CPV/nl_base.f90, PP/pw_export.f90, upftools/fpmd2upf.f90:

	- fix for fpmd2upf.f90, it did not compile

2005-05-19 11:11  degironc

	* PW/input.f90:

	Joint use of noncolin (spin==4) and lda_plus_u is currently not supported.
	Added a check and an error message.

2005-05-18 23:01  cavazzon

	* CPV/bessel.f90, CPV/cg_sub.f90, CPV/cp_fpmd.f90, CPV/cplib.f90,
	  CPV/cpr.f90, CPV/cprsub.f90, CPV/cptypes.f90, CPV/dealloc.f90,
	  CPV/diis.f90, CPV/electrons.f90, CPV/emptystates.f90,
	  CPV/exch_corr.f90, CPV/forces.f90, CPV/init.f90, CPV/input.f90,
	  CPV/main.f90, CPV/modules.f90, CPV/nl.f90, CPV/optical.f90,
	  CPV/potentials.f90, CPV/problem_size.f90, CPV/pseudo_base.f90,
	  CPV/pseudopot.f90, CPV/pseudotab_base.f90, CPV/read_pseudo.f90,
	  CPV/rundiis.f90, CPV/smcp.f90, CPV/stress.f90, CPV/vofrho2.f90,
	  CPV/wf.f90, Modules/pseudo_types.f90:

	- pseudopotential base modules uspp_param and uspp now used
	  also in FPMD, for norm-conserving pseudo (like in CP)
	- Few clean-ups in pseudopotential parameters initialization

2005-05-18 22:44  silviu

	* Modules/io_files.f90:

	a stupid comma was missing.

2005-05-18 22:32  silviu

	* Modules/io_files.f90:

	Correcting the file names variables for frozen-phonon CP.

2005-05-18 22:26  silviu

	* Modules/io_files.f90:

	Reserving i/o unit numbers for the CP frozen-phonon vibrational code.

2005-05-18 19:47  giannozz

	* PH/: dynmatrix.f90, raman_mat.f90, write_ramtns.f90:

	Minor changes to printout of Raman coeffcients

2005-05-18 16:24  ballabio

	* CPV/atoms_type.f90, CPV/cg.f90, CPV/charge_types.f90,
	  CPV/efield.f90, CPV/ensemble_dft.f90, CPV/fftdrv.f90,
	  CPV/ksstates.f90, CPV/optical.f90, CPV/problem_size.f90,
	  CPV/runcg.f90, CPV/runcg_ion.f90, CPV/runcp.f90, CPV/rundiis.f90,
	  CPV/runsd.f90, CPV/spharmonic.f90, CPV/wannier.f90, CPV/wave.f90,
	  CPV/wave_types.f90, PP/pw_export.f90, PW/pwcom.f90,
	  upftools/fpmd2upf.f90:

	end module --> end module name [Gerardo]

2005-05-18 16:02  ballabio

	* Modules/fft_scalar.f90, Modules/fft_types.f90,
	  Modules/io_base.f90, Modules/ions_base.f90, Modules/mp.f90,
	  Modules/mp_global.f90, Modules/mp_wave.f90,
	  Modules/parallel_types.f90, Modules/printout_base.f90,
	  Modules/pseudo_types.f90, Modules/ptoolkit.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90,
	  Modules/recvec.f90, Modules/sic.f90, Modules/smallbox.f90,
	  Modules/stick_base.f90, Modules/wave_base.f90,
	  Modules/wavefunctions.f90, PP/pw_export.f90, PP/xctest.f90,
	  flib/avrec.f90, flib/eispack.f90, flib/matmul.f90,
	  flib/sort_gvec.f90, flib/transto.f90, upftools/fpmd2upf.f90:

	last end subroutine --> end subroutine name [Gerardo]

2005-05-18 11:38  ballabio

	* CPV/runcp.f90, CPV/rundiis.f90, CPV/runsd.f90, CPV/scalapack.f90,
	  CPV/smd_modules.f90, CPV/spharmonic.f90, CPV/spline.f90,
	  CPV/stress.f90, CPV/wannier.f90, CPV/wave.f90,
	  CPV/wave_types.f90, Modules/berry_phase.f90,
	  Modules/cell_base.f90, Modules/check_stop.f90,
	  Modules/descriptors.f90, Modules/electrons_base.f90,
	  Modules/energies.f90:

	more end subroutine --> end subroutine name [Gerardo]

2005-05-18 11:10  ballabio

	* CPV/: ions.f90, ions_nose.f90, ksstates.f90, macdep.f90,
	  main.f90, main_loops.f90, modules.f90, nl.f90, optical.f90,
	  ortho.f90, ortho_base.f90, potentials.f90, print_out.f90,
	  problem_size.f90, pseudo_base.f90, restart.f90, restart_sub.f90,
	  runcg.f90, runcg_ion.f90:

	more end subroutine --> end subroutine name [Gerardo]

2005-05-18 10:49  ballabio

	* CPV/: adjef.f90, atoms_type.f90, blacs.f90, brillouin.f90,
	  cg.f90, cg_sub.f90, charge_types.f90, chargedensity.f90,
	  cp_emass.f90, cp_fpmd.f90, cp_restart.f90, cplib.f90, cpr.f90,
	  cpr_mod.f90, dealloc.f90, diis.f90, efield.f90, electrons.f90,
	  emptystates.f90, ensemble_dft.f90, environment.f90, errore.f90,
	  exch_corr.f90, fnl.f90, forces.f90, fromscra.f90, grid.f90,
	  gsmesh.f90, guess.f90, init.f90, input.f90, restart_sub.f90,
	  smcp.f90:

	end subroutine --> end subroutine name [Gerardo]

2005-05-17 19:20  ballabio

	* CPV/cprstart.f90, PP/xctest.f90, flib/matmul.f90,
	  pwtools/dynmat.f90, upftools/fpmd2upf.f90:

	end --> end program [Gerardo]

2005-05-17 19:07  ballabio

	* Modules/cell_base.f90, Modules/descriptors.f90,
	  Modules/electrons_base.f90, Modules/fft_scalar.f90,
	  Modules/ptoolkit.f90, Modules/wave_base.f90, PW/sph_ind.f90,
	  PW/spinor.f90, flib/iceil.f90, flib/localdim.f90,
	  flib/localindex.f90, flib/ownerof.f90, flib/rranf.f90,
	  upftools/fpmd2upf.f90:

	more end --> end function [Gerardo]

2005-05-17 18:46  ballabio

	* CPV/: adjef.f90, brillouin.f90, cp_restart.f90, cplib.f90,
	  efermi.f90, ions.f90, miller.f90, ortho.f90, read_pseudo.f90,
	  restart.f90, runcg.f90, wf.f90:

	end --> end function [Gerardo]

2005-05-17 01:57  sbraccia

	* Modules/constraints_module.f90:

	oops...

2005-05-17 01:55  sbraccia

	* Doc/INPUT_CP, Doc/INPUT_FPMD, Doc/INPUT_PW,
	  Modules/constraints_module.f90:

	constraints_module: for constraints on planar angles the target (optional) is the angle (in degrees).
	C.S.

2005-05-16 21:19  sbraccia

	* CPV/: adjef.f90, atoms_type.f90, band_type.f90, berryion.f90,
	  bessel.f90, bforceion.f90, blacs.f90, bmesh.f90, brillouin.f90,
	  cg.f90, cg_sub.f90, cglib.f90, charge_types.f90,
	  chargedensity.f90, chargemix.f90, chi2.f90, cp_emass.f90,
	  cp_fpmd.f90, cp_restart.f90, cp_version.f90, cplib.f90, cpr.f90,
	  cpr_mod.f90, cprstart.f90, cprsub.f90, cptypes.f90, crayfft.f90,
	  dealloc.f90, dforceb.f90, diis.f90, dipol_matrix.f90, efermi.f90,
	  efield.f90, eigs0.f90, eigsp.f90, electrons.f90, emptystates.f90,
	  ensemble_dft.f90, enthropy.f90, environment.f90, errore.f90,
	  exch_corr.f90, fft.f90, fftdrv.f90, fields_type.f90, fnl.f90,
	  forceconv.f90, forces.f90, fpmdpp.f90, fromscra.f90, geninv.f90,
	  greenf.f90, grid.f90, gsmesh.f90, gtable.f90, guess.f90,
	  indices.f90, init.f90, input.f90, interfaces.f90,
	  interfaces_main.f90, ions.f90, ksstates.f90, macdep.f90,
	  main.f90, main_loops.f90, mainvar.f90, miller.f90, modules.f90,
	  move_electrons.f90, nl.f90, nl_base.f90, nlcc.f90, optical.f90,
	  ortho.f90, ortho_base.f90, para.f90, periodic.f90,
	  phasefactor.f90, polarization.f90, potentials.f90, print_out.f90,
	  problem_size.f90, pseudo_base.f90, pseudopot.f90,
	  pseudotab_base.f90, qmatrixd.f90, qqberry.f90, read_pseudo.f90,
	  redis.f90, restart.f90, rsmesh.f90, runcg.f90, runcg_ion.f90,
	  runcp.f90, rundiis.f90, runsd.f90, scalapack.f90, smcp.f90,
	  smd.f90, smd_modules.f90, smlam.f90, spharmonic.f90, spline.f90,
	  start.f90, stop_pw.f90, stress.f90, turbo.f90, util.f90,
	  vanderwaals.f90, vofrho2.f90, wannier.f90, wave.f90,
	  wave_types.f90, waveinit.f90, wf.f90:

	header containing the GPL license added where missing and made omogeneous.
	C.S.

2005-05-16 21:00  sbraccia

	* CPV/cpr.f90, CPV/ions_positions.f90, CPV/restart_sub.f90,
	  Modules/read_cards.f90:

	Fixed some bugs in the implementation of velocities from input.
	C.S.

2005-05-16 17:56  sbraccia

	* CPV/Makefile, CPV/ions_nose.f90, CPV/ions_positions.f90,
	  Modules/ions_base.f90:

	ions_base splitted in three different files: ions_base.f90 (still in Modules), ions_positions.f90 and ions_nose (in CPV).
	C.S.

2005-05-15 19:21  sbraccia

	* Doc/: INPUT_CP, INPUT_PW:

	Doc updated. C.S.

2005-05-15 19:09  sbraccia

	* CPV/cp_fpmd.f90, CPV/fromscra.f90, CPV/restart_sub.f90,
	  Modules/ions_base.f90, Modules/read_cards.f90:

	ion_velocities from input implemented for cp code. C.S.

2005-05-12 17:32  ballabio

	* atomic/intref.f90, atomic/read_newpseudo.f90, flib/gridsetup.f90,
	  flib/hangup.f90, flib/linpack.f90, flib/more_functionals.f90,
	  flib/ngnr_set.f90, flib/sort.f90, flib/startup.f90,
	  flib/syncronize.f90, pwtools/dynmat.f90:

	last end --> end subroutine [Gerardo]

2005-05-12 17:19  ballabio

	* CPV/enthropy.f90, CPV/exch_corr.f90, CPV/fft.f90, CPV/fftdrv.f90,
	  CPV/forceconv.f90, CPV/geninv.f90, CPV/indices.f90, CPV/nlcc.f90,
	  CPV/para.f90, CPV/phasefactor.f90, CPV/read_pseudo.f90,
	  CPV/vofrho2.f90, CPV/wf.f90, CPV/wrapper.f90,
	  Modules/read_cards.f90, PP/wfdd.f90, PW/bp_qvan3.f90,
	  PW/cft_3.f90, PW/compute_rho.f90, PW/get_locals.f90,
	  PW/report_mag.f90, PW/symrho_mag.f90, PWCOND/init_orbitals.f90,
	  atomic/compute_phius.f90, atomic/dir_outward.f90,
	  atomic/dirsol.f90, atomic/do_mesh.f90, atomic/el_config.f90,
	  atomic/elsd.f90, atomic/elsdps.f90:

	more end --> end subroutine [Gerardo]

2005-05-12 15:23  ballabio

	* CPV/: adjef.f90, berryion.f90, cglib.f90, cplib.f90, cprsub.f90,
	  crayfft.f90, efermi.f90, eigs0.f90, eigsp.f90:

	end --> end subroutine [Gerardo]

2005-05-12 14:53  ballabio

	* CPV/cplib.f90:

	[no log message]

2005-05-12 14:34  ballabio

	* CPV/errore.f90:

	[no log message]

2005-05-11 17:30  giannozz

	* upftools/ncpp2upf.f90:

	Small patch from Axel: try to guess the wavefunction label

2005-05-11 17:28  dalcorso

	* PW/setup.f90:

	Introduced a check: gamma_only and noncolin not implemented yet.

2005-05-10 18:55  ballabio

	* configure, configure.ac:

	- reorganization of library checks (more to come)
	- removed warnings that could intimidate little girls
	[Gerardo]

2005-05-10 11:46  cavazzon

	* Modules/printout_base.f90, PW/electrons.f90:

	- minor bug fix, printing occupation numbers when using pools

2005-05-08 23:10  cavazzon

	* CPV/: Makefile, cprsub.f90, forces.f90, input.f90, nl.f90,
	  pseudo_base.f90, pseudopot.f90, qqberry.f90, read_pseudo.f90,
	  spharmonic.f90, stress.f90, ylmr.f90:

	- ylmr2 (from flib) nown used to compute spherical harmonics in FPMD and
	  qqberry too.

2005-05-08 20:24  sbraccia

	* Modules/constraints_module.f90:

	Fixed a small bug in the constrints on planar angles.
	C.S.

2005-05-04 21:16  sbraccia

	* Modules/constraints_module.f90:

	oops: some other bug fixed in the constraints_module. C.S.

2005-05-04 16:24  dalcorso

	* atomic/write_results.f90, atomic_doc/INPUT_LD1:

	Small change in the documentation and output of the atomic code.

2005-05-04 16:12  sbraccia

	* Doc/INPUT_CP, Doc/INPUT_FPMD, Doc/INPUT_PW,
	  Modules/constraints_module.f90, Modules/input_parameters.f90:

	Fixed some bugs for the constraint on fixed coordination. Doc updated.
	C.S.

2005-05-04 00:53  sbraccia

	* CPV/input.f90, Modules/constraints_module.f90, PW/input.f90:

	Fixed some bugs in the constrained dynamics. C.S.

2005-05-03 01:14  sbraccia

	* CPV/cpr.f90, CPV/input.f90, CPV/ions.f90,
	  Modules/constraints_module.f90, Modules/read_cards.f90,
	  PW/input.f90, PW/move_ions.f90:

	Added the possibility of enforcing constraints on the ionic coordination (still exeperimental).
	C.S.

2005-05-02 18:13  sbraccia

	* Doc/INPUT_CP:

	Documentation of the cp code updated and, hopefully, improved.
	Default values explicitly declared. Unimplemented features removed.
	C.S.

2005-05-01 22:53  cavazzon

	* CPV/: atoms_type.f90, cprsub.f90, dealloc.f90, fromscra.f90,
	  input.f90, ions.f90, ortho_base.f90, potentials.f90,
	  pseudo_base.f90, restart_sub.f90:

	- clean-ups, removed old FPMD constraints, and old FPMD formf

2005-04-30 22:41  sbraccia

	* CPV/cpr.f90, CPV/input.f90, CPV/ions.f90, Doc/INPUT_FPMD:

	New SHAKE module implemented also in FPMD. The three codes (PW,CP,FPMD) now use the same
	algorithms for constrained dynamics. C.S.

2005-04-29 22:10  sbraccia

	* PW/move_ions.f90:

	oops, a file was missing in the yesterday's commit.
	C.S.

2005-04-29 18:26  cavazzon

	* upftools/fpmd2upf.f90:

	- added gga

2005-04-29 03:12  sbraccia

	* Modules/constraints_module.f90, PW/clean_pw.f90, PW/stop_pw.f90:

	Deallocation of constraints arrays made independent from clean_pw to reduce modules dependencies.
	C.S.

2005-04-29 01:44  sbraccia

	* Doc/INPUT_CP, Doc/INPUT_PW, Modules/read_cards.f90:

	Doc updated. C.S.

2005-04-29 01:30  sbraccia

	* CPV/Makefile, CPV/atoms_type.f90, CPV/cpr.f90, CPV/input.f90,
	  CPV/ions.f90, CPV/move_electrons.f90,
	  Modules/constraints_module.f90, Modules/input_parameters.f90,
	  Modules/read_cards.f90, PW/input.f90:

	Added the possibility of performing constrained dynamics in the cp code. Constraints on planar angles are implemented in
	both pwscf and cp. Both the constraints can be set in the input, with the option of specifying the target.
	The electronic step of the cp dynamics has been moved from cpr.f90 to the new subroutine move_electrons.
	C.S.

2005-04-28 17:27  cavazzon

	* CPV/cg_sub.f90, CPV/cp_fpmd.f90, CPV/cplib.f90, CPV/cpr.f90,
	  CPV/cprsub.f90, CPV/cptypes.f90, CPV/diis.f90,
	  CPV/emptystates.f90, CPV/forces.f90, CPV/gsmesh.f90,
	  CPV/init.f90, CPV/main.f90, CPV/nl.f90, CPV/potentials.f90,
	  CPV/pseudo_base.f90, CPV/pseudopot.f90, CPV/read_pseudo.f90,
	  CPV/restart.f90, CPV/restart_sub.f90, CPV/runcg.f90,
	  CPV/runcp.f90, CPV/rundiis.f90, CPV/smcp.f90, CPV/smd.f90,
	  CPV/stress.f90, CPV/wave.f90, CPV/waveinit.f90, CPV/wf.f90,
	  Modules/recvec.f90:

	- subroutines formfn, compute_rhops have been made code independent and used
	  by both CP and FPMD
	- Now FPMD and CP use the same random wave functions initialization,
	  which is also independent from the number of processors,
	  very useful for debugging.

2005-04-27 23:56  sbraccia

	* Gamma/Makefile, PH/Makefile, PP/Makefile, PWCOND/Makefile:

	Removed unnecessary dependencies and fixed a bug spotted by Axel Kohlmeyer.
	C.S.

2005-04-27 23:48  sbraccia

	* Modules/: constraints_module.f90, input_parameters.f90,
	  path_base.f90, path_io_routines.f90, path_variables.f90,
	  read_cards.f90, read_namelists.f90:

	Added the possibility of using mass weighted coordinates. Other minor fixes.
	C.S.

2005-04-26 14:58  sbraccia

	* Modules/constraints_module.f90, PW/move_ions.f90:

	The module containing the variables and the methods for shake is now fully
	independent from the other modules (except than kinds, constants, io_global).
	C.S.

2005-04-26 01:58  sbraccia

	* Modules/Makefile, Modules/constraints_module.f90, PW/Makefile,
	  PW/constraints_module.f90, PW/input.f90, PW/move_ions.f90:

	Cleanup of the module containing the routines for constrained dynamics (shake).
	Now it is PW independent. Constraints on planar and dihedral angles to be implemented.
	C.S.

2005-04-26 01:54  sbraccia

	* PW/gradcorr.f90:

	Cleanup. C.S.

2005-04-25 20:18  sbraccia

	* PW/v_of_rho.f90:

	Cleanup. C.S.

2005-04-22 17:23  cavazzon

	* CPV/Makefile, CPV/bmesh.f90, CPV/chargedensity.f90,
	  CPV/chargemix.f90, CPV/chi2.f90, CPV/cp_fpmd.f90, CPV/cpr.f90,
	  CPV/cptypes.f90, CPV/diis.f90, CPV/electrons.f90,
	  CPV/emptystates.f90, CPV/exch_corr.f90, CPV/fft.f90,
	  CPV/fftdrv.f90, CPV/forces.f90, CPV/fromscra.f90, CPV/gsmesh.f90,
	  CPV/guess.f90, CPV/init.f90, CPV/input.f90, CPV/ions.f90,
	  CPV/ksstates.f90, CPV/main.f90, CPV/nl.f90, CPV/nl_base.f90,
	  CPV/nlcc.f90, CPV/optical.f90, CPV/phasefactor.f90,
	  CPV/potentials.f90, CPV/print_out.f90, CPV/pseudopot.f90,
	  CPV/restart.f90, CPV/restart_sub.f90, CPV/runcg.f90,
	  CPV/runcg_ion.f90, CPV/runcp.f90, CPV/rundiis.f90, CPV/runsd.f90,
	  CPV/smcp.f90, CPV/smd.f90, CPV/stress.f90, CPV/wave.f90,
	  CPV/waveinit.f90, Modules/fft_base.f90:

	- clean-ups, comments and merging

2005-04-21 23:55  sbraccia

	* CPV/mainvar.f90:

	Array rhoc was not allocated but appears in the list of arguments of vofrho.
	Dummy allocation added.
	C.S.

2005-04-21 16:58  giannozz

	* PH/io_pattern.f90:

	uffa...

2005-04-21 16:38  giannozz

	* PH/io_pattern.f90:

	oops

2005-04-21 16:37  giannozz

	* PH/: dhdrhopsi.f90, dvpsi_e2.f90, el_opt.f90, io_pattern.f90,
	  phq_recover.f90, phqscf.f90, print_clock_ph.f90, raman.f90,
	  solve_e.f90, solve_e2.f90, solve_linter.f90:

	More minor changes to restart, cpu time printout

2005-04-21 14:41  giannozz

	* PH/: phcom.f90, phq_recover.f90, phqscf.f90, raman.f90,
	  solve_e.f90, solve_e2.f90, solve_linter.f90:

	Less buggy Raman restart - not yet final

2005-04-21 01:43  sbraccia

	* Doc/INPUT_PW, Modules/bfgs_module.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/input.f90, PW/move_ions.f90:

	BFGS: the initial step is reduced when the forces are smaller than a given threshold.
	The linear scaling algorithm has been removed (never used and bad performance) allowing for
	a considerable clean up of the module.
	A new Pulay mixing has been added on top of the BFGS scheme which improves (sometimes considerably)
	the performace of the relaxation (similar to the GDIIS). It is activated by setting bfgs_ndim (default is 1
	which corresponds to no Pulay mixing). The algorithm has to be tested against difficoult problems.
	C.S.

2005-04-20 20:46  sbraccia

	* Doc/INPUT_PW, Modules/control_flags.f90, PW/dynamics.f90,
	  PW/input.f90:

	Fixed a bug in the temperature rescaling (highlighted by Tone).
	C.S.

2005-04-20 19:31  giannozz

	* release.sh:

	oops 2...

2005-04-20 19:29  giannozz

	* PW/mix_rho.f90:

	oops

2005-04-20 19:27  giannozz

	* release.sh, Doc/users-guide.tex, PH/phonon.f90,
	  PH/phq_recover.f90, PH/solve_e.f90, PH/solve_e2.f90,
	  PH/solve_linter.f90, PW/mix_rho.f90:

	Minor fixes to have phonon restart in a Raman calculation

2005-04-20 16:26  sbraccia

	* PW/summary.f90:

	Small fix. C.S.

2005-04-20 09:32  giannozz

	* PW/: mix_rho.f90, mix_rho_nc.f90:

	Cleanup of unused functions

2005-04-20 02:56  sbraccia

	* PW/summary.f90:

	Cleanup. C.S.

2005-04-19 16:18  giannozz

	* D3/Makefile, Doc/INPUT_Gamma, Doc/users-guide.tex,
	  Gamma/Makefile, Modules/path_io_routines.f90, PH/Makefile,
	  PP/Makefile, PW/Makefile, PW/delta_e.f90, PW/electrons.f90,
	  PWCOND/Makefile, upftools/cpmd2upf.f90:

	Some cleanup (delta_e does only what is useful and where it is useful)
	minor fixes here and there

2005-04-19 12:45  giannozz

	* PH/: phq_readin.f90, raman_mat.f90, write_ramtns.f90:

	- Check on consistency of input flags
	- Raman tensor in A^2

2005-04-18 23:08  sbraccia

	* Makefile:

	iotk directory was not added to the archive.
	C.S.

2005-04-18 18:44  giannozz

	* pwtools/lambda.f90:

	Check for negative frequencies added

2005-04-18 09:23  degironc

	* PW/: Makefile, mix_rho.f90:

	PW/mix_rho.f90: bug in file opening fixed (thanks to G.Balducci)
	PW/Makefile: useless reference to pw_restart.o removed

2005-04-16 19:07  sbraccia

	* Doc/INPUT_PW, Modules/Makefile, Modules/input_parameters.f90,
	  Modules/path_base.f90, Modules/path_io_routines.f90,
	  Modules/path_opt_routines.f90,
	  Modules/path_reparametrisation.f90, Modules/path_variables.f90,
	  Modules/read_namelists.f90, PW/Makefile, PW/input.f90:

	NEB and STRING dynamics reorganised. Added a new module containing the routines used for the reparametrisations.
	Added the possibility of doing the string dynamics in real space (the original recipe).
	The Fourier representation of the path is switched on by setting the logical input variable "use_fourier".
	C.S.

2005-04-15 18:19  sbraccia

	* PW/: cinitcgg.f90, rinitcgg.f90:

	BLAS level 1 replaced by BLAS level 2.
	C.S.

2005-04-15 18:17  sbraccia

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/c_bands.f90, PW/ccgdiagg.f90, PW/cinitcgg_nc.f90,
	  PW/rcgdiagg.f90, PW/wfcinit.f90, PWCOND/Makefile:

	cinitcgg_nc removed. Fixed a couple of bugs in the cg diagonalisation.
	C.S.

2005-04-15 17:43  giannozz

	* PH/: dhdrhopsi.f90, dvpsi_e.f90, dvpsi_e2.f90, hdiag.f90,
	  pcgreen.f90, phq_setup.f90, solve_e.f90, solve_e2.f90,
	  solve_e_nscf.f90, solve_linter.f90:

	Raman working again -mMiscellaneous cleanup and attempts to speed yp
	things a bit and to reduce memory usage - beware unexpected side effects

2005-04-15 15:10  giannozz

	* PW/c_bands.f90:

	Misleading comment

2005-04-15 09:03  giannozz

	* PW/: ccgdiagg.f90, rcgdiagg.f90:

	Recently introduced bug fixed (CS)

2005-04-15 00:21  cavazzon

	* CPV/: environment.f90, wave_types.f90:

	- workaround for a bug in intel compiler (Build 20050203),
	  it hangs parsing some FORMAT line

2005-04-14 23:48  cavazzon

	* PW/add_vuspsi_nc.f90:

	- variable nh "used" two time, this make alpha compiler complaining

2005-04-14 23:34  cavazzon

	* Modules/berry_phase.f90:

	- small sintax fix

	NOTE: to include the iotk library in your working
	  copy of espresso, you have to issue an update -d
	  followed by a make clean and a configure

2005-04-14 23:08  cavazzon

	* Makefile, make.sys.in, makedeps.sh, CPV/Makefile,
	  CPV/berryion.f90, CPV/bforceion.f90, CPV/cg_sub.f90,
	  CPV/chargedensity.f90, CPV/cp_fpmd.f90, CPV/cplib.f90,
	  CPV/cpr.f90, CPV/cprsub.f90, CPV/cptypes.f90, CPV/dealloc.f90,
	  CPV/dforceb.f90, CPV/diis.f90, CPV/efield.f90, CPV/eigs0.f90,
	  CPV/eigsp.f90, CPV/electrons.f90, CPV/emptystates.f90,
	  CPV/exch_corr.f90, CPV/fft.f90, CPV/fftdrv.f90, CPV/forces.f90,
	  CPV/fromscra.f90, CPV/gsmesh.f90, CPV/gtable.f90, CPV/init.f90,
	  CPV/input.f90, CPV/ksstates.f90, CPV/main.f90, CPV/mainvar.f90,
	  CPV/modules.f90, CPV/nl.f90, CPV/nlcc.f90, CPV/optical.f90,
	  CPV/para.f90, CPV/phasefactor.f90, CPV/potentials.f90,
	  CPV/print_out.f90, CPV/pseudopot.f90, CPV/qmatrixd.f90,
	  CPV/qqberry.f90, CPV/read_pseudo.f90, CPV/restart.f90,
	  CPV/restart_sub.f90, CPV/runcg.f90, CPV/runcg_ion.f90,
	  CPV/runcp.f90, CPV/rundiis.f90, CPV/runsd.f90, CPV/smcp.f90,
	  CPV/smd.f90, CPV/stick.f90, CPV/stress.f90, CPV/vofrho2.f90,
	  CPV/wannier.f90, CPV/wave.f90, CPV/waveinit.f90, CPV/wf.f90,
	  CPV/ylmr.f90, Modules/Makefile, Modules/berry_phase.f90,
	  Modules/cell_base.f90, Modules/iotk_base.f90,
	  Modules/iotk_external.f90, Modules/iotk_interface.f90,
	  Modules/iotk_module.f90, Modules/iotk_multitype.f90,
	  Modules/iotk_multitype_character1.f90,
	  Modules/iotk_multitype_character2.f90,
	  Modules/iotk_multitype_complex1.f90,
	  Modules/iotk_multitype_complex2.f90,
	  Modules/iotk_multitype_integer1.f90,
	  Modules/iotk_multitype_integer2.f90,
	  Modules/iotk_multitype_logical1.f90,
	  Modules/iotk_multitype_logical2.f90,
	  Modules/iotk_multitype_real1.f90,
	  Modules/iotk_multitype_real2.f90, PP/Makefile, PW/Makefile,
	  flib/more_functionals.f90, include/iotk_auxmacros.h,
	  include/iotk_config.h:

	- CP clean-ups: eigr, ei1, ei2, ei3, eigrb, ...  arrays
	  now have the same layout (equal to the layout they have in PW)
	- iotk files in Modules have been removed

2005-04-14 21:56  cavazzon

	* iotk/: License, Makefile, OPTIONS, README, TODO, IDE/IDE.conf,
	  IDE/IDE_makemake.sh, IDE/README, IDE/README.options, IDE/add_dir,
	  IDE/arch.sh, IDE/basename_src, IDE/check_main, IDE/cvssnap.sh,
	  IDE/dir_setup.sh, IDE/getoption, IDE/linked, IDE/makeinfo.sh,
	  IDE/makemake.sh, IDE/makeouter.sh, IDE/makeversion.sh,
	  IDE/moduledep.sh, IDE/packls.sh, IDE/reverse, IDE/split_line,
	  IDE/tarlist.sh, IDE/used, IDE/bin/sprep,
	  IDE/include/IDE_version.h, IDE/include/IDE_version.sh,
	  doc/manual.txt, include/iotk_auxmacros.h,
	  include/iotk_auxmacros.spp, include/iotk_config.h,
	  include/iotk_config.sh, include/iotk_include.sh,
	  include/iotk_version.h, include/iotk_version.sh, src/Makefile,
	  src/example1.f90, src/example2.f90, src/example3.f90,
	  src/example4.f90, src/iotk_attr+CHARACTER1_0.f90,
	  src/iotk_attr+COMPLEX1_0.f90, src/iotk_attr+COMPLEX1_3.f90,
	  src/iotk_attr+COMPLEX2_0.f90, src/iotk_attr+COMPLEX2_3.f90,
	  src/iotk_attr+INTEGER1_0.f90, src/iotk_attr+INTEGER1_3.f90,
	  src/iotk_attr+INTEGER2_0.f90, src/iotk_attr+INTEGER2_3.f90,
	  src/iotk_attr+LOGICAL1_0.f90, src/iotk_attr+LOGICAL1_3.f90,
	  src/iotk_attr+LOGICAL2_0.f90, src/iotk_attr+LOGICAL2_3.f90,
	  src/iotk_attr+REAL1_0.f90, src/iotk_attr+REAL1_3.f90,
	  src/iotk_attr+REAL2_0.f90, src/iotk_attr+REAL2_3.f90,
	  src/iotk_attr.f90, src/iotk_attr.spp, src/iotk_attr_interf.f90,
	  src/iotk_attr_interf.spp, src/iotk_base.f90, src/iotk_base.spp,
	  src/iotk_copy.f90, src/iotk_dat+CHARACTER1_0.f90,
	  src/iotk_dat+CHARACTER1_3.f90, src/iotk_dat+COMPLEX1_0.f90,
	  src/iotk_dat+COMPLEX1_3.f90, src/iotk_dat+COMPLEX2_0.f90,
	  src/iotk_dat+COMPLEX2_3.f90, src/iotk_dat+INTEGER1_0.f90,
	  src/iotk_dat+INTEGER1_3.f90, src/iotk_dat+INTEGER2_0.f90,
	  src/iotk_dat+INTEGER2_3.f90, src/iotk_dat+LOGICAL1_0.f90,
	  src/iotk_dat+LOGICAL1_3.f90, src/iotk_dat+LOGICAL2_0.f90,
	  src/iotk_dat+LOGICAL2_3.f90, src/iotk_dat+REAL1_0.f90,
	  src/iotk_dat+REAL1_3.f90, src/iotk_dat+REAL2_0.f90,
	  src/iotk_dat+REAL2_3.f90, src/iotk_dat.f90, src/iotk_dat.spp,
	  src/iotk_dat_interf.f90, src/iotk_dat_interf.spp,
	  src/iotk_error.f90, src/iotk_error.spp,
	  src/iotk_error_interf.f90, src/iotk_error_interf.spp,
	  src/iotk_files.f90, src/iotk_files.spp,
	  src/iotk_files_interf.f90, src/iotk_files_interf.spp,
	  src/iotk_fmt.f90, src/iotk_fmt.spp, src/iotk_fmt_interf.f90,
	  src/iotk_fmt_interf.spp, src/iotk_misc.f90, src/iotk_misc.spp,
	  src/iotk_misc_interf.f90, src/iotk_misc_interf.spp,
	  src/iotk_module.f90, src/iotk_module.spp,
	  src/iotk_print_kinds.f90, src/iotk_scan.f90, src/iotk_scan.spp,
	  src/iotk_scan_interf.f90, src/iotk_scan_interf.spp,
	  src/iotk_str.f90, src/iotk_str.spp, src/iotk_str_interf.f90,
	  src/iotk_str_interf.spp, src/iotk_unit.f90, src/iotk_unit.spp,
	  src/iotk_unit_interf.f90, src/iotk_unit_interf.spp,
	  src/iotk_write.f90, src/iotk_write.spp,
	  src/iotk_write_interf.f90, src/iotk_write_interf.spp,
	  src/iotk_xtox.f90, src/iotk_xtox.spp, src/iotk_xtox_interf.f90,
	  src/iotk_xtox_interf.spp, src/test.f90, src/test2.f90,
	  src/test3.f90, src/test4.f90, src/test5.f90, src/test6.f90,
	  src/test7.f90, tools/auto_config, tools/export:

	- iotk scripts, meta-sources (.spp) and sources (.f90) imported
	  as a separate directory.
	  To modify a .f90 source, first modify the corresponding .spp
	  file, and then type "make update" to regenerate the .f90 .
	  To build the library type "make libiotk.a"

2005-04-13 17:30  ballabio

	* configure:

	[no log message]

2005-04-13 17:06  giannozz

	* PW/: atomic_rho.f90, electrons.f90, vcsubs.f90:

	- force starting charge to be nonnegative
	- modified variable-cell dynamics by Cesar da Silva (change if (.false.)
	  to if(.true.) in line 823 to enable it)

2005-04-13 15:36  giannozz

	* configure.ac:

	Various fixes for Mac by AK

2005-04-13 15:32  giannozz

	* Modules/iotk_external.f90, Modules/iotk_interface.f90,
	  Modules/parser.f90, Modules/supercell.f90, clib/c_mkdir.c,
	  clib/memstat.c, include/iotk_config.h:

	Various fixes for Mac by AK

2005-04-13 14:50  giannozz

	* atomic/ld1_readin.f90, atomic_doc/INPUT_LD1:

	No reason to stick to formatted read in atomic code

2005-04-13 12:44  degironc

	* Modules/parser.f90:

	comments (lines beginning by "#") are allowed while reading an input card

2005-04-13 12:43  degironc

	* PP/dos.f90:

	noncolin variable was not properly included

2005-04-13 12:14  giannozz

	* examples/: save_results, example12/run_example,
	  example22/run_example:

	minor changes to some scripts

2005-04-13 11:31  dalcorso

	* PP/: dos.f90, projwfc.f90:

	These programs do not support the noncollinear version yet. Added a
	check for this case.

2005-04-12 20:01  giannozz

	* install/Make.sxcross:

	Nec updates

2005-04-12 20:00  giannozz

	* Doc/: BUGS, users-guide.tex:

	Misc doc updates

2005-04-12 19:02  giannozz

	* upftools/cpmd2upf.f90:

	Incorrect conversion (amesh set to wrng value) in some cases

2005-04-12 09:38  giannozz

	* flib/: indxl2g.f, infog1l.f, infog2l.f:

	NEC doesn't like ampersand at column 73 in f77 files ... (Guido)

2005-04-11 21:05  giannozz

	* Doc/: refman.tex, users-guide.tex:

	Doc updates

2005-04-11 11:17  giannozz

	* CPV/: cplib.f90, main_loops.f90:

	Forces with core correction were wrong

2005-04-11 10:14  giannozz

	* Modules/read_cards.f90:

	Added check that no two atomic species correspond to the same label

2005-04-10 18:18  giannozz

	* Doc/: BUGS, INPUT_PW, users-guide.tex:

	Misc doc updates

2005-04-09 12:15  degironc

	* PW/vcsubs.f90:

	 fix (?) bug in vcsubs.f90
	 Paolo and Cesar, please check and provide an example.

2005-04-08 17:22  sbraccia

	* PW/: ccalbec.f90, h_1psi.f90, h_psi.f90, pw_gemm.f90, s_1psi.f90,
	  s_psi.f90:

	ZGEMM and DGEMM replaced by ZGEMV and DGEMV in the case of matrix vector multiplication.
	C.S.

2005-04-08 17:18  sbraccia

	* Modules/: path_base.f90, path_opt_routines.f90:

	Path optimisation: the actual number of images was not written in the "broyden" file.
	This caused a crash in the case of string dynamics. C.S.

2005-04-08 16:51  degironc

	* PW/: gradcorr.f90, stres_gradcorr.f90:

	added Blyp+(nspin=2) case in the stress calculation.

2005-04-07 13:05  cavazzon

	* Modules/iotk_multitype_real.f90, PP/Makefile, PP/pw_export.f90:

	- pw_export now exports also crystal symmetries (from A. Ferretti)

2005-03-31 19:36  giannozz

	* PP/: dos.f90, projwfc.f90:

	Bad check on lmax_wfc > 3 fixed (courtesy of Andrea Ferretti)

2005-03-31 13:07  ballabio

	* PW/: cegterg.f90, regterg.f90:

	lrot must be logical [Gerardo]

2005-03-30 23:36  giannozz

	* pwtools/Makefile:

	missing modules added

2005-03-30 20:08  cavazzon

	* CPV/Makefile, CPV/cp_fpmd.f90, CPV/cpr.f90, CPV/cprsub.f90,
	  CPV/cutoffs.f90, CPV/electrons.f90, CPV/exch_corr.f90,
	  CPV/fromscra.f90, CPV/init.f90, CPV/input.f90, CPV/ions.f90,
	  CPV/main.f90, CPV/main_loops.f90, CPV/ortho.f90,
	  CPV/periodic.f90, CPV/potentials.f90, CPV/print_out.f90,
	  CPV/restart_sub.f90, CPV/runcg.f90, CPV/runcg_ion.f90,
	  CPV/rundiis.f90, CPV/runsd.f90, CPV/smcp.f90, CPV/smd.f90,
	  CPV/stress.f90, Modules/cell_base.f90, Modules/control_flags.f90,
	  Modules/griddim.f90, Modules/smallbox.f90, Modules/timestep.f90:

	 - more CP/FPMD merging, clean-ups.
	 - Standard output hopfully made more clear and common between CP/FPMD
	 - common CP/FPMD initialization
	 - fix for nat checking in cploop

2005-03-30 18:08  sbraccia

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PWCOND/Makefile:

	Added missing dependencies and removed those unnecessary. C.S.

2005-03-30 17:57  sbraccia

	* PW/ccgdiagg.f90:

	okvan not needed. C.S.

2005-03-30 17:44  dalcorso

	* PP/punch_plot.f90, PW/add_efield.f90, PW/setlocal.f90,
	  PW/v_of_rho.f90:

	Bug fix: plot_num=12 was not working.

2005-03-30 16:46  sbraccia

	* Modules/: path_base.f90, path_opt_routines.f90,
	  path_variables.f90:

	Improved version of the Broyden algorithm for path optimisation: some variables useful to understand
	possible failures of the algorithm have been added in the output. C.S.

2005-03-30 16:38  sbraccia

	* PW/: ccgdiagg_nc.f90, cegterg_nc.f90:

	Old routines removed.
	C.S.

2005-03-30 16:37  sbraccia

	* Makefile, PW/Makefile, PW/c_bands.f90, PW/ccgdiagg.f90,
	  PW/cegterg.f90, PW/cinitcgg.f90, PW/rcgdiagg.f90, PW/regterg.f90,
	  PW/rinitcgg.f90, PW/wfcinit.f90:

	Conjugate-gradient: added a routine for gamma-only calculations. collinear and noncollinear routines unified.
	Davidson: minor improvements of the davidson algorithm. collinear and noncollinear routines unified.
	C.S.

2005-03-29 14:22  giannozz

	* PH/elphon.f90, PW/electrons.f90:

	calls to efermi updated to the new syntax

2005-03-29 12:56  dalcorso

	* PW/: add_bfield.f90, v_of_rho.f90:

	Some problems in previous commit corrected.

2005-03-29 11:05  dalcorso

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/add_bfield.f90, PW/electrons.f90,
	  PW/force_cc.f90, PW/potinit.f90, PW/restart_in_ions.f90,
	  PW/update_pot.f90, PW/v_of_rho.f90, PW/v_of_rho_nc.f90,
	  PWCOND/Makefile:

	V_of_rho and v_of_rho_nc merged.
	Constraints on the magnetization moved to the routine add_bfield.

2005-03-28 15:55  giannozz

	* Modules/uspp.f90, PH/adddvscf.f90, PH/close_phq.f90,
	  PH/openfilq.f90, PH/print_clock_ph.f90, PW/add_vuspsi_nc.f90,
	  PW/addusdens.f90, PW/addusforce.f90, PW/addusstress.f90,
	  PW/allocate_nlpot.f90, PW/c_bands.f90, PW/ccgdiagg_nc.f90,
	  PW/cdiisg_nc.f90, PW/hinit0.f90, PW/init_us_1.f90, PW/memory.f90,
	  PW/newd.f90, PW/pwcom.f90, PW/restart.f90, PW/s_psi.f90,
	  PW/s_psi_nc.f90, PW/setup.f90, PW/sum_band.f90, PW/wfcinit.f90:

	variable "okvan" moved to module "uspp" + minor cleanup

2005-03-27 22:05  giannozz

	* CPV/cg_sub.f90, CPV/cp_fpmd.f90, CPV/cprsub.f90, CPV/qqberry.f90,
	  CPV/read_pseudo.f90, PP/plotband.f90, atomic/new_potential.f90:

	obsolete variable 'ipp' describing the type of PP replaced by more
	self-explanatory (maybe) variables, mostly already there

2005-03-26 16:29  cavazzon

	* CPV/Makefile, CPV/cglib.f90, CPV/cp_restart.f90, CPV/cpr.f90,
	  CPV/cpr_mod.f90, CPV/exch_corr.f90, CPV/fromscra.f90,
	  CPV/init.f90, CPV/input.f90, CPV/ions.f90, CPV/main.f90,
	  CPV/noseele.f90, CPV/noseion.f90, CPV/periodic.f90,
	  CPV/potentials.f90, CPV/print_out.f90, CPV/read_pseudo.f90,
	  CPV/restart.f90, CPV/restart_sub.f90, CPV/stress.f90,
	  Modules/cell_base.f90, Modules/electrons_base.f90,
	  Modules/functionals.f90, Modules/input_parameters.f90,
	  Modules/ions_base.f90, Modules/read_namelists.f90:

	- FPMD/CP90 ionic and electronic nose' thermostat merged
	- clean-up

2005-03-26 15:57  giannozz

	* CPV/: cg_sub.f90, compute_scf.f90, main.f90, main_loops.f90,
	  smcp.f90:

	reference to input_parameters module replaced by reference to other modules
	whenever possible (please check)

2005-03-25 16:51  giannozz

	* Modules/: io_base.f90, parallel_types.f90, printout_base.f90:

	More nameless END MODULE

2005-03-25 15:20  giannozz

	* Modules/ions_base.f90:

	Useless dependency removed

2005-03-25 14:29  giannozz

	* Modules/mp_wave.f90:

	END MODULE should also contain the name of the module

2005-03-25 14:10  kokalj

	* GUI/PWgui/ChangeLog:

	[no log message]

2005-03-25 14:09  kokalj

	* GUI/PWgui/pwgui_vfs/: Makefile, Makefile.darwin, Makefile.linux,
	  Makefile.win32:

	Improvement of make: the standalone binaries can be now created much easier

2005-03-25 10:29  sbraccia

	* PW/compute_scf.f90:

	write_save option was not working in parallel (punch() was called by ionode only).
	C.S.

2005-03-24 18:49  degironc

	* PW/gradcorr.f90:

	 blyp + nspin=2 should work now also in pw.x. (Mojtaba Alaei)

2005-03-24 15:36  giannozz

	* pwtools/matdyn.f90:

	tetra should be integer (courtesy of Pascal Thibaudeau)

2005-03-24 14:26  degironc

	* GUI/PWgui/ChangeLog:

	[no log message]

2005-03-24 13:58  degironc

	* GUI/PWgui/modules/pw/pw-help.tcl:

	the help section for eangle1 and angle2 has been added

2005-03-24 13:48  degironc

	* GUI/PWgui/modules/pw/: pw-event.tcl, pw-help.tcl, pw.tcl:

	my first elementary contibution to PWgui...
	nspin=4 in the non collinear case
	starting_magnetization is dimesioned ntyp (not nat)
	angle1 and angle2 can be defined in the non collinear case

	SdG

2005-03-24 08:03  kokalj

	* GUI/PWgui/VERSION:

	[no log message]

2005-03-24 08:02  kokalj

	* GUI/PWgui/: modules/pw/pw-help.tcl, modules/pw/pw.tcl, ChangeLog:

	adding wf_collect variable

2005-03-23 18:23  giannozz

	* PW/update_pot.f90:

	minor change in printout

2005-03-23 18:20  degironc

	* Doc/INPUT_PW, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PW/electrons.f90, PW/get_locals.f90,
	  PW/input.f90, PW/mix_rho_nc.f90, PW/report_mag.f90, PW/setup.f90,
	  PW/v_of_rho_nc.f90, examples/example13/run_example,
	  examples/example13/reference/cu.band.out,
	  examples/example13/reference/cu.cg.out,
	  examples/example13/reference/cu.scf.out,
	  examples/example13/reference/fe.angl.out,
	  examples/example13/reference/fe.band.out,
	  examples/example13/reference/fe.pen.out,
	  examples/example13/reference/fe.scf.out,
	  examples/example13/reference/ni.band.out,
	  examples/example13/reference/ni.scf.out,
	  examples/example13/reference/o2.relax.out:

	Input variables for imposing constraints on local and global magnetic
	moments have been changes

	i_cons, mcons have been removed from input (still there in the code)

	added variables:
	constrained_magnetization='none','atomic','atomic direction','total'
	fixed_magnetization(3) (value of the total magnetization to be fixed)
	B_field are introduced (if non zero is the value of the added magnetic field)

	for 'atomic' or 'atomic direction' constraint the input magnetization
	as defined by starting_magnetization, angle1, angle2 or the cosine of angle1
	is used to define the constraint.

2005-03-23 17:32  dalcorso

	* PP/bands.f90:

	Small bug fix.

2005-03-23 16:43  ballabio

	* configure, configure.ac:

	some reorganization [Gerardo]

2005-03-23 16:41  dalcorso

	* PP/bands.f90:

	Small bug fix: The number of k points was not written correctly in some cases.

2005-03-23 16:19  cavazzon

	* Modules/: Makefile, iotk_multitype_character.f90,
	  iotk_multitype_character1.f90, iotk_multitype_character2.f90,
	  iotk_multitype_complex.f90, iotk_multitype_integer1.f90,
	  iotk_multitype_integer2.f90, iotk_multitype_logical.f90,
	  iotk_multitype_logical1.f90, iotk_multitype_logical2.f90,
	  iotk_multitype_real1.f90, iotk_multitype_real2.f90:

	- files splitted to speedup compilation

2005-03-23 13:09  kokalj

	* GUI/PWgui/examples/projwfc/sample.pr.inp:

	[no log message]

2005-03-23 12:33  kokalj

	* GUI/Guib/: ChangeLog, VERSION, NEWS:

	[no log message]

2005-03-23 12:33  kokalj

	* GUI/Guib/src/: spininthelp.itcl, tclIndex, validate.itcl:

	Adding a "binary" (i.e. 0/1) validator.

2005-03-23 12:31  kokalj

	* GUI/Guib/lib/tclUtils.tcl:

	Fixing a small bug in ::tclu::warningDialog.

2005-03-23 12:27  kokalj

	* GUI/PWgui/: pwgui_vfs/main.tcl.sh, pwgui_vfs/Makefile,
	  pwgui_vfs/Makefile.linux, ChangeLog, VERSION:

	[no log message]

2005-03-23 12:25  kokalj

	* GUI/PWgui/modules/pp/: pp-help.tcl, pp.tcl:

	pp.x module slightly updated to syntax of PWscf-2.1.2

2005-03-23 12:22  kokalj

	* GUI/PWgui/src/run.itcl:

	Changing a bit the "Run" behaviour.

2005-03-23 10:52  kokalj

	* GUI/PWgui/modules/pw/: pw-help.tcl, pw.tcl:

	Updating module to syntax of PWscf-2.1.2

2005-03-22 18:16  cavazzon

	* Modules/Makefile, Modules/ions_base.f90,
	  Modules/iotk_multitype_complex1.f90,
	  Modules/iotk_multitype_complex2.f90, PP/Makefile,
	  include/iotk_config.h:

	- iotk_multitype_complex splitted into two files, to workaround
	  xlf simbols stack problem
	- iotk definition for ia64 platforms

2005-03-22 12:19  ballabio

	* PW/cegterg.f90:

	workaround for Intel bug (forall -> do) [Gerardo]

2005-03-21 15:33  giannozz

	* atomic/: all_electron.f90, ascheq.f90, ascheqlocps.f90,
	  ascheqps.f90, atomic_paw.f90, cfdsol.f90, chargeps.f90,
	  compute_chi.f90, compute_det.f90, compute_phi.f90,
	  compute_phipot.f90, compute_phius.f90, compute_solution.f90,
	  descreening.f90, dir_outward.f90, dirsol.f90, dmixp.f90,
	  do_mesh.f90, el_config.f90, elsd.f90, elsdps.f90, esic.f90,
	  exc_t.f90, find_qi.f90, gener_pseudo.f90, hartree.f90,
	  int_0_inf_dr.f90, integrate_inward.f90, integrate_outward.f90,
	  intref.f90, ld1.f90, ld1_readin.f90, ld1_setup.f90,
	  ld1_writeout.f90, ld1inc.f90, lderiv.f90, lderivps.f90,
	  lschps.f90, new_potential.f90, newd_at.f90, nodenum.f90,
	  normalize.f90, parameters.f90, pseudovloc.f90,
	  read_newpseudo.f90, read_pseudo.f90, read_pseudoupf.f90,
	  run_pseudo.f90, run_test.f90, scf.f90, seriebes.f90, series.f90,
	  set_rho_core.f90, sic_correction.f90, start_potps.f90,
	  starting_potential.f90, trou.f90, vdpack.f90, vext.f90,
	  vpack.f90, vxc_t.f90, vxcgc.f90, write_paw_recon.f90,
	  write_pseudo.f90, write_results.f90, write_resultsps.f90,
	  write_upf.f90:

	Added missing copyright notice

2005-03-21 15:26  giannozz

	* flib/: atomic_number.f90, iglocal.f90:

	Added missing copyright notice

2005-03-21 15:12  giannozz

	* Modules/: iotk_multitype_character.f90,
	  iotk_multitype_complex.f90, iotk_multitype_integer1.f90,
	  iotk_multitype_integer2.f90, iotk_multitype_logical.f90,
	  iotk_multitype_real.f90:

	Added copyright notice where missing (please check)

2005-03-21 15:09  giannozz

	* Modules/: io_base.f90, kind.f90, parallel_include.f90:

	Added copyright notice where missing (please check)

2005-03-21 14:58  giannozz

	* PH/add_dkmds.f90, PH/add_for_charges.f90, PH/add_zstar_ue_us.f90,
	  PH/adddvepsi_us.f90, PH/compute_qdipol.f90,
	  PH/deallocate_part.f90, PH/deallocate_phq.f90, PH/dvkb3.f90,
	  PH/q_points.f90, PH/zstar_eu_us.f90, PWCOND/gep_gep.f90,
	  PWCOND/jbloch.f90, PWCOND/poten.f90, PWCOND/rotate.f90,
	  PWCOND/rotproc.f90, PWCOND/scatter_forw.f90, PWCOND/transmit.f90:

	Added copyright notice where missing (please check)
	Modified copyright notice to make it compatible with script
	"check_license"

2005-03-21 14:55  giannozz

	* PW/: bp_c_phase.f90, bp_calc_btq.f90, bp_qvan3.f90,
	  bp_strings.f90, compute_rho.f90, dndtau_of_k.f90, get_locals.f90,
	  make_pointlists.f90, mix_rho.f90, read_pseudo.f90,
	  report_mag.f90, set_kplusb.f90, v_of_rho_nc.f90, wfcinit.f90,
	  wsweight.f90:

	Added copyright notice where missing (please check)
	Modified copyright notice to make it compatible with script
	"check_license"

2005-03-21 14:43  giannozz

	* PP/: cube.f90, efg.f90, initial_state.f90, plot_whole_cell.f90,
	  plotband.f90, poormanwannier.f90, projwfc.f90, pw2casino.f90,
	  wfdd.f90, xctest.f90, xsf.f90:

	Added copyright notice where missing (please check)
	Modified copyright notice to make it compatible with script
	"check_license"
	efg: added missing broadcast of a variable

2005-03-21 14:05  giannozz

	* Doc/INPUT_PW, Doc/README.WANNIER, PP/README.WANNIER:

	[no log message]

2005-03-21 13:08  giannozz

	* PW/upf_to_internal.f90:

	Very serious bug: there was no check that the number of grid points
	in pseudopotentials does not exceed the maximum dimension (ndmx)

2005-03-18 17:22  cavazzon

	* Modules/iotk_base.f90, Modules/iotk_external.f90,
	  Modules/iotk_interface.f90, Modules/iotk_multitype_character.f90,
	  Modules/iotk_multitype_complex.f90,
	  Modules/iotk_multitype_integer1.f90,
	  Modules/iotk_multitype_integer2.f90,
	  Modules/iotk_multitype_logical.f90,
	  Modules/iotk_multitype_real.f90, include/iotk_auxmacros.h,
	  include/iotk_config.h:

	- iotk update

2005-03-18 12:30  ballabio

	* configure, configure.ac, makedeps.sh:

	now makedeps.sh prints something
	it was taking too much time without saying anything
	[Gerardo]

2005-03-18 12:25  cavazzon

	* PP/Makefile:

	- fix of a missing dependency of pw_export with iotk

2005-03-18 12:24  ballabio

	* Makefile, makedeps.sh, clib/Makefile, clib/make.depend:

	now also clib has a make.depend [Gerardo]

2005-03-18 12:11  ballabio

	* includedep.sh, makedeps.sh, moduledep.sh:

	added include files to dependencies [Gerardo]

2005-03-18 11:52  dalcorso

	* PW/setup.f90:

	Added another check for i_cons.

2005-03-18 11:42  dalcorso

	* Doc/INPUT_PW, Modules/read_namelists.f90, PW/electrons.f90,
	  PW/input.f90, PW/noncol.f90, PW/potinit.f90, PW/report_mag.f90,
	  PW/setup.f90, PW/sum_band.f90, PW/v_of_rho_nc.f90:

	Introduced some experimental constraints on the magnetization.

	With i_cons = 3; A penalty functional is added to the
	               total energy to constrain each component of the
	               total magnetization.
	               (Only in noncolinear version)

	With i_cons = 4; a fixed magnetic field is added to the
	               exchange and correlation magnetic field.
	               (Only in noncolinear version)

	With i_cons = 5; Uses the two Fermi energies feature to fix the
	               magnetization as in the constrained-moment approach.
	               mcons(3,1) fix the value of the total magnetization.
	               (Only with nspin=2)

2005-03-17 17:21  dalcorso

	* atomic/: ld1_setup.f90, write_results.f90:

	Bug fix: the printed orbital overlaps were not calculated correctly
	in the fully relativistic case.

2005-03-17 17:19  dalcorso

	* PW/: efermig.f90, efermit.f90, tweights.f90:

	Small changes, the routines were not compiling.

2005-03-17 15:47  degironc

	* Doc/INPUT_PW, PW/allocate_wfc.f90, PW/efermig.f90,
	  PW/efermit.f90, PW/electrons.f90, PW/gweights.f90, PW/input.f90,
	  PW/iweights.f90, PW/pwcom.f90, PW/setup.f90, PW/sum_band.f90,
	  PW/sumkg.f90, PW/sumkt.f90, PW/tweights.f90:

	new PW feature:

	    nelup and neldw variables can be read from input and used to set up
	    the occupations of spin up and spin down electrons separately.
	    It can be used with both metallic and fixed occupations.
	    In the former case two Fermi energies are defined, in the latter
	    nelup and neldw must be both integer.
	    In all cases nelec must also be explicitely defined and
	    nelup + neldw = nelec must hold.

	    Not fully tested, please report problems and complaints to SdG

2005-03-17 09:13  giannozz

	* PW/cft_3.f90:

	integer:: first => logical:: first in fft driver fo SCSL

2005-03-16 13:20  ballabio

	* configure, configure.ac, make.sys.in:

	more cleanup
	problems with f90flags_noopt fixed
	[Gerardo]

2005-03-16 12:45  ballabio

	* configure, make.sys.in, flib/Makefile, install/Make.alpha,
	  install/Make.alphaMPI, install/Make.altix, install/Make.beo_ifc,
	  install/Make.beowulf, install/Make.cygwin, install/Make.fujitsu,
	  install/Make.hitachi, install/Make.hp, install/Make.hpMPI,
	  install/Make.ia64, install/Make.ibm, install/Make.ibmsp,
	  install/Make.irix, install/Make.origin, install/Make.pc_abs,
	  install/Make.pc_ifc, install/Make.pc_lahey, install/Make.pc_pgi,
	  install/Make.sun, install/Make.sunMPI, install/Make.sxcross,
	  install/Make.t3e:

	cleanup [Gerardo]

2005-03-15 16:48  cavazzon

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PWCOND/Makefile:

	- a dependency from module timestep.o was missing

2005-03-15 15:35  cavazzon

	* CPV/Makefile, CPV/cp_restart.f90, CPV/cpr.f90, CPV/cprsub.f90,
	  CPV/init.f90, CPV/input.f90, CPV/main.f90, CPV/noseion.f90,
	  CPV/potentials.f90, CPV/print_out.f90, CPV/restart.f90,
	  CPV/smcp.f90, CPV/smd.f90, CPV/update.f90, CPV/wannier.f90,
	  Modules/Makefile, Modules/input_parameters.f90,
	  Modules/ions_base.f90, Modules/iotk_multitype_integer.f90,
	  Modules/iotk_multitype_integer1.f90,
	  Modules/iotk_multitype_integer2.f90, Modules/parameters.f90,
	  Modules/read_namelists.f90, Modules/sic.f90, PP/pw_export.f90,
	  include/iotk_config.h:

	- Nose' chain from K.Kudin added to CVS
	  TO BE CHECKED!!
	- iotk_multitype_integer splitted into two files to
	  workaround compiler problem (IBM xlf) with small simbol stack
	- new module with SIC variables

2005-03-15 12:10  cavazzon

	* Modules/iotk_base.f90, Modules/iotk_external.f90,
	  Modules/iotk_interface.f90, Modules/iotk_module.f90,
	  Modules/iotk_multitype_character.f90,
	  Modules/iotk_multitype_complex.f90,
	  Modules/iotk_multitype_integer.f90,
	  Modules/iotk_multitype_logical.f90,
	  Modules/iotk_multitype_real.f90, include/iotk_config.h:

	- library update, with workaround for alpha compiler

2005-03-15 10:55  sbraccia

	* Modules/control_flags.f90:

	Cleanup. C.S.

2005-03-15 10:07  cavazzon

	* CPV/cprsub.f90:

	- bug fix when many uspp are used in CP, array automatically defined
	  (without allocate) was too large for intel stack

2005-03-14 18:03  cavazzon

	* Modules/: cell_base.f90, electrons_base.f90, ions_base.f90:

	- fix of an odd sintax construct pointed out by alpha compiler

2005-03-14 17:15  cavazzon

	* CPV/input.f90:

	- some variables appeared in "use" statement two time

2005-03-14 15:11  cavazzon

	* CPV/cp_restart.f90, CPV/fromscra.f90, Modules/cell_base.f90:

	- FPMD/CP check and warning andded when cell parameters are specified
	  multiple times in input file

2005-03-14 15:08  ballabio

	* Doc/users-guide.tex:

	[no log message]

2005-03-14 12:07  moscac

	* examples/example13/: run_example, reference/fe.pen.out:

	example fe.pen.out didn't work after the introduction of symmetries
	in non-collinear case.
	Adriano

2005-03-11 15:23  giannozz

	* PW/compute_scf.f90, pwtools/pwi2xsf.f:

	Compilation problems with SGI (Pascal Thibaudeau)

2005-03-11 15:22  giannozz

	* Doc/: CREDITS, users-guide.tex:

	Added Nicola Bonini among the contributors

2005-03-10 16:52  ballabio

	* README.install_old, Doc/users-guide.tex:

	cleanup [Gerardo]

2005-03-10 16:40  ballabio

	* README.install, Doc/users-guide.tex:

	cleanup [Gerardo]

2005-03-10 15:22  sbraccia

	* Modules/path_base.f90:

	Fixed a bug in the freezing procedure (spotted by G.Fratesi). C.S.

2005-03-09 18:54  sbraccia

	* PW/: compute_scf.f90, startup.f90:

	Fixed a bug in the way wg_set variable was initialised (problem affecting parallel NEB calculations).
	C.S.

2005-03-09 18:44  smogunov

	* PWCOND/: Makefile, sunitary.f90, transmit.f90:

	Check on the transmission matrix unitarity is added (A.Smogunov)

2005-03-09 18:26  ballabio

	* README.configure, README.install, README.install_old,
	  Doc/manual.tex, Doc/refman.tex, Doc/users-guide.tex:

	removed all references to "make.rules"
	added "contact us" subsection to users guide
	some cleanup
	[Gerardo]

2005-03-09 14:50  sbraccia

	* Modules/path_io_routines.f90, Modules/path_opt_routines.f90,
	  PW/input.f90:

	Fixed a bug in the broyden optimisation (spotted by G.Cantele). Added the possibility
	of running NEB calculation on parallel machines without a global filesystem.
	Some other minor fixes. C.S.

2005-03-09 12:52  sbraccia

	* PW/electrons.f90:

	degauss was listed twice (spotted by G.Cantele).
	C.S.

2005-03-09 10:45  sbraccia

	* Modules/path_base.f90:

	Fixed a variable not declared spotted by S.Fabris.
	C.S.

2005-03-09 10:44  sbraccia

	* PW/readnewvan.f90:

	Fixed an array out of bounds spotted by N.Bonini.
	C.S.

2005-03-09 10:14  ballabio

	* Modules/Makefile:

	[no log message]

2005-03-08 19:44  ballabio

	* Makefile, configure, configure.ac, configure.old, make.rules.in,
	  make.sys.in, CPV/Makefile, D3/Makefile, Gamma/Makefile,
	  Modules/Makefile, PH/Makefile, PP/Makefile, PW/Makefile,
	  PWCOND/Makefile, atomic/Makefile, clib/Makefile, flib/Makefile,
	  install/Make.alpha, install/Make.alphaMPI, install/Make.altix,
	  install/Make.beo_ifc, install/Make.beowulf, install/Make.cygwin,
	  install/Make.fujitsu, install/Make.hitachi, install/Make.hp,
	  install/Make.hpMPI, install/Make.ia64, install/Make.ibm,
	  install/Make.ibmsp, install/Make.irix, install/Make.origin,
	  install/Make.pc_abs, install/Make.pc_ifc, install/Make.pc_lahey,
	  install/Make.pc_pgi, install/Make.sun, install/Make.sunMPI,
	  install/Make.sxcross, install/Make.t3e, install/Rules.cpp,
	  install/Rules.nocpp, pwtools/Makefile, upftools/Makefile:

	merged make.sys and make.rules together
	there was no reason they should be two different files
	everybody must rerun configure
	[Gerardo]

2005-03-08 17:55  ballabio

	* install/Make.sunMPI, install/Make.sunmpi, configure.old:

	cleanup [Gerardo]

2005-03-08 17:51  ballabio

	* configure, configure.ac, configure.old, make.rules.in,
	  make.sys.in, install/Make.alpha, install/Make.alphaMPI,
	  install/Make.altix, install/Make.beo_ifc, install/Make.beowulf,
	  install/Make.cygwin, install/Make.fujitsu, install/Make.hitachi,
	  install/Make.hp, install/Make.hpMPI, install/Make.ia64,
	  install/Make.ibm, install/Make.ibmsp, install/Make.irix,
	  install/Make.origin, install/Make.pc_abs, install/Make.pc_ifc,
	  install/Make.pc_lahey, install/Make.pc_pgi, install/Make.sun,
	  install/Make.sunmpi, install/Make.sxcross, install/Make.t3e,
	  install/Rules.cpp, install/Rules.nocpp:

	cleanup [Gerardo]

2005-03-08 14:53  sbraccia

	* Doc/INPUT_PW, Modules/path_opt_routines.f90, PW/input.f90:

	freezing procedure implemented also for the broyden optimisation scheme (it is activated by setting the use_freezing input variable). C.S.

2005-03-08 14:01  giannozz

	* PW/input.f90:

	Forces should not be calculated in the "phonon" case

2005-03-08 12:44  giannozz

	* PH/: dhdrhopsi.f90, punch_plot_e.f90, set_dvscf.f90, solve_e.f90,
	  solve_linter.f90:

	Delta rho should be symmetrized before it is written.
	No need to symmetrize it once again when it is read.
	Note that the symmetrization in solve_e is now applied to Delta rho,
	not to Delta Vscf. This is consistent with the behavior of solve_linter
	Some cleanup in solve_e and solve_linter

2005-03-08 10:14  dalcorso

	* PWCOND/init_orbitals.f90:

	Bug fix: In some cases, the left and right crossing orbitals were not ordered
	correctly.

2005-03-08 10:06  dalcorso

	* PWCOND/: compbs_2.f90, transmit.f90:

	Added a check on info to stop the program if the linear system is not
	solved correctly.

2005-03-07 15:13  cavazzon

	* CPV/: exch_corr.f90, restart.f90:

	 - bug fix in FPMD, xc contribution to the stress and cell dynamics
	   restart

2005-03-04 19:24  giannozz

	* PH/: bcast_ph_input.f90, el_opt.f90:

	Oops, parallel compilation fixed

2005-03-04 18:57  giannozz

	* Doc/: CREDITS, manual.tex:

	Documentation update

2005-03-04 18:49  giannozz

	* PW/: set_rhoc.f90, v_of_rho.f90:

	print integral of negative charge density, rather than number of points

2005-03-04 18:48  giannozz

	* D3/Makefile:

	Changes related to the new Raman code

2005-03-04 18:46  giannozz

	* PH/: Makefile, allocate_phq.f90, bcast_ph_input.f90,
	  cft_wave.f90, chi_test.f90, d2mxc.f90, dhdrhopsi.f90,
	  dielec_test.f90, dvpsi_e.f90, dvpsi_e2.f90, dynmatrix.f90,
	  el_opt.f90, hdiag.f90, openfilq.f90, pcgreen.f90, phonon.f90,
	  phq_readin.f90, phq_setup.f90, psyme2.f90, raman.f90,
	  raman_mat.f90, ramanm.f90, set_dvscf.f90, solve_e.f90,
	  solve_e2.f90, solve_e_nscf.f90, solve_linter.f90, sym_elop.f90,
	  syme2.f90, symram.f90, trntnsr_3.f90, write_ramtns.f90:

	Raman calculation with 2nd-order response by Michele Lazzeri added
	(temporarily together with phonon)

2005-03-04 15:19  giannozz

	* Modules/: clocks.f90, version.f90:

	misspells + version number

2005-03-04 15:18  giannozz

	* atomic_doc/INPUT_LD1:

	Documentation update

2005-03-02 13:46  sbraccia

	* Modules/io_files.f90, Modules/path_base.f90,
	  Modules/path_opt_routines.f90, PW/input.f90:

	The file containig broyden's history moved in the scratch dir. The file is
	automatically removed when the run is started from scratch. C.S.

2005-03-02 12:00  cavazzon

	* CPV/read_pseudo.f90:

	- bug fix in conversion from upf to fpmd internal format
	  (it appens when betas are not in the order of l = 0, 1, 2 ... )

2005-03-02 11:30  cavazzon

	* CPV/: ensemble_dft.f90, problem_size.f90:

	- fix for sintax odd constructs, pointed out by ifort

2005-03-02 11:03  cavazzon

	* CPV/cg.f90, CPV/cg_sub.f90, CPV/cglib.f90, CPV/cp_restart.f90,
	  CPV/cpr.f90, CPV/electrons.f90, CPV/ensemble_dft.f90,
	  CPV/environment.f90, CPV/exch_corr.f90, CPV/fft.f90,
	  CPV/init.f90, CPV/input.f90, CPV/main.f90, CPV/modules.f90,
	  CPV/path_routines.f90, CPV/print_out.f90, CPV/problem_size.f90,
	  CPV/read_pseudo.f90, CPV/restart.f90, CPV/restart_sub.f90,
	  CPV/runcp.f90, CPV/smcp.f90, Modules/Makefile,
	  Modules/cell_base.f90, Modules/electrons_base.f90,
	  Modules/griddim.f90, Modules/mp.f90, Modules/read_namelists.f90,
	  PP/Makefile, PW/electrons.f90:

	- more cpv/fpmd merging
	- FFT grid (nr1,nr2,nr3 nr1s,nr2s,nr3s) now can be specified in the
	  input

2005-03-01 13:41  sbraccia

	* Doc/INPUT_PW:

	This file was not updated in my last commit (broyden in NEB and STRING).
	C.S.

2005-02-28 16:13  ballabio

	* PW/cdiaghg.f90:

	increase lwork by 1, fixes SUNperf bug [Gerardo]

2005-02-25 15:51  sbraccia

	* Modules/input_parameters.f90, Modules/path_base.f90,
	  Modules/path_opt_routines.f90, Modules/path_variables.f90,
	  Modules/read_namelists.f90, PW/input.f90, PW/potinit.f90,
	  examples/example17/run_example,
	  examples/example17/reference/H2+H.axsf,
	  examples/example17/reference/H2+H.dat,
	  examples/example17/reference/H2+H.int,
	  examples/example17/reference/H2+H.out,
	  examples/example17/reference/H2+H.path,
	  examples/example17/reference/H2+H.xyz,
	  examples/example17/reference/asymmetric_H2+H.axsf,
	  examples/example17/reference/asymmetric_H2+H.dat,
	  examples/example17/reference/asymmetric_H2+H.int,
	  examples/example17/reference/asymmetric_H2+H.out,
	  examples/example17/reference/asymmetric_H2+H.path,
	  examples/example17/reference/asymmetric_H2+H.xyz,
	  examples/example17/reference/symmetric_H2+H.axsf,
	  examples/example17/reference/symmetric_H2+H.dat,
	  examples/example17/reference/symmetric_H2+H.int,
	  examples/example17/reference/symmetric_H2+H.out,
	  examples/example17/reference/symmetric_H2+H.path,
	  examples/example17/reference/symmetric_H2+H.xyz:

	NEB and Fourier String dynamics: the quasi-Newton Broyden's second method has
	been fully implemented: it is ~2 times faster than the quick-min optimisation scheme.
	It does not make use of the input step ds (the step is automatically upgraded as in the
	BFGS method). Still to be tested on difficoult cases (I ask some help from those
	who have encountered convergence problems with the previous versions of NEB). C.S.

2005-02-25 14:09  dalcorso

	* atomic/write_results.f90:

	The atomic code writes on output the total magnetization in the lsda case.

2005-02-24 19:19  giannozz

	* examples/README:

	exact configuration of test machine removed: it changes all the time

2005-02-24 19:12  giannozz

	* pwtools/dynmat.f90:

	dynmat.x can read Raman results from phcg.x

2005-02-24 19:11  giannozz

	* Gamma/phcg.f90:

	Raman cross sections calculated by phcg.x are in A^4/amu units

2005-02-24 18:51  giannozz

	* examples/: README, example21/README, example26/README:

	Explanations on how to run examples 21 and 26 added (Gerardo please
	verify if my explanations make sense!)

2005-02-24 18:39  giannozz

	* CPV/smd.f90:

	Obsolete calls removed from sminit (suggested by Yosuke and Kudin)

2005-02-24 17:57  giannozz

	* CPV/restart.f90, Modules/input_parameters.f90, PW/restart.f90:

	Since atm is character(len=3) there is no reason to have atom_label defined
	as character(len=4). If there is some reason, please define both atm and
	atom_label as character(len=4)

2005-02-24 12:42  smogunov

	* examples/example12/reference/trans.alwire:

	Added and modified some PWCOND examples (A.Smogunov)

2005-02-24 12:36  smogunov

	* examples/example12/reference/: AlwireAl.cond.out,
	  AlwireH.cond.out, trans.alwireh:

	[no log message]

2005-02-24 11:46  smogunov

	* PWCOND/transmit.f90:

	Total transmission is multiplied by 2 in the spin-unpolarized case (A.Smogunov)

2005-02-23 14:16  giannozz

	* PW/startup.f90:

	less cryptic printout

2005-02-23 14:10  giannozz

	* Gamma/phcg.f90:

	calculate Raman coefficients in A^4/amu units (hopefully)

2005-02-23 12:18  giannozz

	* pwtools/dynmat.f90:

	Raman coefficients produced by phcg can be read by dynmat
	Misspells and minor corrections

2005-02-22 15:44  fratesi

	* PP/projwfc.f90:

	variable "filpdos" was not read in the namelist as specified in the
	documentation.
	G.F.

2005-02-22 09:21  giannozz

	* atomic/constants.f90:

	[no log message]

2005-02-21 15:52  giannozz

	* CPV/cprsub.f90, PW/init_us_1.f90:

	Possible out-of-bound error with US PP fixed, hopefully for good this
	time, both in CP and in PW: nqlc read from file is set to 2*lmax+1
	but lmax may be larger than the max l in beta functions

2005-02-18 17:35  giannozz

	* CPV/cprsub.f90:

	Dimensioning of qradb, qradx, dqradx, changed from lmaxq with lqmax .
	I don't understand why, but the results are incorrect if more than
	one US PP is present (example18 has just one US species so the error
	went unnoticed). There must be something wrong somewhere else.
	In the stable version this change had been introduced by Martin
	Hilgemans. It appears that the out-of-bound error he was getting
	from SGI compiler was for real.

2005-02-18 17:28  giannozz

	* Doc/: INPUT_CP, manual.tex:

	Doc update

2005-02-17 15:27  giannozz

	* atomic/: compute_phi.f90, compute_phipot.f90, do_mesh.f90,
	  ld1_readin.f90, ld1inc.f90, lderiv.f90, read_newpseudo.f90,
	  read_pseudo.f90, read_pseudoupf.f90, scf.f90, write_upf.f90:

	rab = dr/dx is now a global variable, always calculated

2005-02-17 14:53  giannozz

	* atomic/read_pseudoupf.f90:

	Generate correct radial grid also with Vanderbilt grid (starting from zero)
	and stop immediately: the grid is not yet implemented

2005-02-16 17:09  giannozz

	* atomic/: Makefile, all_electron.f90, charge.f90, compute_phi.f90,
	  compute_phipot.f90, dir_outward.f90, dirsol.f90, elsd.f90,
	  esic.f90, ld1inc.f90, run_test.f90, scf.f90, set_rho_core.f90,
	  sic_correction.f90, write_paw_recon.f90, write_results.f90:

	The Dirac and non-Dirac cases are more similar now (psi_dir and psi
	merged, reversed order of major and minor orbitals)
	Please check for collateral damages!

2005-02-16 11:20  giannozz

	* atomic/: scf.f90, sic_correction.f90, vxc_t.f90:

	Slightly better SIC convergence; minor corrections here and there

2005-02-16 09:44  sbraccia

	* Modules/control_flags.f90, PW/c_bands.f90, PW/sum_band.f90:

	Typo fixed.
	C.S.

2005-02-14 17:42  degironc

	* PW/potinit.f90:

	v_of_rho should be called after charge density rescaling

2005-02-12 18:08  dalcorso

	* Modules/pseudo_types.f90, Modules/readpseudo.f90,
	  atomic/read_pseudoupf.f90, atomic/run_test.f90,
	  atomic/write_upf.f90:

	The core radii are written in the pseudopotential file and used by the
	atomic code to improve the estimate of the starting charge in a
	pseudo-test calculation.

2005-02-11 18:12  dalcorso

	* atomic/set_rho_core.f90:

	If rel=2 the core charge is calculated with both components of the
	solution of the radial Dirac equation.

2005-02-11 16:47  giannozz

	* Doc/INPUT_PW:

	Documentation update

2005-02-11 16:47  giannozz

	* PW/: electrons.f90, setup.f90:

	Tetrahedra + nscf: always use the correct sysmmetry, or otherwise
	the calculation of Efermi (performed at the beginning) will fail.
	Same for smearing + nscf: needed for DOS calculations. Since Efermi
	is calculated anyway in nscf, calculate and print a good value.
	Beware: this may change once again the number of k-points used in a
	nscf calculation if not all the symmetry is present ...

2005-02-11 14:06  sbraccia

	* Modules/control_flags.f90, PW/c_bands.f90, PW/sum_band.f90:

	Small speed-up of the first diagonalisation (this at each ionic step).
	C.S.

2005-02-11 12:26  giannozz

	* atomic_doc/: INPUT_LD1, all-electron/reference/ar.out,
	  all-electron/reference/cu.out, all-electron/reference/cu1.out,
	  all-electron/reference/f.out, all-electron/reference/fe.out,
	  all-electron/reference/mg.out, all-electron/reference/pt.out,
	  all-electron/reference/u.out, all-electron/reference/u1.out,
	  all-electron/reference/w.out, pseudo-gen/reference/al.out,
	  pseudo-gen/reference/as.out, pseudo-gen/reference/o.out,
	  pseudo-gen/reference/pt.out, pseudo-gen/reference/si_nc.out,
	  pseudo-gen/reference/si_nc_paw.out:

	Documentation and tests updated

2005-02-11 12:18  giannozz

	* atomic/: descreening.f90, elsdps.f90, gener_pseudo.f90, ld1.f90,
	  ld1_readin.f90, ld1_setup.f90, ld1_writeout.f90, ld1inc.f90,
	  lderivps.f90, read_newpseudo.f90, read_pseudo.f90,
	  run_pseudo.f90:

	Cleanup of the mess with spin-orbit and semilocal PP

2005-02-11 11:11  ballabio

	* configure, configure.ac:

	added support for SUNperf library [Gerardo]

2005-02-11 09:35  giannozz

	* atomic/: ascheqps.f90, descreening.f90, gener_pseudo.f90,
	  ld1_writeout.f90, write_pseudo.f90:

	Yet another bug in norm-conserving PP generation if the test and
	reference configurations are not the same.
	The solution of KS equation for PP could loop forever in some cases.

2005-02-10 17:57  dalcorso

	* atomic/: ld1_setup.f90, ld1inc.f90:

	Unused variable nstoaes  removed.

2005-02-10 11:58  giannozz

	* PW/summary.f90:

	UMA => AMU

2005-02-10 11:57  giannozz

	* Modules/path_formats.f90:

	L => L1

2005-02-09 14:38  giannozz

	* atomic_doc/INPUT_LD1:

	Documentation updated

2005-02-09 14:34  giannozz

	* atomic/: compute_chi.f90, gener_pseudo.f90, ld1_setup.f90:

	Minor bug in Martins-Troullier norm-conserving PP generation
	when rcloc > rc(l)

2005-02-08 16:36  fratesi

	* Doc/ChangeLog:

	Doc update
	GF

2005-02-08 16:32  fratesi

	* atomic_doc/: ChangeLog, INPUT_LD1:

	Updated documentation.
	G.F.

2005-02-08 15:54  fratesi

	* atomic/: atomic_paw.f90, gener_pseudo.f90:

	Debugging messages removed
	G.F

2005-02-08 15:31  fratesi

	* atomic/: Makefile, atomic_paw.f90, compute_phi.f90,
	  gener_pseudo.f90, ld1_readin.f90, ld1_writeout.f90, ld1inc.f90,
	  run_pseudo.f90, set_rho_core.f90, vdpack.f90:

	ld1 should be able to generate and test Projector Augmented Wave setups.

	 * Experimental *

	Guido Fratesi

2005-02-08 14:33  giannozz

	* atomic_doc/pseudo-test/: clean.sh, reference/al.out,
	  reference/as.out, reference/ga.out, reference/ni.out,
	  reference/rh.out, reference/s.out:

	Atomic tests updated

2005-02-08 14:29  giannozz

	* atomic_doc/pseudo-gen/: al.in, as.in, clean.sh, o.in, pt.in,
	  si_nc.in, si_nc_paw.in, reference/al.out, reference/as.out,
	  reference/o.out, reference/pt.out, reference/si_nc.out,
	  reference/si_nc_paw.out:

	ATomic tests updated

2005-02-08 14:26  giannozz

	* atomic_doc/all-electron/: test.job, reference/ar.out,
	  reference/cu.out, reference/cu1.out, reference/f.out,
	  reference/fe.out, reference/mg.out, reference/pt.out,
	  reference/u.out, reference/u1.out, reference/w.out:

	Atomic examples updated

2005-02-08 14:22  giannozz

	* atomic/: gener_pseudo.f90, ld1.f90, ld1_readin.f90,
	  ld1_setup.f90, write_upf.f90:

	Minor cleanup

2005-02-07 16:35  degironc

	* Makefile:

	minor fix for "make veryclean"

2005-02-07 15:59  giannozz

	* atomic/: ascheqps.f90, descreening.f90, gener_pseudo.f90,
	  pseudovloc.f90:

	Minor cleanup

2005-02-07 07:54  sbraccia

	* PW/: sum_band.f90, wfcinit.f90:

	k-points parallelisation was not working in the case of occupations from input
	(gamma+LSDA). Fixed. C.S.

2005-02-06 12:05  sbraccia

	* Modules/path_variables.f90:

	oops ...

2005-02-06 12:04  sbraccia

	* Doc/INPUT_PW, Modules/input_parameters.f90,
	  Modules/path_base.f90, Modules/path_variables.f90,
	  Modules/read_namelists.f90, PW/compute_scf.f90, PW/init_pool.f90,
	  PW/input.f90:

	Fixed other problems related to the image-parallelisation of NEB and SMD.
	Documentation updated.
	C.S.

2005-02-04 11:43  dalcorso

	* atomic/Makefile, atomic/pseudo_types.f90,
	  atomic/read_pseudo_module.f90, atomic/read_pseudoupf.f90,
	  atomic_doc/pseudo-test/clean.sh:

	The atomic code now uses the PW Modules to read UPF pseudopotentials.

2005-02-03 19:20  giannozz

	* atomic/: ascheqps.f90, ld1_writeout.f90, pseudovloc.f90,
	  read_pseudo.f90, write_pseudo.f90:

	Minor changes

2005-02-03 10:07  giannozz

	* TODO, Doc/BUGS, atomic/ascheqps.f90, atomic/ld1_readin.f90,
	  atomic/write_upf.f90, atomic_doc/ChangeLog, atomic_doc/INPUT_LD1,
	  atomic_doc/pseudo-gen.tex, pwtools/ev.f:

	Bad default for relativistic/nonrelativistic atomic calculation
	Misc documentation updates

2005-02-02 14:41  degironc

	* configure, configure.ac:

	added Raman and atomic in the list of directories that need intel.pcl
	file (for old version of ifc).

	stefano

2005-02-01 17:59  sbraccia

	* Modules/path_base.f90, Modules/path_variables.f90,
	  PW/compute_scf.f90:

	Fixed some bugs in path_base. image-parallelisation of NEB and SMD modified in order
	to be compatible with global filesystems exported via NFS (needed by N.Marzari's group).
	NEB and SMD still require a global filesystem.
	C.S.

2005-02-01 17:50  degironc

	* PP/projwfc.f90:

	small error in l-projectet atomic-charge print-out fixed

2005-02-01 16:24  giannozz

	* atomic/run_pseudo.f90:

	Minor cleanup

2005-02-01 15:05  giannozz

	* atomic/ld1_writeout.f90:

	Fixed multiple bugs in UPF output introduced with the last changes

2005-02-01 14:01  giannozz

	* atomic/: ascheqps.f90, elsdps.f90, ld1.f90, read_pseudo.f90,
	  scf.f90, write_upf.f90:

	Fixed minor inconsistencies in reading NC-PP and in writing UPF
	Removed some debugging messages  of questionable usefulness

2005-02-01 13:19  ballabio

	* Modules/path_base.f90:

	another g95 fix [Gerardo]

2005-02-01 12:37  ballabio

	* Modules/path_formats.f90:

	another X -> 1X [Gerardo]

2005-02-01 12:35  ballabio

	* configure, configure.ac:

	fixed library path for g95 at cineca [Gerardo]

2005-02-01 11:36  sbraccia

	* Modules/basic_algebra_routines.f90, Modules/bfgs_module.f90,
	  Modules/path_base.f90, Modules/path_formats.f90,
	  Modules/path_io_routines.f90, Modules/path_opt_routines.f90,
	  Modules/path_variables.f90, PW/compute_scf.f90:

	The code which implements the zero temperature string dynamics in pwscf has been rewritten.
	Added The Broyden acceleration scheme for path optimisations (not yet tested).
	Finite temperature string dynamics (langevin dynamics) fully implemented (for the moment only in pwscf).
	C.S.

2005-02-01 10:21  degironc

	* Doc/BUGS, Modules/path_base.f90:

	 a FORALL statement replaced with a do/enddo.
	 code was craching with ifc 7.0
	 stefano

2005-01-31 23:07  giannozz

	* atomic/: el_config.f90, lderiv.f90, lderivps.f90, run_test.f90:

	Fixed some errors added with the last changes

2005-01-31 19:54  giannozz

	* atomic_doc/INPUT_LD1:

	Atomic code documentation updated

2005-01-31 19:53  giannozz

	* atomic/: Makefile, ld1.f90, ld1_readin.f90, ld1_setup.f90,
	  ld1inc.f90, lderiv.f90, lderivps.f90, openfil.f90, run_test.f90:

	pseudopotential code: input cleanup, simplified mechanism for file
	names, re-introduced the possibility to use different configurations
	for PP generation and for PP descreening

2005-01-31 16:04  dalcorso

	* PW/setup.f90:

	Fixed a bug in the j-average of KB pseudopotentials. Added some consistency
	checks.

2005-01-31 12:29  giannozz

	* CPV/para.f90:

	more x => 1x

2005-01-31 11:05  giannozz

	* flib/lapack.f:

	Missing lapack routines added

2005-01-31 10:25  smogunov

	* Doc/INPUT_PWCOND:

	Modified doc file for PWCOND

2005-01-28 19:07  giannozz

	* atomic/: run_pseudo.f90, run_test.f90, write_resultsps.f90:

	Minor bug in output

2005-01-28 18:59  smogunov

	* examples/example22/reference/pt.cond.out:

	Changed the output file for PWCOND example with spin-orbit (A. Smogunov)

2005-01-28 18:38  smogunov

	* examples/example22/run_example:

	Modified the PWCOND example with spin-orbit coupling (A. Smogunov)

2005-01-28 18:19  smogunov

	* examples/example12/: README, run_example,
	  reference/AlwireAl.cond.out, reference/AlwireH.cond.out,
	  reference/AlwireH.scf.out, reference/al.cond.out,
	  reference/al.scf.out, reference/alwire.cond.out,
	  reference/alwire.scf.out, reference/alwire1.scf.out,
	  reference/bands.al.co, reference/bands.al.im,
	  reference/bands.al.re, reference/bands.alwire.co,
	  reference/bands.alwire.im, reference/bands.alwire.re,
	  reference/bands.ni_down.co, reference/bands.ni_down.im,
	  reference/bands.ni_down.re, reference/ni.cond.out,
	  reference/ni.scf.out, reference/trans.alwireh:

	Modified examples for PWCOND (A. Smogunov)

2005-01-28 18:10  smogunov

	* PWCOND/: Makefile, allocate_cond.f90, allocate_cond_2.f90,
	  compbs.f90, compbs_2.f90, cond_out.f90, condcom.f90, do_cond.f90,
	  form_zk.f90, four.f90, free_mem.f90, gep_gep.f90, gep_x.f90,
	  init_cond.f90, init_gper.f90, init_orbitals.f90, jbloch.f90,
	  kbloch.f90, local.f90, local_set.f90, poten.f90, rotproc.f90,
	  save_cond.f90, scatter_back.f90, scatter_forw.f90, slabcpu.f90,
	  summary_tran.f90, transmit.f90:

	Modified the transmission code PWCOND so that now it works
	with the separate files describing the leads and the scattering region (more accurate
	description of the complex bands of the leads) as well as with the unique file
	containing the scattering region + the leads. Added an option allowing to save on
	a text file (machine independent) the data needed for PWCOND run.

2005-01-28 17:55  cavazzon

	* CPV/Makefile:

	-small fix

2005-01-28 17:24  cavazzon

	* CPV/Makefile, CPV/cp_version.f90, CPV/environment.f90,
	  CPV/fft.f90, CPV/fftdrv.f90, CPV/print_out.f90,
	  CPV/spharmonic.f90, CPV/version.f90, Modules/fft_base.f90,
	  Modules/iotk_base.f90, Modules/iotk_external.f90,
	  Modules/iotk_interface.f90, Modules/iotk_module.f90,
	  Modules/iotk_multitype_character.f90,
	  Modules/iotk_multitype_complex.f90,
	  Modules/iotk_multitype_integer.f90,
	  Modules/iotk_multitype_logical.f90,
	  Modules/iotk_multitype_real.f90, PP/pw_export.f90,
	  include/iotk_config.h:

	- lighter and more robust iotk modules
	- new pw_export

2005-01-28 16:43  giannozz

	* atomic/: ld1_readin.f90, write_resultsps.f90:

	zval no longer needed in output for PP generation

2005-01-28 16:40  smogunov

	* Modules/io_files.f90:

	Added some input/ouput files used by PWCOND

2005-01-28 15:30  giannozz

	* atomic_doc/INPUT_LD1, atomic_doc/all-electron/AAREADME,
	  atomic_doc/pseudo-test/al.in, atomic_doc/pseudo-test/as.in,
	  atomic_doc/pseudo-test/ga.in, atomic_doc/pseudo-test/ni.in,
	  atomic_doc/pseudo-test/o.in, atomic_doc/pseudo-test/rh.in,
	  atomic_doc/pseudo-test/s.in, atomic_doc/pseudo-test/test.job,
	  atomic/ld1_readin.f90, atomic/ld1_writeout.f90,
	  atomic/read_newpseudo.f90, atomic/write_upf.f90:

	More PP copde cleanup - almost all functionalities restored

2005-01-28 10:17  giannozz

	* CPV/para.f90:

	format x is nonstandard, use 1x

2005-01-27 19:45  giannozz

	* atomic/ld1_readin.f90, atomic_doc/INPUT_LD1:

	Atomic cleanup again - one obvious bug fixed

2005-01-27 19:15  giannozz

	* atomic/ld1_readin.f90, atomic/run_test.f90,
	  atomic/write_pseudo.f90, atomic/write_results.f90,
	  atomic_doc/INPUT_LD1, atomic_doc/pseudo-gen/al.in,
	  atomic_doc/pseudo-gen/as.in, atomic_doc/pseudo-gen/o.in,
	  atomic_doc/pseudo-gen/pt.in, atomic_doc/pseudo-gen/si_nc.in,
	  atomic_doc/pseudo-gen/si_nc_paw.in:

	Cleanup of the atomic/pseudopotential code and of its input -
	not yet finished

2005-01-27 11:35  degironc

	* Doc/BUGS, pwtools/rigid.f90:

	     When imposing hermiticity in matdyn.x and dynmat.x codes in pwtools
	     routine dyndiag was actually computing the complex conjugate of
	     the dynamical matrix. Eigenvectors were therefore wrong, while
	     eigenvalues were fine.  Found by  Nicolas Mounet

2005-01-26 19:15  giannozz

	* PP/: dos.f90, projwfc.f90:

	Error in documentation for Fermi smearing fixed: -99, not 99

2005-01-26 18:00  giannozz

	* PW/update_pot.f90:

	SP4 doesn't like space between ELSE and WHERE

2005-01-26 17:32  ballabio

	* configure, configure.ac:

	another bug fix with libraries [Gerardo]

2005-01-26 15:34  ballabio

	* configure, configure.ac:

	configure always assumes to be cross-compiling [Gerardo]

2005-01-26 12:24  ballabio

	* configure, configure.ac:

	fixed detection of mass libraries [Gerardo]

2005-01-26 11:15  cavazzon

	* CPV/brillouin.f90, CPV/cg.f90, CPV/cg_sub.f90, CPV/cpr.f90,
	  CPV/efield.f90, CPV/emptystates.f90, CPV/exch_corr.f90,
	  CPV/input.f90, CPV/ksstates.f90, CPV/main.f90,
	  CPV/path_routines.f90, CPV/periodic.f90, CPV/potentials.f90,
	  CPV/pseudopot.f90, CPV/runcp.f90, CPV/smcp.f90,
	  Modules/cell_base.f90, Modules/read_cards.f90, PP/xctest.f90,
	  flib/more_functionals.f90:

	- more CP90/FPMD merging
	- fix in the FPMD xc functionals wrapper

2005-01-25 14:53  dalcorso

	* Doc/: INPUT_NC, INPUT_PW:

	Merging of the documentation. The variables for noncollinear calculations
	are now described in INPUT_PW.

2005-01-21 16:57  sbraccia

	* PW/update_pot.f90:

	Fixed a bug in the charge extrapolation: the presence of old charge density files was checked by all processors.
	Now only ionode checks and broadcasts the result.
	C.S.

2005-01-21 16:06  giannozz

	* PW/: input.f90, pwcom.f90, vcsmd.f90, vcsubs.f90:

	ttol => tolp

2005-01-19 15:33  giannozz

	* examples/example04/run_example:

	potential_extrapolation => {wfc,pot}_extrapolation

2005-01-17 19:34  giannozz

	* Doc/CREDITS, Doc/INPUT_PW, GUI/PWgui/modules/pw/pw-help.tcl,
	  GUI/PWgui/modules/pw/pw.tcl:

	ttol => tolp : update documentation and GUI

2005-01-17 19:33  giannozz

	* CPV/: cplib.f90, fft.f90, fftdrv.f90, init.f90, ions.f90,
	  ksstates.f90, main.f90, ortho.f90, potentials.f90, print_out.f90,
	  pseudo_base.f90, runcg.f90, runcg_ion.f90, runcp.f90,
	  rundiis.f90, runsd.f90, stress.f90:

	At least some versions of the pgi compiler don't like the "external"
	definition with "::" as in "EXTERNAL :: cclock"

2005-01-17 12:50  kokalj

	* GUI/PWgui/: ChangeLog, VERSION:

	[no log message]

2005-01-17 12:47  kokalj

	* GUI/PWgui/examples/pw/al.scf.in:

	[no log message]

2005-01-17 12:47  kokalj

	* GUI/PWgui/src/run.itcl:

	fixing regsub syntax bug

2005-01-17 12:46  kokalj

	* GUI/PWgui/modules/projwfc/: projwfc.tcl, projwfc-help.tcl:

	module updated to new projwfc.x syntax

2005-01-16 21:36  cavazzon

	* include/iotk_config.h:

	- iotk types for sgi ALTIX ( __LINUX64 __INTEL )

2005-01-16 16:25  cavazzon

	* include/iotk_config.h:

	- a more conservative type definition for iotk subroutine,
	  ok for: G95, ifort, pgi

2005-01-15 21:46  giannozz

	* README, README.configure, README.cvs, README.install,
	  README.install_old, Doc/CREDITS, Doc/README, Doc/manual.tex:

	ESPRESSO => Quantum-ESPRESSO

2005-01-15 21:07  cavazzon

	* CPV/cp_fpmd.f90, CPV/exch_corr.f90, CPV/fft.f90, CPV/input.f90,
	  CPV/potentials.f90, CPV/smcp.f90, Modules/control_flags.f90,
	  flib/more_functionals.f90:

	- workarounds for xlf compiler

2005-01-15 12:05  cavazzon

	* Makefile:

	- fixed a bug in make clean ( a "\" was missed )

2005-01-15 11:58  cavazzon

	* Modules/: iotk_base.f90, iotk_external.f90, iotk_module.f90:

	- lighter iotk library

2005-01-15 11:53  cavazzon

	* CPV/Makefile, CPV/bmesh.f90, CPV/cg_sub.f90,
	  CPV/chargedensity.f90, CPV/chargemix.f90, CPV/chi2.f90,
	  CPV/cp_fpmd.f90, CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90,
	  CPV/cptypes.f90, CPV/environment.f90, CPV/exch_corr.f90,
	  CPV/fft.f90, CPV/fft_cp.f90, CPV/fftdrv.f90, CPV/forces.f90,
	  CPV/fromscra.f90, CPV/gsmesh.f90, CPV/init.f90, CPV/input.f90,
	  CPV/ions.f90, CPV/ksstates.f90, CPV/main.f90, CPV/mainvar.f90,
	  CPV/modules.f90, CPV/noseion.f90, CPV/ortho.f90, CPV/para.f90,
	  CPV/path_routines.f90, CPV/potentials.f90, CPV/print_out.f90,
	  CPV/pseudopot.f90, CPV/read_pseudo.f90, CPV/restart.f90,
	  CPV/restart_sub.f90, CPV/rsmesh.f90, CPV/runcg.f90,
	  CPV/runcp.f90, CPV/smcp.f90, CPV/stress.f90, CPV/turbo.f90,
	  CPV/vofrho2.f90, CPV/wannier.f90, CPV/wf.f90, Modules/Makefile,
	  Modules/berry_phase.f90, Modules/cell_base.f90,
	  Modules/control_flags.f90, Modules/electrons_base.f90,
	  Modules/fft_types.f90, Modules/griddim.f90,
	  Modules/ions_base.f90, Modules/iotk_base.f90,
	  Modules/iotk_external.f90, Modules/iotk_interface.f90,
	  Modules/iotk_module.f90, Modules/iotk_multitype.f90,
	  Modules/iotk_multitype_character.f90,
	  Modules/iotk_multitype_complex.f90,
	  Modules/iotk_multitype_integer.f90,
	  Modules/iotk_multitype_logical.f90,
	  Modules/iotk_multitype_real.f90, Modules/printout_base.f90,
	  Modules/recvec.f90, Modules/stick_base.f90,
	  Modules/wave_base.f90, PP/Makefile, PP/pw_export.f90,
	  flib/more_functionals.f90, include/f_defs.h,
	  include/iotk_config.h:

	- more CP90/FPMD merging: fft high level driver, iosys, exchange-correlation
	- some subroutine shortened and simplyfied to make compilation easy

2005-01-14 14:03  kokalj

	* GUI/PWgui/THANKS:

	[no log message]

2005-01-14 13:12  ballabio

	* configure, configure.ac:

	fix for problem on a Sun [Gerardo]

2005-01-14 12:32  ballabio

	* Makefile, configure, configure.ac:

	fixed problem when $(MAKE) wasn't defined [Gerardo]

2005-01-12 15:19  giannozz

	* Doc/BUGS, Doc/INPUT_Gamma, Gamma/cg_readin.f90, Gamma/cgcom.f90,
	  Gamma/phcg.f90:

	Raman with finite differences should work again

2005-01-11 10:15  degironc

	* PH/: allocate_phq.f90, newdq.f90, phcom.f90:

	bug fix in phonon code.
	Array int3 (used in US case) was incorrectly dimensioned as int3(...,3,...)
	instead of int3(...,max_irr_dim,...).
	This generated incorrect results in an US phonon calculation when irreducible
	reresentations with dimension larger than 3 (currently max_irr_dim is 4)
	were found.

2005-01-10 19:18  giannozz

	* README.cvs, README.install, README.install_old, Doc/INPUT_PW,
	  Doc/manual.tex:

	Minor corrections iand updates to the documentation

2005-01-10 19:17  sbraccia

	* examples/example03/README:

	Fixed a small error in the README (highlighted by G.Fratesi). C.S.

2005-01-10 07:56  sbraccia

	* Doc/INPUT_PW, Gamma/phcg.f90, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/close_files.f90, PW/compute_scf.f90, PW/hinit1.f90,
	  PW/input.f90, PW/move_ions.f90, PW/openfil.f90,
	  PW/update_pot.f90, Doc/INPUT_FPMD,
	  examples/example03/run_example, examples/example17/run_example:

	Order in wavefunctions extrapolation made independent from the order in potential extrapolation.
	The input keyword "potential_extrapolation" has been substituted by two separate keywords "pot_extrapolation" and "wfc_extrapolation".
	Default values are still 'atomic' for the former and 'none' for the latter. Documentation updated.
	C.S.

2005-01-07 17:30  sbraccia

	* PW/move_ions.f90:

	Added a check to avoid division by zero. C.S.

2005-01-07 17:26  sbraccia

	* PW/dynamics.f90:

	Some improvements in the Velocity rescaling. C.S.

2005-01-07 17:03  sbraccia

	* Makefile:

	Make veryclean corrected. C.S.

2005-01-07 15:03  giannozz

	* CPV/cglib.f90:

	Variable "n" was accessed by two different modules

2005-01-07 14:12  giannozz

	* PW/: cft_3.f90, para.f90:

	Oops, nprocp => nproc_pool ...

2005-01-07 13:57  giannozz

	* CPV/ortho.f90, D3/Makefile, Doc/README, Gamma/Makefile,
	  Modules/fft_base.f90, Modules/fft_scalar.f90, Modules/mp.f90,
	  Modules/mp_buffers.f90, Modules/mp_wave.f90,
	  Modules/parallel_include.f90, Modules/ptoolkit.f90, PH/Makefile,
	  PH/symdynph_gq.f90, PP/Makefile, PW/Makefile, PW/cft_3.f90,
	  PW/cft_sgi.f90, PW/dqvan2.f90, PW/init_paw_1.f90, PW/io_pot.f90,
	  PW/para.f90, PW/potinit.f90, PWCOND/Makefile, install/Make.altix:

	Added optimized support for ALTIX machines - contributed by Martin Hilgeman

2005-01-07 09:52  giannozz

	* PW/mix_rho.f90:

	removed the need for "reshape" operations (they give trouble with ifort 8.1
	and are anyway useless and confusing)

2005-01-05 18:42  dalcorso

	* PP/: bands.f90, cgracsc.f90:

	Bands.f90 generalized. Now it can deal with also with the LSDA,
	the noncolinear and the spin-orbit case.

2005-01-05 18:23  giannozz

	* README, README.install, README.install_old, TODO, configure,
	  configure.ac, configure.old, makedeps.sh, release.sh:

	All mentions of obsolete directory PWNC/ removed

2005-01-05 18:22  dalcorso

	* Doc/manual.tex, examples/README, examples/example13/run_example,
	  examples/example22/README, examples/example22/run_example:

	Merging of PW and PWNC. Update of the documentation.

2005-01-05 17:43  dalcorso

	* PW/: becmod.f90, c_bands.f90, compute_rho.f90, electrons.f90,
	  force_cc.f90, force_us.f90, g_psi_mod.f90, noncol.f90,
	  openfil.f90, orthoatwfc.f90, potinit.f90, pwcom.f90,
	  restart_in_ions.f90, sum_band.f90, update_pot.f90, wfcinit.f90:

	Merging of PWNC and PW. Step II. These routines have been merged.

2005-01-05 17:34  giannozz

	* atomic_doc/: INPUT_LD1, README:

	Minor documentation update

2005-01-05 17:33  giannozz

	* atomic/: ld1_writeout.f90, write_upf.f90:

	UPF output for single-projector MT PP should work now
	dftname => dft_name (conflict with dftname in flib/more_functionals.f90)

2005-01-05 17:26  dalcorso

	* Makefile, D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PP/ccalbec_nc.f90, PW/Makefile, PW/add_vuspsi_nc.f90,
	  PW/atomic_wfc_nc.f90, PW/ccalbec_nc.f90, PW/ccgdiagg_nc.f90,
	  PW/cdiisg_nc.f90, PW/cegterg_nc.f90, PW/cgramg1_nc.f90,
	  PW/cinitcgg_nc.f90, PW/g_psi_nc.f90, PW/get_locals.f90,
	  PW/gradcorr_nc.f90, PW/h_1psi_nc.f90, PW/h_psi_nc.f90,
	  PW/mix_rho_nc.f90, PW/psymrho_mag.f90, PW/report_mag.f90,
	  PW/rotate_wfc_nc.f90, PW/s_psi_nc.f90, PW/symrho_mag.f90,
	  PW/usnldiag_nc.f90, PW/v_of_rho_nc.f90, PW/vhpsi_nc.f90,
	  PWCOND/Makefile:

	Merging of PWNC and PW. pw.x should now work for collinear,
	noncolinear and spin-orbit cases. pwnc.x is no more needed and the
	directory PWNC and all its files will be removed.
	Step one: added to PW the noncolinear routines that have not been
	merged, changes on all the Makefiles.

2005-01-05 16:22  dalcorso

	* D3/d3_readin.f90, Gamma/cg_readin.f90, PH/phq_readin.f90:

	The noncolinear version is not working in these programs. Added a call errore
	in these cases.

2005-01-05 15:11  dalcorso

	* PW/electrons.f90, PW/make_pointlists.f90, PWCOND/local.f90:

	electrons.f90 : charge_new is not checked with potential mixing.
	make_pointlists.f90 : small change
	local.f90 : Bug fix. PWCOND was not working in parallel machines with
	            the recently introduced variables me_pool and root_pool.
	            (contributed by A. Smogunov)

2004-12-31 15:19  cavazzon

	* CPV/mainvar.f90:

	- addition of a new file (forgotten in previous commit)

2004-12-31 12:14  cavazzon

	* CPV/Makefile, CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90,
	  CPV/exch_corr.f90, CPV/gga.f90, CPV/input.f90, CPV/lda.f90,
	  CPV/lsd.f90, CPV/main.f90, CPV/potentials.f90,
	  CPV/problem_size.f90, CPV/restart_sub.f90, CPV/smcp.f90,
	  CPV/stress.f90, D3/Makefile, Gamma/Makefile,
	  Modules/cell_base.f90, PH/Makefile, PP/Makefile, PP/xctest.f90,
	  PW/Makefile, PW/functionals.f90, PW/lsda_functionals.f90,
	  PWCOND/Makefile, atomic/Makefile, flib/Makefile,
	  flib/functionals.f90, flib/lsda_functionals.f90,
	  flib/more_functionals.f90:

	- common xc and gga functionals subroutines for all code PW/CP/FPMD
	- Few more functionals has been added to file more_functionals.f90
	  since in PW BLYP/LSDA were not implemented .
	  In the same file, temporary, are stored old CP90 subroutines
	  for testing purpose ( in CP functionals were vectorized!! ).
	  The small program PP/xctest.f90 can be used to make a comparative
	  test between new and old routines, in case someone suspect a problem
	  there.
	- buon anno!

2004-12-22 19:34  giannozz

	* TODO:

	ifort 8.1 doesn't like large automatic arrays
	Several of them replaced by allocatable arrays in Raman

2004-12-22 17:07  giannozz

	* PW/: bp_c_phase.f90, move_ions.f90:

	- Berry Phase: ifort 8.1 doesn't like large automatic arrays
	  Allocate exoplicitly array ln (which should be integer anyway)
	- move_ions: fix for variable cell (istep must be broadcast)
	  plus other changes by Dario and Carlo S.

2004-12-21 19:20  sbraccia

	* include/f_defs.h:

	The case LAM && LINUX64 must also be considered.
	C.S.

2004-12-21 19:00  giannozz

	* include/f_defs.h:

	MPI_REAL8 was redefined in all cases on Linux. It should be redefined
	only if __LAM is defined.

2004-12-21 18:54  ballabio

	* configure, configure.ac, make.sys.in:

	fixed conflict with make flags [Gerardo]

2004-12-21 18:14  sbraccia

	* PW/mix_rho.f90:

	Fixed a problem in modules use.
	C.S.

2004-12-21 17:55  ballabio

	* Makefile:

	[no log message]

2004-12-21 17:54  ballabio

	* Makefile:

	toplevel Makefile must include make.sys otherwise $(MAKE) may not be
	defined [Gerardo]

2004-12-21 16:48  cavazzon

	* CPV/Makefile, CPV/berryion.f90, CPV/bforceion.f90, CPV/cg.f90,
	  CPV/cg_sub.f90, CPV/cglib.f90, CPV/cp_fpmd.f90,
	  CPV/cp_restart.f90, CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90,
	  CPV/dforceb.f90, CPV/dipol_matrix.f90, CPV/efermi.f90,
	  CPV/efield.f90, CPV/eigs0.f90, CPV/eigsp.f90, CPV/electrons.f90,
	  CPV/ensemble_dft.f90, CPV/fromscra.f90, CPV/gtable.f90,
	  CPV/input.f90, CPV/para.f90, CPV/print_out.f90, CPV/qmatrixd.f90,
	  CPV/qqberry.f90, CPV/restart.f90, CPV/restart_sub.f90,
	  CPV/runcp.f90, CPV/smcp.f90, CPV/smd.f90, CPV/vofrho2.f90,
	  CPV/wannier.f90, CPV/wave.f90, CPV/ylmr.f90,
	  Modules/control_flags.f90, Modules/electrons_base.f90,
	  Modules/energies.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90:

	- added ensemble dft
	- added ensemble dft / conjugate gradient / electric field
	  from Paolo Umari / Marzari code
	- NOT YET TESTED!!

2004-12-21 16:47  ballabio

	* configure, configure.ac, make.sys.in:

	Sun compiler wants -M instead of -I to look for modules [Gerardo]

2004-12-21 16:46  sbraccia

	* Modules/: path_opt_routines.f90, path_variables.f90:

	forgotten in the previous commit C.S.

2004-12-21 16:29  sbraccia

	* Modules/path_base.f90, Modules/path_io_routines.f90,
	  pwtools/path_int.f90:

	Implemented a new and cleaner way of rescaling the elastic constants. Some bugs
	affecting the I/O of the restart file fixed. Added a check on the existence of
	such file. Path interpolator facility updated (now it should work with all the
	versions of restart files). C.S.

2004-12-21 16:28  sbraccia

	* PW/compute_scf.f90:

	Fixed a bug in the potential-extrapolation occurring in the case of
	path-optimizations (neb and smd). Some cleanup.

2004-12-21 16:28  sbraccia

	* Modules/parser.f90, PW/electrons.f90, PW/mix_rho.f90,
	  PW/potinit.f90, PW/rho2zeta.f90, PW/update_pot.f90:

	Mixing scheme modified in order to conserve the total charge.
	The charge is renormalized at nelec after it has been generated from atomic
	densities. It is also renormalized to nelec after the extrapolation procedure.
	Added a further check in electrons. rho2zeta modified so that the forward and
	backward procedure are exactly one the opposite of the other. Fixed a bug in
	update_pot : the wavefinctions were not extrapolated in parallel runs.
	Global cleanup of these routines: level 1 blas removed. C.S.

2004-12-21 16:25  sbraccia

	* PW/c_bands.f90:

	istep was used instead of iter to set the diagonalization thresholds. C.S.

2004-12-20 18:11  ballabio

	* PW/cft_3.f90:

	fixed problem when both __FFTW and __SUN are defined [Gerardo]

2004-12-20 11:04  giannozz

	* TODO, CPV/Makefile, PW/divide_et_impera.f90, PW/move_ions.f90,
	  PW/summary.f90, flib/error.f90:

	Misc minor fixes from Axel Kohlmeyer

2004-12-17 17:57  ballabio

	* README.cvs:

	Corrected instructions: after a "cvs update", it is usually enough to
	run "makedeps.sh".  To rerun "configure" is only seldom needed.
	[Gerardo]

2004-12-17 17:16  degironc

	* PW/move_ions.f90:

	 at_old, omega_old, and omega from celldm and cell_base modules
	 were not accessed

2004-12-17 16:43  giannozz

	* PW/move_ions.f90, PW/scale_h.f90, Doc/BUGS:

	Very serious bug in variable-cell dynamics and optimization:
	some variables were not broadcast, parallel case not working

2004-12-16 17:58  giannozz

	* Doc/BUGS, PW/input.f90:

	Berry phase calculation in parallel should have been disabled
	(but actually it wasn't, due to a bad check)

2004-12-15 12:30  degironc

	* PP/local_dos.f90:


	15 Dec 2004   some cleanup in the checks on iflag, lsign, kpoints etc.

2004-12-14 17:18  giannozz

	* TODO, Doc/BUGS, Doc/ChangeLog, PW/restart.f90:

	Small bug in readfile_config when restarting without a "*.save" file
	(courtesy of Fernando Reboredo)

2004-12-14 15:08  cazzato

	* configure, configure.ac:

	Added path for mkl 7.2

2004-12-14 09:43  sbraccia

	* PW/: c_bands.f90, electrons.f90, wfcinit.f90:

	At the first scf iteration band occupations are no longer set in wfcinit and ethr does not
	depend any longer on the band occupation.
	Fixed a bug occurring in the potential mixing (parallel case only).
	C.S.

2004-12-13 17:21  ballabio

	* Modules/iotk_base.f90:

	fix for g95 problem [Gerardo]

2004-12-13 15:28  ballabio

	* atomic/read_pseudo_module.f90:

	symbol declared twice, fixed [Gerardo]

2004-12-13 14:11  degironc

	* Doc/ChangeLog, flib/sph_bes.f90:

	13 Dec 2004 sph_bes.f90 in flib was incorrect for some high value of l (SdG)

2004-12-10 16:33  giannozz

	* atomic/: all_electron.f90, ascheq.f90, ascheqlocps.f90,
	  ascheqps.f90, cfdsol.f90, charge.f90, chargeps.f90,
	  compute_chi.f90, compute_det.f90, compute_phi.f90,
	  compute_phipot.f90, compute_phius.f90, compute_solution.f90,
	  constants.f90, descreening.f90, dir_outward.f90, dirsol.f90,
	  dmixp.f90, do_mesh.f90, elsd.f90, elsdps.f90, esic.f90,
	  exc_t.f90, find_qi.f90, gener_pseudo.f90, hartree.f90,
	  int_0_inf_dr.f90, integrate_inward.f90, integrate_outward.f90,
	  intref.f90, ld1_readin.f90, ld1_setup.f90, ld1_writeout.f90,
	  lderiv.f90, lderivps.f90, lschps.f90, new_potential.f90,
	  newd_at.f90, nodenum.f90, normalize.f90, pseudovloc.f90,
	  read_newpseudo.f90, read_pseudo.f90, read_pseudo_module.f90,
	  read_pseudoupf.f90, run_pseudo.f90, run_test.f90, scf.f90,
	  seriebes.f90, series.f90, set_rho_core.f90, sic_correction.f90,
	  start_potps.f90, starting_potential.f90, trou.f90, vext.f90,
	  vpack.f90, vxc_t.f90, vxcgc.f90, write_paw_recon.f90,
	  write_pseudo.f90, write_results.f90, write_resultsps.f90,
	  write_upf.f90:

	Cleanup of the atomic code by Pascal Thibaudeau - mostly cosmetic
	but some calls to lapack could lead to problems for some compilers

2004-12-10 16:20  cazzato

	* CPV/restart.f90, D3/Makefile, D3/d3_readin.f90, D3/d3_setup.f90,
	  D3/d3toten.f90, D3/set_d3irr.f90, D3/stop_d3.f90,
	  Doc/INPUT_CHDENS, Doc/INPUT_PH, Gamma/Makefile,
	  Modules/control_flags.f90, Modules/io_base.f90, PH/Makefile,
	  PH/dynmat0.f90, PH/dynmatrix.f90, PH/phonon.f90,
	  PH/phq_readin.f90, PH/phq_recover.f90, PH/phq_setup.f90,
	  PH/star_q.f90, PH/stop_ph.f90, PP/Makefile, PW/Makefile,
	  PW/electrons.f90, PW/hinit1.f90, PW/init_run.f90, PW/input.f90,
	  PW/ions.f90, PW/move_ions.f90, PW/pwscf.f90, PW/restart.f90,
	  PW/setup.f90, PW/sgama.f90, PW/smallg_q.f90, PW/stop_pw.f90,
	  PW/summary.f90, PWCOND/Makefile, examples/example02/README:

	iswitch flag removed; appropriate flags (as lscf, lmd, lphonon, etc.) should be used
	in particular (modenum.ne.0) stands for iswitch = -4 now: is it OK?
	unused show_memory routine also removed
	documentation updated

2004-12-10 15:03  giannozz

	* CPV/version.f90:

	cp_version defined twice

2004-12-10 13:12  degironc

	* CPV/make.depend, D3/make.depend, Gamma/make.depend,
	  Modules/make.depend, PH/make.depend, PP/make.depend,
	  PW/make.depend, PWCOND/make.depend, atomic/make.depend,
	  flib/make.depend, pwtools/make.depend, upftools/make.depend:

	make.depend files are gererated by configure and are therefore always seen
	as Modified by CVS. I think they should not be part of the CVS tree (SdG).

2004-12-10 09:58  degironc

	* Modules/iotk_external.f90:

	some compilers (including my old ifc 7.0) don't like lines exceeding
	132 characters

2004-12-09 08:31  sbraccia

	* Doc/INPUT_PW, Modules/read_namelists.f90:

	Default value for dt (MD time step) set to 20 a.u.
	Documentation updated.
	C.S.

2004-12-09 08:20  sbraccia

	* PW/: init_ns.f90, set_hubbard_l.f90:

	Fixed a bug in LDA+U (ns was not always initialized in the correct way). Some cleanup.
	C.S.

2004-12-07 09:25  giannozz

	* PP/stop_pp.f90:

	iuwfc => iunwfc

2004-12-07 09:24  giannozz

	* configure, configure.ac:

	No need to scare people with unnecessary WARNING

2004-12-02 16:53  degironc

	* PW/dndepsilon.f90:

	 the same bug present in force_hub was also present in stres_hub calculation

2004-12-01 17:52  giannozz

	* cvs2cl.pl, Doc/ChangeLog:

	Added "cvs2cl.pl" script as suggested by Axel to produce a detailed ChangeLog
	from CVS commit message (like this one)

2004-12-01 16:14  ballabio

	* examples/: README, example26/README, example26/run_example,
	  example26/reference/smd1.out, example26/reference/smd2.out,
	  example26/reference/smd3.out, example26/reference/smd4.out,
	  example26/reference/smd5.out, example26/reference/smd6.out,
	  example26/reference/smd7.out:

	Added new example (contributed by Yosuke Kanai) on using cp.x with the
	string method (SMD) to find minimum energy path (MEP). [Gerardo]

2004-12-01 15:05  giannozz

	* PW/para.f90:

	Define first array bounds, then the array (some compilers may complain)

2004-12-01 15:04  giannozz

	* Doc/: BUGS, manual.tex:

	Documentation update

2004-12-01 10:30  degironc

	* Doc/ChangeLog, PW/dndtau_of_k.f90, PW/forces.f90,
	  PW/set_hubbard_l.f90, PW/tabd.f90:

	Hubbard forces where wrong for nspin.eq.1 (SdG)

2004-11-29 10:55  giannozz

	* Doc/: ChangeLog, manual.tex:

	Documentation updated

2004-11-29 08:47  sbraccia

	* Doc/INPUT_PW, PW/input.f90:

	Fixed a problem with variable cell dynamics. Doc updated and cleaned.
	C.S.

2004-11-28 23:11  cavazzon

	* CPV/: compute_scf.f90, cp_restart.f90, cprstart.f90,
	  environment.f90, input.f90, read_pseudo.f90, start.f90:

	- CP/FPMD merging and clean-up

2004-11-26 20:22  cavazzon

	* CPV/Makefile, CPV/cplib.f90, CPV/cpr.f90, CPV/cprstart.f90,
	  CPV/environment.f90, CPV/input.f90, CPV/make.depend,
	  CPV/para.f90, CPV/pseudopot.f90, CPV/read_pseudo.f90,
	  CPV/readpseudo.f90, CPV/restart.f90, CPV/restart_sub.f90,
	  CPV/start.f90, Modules/control_flags.f90:

	- more CP/FPMD merging

2004-11-26 17:50  sbraccia

	* Doc/ChangeLog:

	[no log message]

2004-11-26 17:49  sbraccia

	* Doc/INPUT_PW, Modules/constants.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PW/constraints_module.f90, PW/dynamics.f90, PW/input.f90,
	  PW/move_ions.f90:

	Cleanup of the pwscf molecular dynamics stuff. Velocity rescaling fully implemented.
	Documentation updated. Unused variables and routines removed.
	C.S.

2004-11-26 11:12  cavazzon

	* CPV/Makefile, CPV/chargedensity.f90, CPV/cp_emass.f90,
	  CPV/cp_fpmd.f90, CPV/cp_restart.f90, CPV/cpr.f90,
	  CPV/cprstart.f90, CPV/cprsub.f90, CPV/emptystates.f90,
	  CPV/environment.f90, CPV/fromscra.f90, CPV/input.f90,
	  CPV/main.f90, CPV/main_loops.f90, CPV/make.depend,
	  CPV/restart.f90, CPV/restart_fpmd.f90, CPV/restart_sub.f90,
	  CPV/smcp.f90, CPV/smd.f90, CPV/start.f90, CPV/wannier.f90,
	  Modules/Makefile, Modules/cp_emass.f90, Modules/cp_fpmd.f90,
	  Modules/cp_restart.f90, Modules/make.depend:

	- more CP/FPMD merging
	- CP/FPMD specific modules moved back from Modules to CPV

2004-11-25 16:43  cavazzon

	* README, configure, configure.ac, configure.old, makedeps.sh,
	  release.sh, CPV/Makefile, CPV/input.f90, Modules/cell_base.f90:

	- some more changes relative to FPMD files

2004-11-25 16:15  giannozz

	* Doc/: ChangeLog, ChangeLog.cp, manual.tex:

	documentation update

2004-11-25 15:51  cavazzon

	* Makefile, makedeps.sh, CPV/Makefile, CPV/adjef.f90,
	  CPV/atoms_type.f90, CPV/band_type.f90, CPV/bessel.f90,
	  CPV/blacs.f90, CPV/bmesh.f90, CPV/brillouin.f90,
	  CPV/charge_types.f90, CPV/chargedensity.f90, CPV/chargemix.f90,
	  CPV/chi2.f90, CPV/compute_scf.f90, CPV/cprstart.f90,
	  CPV/cptypes.f90, CPV/cutoffs.f90, CPV/diis.f90,
	  CPV/electrons.f90, CPV/emptystates.f90, CPV/enthropy.f90,
	  CPV/environment.f90, CPV/exch_corr.f90, CPV/fft.f90,
	  CPV/fftdrv.f90, CPV/fields_type.f90, CPV/fnl.f90,
	  CPV/forceconv.f90, CPV/forces.f90, CPV/fpmdpp.f90,
	  CPV/fromscra.f90, CPV/geninv.f90, CPV/gga.f90, CPV/greenf.f90,
	  CPV/grid.f90, CPV/gsmesh.f90, CPV/guess.f90, CPV/indices.f90,
	  CPV/init.f90, CPV/input.f90, CPV/interfaces.f90,
	  CPV/interfaces_main.f90, CPV/ions.f90, CPV/ksstates.f90,
	  CPV/lda.f90, CPV/lsd.f90, CPV/main.f90, CPV/make.depend,
	  CPV/miller.f90, CPV/nl.f90, CPV/nl_base.f90, CPV/nlcc.f90,
	  CPV/noseele.f90, CPV/noseion.f90, CPV/optical.f90, CPV/ortho.f90,
	  CPV/ortho_base.f90, CPV/periodic.f90, CPV/phasefactor.f90,
	  CPV/polarization.f90, CPV/potentials.f90, CPV/print_out.f90,
	  CPV/problem_size.f90, CPV/pseudo_base.f90, CPV/pseudopot.f90,
	  CPV/pseudotab_base.f90, CPV/readpseudo.f90, CPV/restart_fpmd.f90,
	  CPV/rsmesh.f90, CPV/runcg.f90, CPV/runcg_ion.f90, CPV/runcp.f90,
	  CPV/rundiis.f90, CPV/runsd.f90, CPV/scalapack.f90,
	  CPV/spharmonic.f90, CPV/spline.f90, CPV/start.f90, CPV/stick.f90,
	  CPV/stress.f90, CPV/turbo.f90, CPV/update.f90, CPV/util.f90,
	  CPV/vanderwaals.f90, CPV/version.f90, CPV/wave.f90,
	  CPV/wave_types.f90, CPV/waveinit.f90, D3/make.depend,
	  Gamma/make.depend, Modules/control_flags.f90,
	  Modules/cp_restart.f90, PH/make.depend, PW/make.depend,
	  PWCOND/make.depend, atomic/make.depend:

	- FPMD files added to CPV directory
	- FPMD directory is no more needed

2004-11-25 14:53  ballabio

	* README.install, Doc/manual.tex:

	changed cross-compilation status from "unsupported" to "theoretically
	supported, but never tested" [Gerardo]

2004-11-25 12:33  ballabio

	* configure, configure.ac:

	workaround for problem with systems where you can't run interactively
	[Gerardo]

2004-11-24 18:34  ballabio

	* configure, configure.ac, make.sys.in:

	added F90FLAGS_NOOPT flag (asked by Carlo C.) [Gerardo]

2004-11-24 17:13  cavazzon

	* Makefile, CPV/make.depend, D3/make.depend, Gamma/make.depend,
	  PH/make.depend, PW/make.depend, PWCOND/make.depend,
	  atomic/make.depend, include/iotk_config.h:

	- updated dependencies and Makefiles

2004-11-24 15:48  cavazzon

	* Modules/Makefile, Modules/iotk_base.f90,
	  Modules/iotk_external.f90, Modules/iotk_module.f90,
	  Modules/make.depend, PP/Makefile, PP/pw_export.f90,
	  include/iotk_config.h:

	- imported iotk version 3.1
	- pw_export updated

2004-11-24 14:45  sbraccia

	* include/iotk_config.h:

	Added definitions for lahey compiler.
	C.S.

2004-11-24 14:45  sbraccia

	* Modules/bfgs_module.f90:

	Fixed a bug in the convergence check (highlighted by Nicola Bonini).
	C.S.

2004-11-24 14:40  sbraccia

	* PW/bp_calc_btq.f90:

	Fixed a bug in the way the bessel functions were called. Now example10 works again.
	C.S.

2004-11-24 13:01  cavazzon

	* CPV/input.f90, flib/sph_bes.f90:

	- sph_bes.f90  fix for parallel compilation
	- input.f90 workaround for xlf internal compiler error

2004-11-24 11:56  cavazzon

	* CPV/cpr.f90, CPV/cprsub.f90, CPV/make.depend, CPV/restart.f90,
	  CPV/smcp.f90, CPV/smd.f90, CPV/wannier.f90, D3/make.depend,
	  Doc/ChangeLog.cp, Gamma/make.depend, Modules/cp_restart.f90,
	  PH/make.depend, PW/make.depend, PWCOND/make.depend,
	  atomic/make.depend:

	- cpmplete experimental common CP/FPMD XML-like restart .
	  CP and FPMD are now linked to a common XML-like
	  restart subroutine (see Module/cp_restart.f90 ).

2004-11-23 14:23  giannozz

	* Doc/: ChangeLog, INPUT_PW:

	Documentation updated

2004-11-23 14:22  giannozz

	* PW/setup.f90:

	Re-introduce check on occupancy in lsda calculations

2004-11-23 14:21  giannozz

	* PP/pw2casino.f90:

	incorrect call to v_of_rho

2004-11-23 11:19  giannozz

	* Modules/path_formats.f90:

	Yet Another Minor Format Problem

2004-11-22 17:48  dalcorso

	* atomic/ld1_readin.f90:

	Pseudopotential calculations with SIC are not available. Introduced a test
	to stop ld1 in this case.

2004-11-22 16:08  giannozz

	* Modules/path_formats.f90:

	Format problem: X => 1X

2004-11-22 15:38  ballabio

	* moduledep.sh, CPV/make.depend, D3/make.depend, Gamma/make.depend,
	  PH/make.depend, PP/make.depend, PW/make.depend,
	  PWCOND/make.depend, atomic/make.depend:

	use "sort -d" to obtain machine-independent results, update
	dependencies [Gerardo]

2004-11-22 14:12  giannozz

	* PP/do_initial_state.f90:

	Missing "&"

2004-11-20 09:37  dalcorso

	* PP/ccalbec_nc.f90:

	Added missing routine.

2004-11-19 18:02  dalcorso

	* Doc/ChangeLog, PP/Makefile, PP/local_dos.f90, PP/punch_plot.f90:

	punch_plot can now write the charge density of each state in the noncollinear
	case

2004-11-19 14:44  giannozz

	* Gamma/Makefile, Gamma/cg_readin.f90, PH/Makefile, PP/Makefile,
	  PW/divide_et_impera.f90, PW/para.f90:

	Routines moved to flib no longer in Makefiles
	problems in parallel compilation

2004-11-19 11:49  giannozz

	* PW/input.f90:

	Cleanup of (part of) the mess in iosys, fixed bug in vc-md case
	(it was not working due to bad logical variable setup)

2004-11-19 00:26  cavazzon

	* CPV/cpr.f90, Modules/cp_restart.f90, Modules/electrons_base.f90,
	  Modules/ions_base.f90, Modules/make.depend, flib/make.depend:

	- XML like restart for CP/FPMD (almost completed)
	  see file Modules/cp_restart.f90

2004-11-18 15:47  giannozz

	* TODO, Doc/BUGS, Doc/ChangeLog, PH/dvanqq.f90:

	Memory leak in Raman code fixed
	TODO list updated

2004-11-18 11:01  giannozz

	* Doc/CREDITS, Doc/ChangeLog, Doc/manual.tex, PH/dvanqq.f90,
	  PH/phq_setup.f90:

	Reduction in memory requirements for phonon calculation
	with uspp (routine dvanqq) - courtesy of N. Mounet

2004-11-17 14:35  sbraccia

	* atomic/Makefile, atomic/compute_phi.f90,
	  atomic/compute_phius.f90, atomic/find_qi.f90,
	  atomic/sph_besr.f90, flib/Makefile, flib/sph_bes.f90,
	  flib/sph_besr.f90:

	Further cleanup of bessel functions. sph_besr moved from atomic to flib.
	C.S.

2004-11-17 13:14  sbraccia

	* PW/: bp_bess.f, bp_dbess.f:

	These routines are now in flib. C.S.

2004-11-17 13:08  sbraccia

	* PW/: Makefile, bp_calc_btq.f90:

	bp_calc_btq now uses bessel fuctions from flib. C.S.

2004-11-17 13:05  sbraccia

	* flib/: Makefile, sph_bes.f90, sph_dbes.f90:

	Cleanup of spherical bessel functions.
	Added a routine to compute the derivativs of spherical bessel functions (used by calc_btq).
	C.S.

2004-11-17 10:58  ballabio

	* namedep.sh:

	added script to compute dependencies of a subroutine [Gerardo]

2004-11-16 15:44  sbraccia

	* Modules/clocks.f90:

	Cleanup. C.S.

2004-11-16 14:27  sbraccia

	* PH/: psymdvscf.f90, psyme.f90:

	Some undeclared variables explicitly declared.
	C.S.

2004-11-16 13:59  sbraccia

	* PW/divide_et_impera.f90, PW/para.f90, PW/psymrho.f90,
	  PW/scala_cdiag.f90, PW/scala_cdiaghg.f90, flib/sort.f90:

	Some non-declared variables explicitly declared.
	C.S.

2004-11-16 12:30  sbraccia

	* Modules/cp_restart.f90:

	ngs used from the wrong module.
	C.S.

2004-11-15 15:38  dalcorso

	* Doc/ChangeLog, PP/punch_plot.f90:

	punch_plot can now write the charge density, the total potential
	and V_bare+V_H also in the noncollinear case.

2004-11-15 13:13  cavazzon

	* CPV/cpr.f90, CPV/input.f90, CPV/make.depend, CPV/smcp.f90,
	  D3/Makefile, D3/make.depend, Gamma/Makefile, Gamma/make.depend,
	  Modules/Makefile, Modules/cp_restart.f90, Modules/io_files.f90,
	  Modules/ions_base.f90, Modules/make.depend,
	  Modules/printout_base.f90, PH/Makefile, PH/make.depend,
	  PP/Makefile, PP/make.depend, PW/Makefile, PW/make.depend,
	  PW/pwcom.f90, PWCOND/Makefile, PWCOND/make.depend,
	  atomic/Makefile, atomic/make.depend, flib/make.depend,
	  pwtools/make.depend:

	- FPMD/CP more merging
	- new module for merged FPMD/CP restart subroutines
	- starting work on XML restart/punch  (cp_restart.f90)
	carlo

2004-11-15 12:02  dalcorso

	* examples/: README, example02/README, example02/run_example:

	Updating of the documentation files.

2004-11-11 15:17  ballabio

	* atomic/Makefile, CPV/Makefile:

	[no log message]

2004-11-11 15:10  ballabio

	* clib/make.depend:

	[no log message]

2004-11-10 11:07  giannozz

	* Gamma/Makefile:

	[no log message]

2004-11-10 10:54  giannozz

	* Doc/BUGS, Doc/ChangeLog, PWCOND/compbs_2.f90, pwtools/Makefile,
	  upftools/Makefile:

	More small Makefile fixes

2004-11-10 10:51  giannozz

	* Modules/: Makefile, functionals.f90:

	path_formats.f90 => path_formats.o

2004-11-09 12:03  ballabio

	* README.install_old:

	oops... [Gerardo]

2004-11-09 11:53  ballabio

	* Makefile, README.install, makedeps.sh, CPV/Makefile,
	  CPV/make.depend, D3/Makefile, D3/make.depend, Doc/manual.tex,
	  Gamma/Makefile, Gamma/make.depend, Modules/Makefile,
	  Modules/make.depend, PH/Makefile, PH/make.depend, PP/Makefile,
	  PP/make.depend, PW/Makefile, PW/make.depend, PWCOND/Makefile,
	  PWCOND/make.depend, atomic/Makefile, atomic/make.depend,
	  flib/Makefile, flib/make.depend, pwtools/Makefile,
	  pwtools/make.depend, upftools/Makefile, upftools/make.depend:

	renamed .dependencies to make.depend, added them to CVS [Gerardo]

2004-11-09 11:10  ballabio

	* README.install, Doc/manual.tex:

	small improvements [Gerardo]

2004-11-05 17:58  giannozz

	* PW/: force_hub.f90, restart.f90:

	The line calling read_restart_tetra without check was still there

2004-11-05 17:35  sbraccia

	* PW/restart.f90:

	Fixed a bug in the way tetrahedra variables were read/written on the restart file:
	since tetra is not alway allocated, the read_restart_tetra() and write_restart_tetra() can be called with all the arguments
	IF AND ONLY IF ltetra is true. otherwise read_restart_tetra() and write_restart_tetra() must be called with only the I/O unit.
	For further comments on this see the documentation contained in Modules/io_base.f90
	C.S.

2004-11-05 11:37  ballabio

	* Modules/Makefile:

	[no log message]

2004-11-04 16:32  ballabio

	* configure, configure.ac, make.sys.in:

	added autoconf check for make [Gerardo]

2004-11-04 16:03  giannozz

	* GUI/Makefile:

	[no log message]

2004-11-04 16:02  giannozz

	* Makefile, configure, configure.ac, Doc/ChangeLog:

	Makefiles use now $(MAKE) and $(MFLAGS) as proposed by Axel - should allow
	for the use of GNU make in system having broken makefile - please test
	Added path for mkl 7.0.1

2004-11-04 14:43  sbraccia

	* PH/phqscf.f90:

	oops ...
	C.S.

2004-11-04 14:41  sbraccia

	* PW/: orthoatwfc.f90, para.f90:

	Old parallel variables (hopefully and definitely) removed from the whole  espresso package.
	C.S.

2004-11-04 14:32  sbraccia

	* PW/init_pool.f90, PW/make_pointlists.f90, PW/read_file.f90,
	  PW/setup.f90, PW/stres_hub.f90, D3/d3_exc.f90, D3/psymd0rho.f90,
	  Gamma/cg_setup.f90, PH/phonon.f90, PP/openfil_pp.f90,
	  PWCOND/rotproc.f90:

	Again on the old parallel variables.
	C.S.

2004-11-04 14:08  sbraccia

	* PWCOND/: do_cond.f90, local.f90, poten.f90, scatter_forw.f90:

	Old parallel variables (such as me mypool) removed from PWCOND.
	C.S.

2004-11-04 13:25  sbraccia

	* Gamma/: cg_readin.f90, phcg.f90, solve_ph.f90:

	Old parallel variables (such as me mypool) removed from Gamma.
	C.S.

2004-11-04 13:09  sbraccia

	* D3/: close_open.f90, d0rhod2v.f90, d3_exc.f90, d3_init.f90,
	  d3_readin.f90, d3_recover.f90, d3_setup.f90, davcio_drho2.f90,
	  dqrhod2v.f90, drho_drc.f90, gen_dwfc.f90, openfild3.f90,
	  read_ef.f90, set_sym_irr.f90, stop_d3.f90, writed3dyn_5.f90:

	Old parallel variables (such as me mypool) removed from D3.
	C.S.

2004-11-04 12:49  degironc

	* PW/force_hub.f90:


	 double reference to nspin removed (bug found by axel kohlmeyer)

2004-11-03 19:08  ballabio

	* Doc/manual.tex, examples/README:

	added "Run examples" section to manual (plus some cleanup)
	synchronized examples/README with manual [Gerardo]

2004-11-03 18:48  giannozz

	* Doc/BUGS, Doc/ChangeLog, Doc/manual.tex, PW/input.f90:

	vc-relax was not working: variables lmd and ldamped not set (PC)

2004-11-03 15:21  sbraccia

	* Modules/mp_global.f90:

	Small cleanup. C.S.

2004-11-03 14:49  sbraccia

	* PP/: average.f90, bands.f90, dos.f90, efg.f90, initial_state.f90,
	  poormanwannier.f90, postproc.f90, projwfc.f90, punch_plot.f90,
	  pw2casino.f90, pw2wan.f90, pw_export.f90, voronoy.f90,
	  work_function.f90:

	Old parallel variables (such as me mypool) removed from PP.
	C.S.

2004-11-03 11:58  sbraccia

	* PH/: addnlcc_zstar_eu_us.f90, dynmat_us.f90, elphon.f90,
	  io_pattern.f90, psymdvscf.f90, psyme.f90, punch_plot_e.f90,
	  punch_plot_ph.f90:

	Old parallel variables (such as me mypool) removed from PH.
	C.S.

2004-11-03 10:53  sbraccia

	* Doc/ChangeLog, Modules/bfgs_module.f90, Modules/constants.f90,
	  Modules/input_parameters.f90, Modules/path_base.f90,
	  Modules/path_formats.f90, Modules/path_io_routines.f90,
	  Modules/path_opt_routines.f90, Modules/path_variables.f90,
	  Modules/read_namelists.f90, PW/compute_scf.f90, PW/input.f90:

	path optimization:
	   1) cleanup of the output format (more informative)
	   2) some cleanup of internal routines
	   3) added a couple of input variables and changed the default value
	      of ds from 1.5 to 1.0.
	BFGS optimization:
	   1) implemented a mixed BFGS + Murtag-Sargent update of the inverse
	      hessian which is generally faster than the pure BFGS
	   2) trust_radius_max increased to 0.8 bohr
	   3) some cleanup of internal routines
	(C.S.)

2004-11-01 18:48  giannozz

	* D3/Makefile, Doc/ChangeLog, Gamma/Makefile, PH/Makefile,
	  PH/elphon.f90, PH/openfilq.f90, PH/solve_linter.f90, PP/Makefile,
	  PW/para.f90, PWCOND/Makefile, atomic_doc/ChangeLog,
	  pwtools/Makefile:

	Electron-phonon coefficient calculation should work also after a restart
	(to be tested). Makefile and ChangeLog cleanup

	Per favore scrivete qualcosa nel ChangeLog quando fate qualcosa
	e verificate che tutto compile quando aggiungete roba - PG

2004-11-01 17:43  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprstart.f90, CPV/input.f90,
	  CPV/modules.f90, CPV/para.f90, CPV/path_routines.f90,
	  CPV/redis.f90, CPV/restart_sub.f90, CPV/smcp.f90, CPV/smd.f90,
	  CPV/smd_modules.f90, CPV/smlam.f90, CPV/wf.f90, Modules/Makefile,
	  Modules/cell_base.f90, Modules/control_flags.f90,
	  Modules/cp_fpmd.f90, Modules/electrons_base.f90,
	  Modules/fft_types.f90, Modules/griddim.f90, Modules/io_files.f90,
	  Modules/ions_base.f90, Modules/path_variables.f90,
	  Modules/recvec.f90, Modules/stick_base.f90, Modules/timestep.f90,
	  Modules/wave_base.f90:

	- more merging CP/FPMD
	- cleanups

2004-11-01 11:52  dalcorso

	* PP/Makefile, PWCOND/Makefile:

	Updated makefiles.

2004-11-01 11:38  degironc

	* Doc/INPUT_PW, PW/Makefile, PW/dndtau_of_k.f90, PW/dprojdtau.f90,
	  PW/force_hub.f90:

	calculation of LDA+U contribution to forces has been modified; should be faster.

2004-11-01 10:43  dalcorso

	* pseudo/Ptrel.RRKJ3.UPF:

	The same pseudo generated in gen-pseudo is used in the example22.

2004-11-01 10:39  dalcorso

	* examples/example22/: README, run_example, reference/bands.pt.co,
	  reference/bands.pt.im, reference/bands.pt.re,
	  reference/pt.cond.out, reference/pt.nscf.out,
	  reference/pt.scf.out, reference/pt.tet.out:

	Added an example to calculate the complex band structure
	of Pt with spin-orbit.

2004-11-01 10:26  dalcorso

	* Doc/ChangeLog, PWCOND/Makefile, PWCOND/allocate_cond.f90,
	  PWCOND/allocate_cond_2.f90, PWCOND/compbs.f90,
	  PWCOND/compbs_2.f90, PWCOND/condcom.f90, PWCOND/do_cond.f90,
	  PWCOND/four.f90, PWCOND/init_cond.f90, PWCOND/integrals.f90,
	  PWCOND/jbloch.f90, PWCOND/local.f90, PWCOND/poten.f90,
	  PWCOND/print_clock_pwcond.f90, PWCOND/rotate.f90,
	  PWCOND/rotproc.f90, PWCOND/scatter_back.f90,
	  PWCOND/scatter_forw.f90, PWCOND/summary_band.f90,
	  PWCOND/summary_tran.f90, PWCOND/transmit.f90:

	pwcond can now deal with spinor wavefunctions and with
	fully relativistic PPs with spin-orbit. Initial
	implementation (still quite experimental).
	Several improvements to the pwcond code. Now much faster.

2004-11-01 09:55  dalcorso

	* atomic/Makefile, atomic/date_and_tim.f90, atomic/errore.f90,
	  atomic/ld1_readin.f90, atomic/ld1_writeout.f90,
	  atomic/read_pseudo.f90, atomic/run_pseudo.f90,
	  atomic_doc/ChangeLog,
	  atomic_doc/pseudo-gen/reference/Ptrel.RRKJ3.UPF:

	Bug fix: the lenght of dft in readpseudo was 50. Problem
	         introduced by merging ld1 with PWscf.
	Added few additional checks for pseudopotential generation.
	Clean-up. Some routines are in flib.
	p wavefunctions added to the Pt pseudopotential.

2004-10-31 18:20  degironc

	* examples/example25/: README, run_example, reference/feo_LDA.in,
	  reference/feo_LDA.out, reference/feo_LDA_again.out,
	  reference/feo_standard.in, reference/feo_standard.out,
	  reference/feo_user_ns.in, reference/feo_user_ns.out,
	  reference/feo_wannier.in, reference/feo_wannier.out,
	  reference/pmw.in, reference/pmw.out:

	An example for LDA+U is added (SdG)

2004-10-27 16:38  ballabio

	* examples/example21/run_example:

	[no log message]

2004-10-27 10:23  giannozz

	* install/: Make.ibm, Make.ibmsp:

	Added path for *.h file where needed

2004-10-26 18:25  ballabio

	* examples/time_example:

	added script that prints simple timing statistics on examples
	[Gerardo]

2004-10-26 12:48  ballabio

	* configure, configure.ac:

	replaced grep -o [Gerardo]

2004-10-26 12:34  ballabio

	* configure, configure.ac:

	[no log message]

2004-10-26 11:32  giannozz

	* CPV/compute_scf.f90, CPV/cplib.f90, CPV/cpr.f90,
	  CPV/cprstart.f90, CPV/errore.f90, CPV/fft_cp.f90, CPV/input.f90,
	  CPV/macdep.f90, CPV/para.f90, CPV/restart.f90, CPV/smcp.f90,
	  CPV/wrapper.f90, D3/close_open.f90, D3/d3_init.f90,
	  D3/d3_summary.f90, D3/d3com.f90, D3/sym_def1.f90,
	  D3/symd0rho.f90, D3/trntnsc_3.f90, Doc/BUGS, Doc/ChangeLog,
	  Gamma/cg_readin.f90, Gamma/cgcom.f90, Gamma/phcg.f90,
	  Modules/cp_fpmd.f90, Modules/io_base.f90, Modules/io_files.f90,
	  Modules/iotk_module.f90, Modules/path_io_routines.f90,
	  Modules/ptoolkit.f90, Modules/read_cards.f90,
	  PH/compute_drhous.f90, PH/drho.f90, PH/elphon.f90,
	  PH/io_pattern.f90, PH/phcom.f90, PH/phonon.f90,
	  PH/phq_readin.f90, PH/phq_summary.f90, PH/smallgq.f90,
	  PH/sym_def.f90, PH/symdvscf.f90, PH/trntnsc.f90, PP/average.f90,
	  PP/bands.f90, PP/chdens.f90, PP/dos.f90, PP/efg.f90,
	  PP/plotband.f90, PP/plotrho.f90, PP/postproc.f90, PP/projwfc.f90,
	  PP/pw_export.f90, PP/voronoy.f90, PW/cft_fftw.f90,
	  PW/cft_sgi.f90, PW/cft_sp.f90, PW/cft_sun.f90, PW/cft_t3e.f90,
	  PW/compute_scf.f90, PW/init_vloc.f90, PW/input.f90,
	  PW/interpolate.f90, PW/kpoint_grid.f90, PW/mode_group.f90,
	  PW/paw.f90, PW/restart.f90, PW/smallg_q.f90, PW/trnvecc.f90,
	  PWCOND/do_cond.f90, PWCOND/rotate.f90, PWCOND/summary_tran.f90,
	  atomic/ld1inc.f90, atomic/lderiv.f90, atomic/lderivps.f90,
	  clib/cpflush.c, clib/cptimer.c, clib/fft_stick.c, clib/indici.c,
	  clib/memstat.c, flib/linpack.f90, pwtools/dynmat.f90,
	  pwtools/fqha.f90, pwtools/lambda.f90, pwtools/matdyn.f90,
	  pwtools/path_int.f90, pwtools/q2r.f90, upftools/any2upf.f90,
	  upftools/cpmd2upf.f90, upftools/fhi2upf.f90,
	  upftools/fpmd2upf.f90, upftools/ncpp2upf.f90,
	  upftools/oldcp2upf.f90, upftools/read_upf.f90,
	  upftools/rrkj2upf.f90, upftools/uspp2upf.f90,
	  upftools/vdb2upf.f90, upftools/virtual.f90:

	Patches from Axel Kohlmayer:
	- iotk_scan in iotk_module had a mixed up 'intent' statement.
	- sun ultra fire 3 compiler warnings
	- cleanup in filename length (brought to 256)
	- cleanup in include files

2004-10-26 10:22  giannozz

	* flib/: Makefile, lapack_atlas.f:

	Added missing lapack for Mac OS + Atlas (Pascal Thibadeau)
	configure not yet configured to recognize "lapack_atlas"

2004-10-25 19:35  giannozz

	* PH/solve_linter.f90:

	Wrong routine (elphon instead of elphel) called in solve_linter

2004-10-25 18:40  giannozz

	* TODO, Doc/ChangeLog, Modules/clocks.f90, PH/print_clock_ph.f90:

	Print correct CPU time for runs of more than 100h (PG)

2004-10-25 17:26  ballabio

	* PW/: cegterg.f90, regterg.f90:

	workarounds for g95 bug [Gerardo]

2004-10-25 17:26  ballabio

	* PP/do_initial_state.f90:

	removed call to check() [Gerardo]

2004-10-21 13:08  ballabio

	* pwtools/Makefile:

	added missing object [Gerardo]

2004-10-19 16:53  ballabio

	* examples/: example02/reference/c.phG.out,
	  example02/reference/ni.phX.out, example02/reference/si.phG.out,
	  example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.out,
	  example05/reference/si.pp_rho.out:

	More small format changes [Gerardo]

2004-10-19 16:47  ballabio

	* examples/: prediff.awk, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example13/reference/o2.relax.out:

	more small format changes [Gerardo]

2004-10-19 15:26  ballabio

	* examples/: postdiff.awk, prediff.awk:

	added a couple of cases [Gerardo]

2004-10-19 15:11  ballabio

	* examples/example06/reference/alas.nscf.out:

	oops... [Gerardo]

2004-10-19 15:05  ballabio

	* examples/: example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.scf.out, example02/reference/ni.nscf.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.scf.out,
	  example06/reference/alas.nscf.out,
	  example06/reference/alas.scf.out,
	  example07/reference/al.nscf.out,
	  example07/reference/al.nscf2.out, example07/reference/al.scf.out,
	  example08/reference/ni.dos.out, example08/reference/ni.scf.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.scf.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/ni.scf.out, example14/reference/si.nscf.out,
	  example14/reference/si.scf.out,
	  example15/reference/alas.nscf.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example17/reference/H2+H.out,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.out,
	  example24/reference/quartz.scf.out:

	minor format changes [Gerardo]

2004-10-18 19:10  sbraccia

	* Modules/mp_buffers.f90:

	Removed mp_excng (no longer in the module) from the list of public methods. C.S.

2004-10-18 19:06  sbraccia

	* PW/newd.f90:

	Small changes. C.S.

2004-10-18 16:34  sbraccia

	* Makefile:

	oops ... C.S.

2004-10-18 16:33  sbraccia

	* Makefile:

	Fix contributed by Axel. C.S.

2004-10-15 19:25  cavazzon

	* Makefile, Doc/iotk_manual.txt, Modules/Makefile,
	  Modules/iotk_module.f90, Modules/ptoolkit.f90, PP/Makefile,
	  PP/pw_export.f90, include/iotk_config.h:

	- small cleanup in FPMD
	- added XML-like library module (iotk_module version 2.4) written by Giovanni Bussi
	- added pw_export PP utility to convert restart/punch file to portable XML format
	  still experimental, to compile it: make export (for the time being is not
	  included among the "all", make all does not compile it)

2004-10-15 10:46  dalcorso

	* PWCOND/print_clock_pwcond.f90:

	Added a routine to print the CPU times in pwcond.

2004-10-14 18:04  cavazzon

	* upftools/ncpp2upf.f90:

	- applied patch from axel kohlmeyer
	carlo

2004-10-14 13:06  dalcorso

	* PW/newd.f90:

	newd.f90 in the PWNC moved to PW. The merging was already done.

2004-10-14 12:27  cavazzon

	* upftools/cpmd2upf.f90:

	- patch sent by axel kohlmeyer applied
	  to cpmd2upf
	carlo

2004-10-14 10:38  cavazzon

	* CPV/cpr.f90, CPV/input.f90, CPV/path_routines.f90, CPV/smcp.f90,
	  Modules/cp_fpmd.f90, Modules/energies.f90, Modules/fft_base.f90,
	  Modules/ions_base.f90, Modules/ptoolkit.f90,
	  Modules/wave_base.f90:

	- work on FPMD for the merging with CP ( grid dimension )
	- bug fix ( ion randomization )
	- SIC updated
	carlo

2004-10-13 19:23  sbraccia

	* PW/compute_scf.f90:

	Fixed an error in the output style.
	C.S.

2004-10-13 18:26  sbraccia

	* Modules/bfgs_module.f90, PW/dynamics.f90:

	Small modifications of the output format.
	C.S.

2004-10-13 16:42  dalcorso

	* Doc/manual.tex:

	Small change: PWNC/pw.x is actually PWNC/pwnc.x.

2004-10-13 11:39  sbraccia

	* Modules/bfgs_module.f90:

	Fixed some small bugs in the reset history procedure.
	C.S.

2004-10-13 10:18  sbraccia

	* Modules/input_parameters.f90, Modules/path_base.f90,
	  Modules/path_io_routines.f90, Modules/path_opt_routines.f90,
	  Modules/path_variables.f90, Modules/read_namelists.f90,
	  PW/input.f90:

	Several improvements of the string dynamics.
	Added a use_multistep input variable that allows fourier modes to be gradually included.
	Added a langevin opt_scheme in which the string performs a langevin dynamics in the path space.
	In the langevin scheme a canonical sampling of the initial and final configurations can also be done "on the fly" setting first_last_opt=.TRUE..
	C.S.

2004-10-11 17:53  fabris

	* PP/projwfc.f90:

	bug fix for projected-DOS calculation in lda+U case. SF

2004-10-11 15:46  moscac

	* PW/kpoint_grid.f90:

	BUG FIXED in NON COLLINEAR case: in non collinear case the inversion symmetry
	is not always present because of the presence of magnetic field in the
	Hamiltonian. So in case of nosym the generation of points in -K
	(recipr. space) must not be excluded.
	Adriano

2004-10-10 18:22  profeta

	* Doc/BUGS, Doc/ChangeLog, Doc/INPUT_EFG, PP/efg.f90,
	  PW/init_paw_1.f90, PW/paw.f90:

	Add input array rc in efg.x to specify the radius of the augmentation region
	Add two variable in atomwfc%label : rc and nrc for the augmentation radius and
	its indice in r() array
	Correct a Bug when an atom has no non-local part in init_paw_1
	(forgot to commit)
	MP

2004-10-07 15:31  degironc

	* Doc/ChangeLog, PP/Makefile, PP/add_shift_cc.f90,
	  PP/add_shift_lc.f90, PP/add_shift_us.f90,
	  PP/do_initial_state.f90, PP/do_shift_ew.f90,
	  PP/initial_state.f90, PP/openfil_pp.f90, PW/Makefile,
	  PW/restart.f90, PW/symscalar.f90, upftools/Makefile,
	  upftools/any2upf.f90, upftools/errore.f90, upftools/read_upf.f90,
	  upftools/virtual.f90, upftools/write_upf.f90:

	07 Oct 2004  - a new utility virtual.x has been added to upftools
	             that can combine two pseudopotentials in UPF format to
	             produce a third one (in the same format) for the virtual
	             atom Vvirt = x * V1 + (1-x) V2 . For the time being it
	             has only limited functionality as the two pseudos need
	             to be defined on the same radial grid. (SdG)
	             - a new utility initial_state.x has been added to PP that
	             can computed the core level shift in the initial state
	             approximation... in practice the first order derivative of
	             the total energy with respect to DeltaV=V(excited)-V(GS).
	             It is the analogue (via Janak theorem) of the core eigenvalue
	             in the pseudopotential framework where the core electrons
	             do not exist.
	             In the present status it require both V(excited) and V(GS)
	             to be defined in the preceeding SCF calculation.  (SdG)

2004-10-06 14:23  ballabio

	* configure, configure.ac:

	revert default to dynamic linking [Gerardo]

2004-10-01 18:57  giannozz

	* CPV/wf.f90:

	Compilation problems in parallel fixed

2004-10-01 17:56  sbraccia

	* Modules/parser.f90:

	Fixed the problem spotted by Aaron (PW forum)
	C.S.

2004-10-01 17:55  sbraccia

	* PW/: complex_diis_module.f90, real_diis_module.f90:

	Fixed the problem spotted by Jose C. Conesa (PW forum).
	C.S.

2004-10-01 17:39  sbraccia

	* Modules/: path_base.f90, path_io_routines.f90:

	Workaround for PGI compiler. C.S.

2004-09-29 10:32  giannozz

	* configure, configure.ac:

	Forgotten to update SUN => __SUN

2004-09-28 18:50  ballabio

	* Doc/manual.tex:

	cleanup [Gerardo]

2004-09-28 15:17  giannozz

	* Doc/refman.tex:

	Added section on how to add input variables

2004-09-28 12:51  ballabio

	* configure, configure.ac:

	cleanup [Gerardo]

2004-09-28 12:49  giannozz

	* configure, PH/close_phq.f90:

	compilation problem

2004-09-28 12:46  sbraccia

	* Modules/path_base.f90, Modules/path_io_routines.f90,
	  PW/complex_diis_module.f90, PW/dynamics.f90, PW/mix_rho.f90,
	  PW/real_diis_module.f90:

	REAL replaced by DBLE to avoid any problem with the pgi compiler.
	C.S.

2004-09-28 12:07  giannozz

	* configure.ac, PW/cft_3.f90, PW/cft_sun.f90, include/c_defs.h,
	  include/f_defs.h, install/Make.sun, install/Make.sunmpi:

	SUN => __SUN

2004-09-28 12:04  giannozz

	* TODO, Doc/BUGS, Doc/ChangeLog, Modules/mp.f90:

	Sun compilation

2004-09-28 10:50  sbraccia

	* PH/: close_phq.f90, openfilq.f90, stop_ph.f90:

	Again cleanup of parallel variables and pwcom/phcom references.
	C.S.

2004-09-28 09:17  giannozz

	* release.sh:

	Raman/ forgotten

2004-09-27 19:38  giannozz

	* Doc/: BUGS, manual.tex:

	More documentation update

2004-09-27 19:13  giannozz

	* Doc/: CREDITS, ChangeLog, manual.tex:

	Documentation updated

2004-09-27 18:33  giannozz

	* CPV/wf.f90:

	f_defs.h added

2004-09-27 18:26  sbraccia

	* PW/ggen.f90:

	Variable nrx2 was not declared (bug inserted in my last commit). C.S.

2004-09-27 18:07  sbraccia

	* PW/cft_3.f90:

	Added a serial fft driver for FFTW needed by parallel PWCOND.
	C.S.

2004-09-27 18:02  sbraccia

	* Modules/bfgs_module.f90, PW/input.f90, PW/noncol.f90,
	  PW/pwcom.f90:

	XLF workarounds no longer needed (the bug in the compiler has been fixed).
	C.S.

2004-09-27 17:05  giannozz

	* configure.ac, CPV/compute_scf.f90, Doc/CREDITS, Doc/ChangeLog,
	  Modules/wave_base.f90, flib/transto.f90, include/c_defs.h:

	more patches from Axel Kohlmeyer - see ChangeLog for complete list

2004-09-27 16:49  sbraccia

	* PW/compute_scf.f90:

	Fixed a bug in get_new_image spotted by Axel Kohlmeyer.
	C.S.

2004-09-27 16:27  giannozz

	* Doc/BUGS, PP/chdens.f90, PP/cube.f90, Doc/ChangeLog:

	PBC used in "cubefile" format (Axel)

2004-09-27 15:23  sbraccia

	* Doc/INPUT_PH:

	Doc updated.
	C.S.

2004-09-27 15:22  sbraccia

	* PH/: phcom.f90, phq_readin.f90:

	Cleanup (references to pwcom and phcom removed). Variable max_time replaced by max_seconds.
	C.S.

2004-09-27 14:16  sbraccia

	* pwtools/: matdyn.f90, q2r.f90:

	matdyn.f90 q2r.f90 modified to work in a parallel environment (only the first cpu does the job).
	C.S.

2004-09-27 13:05  cavazzon

	* Modules/: mp_buffers.f90, mp_global.f90:

	- shmem_include only used if __SHMEM macro is defined

2004-09-27 12:05  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/para.f90,
	  CPV/smcp.f90, CPV/smd.f90, CPV/wf.f90, Modules/cell_base.f90,
	  Modules/cp_fpmd.f90, Modules/griddim.f90:

	- fix suggested by PG in subroutines Modules/cell_base.f90
	  and CPV/wf.f90
	- More mergings between CPV and FPMD (init, grids setup)

2004-09-27 11:17  sbraccia

	* Modules/: mp_global.f90, path_base.f90, path_io_routines.f90,
	  path_variables.f90:

	Fourier String Method Dynamics improved: the number of fourier modes used to represent the path are gradually included (starting from one up to num_of_images-2), so that the overall number of scf loops needed to reach convergence is considerably reduced (of a factor of 2-3).
	C.S.

2004-09-27 11:11  sbraccia

	* PW/: add_efield.f90, cft3.f90, cft3s.f90, compute_dip.f90,
	  data_structure.f90, divide.f90, divide_et_impera.f90,
	  dndepsilon.f90, dndtau.f90, dprojdepsilon.f90, dprojdtau.f90,
	  electrons.f90, force_hub.f90, ggen.f90, memory.f90, new_ns.f90,
	  openfil.f90, psymrho.f90, punch.f90, pwscf.f90, stres_us.f90:

	References to para module replaced (everywhere in PW ) by references to mp_global, pfft, pffts.
	Old parallel variables me and mypool have been replaced by me_pool ( = ( me - 1 ) ) and my_pool_id ( = ( mypool - 1) ), defined in mp_global.
	The old combination ( me == 1 .AND. mypool == 1 ) used in the I/O should be replaced by the logical variable ionode.
	All parallel variables (communicators included) are properly defined in the serial case too, so that "#ifdef __PARA" is not
	needed.
	C.S.

2004-09-27 10:27  giannozz

	* flib/atomic_number.f90:

	Small fix by Axel for one-letter atomic symbols

2004-09-27 10:26  giannozz

	* PW/electrons.f90:

	More Alpha compilation warnings

2004-09-27 10:22  giannozz

	* configure.ac:

	Port to Alpha linux with compaq compiler (Axel)

2004-09-27 10:21  giannozz

	* Doc/: BUGS, ChangeLog:

	ZZ

2004-09-23 16:11  giannozz

	* CPV/input.f90, Doc/BUGS, Doc/ChangeLog, Modules/io_base.f90,
	  PP/cube.f90, PP/stop_pp.f90, atomic/dmixp.f90:

	Misc. Alpha compilation errors and warning (courtesy of G. Cantele)

2004-09-23 14:24  giannozz

	* Makefile, TODO, Doc/ChangeLog:

	"make tar" was not saving atomic_doc

2004-09-22 18:48  cazzato

	* Doc/INPUT_CHDENS, PP/chdens.f90:

	chdens: fix/modifications in dipole moment calculation and makov-payne correction

2004-09-22 16:20  ballabio

	* configure, configure.ac:

	added case ifc7 on linux64 [Gerardo]

2004-09-21 15:42  tag pw-2-1

2004-09-21 15:42  sbraccia

	* Modules/path_base.f90:

	Fixed a bug in path optimizations: the case nstep = 0 was ignored.
	C.S.

2004-09-21 09:27  giannozz

	* examples/example13/run_example:

	DIIS example disabled (not working)

2004-09-20 13:02  sbraccia

	* PW/setup.f90:

	Fixed a bug in a check perfomed when occupations are read from input.
	C.S.

2004-09-20 12:51  giannozz

	* PW/setup.f90:

	Bad check with fixed occupations

2004-09-20 10:53  kokalj

	* pwtools/pwi2xsf.f:

	updating pwi2xsf.f to support "intermediate_image" in PATH (neb,smd) calculation

2004-09-20 10:37  giannozz

	* Doc/ChangeLog, Doc/INPUT_CHDENS, PP/Makefile, PP/chdens.f90,
	  PP/cube.f90, atomic/Makefile, atomic/atomic_number.f90,
	  flib/Makefile, flib/atomic_number.f90:

	chdens can produce "cubefile" format (Gaussian)
	(contributed by Axel Kohlmeyer)
	Version 2.1 tagged

2004-09-20 09:37  kokalj

	* GUI/PWgui/ChangeLog:

	[no log message]

2004-09-20 09:33  kokalj

	* GUI/Guib/: ChangeLog, NEWS, VERSION:

	[no log message]

2004-09-20 09:28  kokalj

	* GUI/Guib/lib/tclUtils.tcl:

	improving nonblocking mechanism (adding "stdout" and "save" subcommands of nonblocking command)

2004-09-20 09:24  kokalj

	* GUI/Guib/src/tclIndex:

	[no log message]

2004-09-20 09:24  kokalj

	* GUI/Guib/src/widgets.itcl:

	default dir for ::guib::widgets::Entrydirselect is $env(PWD) now

2004-09-20 09:22  kokalj

	* GUI/Guib/src/help.itcl:

	- setting temporarily the width of help console to 700 pixels
	  (can't get it work via guib.theme)

2004-09-20 09:20  kokalj

	* GUI/Guib/src/gui.itcl:

	- save and saveAs methods are public now
	- adding "getSelected saveFile" queries

2004-09-20 09:15  kokalj

	* GUI/: PWgui/README, Guib/guib.theme:

	[no log message]

2004-09-20 09:08  kokalj

	* GUI/PWgui/src/run.itcl:

	initial version: support for "Run" menubutton

2004-09-20 09:07  kokalj

	* GUI/PWgui/: src/view.itcl, src/pwscf.theme, src/tclIndex, NEWS:

	[no log message]

2004-09-20 09:06  kokalj

	* GUI/PWgui/src/settings.itcl:

	adding "PWscf" settings for setting the path of PWscf executables

2004-09-20 09:06  kokalj

	* GUI/PWgui/src/pwscf.itcl:

	adding "Run" menubutton and associated menus

2004-09-20 09:02  kokalj

	* GUI/PWgui/src/menustate.itcl:

	adding runnable and runnableXC (=runnable+XCRYSDEN) support

2004-09-20 08:50  kokalj

	* GUI/PWgui/pwgui.settings:

	adding pwscf::settings array variables for PWscf executables

2004-09-20 08:49  kokalj

	* GUI/PWgui/pwgui.tcl:

	adding ::pwscf::run namespace

2004-09-17 08:35  sbraccia

	* examples/example22/reference/: pt.nscf.out, pt.scf.out:

	example updated. C.S.

2004-09-17 08:35  sbraccia

	* PW/setup.f90:

	Other small fix. C.S.

2004-09-17 08:03  sbraccia

	* examples/: example17/reference/H2+H.out,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.out,
	  example13/reference/cu.band.out, example13/reference/cu.cg.out,
	  example13/reference/cu.diis.out, example13/reference/cu.scf.out,
	  example13/reference/fe.angl.out, example13/reference/fe.band.out,
	  example13/reference/fe.pen.out, example13/reference/fe.scf.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out:

	examples updated. C.S.

2004-09-17 08:03  sbraccia

	* PW/setup.f90:

	Other minor changes. C.S.

2004-09-16 19:17  sbraccia

	* PW/setup.f90:

	Minor changes. C.S.

2004-09-15 19:53  giannozz

	* release.sh:

	Package script again

2004-09-15 19:00  ballabio

	* README.configure:

	Oops...

2004-09-15 18:53  ballabio

	* README.configure:

	updated to new version of configure [Gerardo]

2004-09-15 18:29  giannozz

	* Doc/ChangeLog:

	[no log message]

2004-09-15 18:13  giannozz

	* examples/example01/reference/: al.band.cg.out, al.band.david.out,
	  cu.band.cg.out, cu.band.david.out, ni.band.cg.out,
	  ni.band.david.out, si.band.cg.out, si.band.david.out:

	Examples updated (again)

2004-09-15 18:00  giannozz

	* release.sh:

	Packaging script updated

2004-09-15 17:38  giannozz

	* Modules/path_base.f90:

	format X => 1X

2004-09-15 17:33  ballabio

	* README.install:

	added info about the ARCH variable in configure [Gerardo]

2004-09-15 17:30  sbraccia

	* PW/setup.f90:

	Other small modifications in the inequivalent points generation. C.S.

2004-09-15 17:29  ballabio

	* Doc/manual.tex:

	added info about the ARCH variable in configure [Gerardo]

2004-09-15 17:11  ballabio

	* configure, configure.ac:

	added ARCH=xxx option to configure [Gerardo]

2004-09-15 17:07  giannozz

	* examples/example01/reference/: al.band.cg.out, al.band.david.out,
	  al.scf.cg.out, cu.band.cg.out, cu.band.david.out, ni.band.cg.out,
	  ni.band.david.out, si.band.cg.out, si.band.david.out,
	  si.scf.cg.out:

	minor updates

2004-09-15 16:22  giannozz

	* TODO, Doc/BUGS, Doc/ChangeLog, Doc/INPUT_PW, Doc/manual.tex:

	Final (?) documentation changes

2004-09-15 14:35  sbraccia

	* Doc/INPUT_PW, Modules/input_parameters.f90,
	  Modules/path_base.f90, Modules/path_formats.f90,
	  Modules/path_variables.f90, Modules/read_namelists.f90,
	  PW/compute_scf.f90, PW/input.f90:

	path optimizations: added the possibility to write the prefix.save file (logical varible write_save) relative to each
	image (needed for post-processing). C.S.

2004-09-15 14:07  giannozz

	* PW/input.f90:

	Berry Phase in parallel works only along z

2004-09-15 14:06  sbraccia

	* PW/setup.f90:

	Setup: inequivalent k-points not generated only in berry or band-structure calculations. C.S.

2004-09-15 11:21  ballabio

	* configure, configure.ac:

	ifort 8.1 needs -lpthread to use mkl [Gerardo]

2004-09-15 10:02  ballabio

	* configure, configure.ac:

	added mpf90, mpcc for Mac [Gerardo]

2004-09-15 09:58  cavazzon

	* examples/: example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.out, example20/reference/nh3.out,
	  example23/reference/h2o.efield.out,
	  example23/reference/h2o.wannier.out:

	- examples updated

2004-09-14 18:06  giannozz

	* Gamma/cg_readin.f90:

	Raman with finite differences disabled (doesn't work any longer)

2004-09-14 17:36  sbraccia

	* Doc/ChangeLog:

	[no log message]

2004-09-14 17:25  sbraccia

	* PW/: setup.f90, wfcinit.f90:

	Allocation of evc when starting from atomic wavefunctions modified so that evc contain only the real
	number bands and not all the atomic wfcs (they can be much more than the number of bands).
	setup.f90 for collinear and noncollinear case unified.
	C.S.

2004-09-14 15:09  cavazzon

	* CPV/: cpr.f90, smcp.f90:

	- bug fix in output format

2004-09-14 14:55  ballabio

	* Makefile:

	fixed "make clean" [Gerardo]

2004-09-14 14:42  cavazzon

	* CPV/restart_sub.f90:

	- workaround for intel 7.1 ,  dummy argument to an external subroutine
	  with implicit dimensions ( i.e. a(:,:) ..... CALL sub( a, ... )
	  replaced with a(:,:) ..... CALL sub( a(1,1), .... )   )

2004-09-14 14:29  giannozz

	* examples/example13/reference/cu.cg.out:

	Annoying print removed

2004-09-14 12:46  cavazzon

	* CPV/restart_sub.f90, Modules/stick_base.f90:

	- fix for intel compiler 7.1 in pstickset arguments

2004-09-13 19:48  giannozz

	* Doc/: ChangeLog, INPUT_FPMD:

	[no log message]

2004-09-13 19:20  giannozz

	* examples/example19/reference/: h2o-mol2.out, h2o-mol3.out:

	[no log message]

2004-09-13 19:17  giannozz

	* pwtools/dynmat.f90:

	Missing comma in format

2004-09-13 18:02  cavazzon

	* examples/example19/reference/: h2o-mol1.out, h2o-mol2.out,
	  h2o-mol3.out:

	- output updated

2004-09-13 17:50  cavazzon

	* examples/example18/reference/: new1.out, new2.out, new3.out,
	  new4.out:

	output updated

2004-09-13 17:33  cavazzon

	* CPV/: Makefile, cpr.f90, restart.f90, restart_sub.f90:

	- CP main subroutine simplified
	- removed circular dependency

2004-09-13 17:09  giannozz

	* examples/example14/reference/: si.anh_G, si.anh_X, si.d3G.out,
	  si.d3X.out, si.nscf.out, si.phG.out, si.phX.out, si.scf.out:

	Example 14 (3rd-order) updated

2004-09-13 16:02  giannozz

	* CPV/wannier.f90:

	Obtianed => Obtained

2004-09-13 15:39  sbraccia

	* Modules/check_stop.f90:

	ionode substituted by meta_ionode (this because in neb and smd all images have an ionode,
	but only one image (the one identified by meta_ionode) can check stop). C.S.

2004-09-13 15:36  sbraccia

	* PW/: complex_diis_module.f90, diis_base.f90,
	  real_diis_module.f90:

	Small bug-fix and general clean-up of the code.
	C.S.

2004-09-13 14:56  giannozz

	* Doc/ChangeLog:

	[no log message]

2004-09-13 14:50  giannozz

	* examples/: example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out,
	  example02/reference/c.scf.out, example02/reference/ni.nscf.out,
	  example02/reference/ni.scf.out, example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.scf.out, example03/reference/al001.mm.out,
	  example03/reference/al001.rx.out, example03/reference/co.rx.out,
	  example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.out, example05/reference/si.band.out,
	  example05/reference/si.scf.out,
	  example06/reference/alas.nscf.out,
	  example06/reference/alas.scf.out,
	  example07/reference/al.nscf.out,
	  example07/reference/al.nscf2.out, example07/reference/al.scf.out,
	  example08/reference/ni.dos.out, example08/reference/ni.scf.out,
	  example09/reference/sih4.scf.out, example10/reference/BP.out,
	  example10/reference/chg.out, example11/reference/O.out,
	  example11/reference/O_gamma.out, example11/reference/al.out,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.scf.out,
	  example12/reference/alwire.scf.out,
	  example12/reference/ni.scf.out, example13/reference/cu.band.out,
	  example13/reference/cu.cg.out, example13/reference/cu.diis.out,
	  example13/reference/fe.angl.out, example13/reference/fe.band.out,
	  example13/reference/fe.pen.out, example13/reference/fe.scf.out,
	  example13/reference/ni.band.out, example13/reference/ni.scf.out,
	  example13/reference/o2.relax.out,
	  example15/reference/alas.nscf.out,
	  example15/reference/alas.scf.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example22/reference/pt.nscf.out, example22/reference/pt.scf.out,
	  example24/reference/quartz.scf.out:

	Minor output format change (examples updated)

2004-09-13 14:16  giannozz

	* PW/summary.f90:

	Small output format change requested by Tone

2004-09-13 11:01  kokalj

	* GUI/PWgui/: pwgui.tcl, pwgui_reformat.tcl:

	PWgui now requires Guib version 0.3 or later

2004-09-13 10:59  kokalj

	* GUI/Guib/pkgIndex.tcl:

	[no log message]

2004-09-13 10:49  kokalj

	* GUI/PWgui/modules/pw/pw-help.tcl:

	[no log message]

2004-09-13 10:49  cavazzon

	* CPV/cpr.f90, CPV/cpr_mod.f90, CPV/cprsub.f90, CPV/input.f90,
	  CPV/restart.f90, CPV/smcp.f90, Modules/cell_base.f90,
	  Modules/constants.f90, Modules/control_flags.f90,
	  Modules/cp_fpmd.f90, Modules/input_parameters.f90,
	  Modules/ions_base.f90, Modules/read_namelists.f90:

	- same cell dynamics subroutines used in CP and FPMD
	- input pressure in GPa ( both code )
	- Output stress in GPa ( both code )
	- Output layout made more similar:
	  energies, positions, forces, cell
	  displayed in the same way
	- Zero velocities after a restart implemented in CP
	- Nose and damped dynamics for cell implemented
	  in FPMD like in CP
	carlo

2004-09-13 10:43  kokalj

	* GUI/PWgui/modules/pw/: pw.tcl, pw-help.tcl:

	- adding variable U_projector_type
	- some spelling corrections

2004-09-13 10:42  kokalj

	* GUI/Guib/: ChangeLog, NEWS, VERSION:

	[no log message]

2004-09-13 10:41  kokalj

	* GUI/Guib/src/table.itcl:

	Table's checkbutton didn't display updated text upon
	variable's value change. Fixed by using -textvariable
	option. The method _checkbuttonText not used anymore.

2004-09-09 11:34  giannozz

	* Doc/: ChangeLog, INPUT_CP:

	CP: pressure in GPa, not in kbar

2004-09-08 17:02  ballabio

	* README.install_old, install/README.install:

	moved install/README.install to README.install_old [Gerardo]

2004-09-08 16:57  ballabio

	* Doc/manual.tex:

	reworked manual configuration section [Gerardo]

2004-09-08 15:12  ballabio

	* configure.old, install/Makefile, install/README.install,
	  install/moduledep.c, install/shdep, install/sizeof.c:

	shdep no longer needed, use makedeps.sh for dependencies [Gerardo]

2004-09-08 12:52  ballabio

	* README.configure:

	revised and updated to reflect current configure [Gerardo]

2004-09-08 10:31  giannozz

	* README.install, TODO:

	par2.x => fpmd.x ; update

2004-09-08 10:30  giannozz

	* PH/Makefile:

	Duplicated entries removed

2004-09-07 17:10  sbraccia

	* Doc/ChangeLog:

	[no log message]

2004-09-07 17:06  sbraccia

	* Gamma/Makefile, PH/Makefile, PW/Makefile,
	  PW/complex_diis_module.f90, PW/diis_base.f90, PW/diis_module.f90,
	  PW/real_diis_module.f90:

	File diis_module splitted in three separate files, each containing a module with the same name.
	Fixed some severe bugs.
	C.S.

2004-09-07 11:11  ballabio

	* configure, configure.ac:

	don't try f77 as f90, won't work anyway [Gerardo]

2004-09-07 10:46  giannozz

	* examples/: README, example19/README, example19/run_example,
	  example20/README, example20/run_example, example21/README,
	  example21/run_example:

	par2.x => fpmd.x

2004-09-06 18:26  giannozz

	* Doc/: ChangeLog, manual.tex:

	Minor corrections

2004-09-06 17:52  ballabio

	* Makefile:

	changed name par2.x to fpmd.x [Gerardo]

2004-09-06 17:46  ballabio

	* Doc/: README, refman.tex:

	small modifications [Gerardo]

2004-09-06 16:28  giannozz

	* examples/example09/run_example:

	oops..

2004-09-06 12:20  giannozz

	* examples/example24/reference/: quartz.efg.in, quartz.scf.in:

	Removed

2004-09-06 11:42  giannozz

	* examples/example09/: run_example, reference/sih4.dyn.out:

	Added test on dynmat,x

2004-09-04 11:42  kokalj

	* GUI/PWgui/VERSION:

	[no log message]

2004-09-04 10:36  kokalj

	* GUI/PWgui/: INSTALL, README:

	[no log message]

2004-09-04 10:31  kokalj

	* GUI/PWgui/: ChangeLog, NEWS, THANKS, VERSION:

	- update for PWscf 2.1

2004-09-04 10:15  kokalj

	* GUI/PWgui/modules/pp/: pp-event.tcl, pp.tcl:

	- update for PWscf 2.1

2004-09-04 10:14  kokalj

	* GUI/PWgui/modules/pw/: commands.tcl, pw-help.tcl:

	- adding support for "intermediate_image"

2004-09-04 10:12  kokalj

	* GUI/PWgui/modules/pw/pw-event.tcl:

	- adding support for "intermediate_image"
	- adding support for "CONSTRAINTS" card
	- disabling the unused variables

2004-09-04 10:08  kokalj

	* GUI/PWgui/modules/pw/pw.tcl:

	- adding support for "intermediate_image"
	- grouping the unused variables

2004-09-04 10:01  kokalj

	* GUI/Guib/ChangeLog:

	[no log message]

2004-09-04 10:01  kokalj

	* GUI/Guib/lib/tkUtils.tcl:

	a widgetName proc is now a bit faster

2004-09-04 09:58  kokalj

	* GUI/Guib/src/table.itcl:

	the _loadDataCmd command is now evaluated as "eval", the _loadDataCmd cab be now of form "cmd arg arg ..."

2004-09-04 09:57  kokalj

	* GUI/Guib/src/: save.itcl, tclIndex:

	[no log message]

2004-09-04 09:56  kokalj

	* GUI/Guib/src/moduleObj.itcl:

	- adding a "scriptvar" support
	- adding _getAfterMappedWidget method (does not work properly yet)

2004-09-04 09:53  kokalj

	* GUI/Guib/src/: build.itcl, guib-keywords-def.tcl,
	  guibKeywords.itcl:

	adding a "scriptvar" support

2004-09-03 14:56  giannozz

	* pwtools/dynmat.f90:

	More sensible variable names

2004-09-03 14:54  ballabio

	* examples/environment_variables:

	removed instruction to "make links" [Gerardo]

2004-09-03 13:28  sbraccia

	* PW/input.f90:

	Fixed a bug in constrained dynamics.
	C.S.

2004-09-03 12:57  ballabio

	* Makefile, README.install, Doc/manual.tex:

	make (very)clean must not remove bin/ [Gerardo]

2004-09-03 12:44  ballabio

	* README.install, Doc/manual.tex:

	completed merge of manual and README.install [Gerardo]

2004-09-03 09:54  kokalj

	* GUI/PWgui/sys_utils/publish.sh:

	a utility for putting PWgui on the web

2004-09-03 09:52  kokalj

	* GUI/Guib/: lib/tclIndex, lib/tclUtils.tcl, lib/tkUtils.tcl,
	  ChangeLog, NEWS:

	[no log message]

2004-09-03 09:48  kokalj

	* GUI/: PWgui/ChangeLog, PWgui/TODO, Guib/src/open.itcl,
	  Guib/src/moduleObj.itcl:

	[no log message]

2004-09-03 07:59  sbraccia

	* Modules/path_base.f90:

	Fixed the same bug already fixed some days ago.
	C.S.

2004-09-02 19:46  ballabio

	* PP/Makefile, PW/Makefile, pwtools/Makefile, upftools/Makefile:

	oops... [Gerardo]

2004-09-02 19:08  ballabio

	* Makefile:

	oops... [Gerardo]

2004-09-02 19:07  ballabio

	* Makefile, CPV/Makefile, D3/Makefile, Gamma/Makefile, PH/Makefile,
	  PP/Makefile, PW/Makefile, PWCOND/Makefile, atomic/Makefile,
	  pwtools/Makefile, upftools/Makefile:

	cleanup and some reorganization [Gerardo]

2004-09-02 19:05  ballabio

	* README.install, Doc/manual.tex:

	Syncronized manual.tex with README.install
	manual.tex needs more tweaking, I'm doing it tomorrow [Gerardo]

2004-09-02 17:48  ballabio

	* upftools/: Makefile, fpmd2upf.f90:

	replicated code caused problems with dependencies, fixed [Gerardo]

2004-09-02 17:13  giannozz

	* Doc/ChangeLog:

	Update

2004-09-02 16:38  ballabio

	* README.install:

	update and cleanup [Gerardo]

2004-09-02 16:20  giannozz

	* CPV/cpr.f90:

	Incorrect format fixed

2004-09-02 16:01  dalcorso

	* Doc/ChangeLog, PW/compute_dip.f90:

	 Bug fix: The dipole correction was not working with a
	          non-tetragonal cell. (Contributed by N. Bonini).

2004-09-02 15:20  sbraccia

	* examples/example17/reference/: H2+H.dat, H2+H.out, H2+H.path,
	  asymmetric_H2+H.axsf, asymmetric_H2+H.dat, asymmetric_H2+H.int,
	  asymmetric_H2+H.out, asymmetric_H2+H.path, asymmetric_H2+H.xyz,
	  symmetric_H2+H.dat, symmetric_H2+H.out, symmetric_H2+H.path:

	Example updated. C.S.

2004-09-02 15:19  sbraccia

	* Modules/: path_base.f90, path_io_routines.f90:

	Some "cosmetic" modifications to string method dynamics.
	C.S.

2004-09-02 14:44  fabris

	* examples/example22/reference/: pt.nscf.out, pt.scf.out:

	updated reference files for example22. S.F.

2004-09-02 14:44  fabris

	* examples/example13/reference/: o2.relax.out, cu.band.out,
	  cu.cg.out, cu.diis.out, cu.scf.out, fe.angl.out, fe.band.out,
	  fe.pen.out, fe.scf.out, ni.band.out, ni.scf.out:

	updated reference files for example13. S.F.

2004-09-02 14:42  fabris

	* examples/example12/reference/: AlwireH.cond.out, AlwireH.scf.out,
	  al.cond.out, al.scf.out, alwire.cond.out, alwire.scf.out,
	  bands.al.co, bands.al.im, bands.alwire.im, bands.alwire.re,
	  bands.ni_down.im, ni.cond.out, ni.scf.out:

	updated reference files for example12 S.F.

2004-09-02 14:29  ballabio

	* configure, configure.ac:

	added support for efc (alias ifort) [Gerardo]

2004-09-02 10:11  sbraccia

	* Doc/INPUT_PW:

	Doc updated. C.S.

2004-09-02 10:10  sbraccia

	* GUI/PWgui/modules/pw/: pw-event.tcl, pw-help.tcl, pw.tcl:

	GUI has been updated to the new version of pwscf.
	C.S.

2004-09-01 19:59  giannozz

	* pwtools/dynmat.f90:

	Calculation of Raman cross sections

2004-09-01 19:56  giannozz

	* Makefile, README.install:

	"make"makes linkns as well

2004-09-01 19:55  giannozz

	* Doc/: ChangeLog, manual.tex:

	Doc update

2004-09-01 16:18  ballabio

	* examples/: postdiff.awk, prediff.awk:

	small fix [Gerardo]

2004-09-01 12:32  ballabio

	* configure, configure.ac:

	small fix for Mac [Gerardo]

2004-09-01 10:59  sbraccia

	* flib/error.f90:

	The error message is no longer written on /dev/stderr (on linux clusters), but only on unit *.
	C.S.

2004-09-01 10:56  cazzato

	* flib/blas.f:

	missing ZSYRK and ZSYR2K subroutines added to the local copy of blas

2004-08-31 18:25  ballabio

	* Doc/manual.tex:

	more little cosmetic changes [Gerardo]

2004-08-31 16:50  ballabio

	* Doc/manual.tex:

	cosmetic changes (eliminate "overfull hbox"'s) [Gerardo]

2004-08-31 09:30  sbraccia

	* Modules/: path_base.f90, path_io_routines.f90:

	Again path code cleanup. C.S.

2004-08-30 22:04  giannozz

	* README.cvs:

	Minor correction

2004-08-30 14:18  ballabio

	* configure, configure.ac:

	improved check for blas [Gerardo]

2004-08-30 09:29  sbraccia

	* Modules/: path_base.f90, path_io_routines.f90:

	Some cleanup of the code and fixed a small bug in the prefix.dat file.
	C.S.

2004-08-27 16:33  sbraccia

	* Doc/manual.tex:

	Other updates. C.S.

2004-08-27 16:23  giannozz

	* TODO, Doc/ChangeLog, Doc/INPUT_PW, Doc/INPUT_RAM, Doc/manual.tex:

	Documentation update

2004-08-27 12:34  cavazzon

	* Modules/: cp_fpmd.f90, fft_base.f90:

	- ifort complains about using a data structure from a module
	  without using its datatype definition

2004-08-27 12:20  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cpr_mod.f90, CPV/cprsub.f90,
	  CPV/input.f90, CPV/modules.f90, CPV/para.f90, CPV/redis.f90,
	  CPV/restart.f90, CPV/smcp.f90, CPV/smd.f90, CPV/smd_modules.f90,
	  CPV/smlam.f90, CPV/wannier.f90, CPV/wf.f90, Modules/Makefile,
	  Modules/cell_base.f90, Modules/constants.f90,
	  Modules/control_flags.f90, Modules/cp_fpmd.f90,
	  Modules/griddim.f90, Modules/input_parameters.f90,
	  Modules/ions_base.f90, Modules/printout_base.f90,
	  Modules/read_namelists.f90, Modules/recvec.f90:

	- more mergings between CP and FPMD
	- initialization (both code uses the same ggen)
	- now FPMD initializes the small-boxes too (required for untrasoft pseudo)
	- print out

2004-08-27 11:00  deinzer

	* PH/zstar_eu.f90:

	writting Z* in proper way

2004-08-27 10:51  sbraccia

	* Makefile:

	Some version of make does not appreciate comments on a command line.
	C.S.

2004-08-27 10:29  sbraccia

	* PW/: cegterg.f90, regterg.f90:

	Some compilers complain for double colon after EXTERNAL.
	C.S.

2004-08-27 10:26  sbraccia

	* include/f_defs.h:

	Fixed a couple of bugs and added missing definitions for unix-ALPHA.
	C.S.

2004-08-26 19:26  deinzer

	* examples/example15/: README, run_example,
	  reference/alas.drhoe_e1, reference/alas.drhoe_e2,
	  reference/alas.drhoe_e3, reference/alas.drhou,
	  reference/alas.nscf.out, reference/alas.phA.out,
	  reference/alas.phE.out, reference/alas.ram,
	  reference/alas.ram.atom, reference/alas.ram.both,
	  reference/alas.ram.elf, reference/alas.ram.no_r,
	  reference/alas.ram.out, reference/alas.scf.out,
	  reference/alas.sus:

	Updating example15

2004-08-26 19:00  sbraccia

	* Doc/INPUT_PW:

	Update. C.S.

2004-08-26 18:29  giannozz

	* pwtools/dynmat.f90.new:

	[no log message]

2004-08-26 18:18  giannozz

	* Modules/read_namelists.f90, PH/phonon.f90:

	Fixed compilation problem in phonon (parallel)
	Re-fixed bad initialization of startingpot with calculation='raman'

2004-08-26 16:19  deinzer

	* PH/openfilq.f90, PH/phonon.f90, D3/openfild3.f90:

	small modifications in saving fildrho

2004-08-26 14:15  sbraccia

	* Modules/path_formats.f90:

	Added units in SMD errors. C.S.

2004-08-26 13:17  sbraccia

	* GUI/PWgui/doc/pwdocs/Makefile:

	Makefile updated. C.S.

2004-08-26 11:33  giannozz

	* Doc/ChangeLog, PP/stm.f90, examples/README,
	  examples/example03/run_example, pseudo/CUS.RRKJ3.UPF,
	  pwtools/rigid.f90:

	Misc small changes

2004-08-26 11:07  giannozz

	* examples/example16/reference/: AlAs110+1.0, AlAs110+1.0eV.ps,
	  AlAs110-1.0, AlAs110-1.0eV.ps, AlAs110.pp_stm+.out,
	  AlAs110.pp_stm-.out, AlAs110re.nonscf.out, AlAs110re.scf.out,
	  AlAsresm+1.0, AlAsresm-1.0:

	Example 16

2004-08-26 10:36  sbraccia

	* Modules/path_base.f90:

	Small bug fixed. C.S.

2004-08-25 18:44  giannozz

	* Gamma/: Makefile, README, phcg.f90, raman.f90:

	Old Raman code renamed to avoid confusion

2004-08-25 14:57  sbraccia

	* Modules/: path_base.f90, path_variables.f90:

	Fixed a bug in the definition of the tangent in the fourier string method dynamics.
	C.S.

2004-08-25 11:54  giannozz

	* D3/Makefile, Doc/ChangeLog, PP/Makefile, PWCOND/Makefile,
	  examples/example10/reference/BP.out,
	  examples/example10/reference/chg.out,
	  examples/example11/reference/O.out,
	  examples/example11/reference/O_gamma.out,
	  examples/example11/reference/al.out:

	Makefiles and examples updated

2004-08-25 10:23  sbraccia

	* PW/: constraints_module.f90, input.f90, move_ions.f90:

	Fixed some errors in constrained dynamics.
	"Fixed atoms" and explicit constraints are now compatible when they do not involve the same atoms.
	C.S.

2004-08-24 18:14  giannozz

	* Doc/: ChangeLog, manual.tex:

	[no log message]

2004-08-24 17:27  giannozz

	* examples/example09/reference/: sih4.nm.out, sih4.scf.out:

	[no log message]

2004-08-24 17:16  giannozz

	* examples/example08/: run_example, reference/ni.dos,
	  reference/ni.dos.out, reference/ni.dos2.out,
	  reference/ni.pdos.out, reference/ni.pdos_atm#1(Ni)_wfc#1(s),
	  reference/ni.pdos_atm#1(Ni)_wfc#2(d), reference/ni.pdos_tot,
	  reference/ni.scf.out:

	Example 8 updated

2004-08-24 17:04  giannozz

	* examples/example07/reference/: al.elph.out, al.nscf.out,
	  al.nscf2.out, al.ph.out, al.scf.out:

	Example 7 updated

2004-08-24 16:19  giannozz

	* examples/example06/reference/: alas.dynG, alas.freq,
	  alas.nscf.out, alas.ph.out, alas.phG.out, alas.phdos,
	  alas.scf.out, alas444.fc, dyn.-0.25,-.25,0.25,
	  dyn.-0.25,-.25,0.75, dyn.-0.50,-.50,0.50, dyn.-0.50,-.50,1.00,
	  dyn.-0.50,0.00,1.00, dyn.0.00,0.00,0.50, dyn.0.00,0.00,1.00,
	  matdyn.modes, q2r.out:

	Example 6 updated

2004-08-24 15:57  giannozz

	* examples/example05/reference/: si.band.out, si.bands.out,
	  si.chdens.out, si.pp_rho.out, si.scf.out:

	Example 5 updated

2004-08-24 15:50  giannozz

	* examples/example04/reference/: si.md2.out, si.md2_G3X.out,
	  si.md8.out:

	Example 4 updated

2004-08-24 14:51  giannozz

	* examples/example03/reference/: al001.mm.out, al001.rx.out,
	  co.rx.out:

	Example 3 updated

2004-08-24 12:45  giannozz

	* examples/example02/reference/: c.phG.out, c.scf.out, ni.nscf.out,
	  ni.phX.out, ni.scf.out, si.nscfX.out, si.nscfXsingle.out,
	  si.phG.out, si.phX.out, si.phXsingle.out, si.scf.out:

	Example 2 updated

2004-08-24 12:22  giannozz

	* examples/example01/reference/: al.band.cg.out, al.band.david.out,
	  al.scf.cg.out, al.scf.david.out, cu.band.cg.out,
	  cu.band.david.out, cu.scf.cg.out, cu.scf.david.out,
	  ni.band.cg.out, ni.band.david.out, ni.scf.cg.out,
	  ni.scf.david.out, si.band.cg.out, si.band.david.out,
	  si.scf.cg.out, si.scf.david.out:

	Example 1 updated

2004-08-24 11:22  giannozz

	* CPV/restart.f90:

	compilation problem, kunit appearing twice

2004-08-24 09:50  sbraccia

	* Modules/: path_base.f90, path_io_routines.f90:

	Fixed a bug in the way the prefix.dat file was written. Cleanup of debug code.
	C.S.

2004-08-23 13:15  sbraccia

	* Modules/: path_io_routines.f90, path_opt_routines.f90:

	Minor bugs corrected. C.S.

2004-08-23 11:47  giannozz

	* flib/Makefile:

	Minor mac os-x fix

2004-08-23 10:41  sbraccia

	* PW/compute_scf.f90:

	The wrong unit was flushed. C.S.

2004-08-23 09:13  sbraccia

	* PW/compute_scf.f90:

	"#include "f_defs.h"" was missing. C.S.

2004-08-23 08:50  sbraccia

	* Modules/clocks.f90, Modules/io_global.f90, Modules/mp_global.f90,
	  Modules/path_base.f90, Modules/path_io_routines.f90,
	  Modules/read_cards.f90, PW/close_files.f90, PW/compute_scf.f90,
	  PW/init_pool.f90, PW/init_run.f90, PW/input.f90, PW/para.f90,
	  PW/potinit.f90, PW/setup.f90, PW/startup.f90:

	Fixed several bugs in the routines for "path-optimization":
	"reset_vel" input variable was read but not used
	parallelization on images was not properly working
	clueanup in the way ATOMIC_POSITIONS card is read.
	C.S.

2004-08-20 18:50  ballabio

	* Doc/manual.tex:

	[no log message]

2004-08-20 18:33  ballabio

	* Doc/: CREDITS, manual.tex:

	Syncronized manual with CREDITS file [Gerardo]

2004-08-20 17:04  profeta

	* atomic_doc/pseudo-gen/: AAREADME, si_nc.in, si_nc_paw.in,
	  test.job, reference/Si.recon, reference/SiPBE_nc,
	  reference/si_nc.out, reference/si_nc_paw.out:

	Add exemple on Si for the generation of pseudopotentials and reconstruction
	file for PAW calculation

2004-08-20 15:53  profeta

	* pseudo/: O.recon, OPBE_nc.UPF, Si.recon, SiPBE_nc.UPF:

	necessary pseudopotential files (and reconstruction wavefunctions)
	for example 24

2004-08-20 15:52  profeta

	* examples/: README, example24/README, example24/run_example,
	  example24/reference/quartz.efg.in,
	  example24/reference/quartz.efg.out,
	  example24/reference/quartz.scf.in,
	  example24/reference/quartz.scf.out:

	Add example24: electric field gradient tensor calculation with PAW
	reconstruction on quartz
	Quadrupolar parameters of NMR experiments

2004-08-20 15:46  profeta

	* makedeps.sh:

	add Nmr directory

2004-08-20 15:43  profeta

	* Makefile:

	Add efg.x in make links

2004-08-20 15:15  ballabio

	* configure, configure.ac, make.sys.in:

	bugfix for configure on AIX [Gerardo]

2004-08-20 11:56  ballabio

	* Doc/manual.tex:

	reordered subsections of "Installation" section
	enlarged title, didn't fit any more in a single page anyway
	[Gerardo]

2004-08-20 11:37  ballabio

	* Doc/: cpmanual.tex, manual.tex:

	pasted CP manual into PWscf manual as section "Using FPMD and CP"
	changed title to "User's Guide to ESPRESSO"
	replaced "PWscf" with "ESPRESSO" where appropriate
	other minor changes
	[Gerardo]

2004-08-20 10:52  sbraccia

	* flib/error.f90:

	Added a check on the existence of /dev/stderr (used when _PARA and __LINUX are defined).
	C.S.

2004-08-20 10:34  sbraccia

	* Doc/manual.tex:

	Updated the BFGS-Troubleshooting section.
	C.S.

2004-08-19 18:45  sbraccia

	* pwtools/path_int.f90:

	Fixed a wrong dependency.
	C.S.

2004-08-19 18:44  sbraccia

	* PW/diis_module.f90:

	Removed tabulators. (CS)

2004-08-19 18:32  sbraccia

	* CPV/neb_routines.f90, Modules/formats.f90,
	  Modules/io_routines.f90, Modules/minimization_routines.f90,
	  Modules/neb_base.f90, Modules/neb_variables.f90,
	  Modules/path_base.f90, examples/example17/reference/H2+H.neb,
	  examples/example17/reference/asymmetric_H2+H.neb,
	  examples/example17/reference/symmetric_H2+H.neb:

	Removed unused files. Added a mode dependent time step for "fourier-smd".
	C.S.

2004-08-19 18:24  sbraccia

	* Doc/ChangeLog:

	[no log message]

2004-08-19 18:22  sbraccia

	* PW/: cegterg.f90, diis_module.f90, regterg.f90:

	DIIS: fixed some bugs in the diis procedure. Performance issue still to be addressed.
	Davidson: minor cleanup
	C.S.

2004-08-19 17:38  ballabio

	* examples/environment_variables:

	changed default path from $HOME/O-sesame to $HOME/espresso [Gerardo]

2004-08-19 17:10  ballabio

	* Doc/: MANUAL.FPMD-CP, cpmanual.tex:

	translated FPMD/CP manual to LaTeX [Gerardo]

2004-08-19 16:18  ballabio

	* Doc/manual.tex:

	more small changes [Gerardo]

2004-08-19 16:13  profeta

	* PP/efg.f90:

	Some typos corrected in the printing of the different tensors
	add units to final results
	Correct the sign of off-diagonal terms

2004-08-19 15:30  giannozz

	* Doc/: ChangeLog, MANUAL.FPMD-CP, manual.tex:

	Manual update

2004-08-18 20:30  giannozz

	* include/f_defs.h:

	Mac OS-X fix for flush (courtesy of Pascal Thibadeau)

2004-08-18 18:53  sbraccia

	* Modules/path_base.f90, Modules/path_io_routines.f90,
	  PW/pwscf.f90, PW/stop_pw.f90:

	Fixed a compilation problem (PWNC).
	C.S.

2004-08-18 18:31  sbraccia

	* examples/example17/: run_example, reference/H2+H.axsf,
	  reference/H2+H.dat, reference/H2+H.int, reference/H2+H.out,
	  reference/H2+H.xyz, reference/asymmetric_H2+H.axsf,
	  reference/asymmetric_H2+H.dat, reference/asymmetric_H2+H.int,
	  reference/asymmetric_H2+H.out, reference/asymmetric_H2+H.xyz,
	  reference/symmetric_H2+H.axsf, reference/symmetric_H2+H.dat,
	  reference/symmetric_H2+H.int, reference/symmetric_H2+H.out,
	  reference/symmetric_H2+H.xyz, reference/H2+H.path,
	  reference/asymmetric_H2+H.path, reference/symmetric_H2+H.path:

	Example of neb-calculations updated.
	C.S.

2004-08-18 18:22  giannozz

	* D3/Makefile, Doc/ChangeLog, Gamma/Makefile, PH/Makefile,
	  PP/Makefile, PWCOND/Makefile, pwtools/Makefile:

	More compilation problems

2004-08-18 18:11  sbraccia

	* Modules/path_formats.f90:

	g95 doesn't like format "X" => "1X"

2004-08-18 18:11  giannozz

	* Gamma/Makefile, PH/Makefile:

	Compilation problems

2004-08-18 18:05  sbraccia

	* Doc/: ChangeLog, INPUT_PW:

	[no log message]

2004-08-18 18:04  giannozz

	* Modules/path_io_routines.f90:

	g95 doesn't like format "X" => "1X"

2004-08-18 17:53  sbraccia

	* Modules/Makefile, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/io_files.f90,
	  Modules/path_base.f90, Modules/path_formats.f90,
	  Modules/path_io_routines.f90, Modules/path_opt_routines.f90,
	  Modules/path_variables.f90, Modules/read_namelists.f90,
	  CPV/Makefile, CPV/compute_scf.f90, CPV/cprstart.f90,
	  CPV/path_routines.f90, Modules/read_cards.f90, PW/Makefile,
	  PW/compute_scf.f90, PW/electrons.f90, PW/input.f90, PW/pwscf.f90,
	  PW/stop_pw.f90:

	NEB code reorganization. All the routines involved in "path" optimization
	are grouped into modules starting with "path_". The output has been slightly
	restyled. In the pwscf code (only) has been implemented a version of the string
	method (calculation='smd') in which the path is represented in Fourier components
	and the optimization procedure is done on these components (still to be
	optimized, but working).
	C.S.

2004-08-18 17:44  ballabio

	* Doc/manual.tex:

	small updates [Gerardo]

2004-08-18 12:50  ballabio

	* examples/: README, example18/README, example19/README,
	  example20/README, example21/README:

	missing README added [Gerardo]

2004-08-18 12:45  giannozz

	* PW/input.f90:

	'dispersions' no longer used

2004-08-18 12:36  sbraccia

	* Modules/bfgs_module.f90:

	Interpolation of the "accepted" bfgs step disabled (not yet safe).
	C.S.

2004-08-17 22:02  giannozz

	* upftools/read_upf.f90, pwtools/dist.f:

	"matches" and "capital" are in flib now

2004-08-17 17:46  giannozz

	* Doc/: CREDITS, ChangeLog, README, manual.tex:

	Documentation update

2004-08-17 15:16  giannozz

	* Modules/read_namelists.f90:

	Initialization of startingpot in the "raman" case fixed

2004-08-16 11:34  sbraccia

	* PW/gradcorr.f90:

	The fix for the problem "PBE on hydrogen atom" (see commit 10-05-2004) has been moved from gradcorr.f90
	to lsda_functionals.f90 so that both the pwscf and the atomic code share the same fix.
	C.S.

2004-08-16 11:27  degironc

	* PW/lsda_functionals.f90:

	[no log message]

2004-08-13 16:51  giannozz

	* Doc/ChangeLog, Doc/INPUT_PH, Doc/INPUT_RAM, Gamma/raman.f90,
	  examples/example15/run_example:

	Documentation for Raman updated

2004-08-12 17:48  giannozz

	* Modules/io_routines.f90, PW/readnewvan.f90:

	g95 fix

2004-08-12 11:08  giannozz

	* Doc/ChangeLog, Doc/manual.tex, install/Make.alpha,
	  install/Make.alphaMPI, install/Make.altix, install/Make.beo_ifc,
	  install/Make.beowulf, install/Make.cygwin, install/Make.fujitsu,
	  install/Make.hitachi, install/Make.hp, install/Make.hpMPI,
	  install/Make.ia64, install/Make.ibm, install/Make.ibmsp,
	  install/Make.irix, install/Make.origin, install/Make.pc_abs,
	  install/Make.pc_ifc, install/Make.pc_lahey, install/Make.pc_pgi,
	  install/Make.sun, install/Make.sunmpi, install/Make.sxcross,
	  install/Make.t3e:

	Manual update and cleanup; added RANLIB=echo to old Make.*

2004-08-10 20:04  ballabio

	* Doc/: democritos.eps, manual.tex, pwscf.eps:

	added postscript figures
	found how to make both latex and pdflatex happy (just write the file
	name with no extension and provide both postscript and PNG)
	various reformatting and cleanup of the manual (no more "overfull
	hbox"'s)
	[Gerardo]

2004-08-09 18:43  giannozz

	* release.sh:

	oops...

2004-08-09 18:35  giannozz

	* INSTALL, Makefile, README, README.cvs, README.install, TODO,
	  configure, configure.ac, make.sys.in, release.sh, CPV/cpr.f90,
	  CPV/neb_routines.f90, Doc/BUGS, Doc/CREDITS, Doc/ChangeLog,
	  Doc/ChangeLog.cp, Doc/ChangeLog.pw, Doc/INPUT.HOWTO,
	  Doc/INPUT_CHDENS, Doc/INPUT_CP, Doc/INPUT_D3, Doc/INPUT_EFG,
	  Doc/INPUT_FPMD, Doc/INPUT_Gamma, Doc/INPUT_NC, Doc/INPUT_PH,
	  Doc/INPUT_PP, Doc/INPUT_PROJWFC, Doc/INPUT_PW, Doc/INPUT_PWCOND,
	  Doc/INPUT_RAM, Doc/MANUAL.FPMD-CP, Doc/README,
	  Doc/democritos.png, Doc/manual.tex, Doc/pwscf.png,
	  Doc/refman.tex, clib/Makefile, examples/example05/README,
	  flib/Makefile, include/c_defs.h, include/defs.h.README,
	  include/f_defs.h, install/README.install:

	Support for mac-osx added (contributed by Pascal Thibaudeau)
	Extensive documentation update and reshuffling : pwdocs and cpdocs merged
	into Doc

2004-08-09 12:12  sbraccia

	* Modules/: formats.f90, io_routines.f90,
	  minimization_routines.f90, neb_base.f90:

	NEB restart file modified again: with the current implementation of quick-min pos_old
	and grad_old need not to be saved in the restart file. Logical variables for reset_vel
	and forzen images have been moved from "ENERGIES, POSITIONS AND GRADIENTS" to
	"QUICK-MIN FIELDS".
	Old restart files can be easily converted removing in the "ENERGIES, POSITIONS AND GRADIENTS"
	field all logical variables and removing all the "QUICK-MIN FIELDS".
	C.S.

2004-08-06 15:02  giannozz

	* Gamma/raman.f90:

	Missing initialization of check_stop

2004-07-29 16:03  ballabio

	* Makefile:

	added postprocessor for FPMD
	converts to XSF, GRD and PDB format [Gerardo]

2004-07-27 10:47  sbraccia

	* PW/setup.f90:

	Workaround for a bug of the PGI compiler (5.1-5).
	C.S.

2004-07-27 08:33  giannozz

	* atomic_doc/pseudo-gen.tex:

	Documentation for pseudopotential generation updated

2004-07-27 08:27  giannozz

	* PP/projwfc.f90:

	Variables in namelist should be degauss, ngauss, not degauss1, ngauss1

2004-07-26 15:28  sbraccia

	* Modules/bfgs_module.f90:

	ouput format updated for the lin_bfgs algorithm too.
	C.S.

2004-07-26 12:47  ballabio

	* Modules/bfgs_module.f90:

	minuscule change in output format [Gerardo]

2004-07-24 11:51  cavazzon

	* CPV/: cprsub.f90, restart.f90, smd.f90, wf.f90:

	- few changes in module usage, sort of workaround for ifc 7.1

2004-07-23 14:29  cavazzon

	* CPV/: cpr.f90, input.f90, restart.f90, smcp.f90:

	- inputs for string dynamics merged to CP input
	- very preliminary sort of manual for FPMD/CP codes

2004-07-23 14:24  sbraccia

	* Modules/minimization_routines.f90:

	Fixed a small bug in the way preprocessor flags were used.
	C.S.

2004-07-22 16:09  dalcorso

	* PWCOND/: four.f90, poten.f90:

	22 Jul 2004  Two bugs fixed. Now PWCOND is working as before.
	             Bugs introduced when 0:ndm => ndmx (23 Apr)
	             and to correct another problem (31 May). (ADC)

2004-07-22 13:16  sbraccia

	* examples/example17/: run_example, reference/H2+H.axsf,
	  reference/H2+H.dat, reference/H2+H.int, reference/H2+H.neb,
	  reference/H2+H.out, reference/H2+H.xyz,
	  reference/asymmetric_H2+H.axsf, reference/asymmetric_H2+H.dat,
	  reference/asymmetric_H2+H.int, reference/asymmetric_H2+H.neb,
	  reference/asymmetric_H2+H.out, reference/asymmetric_H2+H.xyz,
	  reference/symmetric_H2+H.axsf, reference/symmetric_H2+H.dat,
	  reference/symmetric_H2+H.int, reference/symmetric_H2+H.neb,
	  reference/symmetric_H2+H.out, reference/symmetric_H2+H.xyz:

	NEB examples updated.
	C.S.

2004-07-22 09:37  sbraccia

	* Modules/read_namelists.f90:

	Removed a strange initialization (ekin_conv_thr = -1.0d0) that was causing a warning.
	C.S.

2004-07-21 10:02  sbraccia

	* CPV/neb_routines.f90, Modules/input_parameters.f90,
	  Modules/neb_base.f90, Modules/neb_variables.f90,
	  Modules/read_namelists.f90, PW/input.f90:

	Removed input variable VEC_scheme (no longer used).
	C.S.

2004-07-20 17:25  sbraccia

	* Modules/io_routines.f90, Modules/minimization_routines.f90,
	  Modules/neb_base.f90, Modules/neb_variables.f90,
	  pwtools/path_int.f90:

	Fixed some bugs in NEB. Added a new field in the neb restart file.
	To use old restart files the following gawk-script can be used:

	BEGIN{ level = 0 }
	{
	if ( $1 == "Image:" ) {
	   print ;
	   if ( $2 > level ) {
	      level = $2 ;
	      getline ;
	      printf "%2s,  F \n", $1 ;
	      }
	   }
	else { print }
	}

	C.S.

2004-07-20 16:28  ballabio

	* CPV/compute_scf.f90:

	small bugfix [Gerardo]

2004-07-20 16:01  ballabio

	* examples/example23/reference/: h2o.efield.out, h2o.wannier.out:

	reference data for new example [Gerardo]

2004-07-20 15:59  ballabio

	* examples/example23/: README, run_example:

	New example: CP with Wannier functions (contributed by Manu Sharma)
	[Gerardo]

2004-07-19 19:22  ballabio

	* Modules/bfgs_module.f90:

	reinstantiating output change that got lost somehow [Gerardo]

2004-07-19 19:19  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cpr_mod.f90, CPV/restart.f90,
	  Modules/cell_base.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PP/README.WANNIER, PP/wfdd.f90,
	  pseudo/H_US.van, pseudo/O_US.van:

	- further merging of low level subroutine between FPMD and CP
	  ( cell_move in Module/cell_base.f90 )
	- More input parameters check in Module/read_namelists
	- For CP, restart file is saved in working directory like in FPMD
	  and not in output_dir where MD data are saved, this is because
	  usually one keep MD trajectories in home dir.
	- added pseudopotential for wannier dynamics example
	- added Wannier postprocessing (from Manu Sharma )
	- fixed a small bug for FPMD and 'diis' electron dynamics

2004-07-19 15:36  sbraccia

	* PW/: cegterg.f90, regterg.f90:

	Fixed a small bug added (by me) in a recent commit.
	C.S.

2004-07-19 11:41  sbraccia

	* Modules/formats.f90:

	Added a digit for the cpu time (neb calculation).
	C.S.

2004-07-19 11:03  sbraccia

	* pwtools/path_int.f90:

	Fixed an error  in the restart format.
	C.S.

2004-07-16 15:25  sbraccia

	* PW/: c_bands.f90, sum_band.f90, wfcinit.f90:

	Fixed a bug (spotted by Guido) in the diagonalization with occupation-dependent thresholds:
	now occupations are also computed at the end of the the wfcs initialization so that wg is always initialized.
	C.S.

2004-07-16 10:55  ballabio

	* PW/dynamics.f90:

	ifort fix removed, compiler has been fixed [Gerardo]

2004-07-15 19:14  ballabio

	* examples/: postdiff.awk, prediff.awk:

	cleanup [Gerardo]

2004-07-15 18:01  sbraccia

	* Modules/bfgs_module.f90:

	Several minor bugs fixed in the lbfgs algorithm. Added an, hopefully safe, interpolation for the "step accepted" case of the standard bfgs which can give some speedup in the minimization (it can be disabled commenting a line inside the file).
	C.S.

2004-07-15 15:41  ballabio

	* PW/dynamics.f90, examples/prediff.awk:

	more changes in output [Gerardo]

2004-07-15 14:23  ballabio

	* Modules/bfgs_module.f90, PW/dynamics.f90, examples/postdiff.awk,
	  examples/prediff.awk:

	changes in output format [Gerardo]

2004-07-15 12:48  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cpr_mod.f90, Modules/Makefile,
	  Modules/cell_base.f90, Modules/control_flags.f90,
	  Modules/cp_emass.f90, Modules/ions_base.f90:

	- added module cp_mass (for car-parrinello electronic mass)
	- cpr.f90 lot of staff moved to subroutines

2004-07-14 17:32  ballabio

	* PH/dynmatrix.f90, examples/postdiff.awk, examples/prediff.awk:

	again changes in the output [Gerardo]

2004-07-14 17:00  ballabio

	* examples/: postdiff.awk, prediff.awk, pwdiff.sh:

	updates to reflect changes in output [Gerardo]

2004-07-14 16:58  ballabio

	* PH/: phonon.f90, phqscf.f90, solve_e.f90, solve_linter.f90:

	Other small changes in the output [Gerardo]

2004-07-14 16:23  ballabio

	* PH/: sym_and_write_zue.f90, write_epsilon_and_zeu.f90:

	small change in output format [Gerardo]

2004-07-14 15:25  giannozz

	* install/Make.altix:

	Missing file added

2004-07-14 12:21  ballabio

	* configure, configure.ac:

	added (partial) support for Cray X1 (contributed by Roberto Ansaloni)
	[Gerardo]

2004-07-13 23:09  giannozz

	* atomic/: ld1_readin.f90, set_rho_core.f90:

	More cleanup

2004-07-13 19:36  ballabio

	* CPV/wf.f90:

	trivial bugfixes [Gerardo]

2004-07-13 19:32  giannozz

	* atomic/: all_electron.f90, ld1_readin.f90, ld1_setup.f90,
	  parameters.f90, scf.f90, set_rho_core.f90, write_results.f90:

	Cleanup, indentation, minor things

2004-07-13 19:32  giannozz

	* atomic_doc/: ChangeLog, INPUT_LD1, README, pseudo-gen.tex:

	Documentation updated

2004-07-13 19:06  ballabio

	* examples/example21/reference/: h2o-32.out, h2o-64.out:

	regenerated examples [Gerardo]

2004-07-12 16:46  cavazzon

	* CPV/: Makefile, cpr.f90, cprstart.f90, wannier.f90, wfcpr.f90:

	wfcpr.f90 merged into cpr.f90

2004-07-10 20:16  cavazzon

	* CPV/: Makefile, modules.f90, wannier.f90, wfcpr.f90:

	a lot of wannier staff moved to separate subroutines,
	in order to make a single file out of wfcpr.f90 and cpr.f90

2004-07-10 18:49  giannozz

	* atomic/: Makefile, compute_phi.f90, el_config.f90, lderiv.f90,
	  lderivps.f90:

	More cleanup

2004-07-10 18:33  giannozz

	* CPV/wf.f90:

	Tabulators removed

2004-07-10 18:15  giannozz

	* CPV/: cplib.f90, para.f90, wf.f90:

	Removed references to nonexistent routines or variables

2004-07-09 17:52  dalcorso

	* Makefile:

	Added ld1.x to the list of executables in bin.

2004-07-09 17:50  sbraccia

	* PH/phonon.f90, PW/pwcom.f90:

	Cleanup and fixes of minor errors in phonon.
	C.S.

2004-07-09 16:23  giannozz

	* atomic/compute_chi.f90, atomic/compute_phi.f90,
	  atomic/gener_pseudo.f90, atomic/pseudovloc.f90, atomic/trou.f90,
	  atomic_doc/ChangeLog:

	Troullier-Martins sort of working, more cleaning

2004-07-09 15:40  dalcorso

	* PW/make_pointlists.f90:

	make_pointlists was not working with very strange atomic positions.
	small changes in get_locals and report_mag.

2004-07-08 17:40  dalcorso

	* atomic_doc/pseudo-gen/: pt.in, reference/Ptrel.RRKJ3.UPF,
	  reference/pt.out:

	Pt spin-orbit pseudopotential generated with the d8s2 configuration.
	Slightly more transferable.

2004-07-08 12:23  giannozz

	* Gamma/cg_readin.f90, Gamma/raman.f90, PH/phq_readin.f90:

	Some obvious and needed checks were missing from phonon codes

2004-07-07 17:23  cavazzon

	* CPV/cplib.f90, CPV/wf.f90, CPV/wfcpr.f90,
	  Modules/read_namelists.f90:

	- New kind of calculation cp-wf added
	- varius fix for CP with wannier functions,
	  now I'm able to run Sharma examples,
	  but the code is still not fully tested
	- fix in readpp for pseudo different from UPF

2004-07-06 19:21  giannozz

	* atomic/all_electron.f90, atomic/ascheqlocps.f90,
	  atomic/compute_chi.f90, atomic/compute_det.f90,
	  atomic/compute_phi.f90, atomic/compute_phipot.f90,
	  atomic/compute_phius.f90, atomic/descreening.f90,
	  atomic/find_qi.f90, atomic/gener_pseudo.f90, atomic/intref.f90,
	  atomic/ld1_readin.f90, atomic/ld1inc.f90, atomic/lderiv.f90,
	  atomic/lderivps.f90, atomic/run_pseudo.f90, atomic_doc/INPUT_LD1,
	  atomic_doc/README, atomic_doc/all-electron/reference/ar.out,
	  atomic_doc/all-electron/reference/cu.out,
	  atomic_doc/all-electron/reference/cu1.out,
	  atomic_doc/all-electron/reference/f.out,
	  atomic_doc/all-electron/reference/fe.out,
	  atomic_doc/all-electron/reference/h.out,
	  atomic_doc/all-electron/reference/he.out,
	  atomic_doc/all-electron/reference/mg.out,
	  atomic_doc/all-electron/reference/pt.out,
	  atomic_doc/all-electron/reference/u.out,
	  atomic_doc/all-electron/reference/u1.out,
	  atomic_doc/all-electron/reference/w.out,
	  atomic_doc/pseudo-gen/reference/Al.rrkj3,
	  atomic_doc/pseudo-gen/reference/Asrel.RRKJ3.UPF,
	  atomic_doc/pseudo-gen/reference/OPBE.RRKJ3,
	  atomic_doc/pseudo-gen/reference/Ptrel.RRKJ3.UPF,
	  atomic_doc/pseudo-gen/reference/al.out,
	  atomic_doc/pseudo-gen/reference/as.out,
	  atomic_doc/pseudo-gen/reference/o.out,
	  atomic_doc/pseudo-gen/reference/pt.out,
	  atomic_doc/pseudo-test/reference/Garel.tm.UPF,
	  atomic_doc/pseudo-test/reference/al.out,
	  atomic_doc/pseudo-test/reference/as.out,
	  atomic_doc/pseudo-test/reference/ga.out,
	  atomic_doc/pseudo-test/reference/ni.out,
	  atomic_doc/pseudo-test/reference/rh.out,
	  atomic_doc/pseudo-test/reference/s.out:

	- indentation, spelling
	- Troullier-Martins implementation (incomplete and untested)
	- examples updated

2004-07-06 18:42  ballabio

	* Modules/input_parameters.f90:

	small bugfix [Gerardo]

2004-07-06 17:21  cavazzon

	* CPV/Makefile, CPV/cplib.f90, CPV/cprstart.f90, CPV/input.f90,
	  CPV/modules.f90, CPV/para.f90, CPV/restartsm.f90, CPV/smcp.f90,
	  CPV/smd.f90, CPV/wf.f90, CPV/wfcpr.f90,
	  Modules/control_flags.f90, Modules/input_parameters.f90:

	- some elimination of duplicated code
	- new subroutines for CP with Wannier Functions
	  as implemented by Manu Sharma
	  (not yet tested)

2004-07-06 15:49  giannozz

	* PW/clean_pw.f90, PWCOND/Makefile:

	NEB+NEC=bug (fixed)

2004-07-05 23:09  giannozz

	* Modules/read_cards.f90, PH/sym_and_write_zue.f90,
	  PWCOND/compbs.f90, pwtools/dist.f:

	indeces => indices

2004-07-05 19:22  giannozz

	* atomic/: elsdps.f90, lschps.f90:

	More out-of-bounds (not serious)

2004-07-05 18:48  giannozz

	* atomic/: Makefile, ascheq.f90, gener_pseudo.f90, invmat1.f90:

	Cleanup, indentation, out-of-bound error in ascheq

2004-07-05 08:54  sbraccia

	* Modules/: io_routines.f90, neb_base.f90:

	Cleanup.
	C.S.

2004-07-05 08:53  sbraccia

	* PW/: c_bands.f90, cegterg.f90, diis_module.f90, regterg.f90:

	In the diagonalization two different tresholds are used for occupied and empty bands (as done in diis).
	Marginal speed-up (of the order of 10%-20%), but safe.
	C.S.

2004-07-05 08:50  sbraccia

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PW/input.f90:

	Cleanup: removed unused variables.
	C.S.

2004-07-02 18:24  giannozz

	* TODO, make.sys.in, D3/solve_linter_d3.f90, Gamma/Makefile,
	  Modules/version.f90, PH/Makefile, PH/solve_e.f90,
	  PH/solve_linter.f90, PP/Makefile, PP/dost.f90, PW/Makefile,
	  PW/bp_c_phase.f90, PW/bp_zgedi.f, PW/bp_zgefa.f, PW/dynamics.f90,
	  PWCOND/Makefile, examples/example06/run_example,
	  examples/example06/reference/alas.phdos, flib/Makefile,
	  flib/dost.f90, flib/linpack.f90, pwtools/matdyn.f90:

	Misc. cleanup; a few redundant routines moved to flib;
	added example for phonon DOS; version number updated to 2.1 (PG)

	Please start testing and debugging the next version, i.e., this one.
	Note that reference data have to be updated for all examples.

2004-07-02 15:44  ballabio

	* examples/environment_variables:

	Oops... [Gerardo]

2004-07-02 15:44  ballabio

	* examples/: check_example, environment_variables,
	  example02/run_example, example03/run_example,
	  example04/run_example, example05/run_example,
	  example06/run_example, example07/run_example,
	  example08/run_example, example09/run_example,
	  example10/run_example, example11/run_example,
	  example12/run_example, example13/run_example,
	  example14/run_example, example15/run_example,
	  example16/run_example, example17/run_example,
	  example18/run_example, example19/run_example,
	  example20/run_example, example21/run_example,
	  example22/run_example:

	more fixes for /bin/sh [Gerardo]

2004-07-02 14:47  ballabio

	* examples/example01/run_example:

	now should work with generic /bin/sh [Gerardo]

2004-07-01 17:51  giannozz

	* PH/: bcast_ph_input.f90, phonon.f90, q_points.f90:

	Minor things

2004-07-01 17:42  dalcorso

	* PW/pwcom.f90:

	Added the possibility to make a spin-orbit calculation with
	zero magnetization. (Still to be cleaned)
	Removed the routine to calculate k - -k needed just in
	this case.

2004-07-01 17:15  cavazzon

	* Modules/io_base.f90, PW/restart.f90, CPV/restart.f90,
	  CPV/restartsm.f90:

	new fix for variable tetra

2004-06-30 19:56  deinzer

	* Gamma/cgcom.f90, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90,
	  PH/Makefile, PH/phcom.f90, PH/phonon.f90, PH/phq_readin.f90,
	  PH/q_points.f90, PH/solve_linter.f90, PW/Makefile, PW/input.f90,
	  PW/pwcom.f90, PW/pwscf.f90, PW/q_points.f90:

	Cleanup: 'dispersion' removed from PW, is now entirely in PH
	         module disp moved from pwcom to phcom
	         variable nqx changed to nqmax

2004-06-30 19:16  giannozz

	* PP/projwfc.f90:

	Oops...

2004-06-30 19:01  giannozz

	* PP/dos.f90, PP/projwfc.f90, examples/example08/run_example:

	Calculation of DOS and of Projected DOS have the same kind of input
	and yield comparable results, at least with gaussian broadening
	(PDOS with tetrahedra still not implemented)
	Beware changes in input and possible problems.

2004-06-30 15:57  giannozz

	* PH/phonon.f90:

	Better check (again)

2004-06-30 15:27  deinzer

	* PH/phonon.f90:

	file .stat. works now in parallel

2004-06-30 13:57  giannozz

	* PH/phonon.f90:

	Better check

2004-06-30 13:04  cavazzon

	* CPV/: restartsm.f90, smcp.f90:

	- bug fix in string dynamics, now seems to work,
	  a new example will follow soon

2004-06-30 10:49  giannozz

	* CPV/: errore.f90, input.f90, para.f90, redis.f90, restartsm.f90,
	  smcp.f90, smd.f90, smd_modules.f90, smlam.f90:

	mpif.h => parallel_include
	tabulatorsi removed, indentation etc

2004-06-29 20:12  cavazzon

	* CPV/Makefile, CPV/cplib.f90, CPV/cpr.f90, CPV/cprstart.f90,
	  CPV/input.f90, CPV/redis.f90, CPV/restart.f90, CPV/restartsm.f90,
	  CPV/smcp.f90, CPV/smd.f90, CPV/smd_modules.f90, CPV/smlam.f90,
	  Modules/io_base.f90, PW/restart.f90:

	- fix io_base bug with array tetra
	- added to CPV the string dynimics as implemented
	  by Yosuke (not fully tested yet)

2004-06-29 12:13  cavazzon

	* Modules/energies.f90:

	fix for compilation of CP

2004-06-29 10:12  giannozz

	* PH/bcast_ph_input.f90, include/defs.h.README:

	Missing variable in parallel + doc update

2004-06-28 19:42  cavazzon

	* Modules/: control_flags.f90, energies.f90, input_parameters.f90,
	  read_cards.f90, read_namelists.f90:

	added new input variables for string dynamics in CP code,
	as implemented by Yosuke Kanai

2004-06-28 18:28  deinzer

	* PH/: bcast_ph_input.f90, phonon.f90, phq_readin.f90:

	bug fixes in parallel execution

2004-06-28 17:32  deinzer

	* PH/close_phq.f90:

	Reference to missing module para added

2004-06-28 13:23  kokalj

	* Modules/neb_base.f90:

	correcting typo in Emin & Emax calculation in born_oppenheimer_PES subroutine

2004-06-28 12:08  deinzer

	* D3/Makefile, PH/Makefile, PH/close_phq.f90,
	  PH/deallocate_part.f90, PH/deallocate_phq.f90, PH/phcom.f90,
	  PH/phonon.f90, PH/phq_readin.f90, PH/phq_setup.f90,
	  PH/stop_ph.f90, PW/clean_pw.f90, PW/compute_scf.f90,
	  PW/q_points.f90, PW/stop_pw.f90:

	Calculation of the dynamical matrices for the dispersion
	is now within ph.x possible.
	New input variables:
	lnscf: if .true. the nscf and phonon run are done in one single run

	ldisp: if .true. calculation of dyn. matrices for dispersion
	nq1, nq2, nq3: q-point mesh

2004-06-28 11:02  dalcorso

	* examples/example22/reference/: pt.nscf.out, pt.scf.out:

	Added a routine to calculated k and -k in the spin-orbit case,
	because they are no more equivalent.

2004-06-26 19:00  sbraccia

	* PW/cgramg1.f90:

	oops ...

2004-06-26 18:56  sbraccia

	* PW/electrons.f90:

	oops ...

2004-06-26 18:48  sbraccia

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PW/c_bands.f90, PW/cgramg1.f90,
	  PW/diis_module.f90, PW/electrons.f90, PW/input.f90,
	  PW/s_1psi.f90, PW/sum_band.f90, PW/summary.f90:

	diis_module.f90 recoded.
	The following variant of the DIIS Residual Minimization Method, based
	on three steps, has been implemented :
	1) At the first "scf" step of the first "ionic" step, the diagonalization
	   starts with an initialization procedure. Two (or more) sweeps on all
	   the bands are performed. A sweep consists in two (or more if required)
	   unconstrained trial steps (steepest descent steps) followed by a
	   subspace rotation. If convergence is not achieved in this phase a
	   final trial step is done.
	   In all the other cases the initialization procedure consists in a
	   subspace rotation followed by a trial step.
	2) Diagonalization based on the DIIS algorithm is performed on the lowest
	   ( nbnd - 2 ) bands. Orthogonalization of the eigenvectors is done at
	   each step. The possibility of orthogonalizing a given band only to
	   those inside an energy window is also implemented.
	3) The topmost two bands are converged using a standard
	   conjugate-gradient procedure. This ensures that eventual holes
	   left by the DIIS algorithm can be identified and filled.
	   If two holes have been found this procedure is repeated on the
	   topmost two bands (previously optimized with the DIIS algorithm).
	C.S.

2004-06-25 19:28  sbraccia

	* clib/cp.h, include/machine.h, include/machine.h.README:

	[no log message]

2004-06-25 19:25  sbraccia

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprstart.f90, CPV/errore.f90,
	  CPV/fft_cp.f90, CPV/para.f90, CPV/wrapper.f90,
	  D3/allocate_d3.f90, D3/bcast_d3_input.f90, D3/ch_psi_all2.f90,
	  D3/close_open.f90, D3/d0rhod2v.f90, D3/d3_exc.f90,
	  D3/d3_init.f90, D3/d3_readin.f90, D3/d3_recover.f90,
	  D3/d3_setup.f90, D3/d3_summary.f90, D3/d3_symdyn.f90,
	  D3/d3_symdynph.f90, D3/d3_valence.f90, D3/d3dyn_cc.f90,
	  D3/d3ionq.f90, D3/d3toten.f90, D3/d3vrho.f90,
	  D3/davcio_drho2.f90, D3/dpsi_corr.f90, D3/dpsidpsidv.f90,
	  D3/dpsidvdpsi.f90, D3/dqrhod2v.f90, D3/drho_cc.f90,
	  D3/drho_drc.f90, D3/drhod2v.f90, D3/dvdpsi.f90, D3/dvscf.f90,
	  D3/gen_dpdvp.f90, D3/gen_dwfc.f90, D3/incdrhoscf2.f90,
	  D3/psymd0rho.f90, D3/qstar_d3.f90, D3/read_ef.f90,
	  D3/rotate_and_add_d3.f90, D3/set_d3irr.f90, D3/set_efsh.f90,
	  D3/set_sym_irr.f90, D3/sgama_d3.f90, D3/solve_linter_d3.f90,
	  D3/sym_def1.f90, D3/symd0rho.f90, D3/trntnsc_3.f90,
	  D3/write_aux.f90, D3/writed3dyn_5.f90, Gamma/a_h.f90,
	  Gamma/cg_readin.f90, Gamma/cg_setup.f90, Gamma/cgsolve.f90,
	  Gamma/d2ion.f90, Gamma/dgradcorr.f90, Gamma/dielec.f90,
	  Gamma/drhodv.f90, Gamma/dvb_cc.f90, Gamma/dvpsi_e.f90,
	  Gamma/dvpsi_kb.f90, Gamma/dyndiar.f90, Gamma/dynmat_init.f90,
	  Gamma/dynmatcc.f90, Gamma/generate_dynamical_matrix.f90,
	  Gamma/generate_effective_charges.f90, Gamma/h_h.f90,
	  Gamma/macro.f90, Gamma/pw_dot.f90, Gamma/raman.f90,
	  Gamma/rhod2vkb.f90, Gamma/solve_e.f90, Gamma/solve_ph.f90,
	  Modules/basic_algebra_routines.f90, Modules/fft_base.f90,
	  Modules/fft_scalar.f90, Modules/ptoolkit.f90,
	  Modules/wave_base.f90, PH/add_dkmds.f90, PH/add_for_charges.f90,
	  PH/add_zstar_ue.f90, PH/add_zstar_ue_us.f90, PH/addcore.f90,
	  PH/adddvepsi_us.f90, PH/adddvscf.f90, PH/addnlcc.f90,
	  PH/addnlcc_zstar_eu_us.f90, PH/addusdbec.f90, PH/addusddens.f90,
	  PH/addusddense.f90, PH/addusdynmat.f90, PH/addusldos.f90,
	  PH/allocate_part.f90, PH/allocate_phq.f90, PH/bcast_ph_input.f90,
	  PH/bcast_ph_input1.f90, PH/cgsolve_all.f90, PH/ch_psi_all.f90,
	  PH/compute_alphasum.f90, PH/compute_becalp.f90,
	  PH/compute_becsum.f90, PH/compute_drhous.f90,
	  PH/compute_dvloc.f90, PH/compute_nldyn.f90, PH/d2ionq.f90,
	  PH/davcio_drho.f90, PH/dgradcorr.f90, PH/dielec.f90, PH/drho.f90,
	  PH/drhodv.f90, PH/drhodvloc.f90, PH/drhodvnl.f90,
	  PH/drhodvus.f90, PH/dv_of_drho.f90, PH/dvanqq.f90, PH/dvkb3.f90,
	  PH/dvpsi_e.f90, PH/dvqpsi_us.f90, PH/dvqpsi_us_only.f90,
	  PH/dyndia.f90, PH/dynmat0.f90, PH/dynmat_us.f90, PH/dynmatcc.f90,
	  PH/dynmatrix.f90, PH/ef_shift.f90, PH/elphon.f90,
	  PH/incdrhoscf.f90, PH/incdrhous.f90, PH/localdos.f90,
	  PH/newdq.f90, PH/phq_init.f90, PH/phq_readin.f90,
	  PH/phq_recover.f90, PH/phq_setup.f90, PH/phq_summary.f90,
	  PH/phqscf.f90, PH/psidspsi.f90, PH/psymdvscf.f90, PH/psyme.f90,
	  PH/punch_plot_e.f90, PH/punch_plot_ph.f90, PH/q2qstar_ph.f90,
	  PH/random_matrix.f90, PH/rotate_and_add_dyn.f90,
	  PH/set_drhoc.f90, PH/set_irr.f90, PH/set_irr_mode.f90,
	  PH/set_irr_nosym.f90, PH/setlocq.f90, PH/setup_dgc.f90,
	  PH/smallgq.f90, PH/solve_e.f90, PH/solve_linter.f90,
	  PH/star_q.f90, PH/sym_and_write_zue.f90, PH/sym_def.f90,
	  PH/symdvscf.f90, PH/symdyn_munu.f90, PH/symdynph_gq.f90,
	  PH/syme.f90, PH/tra_write_matrix.f90, PH/trntnsc.f90,
	  PH/zstar_eu.f90, PH/zstar_eu_us.f90, PP/addusdens1d.f90,
	  PP/average.f90, PP/bands.f90, PP/cgracsc.f90, PP/chdens.f90,
	  PP/dos.f90, PP/elf.f90, PP/local_dos.f90, PP/local_dos1d.f90,
	  PP/plan_avg.f90, PP/plotband.f90, PP/plotrho.f90,
	  PP/poormanwannier.f90, PP/postproc.f90, PP/projwfc.f90,
	  PP/punch_plot.f90, PP/pw2casino.f90, PP/pw2wan.f90, PP/stm.f90,
	  PP/voronoy.f90, PW/add_efield.f90, PW/add_vuspsi.f90,
	  PW/addusdens.f90, PW/addusforce.f90, PW/addusstress.f90,
	  PW/allocate_fft.f90, PW/allocate_locpot.f90,
	  PW/allocate_nlpot.f90, PW/allocate_wfc.f90, PW/atomic_rho.f90,
	  PW/atomic_wfc.f90, PW/bfgs.f90, PW/bp_c_phase.f90,
	  PW/bp_strings.f90, PW/c_bands.f90, PW/ccalbec.f90,
	  PW/ccgdiagg.f90, PW/cdiagh.f90, PW/cdiaghg.f90, PW/cegterg.f90,
	  PW/cft3.f90, PW/cft3s.f90, PW/cft_3.f90, PW/cft_fftw.f90,
	  PW/cft_sgi.f90, PW/cft_sp.f90, PW/cft_sun.f90, PW/cft_t3e.f90,
	  PW/cfts_3.f90, PW/cgramg1.f90, PW/checkallsym.f90,
	  PW/cinitcgg.f90, PW/constraints_module.f90, PW/d_matrix.f90,
	  PW/data_structure.f90, PW/deriv_drhoc.f90, PW/diis_module.f90,
	  PW/diropn.f90, PW/divide_et_impera.f90, PW/dndepsilon.f90,
	  PW/dndtau.f90, PW/dprojdepsilon.f90, PW/dprojdtau.f90,
	  PW/dqvan2.f90, PW/drhoc.f90, PW/dvloc_of_g.f90, PW/dynamics.f90,
	  PW/electrons.f90, PW/force_cc.f90, PW/force_corr.f90,
	  PW/force_ew.f90, PW/force_hub.f90, PW/force_lc.f90,
	  PW/force_us.f90, PW/forces.f90, PW/gen_at_dj.f90,
	  PW/gen_at_dy.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PW/ggen.f90, PW/gradcorr.f90, PW/init_at_1.f90, PW/init_ns.f90,
	  PW/init_paw_1.f90, PW/init_paw_2.f90, PW/init_us_1.f90,
	  PW/init_us_2.f90, PW/init_vloc.f90, PW/input.f90,
	  PW/interpolate.f90, PW/io_pot.f90, PW/irrek.f90,
	  PW/kpoint_grid.f90, PW/lchk_tauxk.f90, PW/make_pointlists.f90,
	  PW/mix_pot.f90, PW/mix_rho.f90, PW/mode_group.f90, PW/new_ns.f90,
	  PW/newd.f90, PW/ortho.f90, PW/orthoatwfc.f90, PW/para.f90,
	  PW/potinit.f90, PW/psymrho.f90, PW/pw_gemm.f90, PW/qvan2.f90,
	  PW/rdiaghg.f90, PW/read_file.f90, PW/readin.f90, PW/regterg.f90,
	  PW/remove_atomic_rho.f90, PW/restart.f90, PW/rgen.f90,
	  PW/rotate_wfc.f90, PW/rotate_wfc_gamma.f90, PW/s_psi.f90,
	  PW/scale_h.f90, PW/set_rhoc.f90, PW/setlocal.f90, PW/setup.f90,
	  PW/sgam_at.f90, PW/sgam_at_mag.f90, PW/sgam_ph.f90, PW/sgama.f90,
	  PW/show_memory.f90, PW/smallg_q.f90, PW/startup.f90,
	  PW/stres_cc.f90, PW/stres_gradcorr.f90, PW/stres_har.f90,
	  PW/stres_hub.f90, PW/stres_knl.f90, PW/stres_loc.f90,
	  PW/stres_us.f90, PW/stress.f90, PW/struct_fact.f90,
	  PW/sum_band.f90, PW/summary.f90, PW/symrho.f90, PW/symtns.f90,
	  PW/symvect.f90, PW/symz.f90, PW/trnvecc.f90, PW/update_pot.f90,
	  PW/updathes.f90, PW/vcsmd.f90, PW/vhpsi.f90, PW/vloc_of_g.f90,
	  PW/vloc_psi.f90, PW/wfcinit.f90, PWCOND/allocate_cond.f90,
	  PWCOND/allocate_cond_2.f90, PWCOND/compbs.f90,
	  PWCOND/compbs_2.f90, PWCOND/do_cond.f90, PWCOND/eigenchnl.f90,
	  PWCOND/four.f90, PWCOND/free_mem.f90, PWCOND/gep_gep.f90,
	  PWCOND/gep_x.f90, PWCOND/gramsh.f90, PWCOND/hev_ab.f90,
	  PWCOND/init_gper.f90, PWCOND/jbloch.f90, PWCOND/kbloch.f90,
	  PWCOND/local.f90, PWCOND/poten.f90, PWCOND/rotate.f90,
	  PWCOND/rotproc.f90, PWCOND/scatter_back.f90,
	  PWCOND/scatter_forw.f90, PWCOND/summary_band.f90,
	  PWCOND/transmit.f90, clib/c_mkdir.c, clib/cpflush.c,
	  clib/cptimer.c, clib/fft_stick.c, clib/indici.c, clib/memstat.c,
	  flib/dylmr2.f90, flib/eispack.f90, flib/invmat.f90,
	  pwtools/matdyn.f90, pwtools/q2r.f90, pwtools/rigid.f90,
	  upftools/any2upf.f90, upftools/cpmd2upf.f90,
	  upftools/fhi2upf.f90, upftools/ncpp2upf.f90,
	  upftools/oldcp2upf.f90, upftools/rrkj2upf.f90,
	  upftools/uspp2upf.f90, upftools/vdb2upf.f90:

	Machine-dependent definitions are now contained in two different files (both in /include):

	   1) f_defs.h  for definitions to be included in FORTRAN files ONLY
	   2) c_defs.h  for definitions to be included in C       files ONLY

	C.S.

2004-06-25 19:12  giannozz

	* upftools/Makefile:

	Missing modules again

2004-06-25 18:59  giannozz

	* CPV/cplib.f90:

	exfact is a real number ...

2004-06-25 18:30  giannozz

	* pwtools/: dist.f, matdyn.f90, q2r.f90:

	uffa...

2004-06-25 18:18  giannozz

	* install/shdep:

	missing directories in old-style configuration

2004-06-25 17:50  sbraccia

	* include/: c_defs.h, defs.h.README, f_defs.h:

	Machine-dependent definitions are contained in two different files (both in /include):

	   1) f_defs.h	for definitions to be included in FORTRAN files ONLY
	   2) c_defs.h  for definitions to be included in C       files ONLY

	C.S.

2004-06-25 17:39  giannozz

	* install/shdep:

	Raman directory added for list of dependencies (old style)

2004-06-25 17:33  giannozz

	* D3/Makefile, D3/openfild3.f90, PWCOND/Makefile,
	  PWCOND/do_cond.f90:

	parallel_include added

2004-06-25 17:32  giannozz

	* include/machine.h:

	T3E again

2004-06-25 17:10  giannozz

	* Gamma/: Makefile, cg_readin.f90:

	parallel_include added

2004-06-25 17:01  giannozz

	* PP/: Makefile, bands.f90, chdens.f90, dos.f90, postproc.f90,
	  projwfc.f90:

	parallel_include missing and other small things

2004-06-25 16:43  giannozz

	* PH/: Makefile, phq_readin.f90:

	parallel_include missing

2004-06-25 16:23  giannozz

	* PW/: Makefile, constraints_module.f90, diis_module.f90:

	More t3e fixes

2004-06-25 16:23  giannozz

	* flib/: eispack.f90, lapack_t3e.f:

	More T3E fixes

2004-06-25 14:06  sbraccia

	* CPV/cpr.f90, PW/electrons.f90, clib/cp.h, include/machine.h:

	NEB: stdout (which is redirected on file) is always flushed.
	The flush() is preprocessed (on AIX it is called flush_).
	C.S.

2004-06-25 12:12  giannozz

	* CPV/neb_routines.f90, Gamma/Makefile, Gamma/raman.f90,
	  Modules/Makefile, PP/chdens.f90, PP/plotband.f90, PP/plotrho.f90,
	  PP/voronoy.f90, PW/bp_c_phase.f90, PW/input.f90,
	  PWCOND/gep_x.f90, flib/lapack_t3e.f, include/machine.h,
	  pwtools/Makefile, upftools/any2upf.f90, upftools/cpmd2upf.f90,
	  upftools/fhi2upf.f90, upftools/ncpp2upf.f90,
	  upftools/oldcp2upf.f90, upftools/rrkj2upf.f90,
	  upftools/uspp2upf.f90, upftools/vdb2upf.f90:

	Various T3E compilation problems
	Any kind soul replacing the calls to zgefa and zgesl with lapack calls?

2004-06-24 12:33  ballabio

	* PW/dynamics.f90:

	workaround for ifort bug [Gerardo]

2004-06-24 12:30  cavazzon

	* Modules/energies.f90:

	cleanup

2004-06-24 12:13  cavazzon

	* Modules/energies.f90:

	more energy components added for SIC

2004-06-24 11:53  ballabio

	* PW/electrons.f90:

	cleanup [Gerardo]

2004-06-24 09:37  giannozz

	* PP/chdens.f90:

	Calculation of Makov-Payne correction added to chdens

2004-06-23 16:45  ballabio

	* configure, configure.ac:

	small bug fix [Gerardo]

2004-06-23 13:57  sbraccia

	* Modules/bfgs_module.f90:

	BFGS: when convergence is achieved a file "old_prefix".hess_out, containing the approximate inverse
	hessian, is written in the outdir. If you want to use this file as a guess for a new calculation,
	you have to change the name of this file to "new_prefix".hess_in. Such file is automatically searched
	and read if present. Of course the new system must be similar to the old one (the only automatic check
	is done on the rank of the hessian matrix).
	C.S.

2004-06-22 16:17  ballabio

	* configure, configure.ac:

	fix for pgi compiler [Gerardo]

2004-06-22 10:03  giannozz

	* Modules/uspp.f90:

	No need to have a spin index in dvan

2004-06-22 09:59  giannozz

	* D3/d0rhod2v.f90, D3/d3vrho.f90, D3/dqrhod2v.f90, D3/dvdpsi.f90,
	  Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90, Gamma/rhod2vkb.f90,
	  PP/pw2casino.f90, PW/addusforce.f90, PW/allocate_nlpot.f90,
	  PW/init_us_1.f90, PW/newd.f90, CPV/cplib.f90, CPV/cprsub.f90:

	No need to have a spin index in dvan

2004-06-22 09:21  sbraccia

	* Modules/neb_base.f90, PW/dynamics.f90:

	Cleanup. In the dynamics() subroutine some minor modification of the output format.
	C.S.

2004-06-21 17:39  ballabio

	* PW/electrons.f90, examples/check_example, examples/postdiff.awk,
	  examples/prediff.awk, examples/pwdiff.sh:

	small changes in output format, to make it easier for check_example
	[Gerardo]

2004-06-21 16:13  giannozz

	* Gamma/cg_readin.f90, PP/bands.f90, PP/dos.f90, PP/plotband.f90,
	  PP/postproc.f90, PP/projwfc.f90, PW/bp_c_phase.f90, clib/cp.h,
	  pwtools/matdyn.f90:

	More T3E glitches: getarg must be preprocessed
	|| instead of | in clib/cp.h

2004-06-21 15:05  ballabio

	* configure, configure.ac:

	added support for Opteron (contributed by Davide Ceresoli) [Gerardo]

2004-06-21 12:12  sbraccia

	* Modules/neb_base.f90, PW/init_pool.f90, PW/pwscf.f90,
	  PW/startup.f90:

	First clean-up of the parrallelism.
	Fixed a bug in the way temporary files were labelled in the parallel case (with nporc > 10 and npool > 1).
	C.S.

2004-06-21 09:34  dalcorso

	* atomic/gener_pseudo.f90, atomic/ld1_readin.f90,
	  atomic/ld1inc.f90, atomic/write_results.f90,
	  atomic_doc/ChangeLog, atomic_doc/INPUT_LD1, atomic_doc/README:

	Update of the output files. Added the possibility to write on file
	the beta functions (file_beta), the qvan functions (file_qvan),
	the chi functions (file_chi). (ADC)

2004-06-17 11:29  sbraccia

	* Modules/: fft_base.f90, ptoolkit.f90:

	Direct references to mpif.h replaced by USE parallel_include.
	C.S.

2004-06-17 10:42  degironc

	* PP/work_function.f90:

	stm image for nspin=2: core charge was incorrectly added twice in this case
	                                                         (SF,SdG)

2004-06-17 09:29  sbraccia

	* PW/forces.f90:

	Small change in the output: also the forces on fixed atoms are printed (previously they were set to zero before the print-out).
	C.S.

2004-06-16 19:49  degironc

	* PP/work_function.f90:

	 stm image should work also for magnetic systems (SdG)

2004-06-16 16:29  ballabio

	* PP/chdens.f90:

	removed "#ifdef __PARA" sections from chdens, could run only on one
	processor anyway [Gerardo]

2004-06-16 16:15  ballabio

	* PW/dynamics.f90:

	missing comma in format string, fixed [Gerardo]

2004-06-16 15:03  giannozz

	* Modules/basic_algebra_routines.f90, PW/rotate_wfc_gamma.f90,
	  upftools/fhi2upf.f90:

	NLCC in fhi2upf, T3E compilation problems

2004-06-16 09:35  sbraccia

	* Modules/neb_base.f90:

	Fixed a bug (highlighted by Tone) in the way the path-length was computed.
	C.S.

2004-06-15 11:56  ballabio

	* examples/: example02/reference/matdyn,
	  example02/reference/si.dynG, example02/reference/si.dynX,
	  example04/reference/MD2, example04/reference/MD2_G3X,
	  example04/reference/MD8, example07/reference/al.dyn,
	  example09/reference/matdyn, example14/reference/si.anh_G,
	  example14/reference/si.anh_X, example14/reference/si.d3G.in,
	  example14/reference/si.d3X.in, example14/reference/si.drho_G,
	  example14/reference/si.drho_X, example14/reference/si.dyn_G,
	  example14/reference/si.dyn_X, example14/reference/si.nscf.in,
	  example14/reference/si.phG.in, example14/reference/si.phX.in,
	  example14/reference/si.scf.in, example15/reference/alas.dynG:

	more cleanup of reference directories [Gerardo]
	please check if I've removed any files that I shouldn't have
	(and if I've left any files that could be removed)

2004-06-15 11:39  ballabio

	* examples/: example02/reference/c.phG.in,
	  example02/reference/c.scf.in, example02/reference/ni.nscf.in,
	  example02/reference/ni.phX.in, example02/reference/ni.scf.in,
	  example02/reference/si.nscfX.in,
	  example02/reference/si.nscfXsingle.in,
	  example02/reference/si.phG.in, example02/reference/si.phX.in,
	  example02/reference/si.phXsingle.in,
	  example02/reference/si.scf.in, example03/reference/al001.mm.in,
	  example03/reference/al001.rx.in, example03/reference/co.rx.in,
	  example04/reference/si.md2.in, example04/reference/si.md2_G3X.in,
	  example04/reference/si.md8.in, example05/reference/si.chdens.in,
	  example05/reference/si.plotrho.in,
	  example05/reference/si.pp_rho.in, example05/reference/si.scf.in,
	  example06/reference/alas.nscf.in, example06/reference/alas.ph.in,
	  example06/reference/alas.phG.in, example06/reference/alas.scf.in,
	  example06/reference/matdyn.in, example06/reference/q2r.in,
	  example07/reference/al.elph.in, example07/reference/al.nscf.in,
	  example07/reference/al.nscf2.in, example07/reference/al.ph.in,
	  example07/reference/al.scf.in, example08/reference/ni.dos.in,
	  example08/reference/ni.dos2.in, example08/reference/ni.pdos.in,
	  example08/reference/ni.scf.in, example09/reference/sih4.nm.in,
	  example09/reference/sih4.scf.in, example10/reference/BP.in,
	  example10/reference/chg.in, example11/reference/O.in,
	  example11/reference/al.in, example12/reference/AlwireH.cond.in,
	  example12/reference/AlwireH.scf.in,
	  example12/reference/al.cond.in, example12/reference/al.scf.in,
	  example12/reference/alwire.cond.in,
	  example12/reference/alwire.scf.in,
	  example12/reference/ni.cond.in, example12/reference/ni.scf.in,
	  example13/reference/cu.band.in, example13/reference/cu.cg.in,
	  example13/reference/cu.diis.in, example13/reference/cu.scf.in,
	  example13/reference/fe.angl.in, example13/reference/fe.band.in,
	  example13/reference/fe.pen.in, example13/reference/fe.scf.in,
	  example13/reference/ni.band.in, example13/reference/ni.scf.in,
	  example15/reference/alas.nscf.in,
	  example15/reference/alas.phA.in, example15/reference/alas.phE.in,
	  example15/reference/alas.ram.in, example15/reference/alas.scf.in,
	  example18/reference/new1.in, example18/reference/new2.in,
	  example18/reference/new3.in, example18/reference/new4.in,
	  example19/reference/h2o-mol1.in, example19/reference/h2o-mol2.in,
	  example19/reference/h2o-mol3.in, example20/reference/nh3.in,
	  example21/reference/h2o-256.in, example21/reference/h2o-32.in,
	  example22/reference/pt.nscf.in, example22/reference/pt.scf.in:

	cleanup: removed input files from reference directories [Gerardo]

2004-06-15 10:35  ballabio

	* examples/example21/run_example:

	[no log message]

2004-06-15 10:06  dalcorso

	* examples/example22/: README, run_example, reference/pt.nscf.in,
	  reference/pt.nscf.out, reference/pt.scf.in, reference/pt.scf.out:

	Added an example of calculation with a pseudopotential including
	spin-orbit effects.

2004-06-14 19:15  giannozz

	* PW/q_points.f90, upftools/cpmd2upf.f90:

	cpmd2upf was yielding incorrect DFT if converting BLYP PPs

2004-06-14 18:50  dalcorso

	* examples/: example10/run_example, example11/run_example:

	Small corrections.

2004-06-14 18:30  dalcorso

	* pseudo/C.pz-rrkjus.UPF:

	Added the pseudopotential of Carbon for example2.

2004-06-14 17:45  dalcorso

	* PH/: phonon.f90, phq_recover.f90, solve_e.f90:

	recovering from an electric field perturbation now possible.

2004-06-14 17:22  dalcorso

	* CPV/restart.f90, Modules/io_base.f90, PP/openfil_pp.f90,
	  PP/postproc.f90, PP/punch_plot.f90, PW/openfil.f90, PW/punch.f90,
	  PW/read_file.f90, PW/restart.f90, PW/restart_in_electrons.f90:

	io_base : added read and write of jchi and jjj (ADC)
	     PP : added the possibility to plot the magnetization in the
	          noncolinear case (ADC)
	   PWNC : clean up. openfil, restart, punch, read_conf_from_file,
	          write_conf_to_file, restart_in_electrons, merged
	          with those in PW. (ADC)
	          io_base : noncolin, lspinorb saved in restart file.(ADC)

2004-06-14 17:05  ballabio

	* examples/example21/run_example:

	more examples of big systems [Gerardo]

2004-06-14 15:06  dalcorso

	* pseudo/Ptrel.RRKJ3.UPF:

	Added a pseudopotential for the spin-orbit example.

2004-06-14 14:58  dalcorso

	* PW/init_us_1.f90:

	Bug fix: the modified newd was wrong in the spin-orbit case.

2004-06-14 13:01  ballabio

	* D3/psymd0rho.f90:

	added missing declaration [Gerardo]

2004-06-14 12:07  ballabio

	* Gamma/raman.f90:

	missing variable declerations added [Gerardo]

2004-06-14 10:01  dalcorso

	* examples/example02/: run_example, reference/c.phG.in,
	  reference/c.phG.out, reference/c.scf.in, reference/c.scf.out,
	  reference/ni.nscf.in, reference/ni.nscf.out, reference/ni.phX.in,
	  reference/ni.phX.out, reference/ni.scf.in, reference/ni.scf.out:

	Example 2 updated. Added two tests of PH with US-PPs. Carbon at Gamma point
	and Ni at X point.

2004-06-14 09:30  sbraccia

	* D3/allocate_d3.f90, D3/d0rhod2v.f90, D3/d3_exc.f90,
	  D3/d3_init.f90, D3/d3_readin.f90, D3/d3_setup.f90,
	  D3/d3_summary.f90, D3/d3_valence.f90, D3/d3dyn_cc.f90,
	  D3/d3matrix.f90, D3/d3toten.f90, D3/d3vrho.f90,
	  D3/dpsidpsidv.f90, D3/dpsidvdpsi.f90, D3/dqrhod2v.f90,
	  D3/drho_drc.f90, D3/drhod2v.f90, D3/dvdpsi.f90, D3/dvscf.f90,
	  D3/gen_dpdvp.f90, D3/incdrhoscf2.f90, D3/set_d3irr.f90,
	  D3/solve_linter_d3.f90, D3/write_aux.f90, D3/writed3dyn_5.f90,
	  PW/pwcom.f90, PWCOND/allocate_cond.f90, PWCOND/do_cond.f90,
	  PWCOND/init_cond.f90:

	Removed references (now everywhere) to module basis for those variables already in module ions_base.
	C.S.

2004-06-13 16:11  giannozz

	* PW/allocate_nlpot.f90:

	oops...

2004-06-13 12:10  giannozz

	* CPV/: cplib.f90, cprsub.f90, modules.f90:

	minor changes

2004-06-13 12:07  giannozz

	* Modules/uspp.f90, PW/allocate_nlpot.f90:

	Changes to newd.f90, please verify that spin-orbit still works

2004-06-12 22:37  giannozz

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprstart.f90, CPV/cprsub.f90,
	  CPV/modules.f90, CPV/read_pseudo.f90, D3/Makefile,
	  Gamma/Makefile, Gamma/a_h.f90, Gamma/dvpsi_e.f90, Gamma/h_h.f90,
	  Gamma/solve_e.f90, Gamma/solve_ph.f90, Modules/ions_base.f90,
	  Modules/uspp.f90, PH/Makefile, PP/Makefile,
	  PP/poormanwannier.f90, PP/projwfc.f90, PW/Makefile,
	  PW/add_vuspsi.f90, PW/allocate_nlpot.f90, PW/becmod.f90,
	  PW/c_bands.f90, PW/h_psi.f90, PW/newd.f90, PW/orthoatwfc.f90,
	  PW/rbecmod.f90, PW/s_psi.f90, PW/wfcinit.f90, PWCOND/Makefile,
	  flib/Makefile:

	Modules becmod, rbecmod (one variable each) merged into a single module
	(with two variables...) - More USPP merge

2004-06-12 15:44  sbraccia

	* Gamma/cg_readin.f90, Gamma/cg_setup.f90, Gamma/cg_summary.f90,
	  Gamma/dielec.f90, Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90,
	  Gamma/dynmat_init.f90, Gamma/dynmatcc.f90, Gamma/raman.f90,
	  Gamma/rhod2vkb.f90, Gamma/writedyn.f90, PH/add_dkmds.f90,
	  PH/add_for_charges.f90, PH/addcore.f90, PH/adddvepsi_us.f90,
	  PH/adddvscf.f90, PH/addnlcc.f90, PH/addusdbec.f90,
	  PH/addusddens.f90, PH/addusddense.f90, PH/addusdynmat.f90,
	  PH/addusldos.f90, PH/allocate_part.f90, PH/allocate_phq.f90,
	  PH/compute_alphasum.f90, PH/compute_becsum.f90,
	  PH/compute_drhous.f90, PH/compute_dvloc.f90,
	  PH/compute_nldyn.f90, PH/drho.f90, PH/drhodv.f90,
	  PH/drhodvloc.f90, PH/drhodvnl.f90, PH/drhodvus.f90,
	  PH/dvanqq.f90, PH/dvkb3.f90, PH/dvpsi_e.f90, PH/dvqpsi_us.f90,
	  PH/dvqpsi_us_only.f90, PH/dynmat0.f90, PH/dynmat_us.f90,
	  PH/dynmatcc.f90, PH/dynmatrix.f90, PH/elphon.f90,
	  PH/incdrhoscf.f90, PH/incdrhous.f90, PH/io_pattern.f90,
	  PH/localdos.f90, PH/newdq.f90, PH/phq_init.f90,
	  PH/phq_readin.f90, PH/phq_recover.f90, PH/phq_setup.f90,
	  PH/phq_summary.f90, PH/psidspsi.f90, PH/punch_plot_e.f90,
	  PH/punch_plot_ph.f90, PH/set_drhoc.f90, PH/solve_e.f90,
	  PH/solve_linter.f90, PH/sym_and_write_zue.f90, PH/zstar_eu.f90,
	  PH/zstar_eu_us.f90, PP/bands.f90, PP/chdens.f90, PP/efg.f90,
	  PP/local_dos.f90, PP/poormanwannier.f90, PP/projwfc.f90,
	  PP/pw2casino.f90, PW/add_efield.f90, PW/add_vuspsi.f90,
	  PW/addusdens.f90, PW/addusforce.f90, PW/addusstress.f90,
	  PW/allocate_locpot.f90, PW/allocate_nlpot.f90, PW/atomic_rho.f90,
	  PW/atomic_wfc.f90, PW/bfgs.f90, PW/bp_c_phase.f90,
	  PW/bp_calc_btq.f90, PW/bp_qvan3.f90, PW/ccalbec.f90,
	  PW/compute_dip.f90, PW/constraints_module.f90, PW/dndepsilon.f90,
	  PW/dndtau.f90, PW/dprojdepsilon.f90, PW/dprojdtau.f90,
	  PW/dynamics.f90, PW/electrons.f90, PW/ewald_dipole.f90,
	  PW/force_cc.f90, PW/force_corr.f90, PW/force_hub.f90,
	  PW/force_us.f90, PW/forces.f90, PW/gen_at_dj.f90,
	  PW/gen_at_dy.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PW/hinit0.f90, PW/hinit1.f90, PW/init_at_1.f90, PW/init_ns.f90,
	  PW/init_paw_1.f90, PW/init_paw_2.f90, PW/init_run.f90,
	  PW/init_us_1.f90, PW/init_us_2.f90, PW/init_vloc.f90,
	  PW/input.f90, PW/make_pointlists.f90, PW/memory.f90,
	  PW/mix_rho.f90, PW/new_ns.f90, PW/newd.f90, PW/ns_adj.f90,
	  PW/orthoatwfc.f90, PW/output_tau.f90, PW/paw.f90, PW/potinit.f90,
	  PW/read_conf_from_file.f90, PW/read_file.f90, PW/readin.f90,
	  PW/restart.f90, PW/s_psi.f90, PW/scale_h.f90, PW/set_rhoc.f90,
	  PW/setlocal.f90, PW/setup.f90, PW/stres_cc.f90, PW/stres_hub.f90,
	  PW/stres_loc.f90, PW/stres_us.f90, PW/stress.f90,
	  PW/sum_band.f90, PW/summary.f90, PW/usnldiag.f90, PW/vcsmd.f90,
	  PW/vhpsi.f90, PW/write_ns.f90:

	Removed references (not yet everywhere) to module basis for those variables already in module ions_base.
	C.S.

2004-06-11 20:34  giannozz

	* examples/: example19/reference/fort.51,
	  example20/reference/fort.51:

	[no log message]

2004-06-11 18:53  sbraccia

	* Modules/control_flags.f90, PW/clean_pw.f90, PW/compute_scf.f90,
	  PW/dynamics.f90, PW/forces.f90, PW/input.f90, PW/move_ions.f90,
	  PW/pwcom.f90, PW/vcsmd.f90:

	Cleanup of the molecular dynamics routines. Some debug messages removed. Some duplicated variables (fixatom and if_pos) removed from pwcom (already present in ions_base). A logical variable lfixatom added in control_flags. The output of a molecular dynamics run has been slightlychanged to be (hopefully) clearer.
	C.S.

2004-06-11 09:48  sbraccia

	* PW/v_of_rho.f90, flib/rranf.f90:

	Fixed a couple of ambiguities:
	flib/rranf.f90: variable irand was not initialized.
	PW/v_of_rho.f90: at line 146  CALL xc( arhox, ex, ec, vx, vc )  =>  CALL xc( arhox, ex, ec, vx(1), vc(1) )
	C.S.

2004-06-10 19:19  giannozz

	* Gamma/cgcom.f90, PW/init_us_1.f90, PW/scala_cdiag.f90,
	  PW/scala_cdiaghg.f90:

	Compilation fixes

2004-06-10 18:45  giannozz

	* Modules/io_base.f90, Modules/uspp.f90, PW/restart.f90:

	Several small bugs in restart, found by AdC and David Prendergast

2004-06-10 16:58  ballabio

	* Makefile, README, README.configure:

	small fixes/cleanup [Gerardo]

2004-06-10 11:37  ballabio

	* examples/: README, check_example, environment_variables,
	  make_clean, postdiff.awk, prediff.awk, pwdiff.sh,
	  run_all_examples, save_results, example01/README,
	  example01/run_example, example01/reference/al.band.cg.out,
	  example01/reference/al.band.david.out,
	  example01/reference/al.scf.cg.out,
	  example01/reference/al.scf.david.out,
	  example01/reference/cu.band.cg.out,
	  example01/reference/cu.band.david.out,
	  example01/reference/cu.scf.cg.out,
	  example01/reference/cu.scf.david.out,
	  example01/reference/ni.band.cg.out,
	  example01/reference/ni.band.david.out,
	  example01/reference/ni.scf.cg.out,
	  example01/reference/ni.scf.david.out,
	  example01/reference/si.band.cg.out,
	  example01/reference/si.band.david.out,
	  example01/reference/si.scf.cg.out,
	  example01/reference/si.scf.david.out, example02/README,
	  example02/run_example, example02/reference/matdyn,
	  example02/reference/si.dynG, example02/reference/si.dynX,
	  example02/reference/si.nscfX.in,
	  example02/reference/si.nscfX.out,
	  example02/reference/si.nscfXsingle.in,
	  example02/reference/si.nscfXsingle.out,
	  example02/reference/si.phG.in, example02/reference/si.phG.out,
	  example02/reference/si.phX.in, example02/reference/si.phX.out,
	  example02/reference/si.phXsingle.in,
	  example02/reference/si.phXsingle.out,
	  example02/reference/si.scf.in, example02/reference/si.scf.out,
	  example03/README, example03/run_example,
	  example03/reference/al001.mm.in,
	  example03/reference/al001.mm.out,
	  example03/reference/al001.rx.in,
	  example03/reference/al001.rx.out, example03/reference/co.rx.in,
	  example03/reference/co.rx.out, example04/README,
	  example04/run_example, example04/reference/MD2,
	  example04/reference/MD2_G3X, example04/reference/MD8,
	  example04/reference/si.md2.in, example04/reference/si.md2.out,
	  example04/reference/si.md2_G3X.in,
	  example04/reference/si.md2_G3X.out,
	  example04/reference/si.md8.in, example04/reference/si.md8.out,
	  example05/README, example05/run_example,
	  example05/reference/si.band.out,
	  example05/reference/si.bands.out,
	  example05/reference/si.chdens.in,
	  example05/reference/si.chdens.out,
	  example05/reference/si.plotband.out,
	  example05/reference/si.plotrho.in,
	  example05/reference/si.plotrho.out,
	  example05/reference/si.pp_rho.in,
	  example05/reference/si.pp_rho.out,
	  example05/reference/si.rho.dat, example05/reference/si.rho.ps,
	  example05/reference/si.scf.in, example05/reference/si.scf.out,
	  example05/reference/sibands.dat, example05/reference/sibands.ps,
	  example05/reference/sicharge, example06/README,
	  example06/run_example, example06/reference/alas.dynG,
	  example06/reference/alas.freq, example06/reference/alas.nscf.in,
	  example06/reference/alas.nscf.out,
	  example06/reference/alas.ph.in, example06/reference/alas.ph.out,
	  example06/reference/alas.phG.in,
	  example06/reference/alas.phG.out,
	  example06/reference/alas.scf.in,
	  example06/reference/alas.scf.out, example06/reference/alas444.fc,
	  example06/reference/dyn.-0.25,-.25,0.25,
	  example06/reference/dyn.-0.25,-.25,0.75,
	  example06/reference/dyn.-0.50,-.50,0.50,
	  example06/reference/dyn.-0.50,-.50,1.00,
	  example06/reference/dyn.-0.50,0.00,1.00,
	  example06/reference/dyn.0.00,0.00,0.50,
	  example06/reference/dyn.0.00,0.00,1.00,
	  example06/reference/matdyn.in, example06/reference/matdyn.modes,
	  example06/reference/q2r.in, example06/reference/q2r.out,
	  example07/README, example07/run_example,
	  example07/reference/al.dyn, example07/reference/al.elph.in,
	  example07/reference/al.elph.out, example07/reference/al.nscf.in,
	  example07/reference/al.nscf.out, example07/reference/al.nscf2.in,
	  example07/reference/al.nscf2.out, example07/reference/al.ph.in,
	  example07/reference/al.ph.out, example07/reference/al.scf.in,
	  example07/reference/al.scf.out, example08/README,
	  example08/run_example, example08/reference/ni.dos,
	  example08/reference/ni.dos.in, example08/reference/ni.dos.out,
	  example08/reference/ni.dos2.in, example08/reference/ni.dos2.out,
	  example08/reference/ni.pdos.in, example08/reference/ni.pdos.out,
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#1(s),
	  example08/reference/ni.pdos_atm#1(Ni)_wfc#2(d),
	  example08/reference/ni.pdos_tot, example08/reference/ni.scf.in,
	  example08/reference/ni.scf.out, example09/README,
	  example09/run_example, example09/reference/matdyn,
	  example09/reference/sih4.nm.in, example09/reference/sih4.nm.out,
	  example09/reference/sih4.scf.in,
	  example09/reference/sih4.scf.out, example10/README,
	  example10/run_example, example10/reference/BP.in,
	  example10/reference/BP.out, example10/reference/chg.in,
	  example10/reference/chg.out, example11/README,
	  example11/run_example, example11/reference/O.in,
	  example11/reference/O.out, example11/reference/al.in,
	  example11/reference/al.out, example12/README,
	  example12/run_example, example12/reference/AlwireH.cond.in,
	  example12/reference/AlwireH.cond.out,
	  example12/reference/AlwireH.scf.in,
	  example12/reference/AlwireH.scf.out,
	  example12/reference/al.cond.in, example12/reference/al.cond.out,
	  example12/reference/al.scf.in, example12/reference/al.scf.out,
	  example12/reference/alwire.cond.in,
	  example12/reference/alwire.cond.out,
	  example12/reference/alwire.scf.in,
	  example12/reference/alwire.scf.out,
	  example12/reference/bands.al.co, example12/reference/bands.al.im,
	  example12/reference/bands.al.re,
	  example12/reference/bands.alwire.co,
	  example12/reference/bands.alwire.im,
	  example12/reference/bands.alwire.re,
	  example12/reference/bands.ni_down.co,
	  example12/reference/bands.ni_down.im,
	  example12/reference/bands.ni_down.re,
	  example12/reference/ni.cond.in, example12/reference/ni.cond.out,
	  example12/reference/ni.scf.in, example12/reference/ni.scf.out,
	  example12/reference/trans.alwireh, example13/README,
	  example13/run_example, example13/reference/cu.band.in,
	  example13/reference/cu.band.out, example13/reference/cu.cg.in,
	  example13/reference/cu.cg.out, example13/reference/cu.diis.in,
	  example13/reference/cu.diis.out, example13/reference/cu.scf.in,
	  example13/reference/cu.scf.out, example13/reference/fe.angl.in,
	  example13/reference/fe.angl.out, example13/reference/fe.band.in,
	  example13/reference/fe.band.out, example13/reference/fe.pen.in,
	  example13/reference/fe.pen.out, example13/reference/fe.scf.in,
	  example13/reference/fe.scf.out, example13/reference/ni.band.in,
	  example13/reference/ni.band.out, example13/reference/ni.scf.in,
	  example13/reference/ni.scf.out, example13/reference/o2.relax.out,
	  example14/README, example14/run_example,
	  example14/reference/si.anh_G, example14/reference/si.anh_X,
	  example14/reference/si.d3G.in, example14/reference/si.d3G.out,
	  example14/reference/si.d3X.in, example14/reference/si.d3X.out,
	  example14/reference/si.drho_G, example14/reference/si.drho_X,
	  example14/reference/si.dyn_G, example14/reference/si.dyn_X,
	  example14/reference/si.nscf.in, example14/reference/si.nscf.out,
	  example14/reference/si.phG.in, example14/reference/si.phG.out,
	  example14/reference/si.phX.in, example14/reference/si.phX.out,
	  example14/reference/si.scf.in, example14/reference/si.scf.out,
	  example15/README, example15/run_example,
	  example15/reference/alas.drhoe_e1,
	  example15/reference/alas.drhoe_e2,
	  example15/reference/alas.drhoe_e3,
	  example15/reference/alas.drhou, example15/reference/alas.dynG,
	  example15/reference/alas.nscf.in,
	  example15/reference/alas.nscf.out,
	  example15/reference/alas.phA.in,
	  example15/reference/alas.phA.out,
	  example15/reference/alas.phE.in,
	  example15/reference/alas.phE.out, example15/reference/alas.ram,
	  example15/reference/alas.ram.atom,
	  example15/reference/alas.ram.both,
	  example15/reference/alas.ram.elf,
	  example15/reference/alas.ram.in,
	  example15/reference/alas.ram.no_r,
	  example15/reference/alas.ram.out,
	  example15/reference/alas.scf.in,
	  example15/reference/alas.scf.out, example15/reference/alas.sus,
	  example16/README, example16/run_example,
	  example16/reference/AlAs110+1.0,
	  example16/reference/AlAs110+1.0eV.ps,
	  example16/reference/AlAs110-1.0,
	  example16/reference/AlAs110-1.0eV.ps,
	  example16/reference/AlAs110.pp_stm+.out,
	  example16/reference/AlAs110.pp_stm-.out,
	  example16/reference/AlAs110re.nonscf.out,
	  example16/reference/AlAs110re.scf.out,
	  example16/reference/AlAsresm+1.0,
	  example16/reference/AlAsresm-1.0, example17/README,
	  example17/run_example, example17/reference/H2+H.axsf,
	  example17/reference/H2+H.dat, example17/reference/H2+H.int,
	  example17/reference/H2+H.neb, example17/reference/H2+H.out,
	  example17/reference/H2+H.xyz,
	  example17/reference/asymmetric_H2+H.axsf,
	  example17/reference/asymmetric_H2+H.dat,
	  example17/reference/asymmetric_H2+H.int,
	  example17/reference/asymmetric_H2+H.neb,
	  example17/reference/asymmetric_H2+H.out,
	  example17/reference/asymmetric_H2+H.xyz,
	  example17/reference/symmetric_H2+H.axsf,
	  example17/reference/symmetric_H2+H.dat,
	  example17/reference/symmetric_H2+H.int,
	  example17/reference/symmetric_H2+H.neb,
	  example17/reference/symmetric_H2+H.out,
	  example17/reference/symmetric_H2+H.xyz, example18/run_example,
	  example18/reference/new1.in, example18/reference/new1.out,
	  example18/reference/new2.in, example18/reference/new2.out,
	  example18/reference/new3.in, example18/reference/new3.out,
	  example18/reference/new4.in, example18/reference/new4.out,
	  example19/run_example, example19/reference/fort.51,
	  example19/reference/h2o-mol1.in,
	  example19/reference/h2o-mol1.out,
	  example19/reference/h2o-mol2.in,
	  example19/reference/h2o-mol2.out,
	  example19/reference/h2o-mol3.in,
	  example19/reference/h2o-mol3.out, example20/run_example,
	  example20/reference/fort.51, example20/reference/nh3.in,
	  example20/reference/nh3.out, example21/run_example,
	  example21/reference/h2o-256.in, example21/reference/h2o-32.in,
	  example21/reference/h2o-32.out:

	Created unified "examples" directory replacing old "cp_examples",
	"pw_examples" [Gerardo]

2004-06-08 22:00  giannozz

	* Modules/uspp.f90, PW/allocate_nlpot.f90, PW/clean_pw.f90,
	  PW/init_us_1.f90, PW/noncol.f90, PW/pwcom.f90:

	More uspp variables rearrangement (beware undesired side effects!)
	qq_spinorb moved into Modules/uspp.f90 as qq_so
	dvan => dvan + dvan_so (for spin-orbit only)
	PW/clean_pw.f90 replaces PWNC/clean_pw.f90 (PG)

2004-06-08 18:20  deinzer

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PH/phcom.f90, PH/solve_linter.f90,
	  PW/Makefile, PW/input.f90, PW/pwcom.f90, PW/pwscf.f90,
	  PW/q_points.f90:

	First step to calculate all dyn. matrices needed for the entire dispersion
	in one step with pw.
	A new calculation is possible called 'dispersion'
	in the phonon card new input parameters are:
	nq1, nq2, nq3 : number of q points in the direction
	tr2_ph : threshold for the phonon calculation (see also INPUT_PH)
	Therefore tr2_ph has been moved from phcom.f90 to Module disp in pwcom.f90
	UP TO NOW ONLY THE Q POINTS FOR THE DYN. MATRICES ARE CALCULATED AND PRINTED.

2004-06-07 09:43  sbraccia

	* Modules/neb_base.f90, PW/Makefile, PW/compute_scf.f90,
	  PW/neb_routines.f90, PW/pwscf.f90:

	Some bugs fixed in NEB
	1) Modules/neb_base.f90: the neb error is computed as done in structural
	optimizations (convergence when the largest component of the force vector is
	less than a threshold).  The rescaling of the elstic constants has been
	modified so that they can not be smaller than a minimum value (set to 0.05).
	2) PW/compute_scf.f90: a bug in the way startingpot and startingwfc were used
	inside neb has been fixed (now scf should be faster).
	3) PW/pwscf.f90: cleanup of module-dependencies.
	4) pwdocs/INPUT_PW: documentation updated (a detailed explanation of how to
	specify initial configurations has been added).
	5) PW/neb_routines.f90: file no longer needed

2004-06-04 18:05  dalcorso

	* PW/sph_ind.f90, flib/ylmr2.f90:

	Small changes. (a double return in ylmr2 and the error message in sph_ind).

2004-06-02 17:23  fabris

	* CPV/restart.f90:

	small changes in CPV/restart.f90 and FPMD/restart.f90: both routines
	call "read_restart_header" and "write_restart_header" which where
	modified in my previous commit.

2004-06-02 14:21  giannozz

	* CPV/cpr.f90, Modules/uspp.f90:

	Mismatches in USPP variable type fixed (again)

2004-06-02 12:28  fabris

	* PW/restart.f90, Modules/io_base.f90:

	Quantities of a LDA+U calculation are again written on file ".save",
	similarly to what was previously done by the "saveall" routine but
	according to the new format. Two subroutines have been added to
	"io_base" (write_restart_ldaU and read_restart_ldaU) which are called
	by "restart".

2004-06-02 10:24  dalcorso

	* PW/setup.f90:

	npol set to 1 in PW.

2004-06-01 23:22  giannozz

	* configure, CPV/cplib.f90, CPV/cpr.f90, Modules/uspp.f90,
	  PH/localdos.f90, PP/addusdens1d.f90, PP/local_dos.f90,
	  PP/local_dos1d.f90, PW/addusdens.f90, PW/addusforce.f90,
	  PW/addusstress.f90, PW/allocate_nlpot.f90, PW/print_clock_pw.f90,
	  PW/pwcom.f90, PW/sum_band.f90:

	More USPP variables moving around

2004-06-01 18:50  giannozz

	* CPV/cplib.f90, CPV/cpr.f90, Modules/uspp.f90, PP/addusdens1d.f90,
	  PP/local_dos.f90, PP/local_dos1d.f90, PW/addusdens.f90,
	  PW/addusforce.f90, PW/addusstress.f90, PW/allocate_nlpot.f90,
	  PW/pwcom.f90, PW/sum_band.f90:

	More tweaking with USPP variables

2004-06-01 10:30  cavazzon

	* PH/dvanqq.f90:

	missIng array dimensions (int1, int2, .. ) for a parallel build

2004-06-01 10:19  giannozz

	* PW/h_psi.f90:

	oops...

2004-05-31 19:55  giannozz

	* D3/d0rhod2v.f90, D3/d3_summary.f90, D3/d3vrho.f90,
	  D3/dqrhod2v.f90, D3/dvdpsi.f90, D3/incdrhoscf2.f90,
	  Gamma/a_h.f90, Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90,
	  Gamma/h_h.f90, Gamma/rhod2vkb.f90, Modules/input_parameters.f90,
	  Modules/read_cards.f90, Modules/uspp.f90, PH/add_dkmds.f90,
	  PH/add_for_charges.f90, PH/adddvepsi_us.f90, PH/adddvscf.f90,
	  PH/addusdbec.f90, PH/addusddens.f90, PH/addusddense.f90,
	  PH/addusdynmat.f90, PH/addusldos.f90, PH/allocate_phq.f90,
	  PH/compute_alphasum.f90, PH/compute_becsum.f90,
	  PH/compute_drhous.f90, PH/compute_nldyn.f90,
	  PH/compute_qdipol.f90, PH/drho.f90, PH/drhodvnl.f90,
	  PH/dvanqq.f90, PH/dvkb3.f90, PH/dvpsi_e.f90,
	  PH/dvqpsi_us_only.f90, PH/dynmat_us.f90, PH/incdrhoscf.f90,
	  PH/incdrhous.f90, PH/localdos.f90, PH/newdq.f90,
	  PH/phq_summary.f90, PH/psidspsi.f90, PH/solve_e.f90,
	  PH/solve_linter.f90, PH/zstar_eu_us.f90, PP/addusdens1d.f90,
	  PP/bands.f90, PP/local_dos.f90, PP/local_dos1d.f90,
	  PP/plan_avg.f90, PP/poormanwannier.f90, PP/projwfc.f90,
	  PP/pw2casino.f90, PW/add_vuspsi.f90, PW/addusdens.f90,
	  PW/addusforce.f90, PW/addusstress.f90, PW/allocate_nlpot.f90,
	  PW/allocate_wfc.f90, PW/bp_c_phase.f90, PW/bp_calc_btq.f90,
	  PW/bp_qvan3.f90, PW/c_bands.f90, PW/clean_pw.f90,
	  PW/dndepsilon.f90, PW/dndtau.f90, PW/dprojdepsilon.f90,
	  PW/dprojdtau.f90, PW/dqvan2.f90, PW/force_us.f90,
	  PW/gen_us_dj.f90, PW/gen_us_dy.f90, PW/h_psi.f90,
	  PW/init_us_1.f90, PW/init_us_2.f90, PW/input.f90, PW/memory.f90,
	  PW/newd.f90, PW/ortho.f90, PW/orthoatwfc.f90, PW/paw.f90,
	  PW/print_clock_pw.f90, PW/pwcom.f90, PW/qvan2.f90, PW/readin.f90,
	  PW/readnewvan.f90, PW/readvan.f90, PW/restart.f90, PW/s_1psi.f90,
	  PW/s_psi.f90, PW/scale_h.f90, PW/setup.f90, PW/stres_us.f90,
	  PW/sum_band.f90, PW/summary.f90, PW/upf_to_internal.f90,
	  PW/usnldiag.f90, PW/wfcinit.f90, PWCOND/allocate_cond.f90,
	  PWCOND/compbs.f90, PWCOND/init_cond.f90, PWCOND/transmit.f90,
	  upftools/read_upf.f90:

	More USPP_related variables moved to Modules/uspp.f90
	Note that lqx => lmaxq for consistency with other names
	(those ending in x are static dimensioning)
	Beware unexpected side effects (PG)

2004-05-31 19:52  giannozz

	* CPV/: cplib.f90, cpr.f90, cprstart.f90, cprsub.f90, input.f90,
	  modules.f90, read_pseudo.f90:

	More USPP_related variables moved to Modules/uspp.f90
	Note that nhx => nhm for consistency with other names
	(those ending in x are static dimensioning)
	Parameter ipp no longer needed: PP name convention as in PWscf (PG)

2004-05-31 18:22  degironc

	* Modules/parameters.f90:

	   unnecessary change in parameters removed

2004-05-31 18:19  degironc

	* Makefile, Modules/parameters.f90, PH/adddvscf.f90, PH/cg_psi.f90,
	  PH/cgsolve_all.f90, PH/ef_shift.f90, PH/solve_linter.f90,
	  PH/write_dyn_on_file.f90, PH/write_epsilon_and_zeu.f90:

	PH: cleanup of cgsolve_all in order to reduce memory use.
	    zstar, epsilon and dynamical matrices written with
	    8 digits only (it should not make any significant difference
	    and it should be easier to spot differences in dynmat files
	    if 0.123456789E-10 is treated as zero)
	    symmetrization is applied already to drho (not anymore to dvscf)
	                                              (SdG)

2004-05-31 16:01  dalcorso

	* PWCOND/poten.f90:

	Bug fix: now PWCOND works also when nrx1 or nrx3 is different from nr1
	or nr3 (Contributed by A. Smogunov).

2004-05-31 14:54  dalcorso

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/allocate_fft.f90, PW/allocate_wfc.f90,
	  PW/make_pointlists.f90, PWCOND/Makefile:

	Cleanup of PWNC.

2004-05-28 17:45  sbraccia

	* Modules/: input_parameters.f90, io_routines.f90, neb_base.f90,
	  read_cards.f90:

	NEB: added the possibility of specifying one or several intermediate images in the input file (see INPUT_PW). Back-compatible with the old input files.
	C.S.

2004-05-28 12:29  giannozz

	* Gamma/cg_readin.f90, PH/phq_readin.f90, PP/bands.f90,
	  PP/chdens.f90, PP/dos.f90, PP/plotband.f90, PP/postproc.f90,
	  PP/projwfc.f90, PW/input.f90, PW/startup.f90, PWCOND/do_cond.f90,
	  pwtools/matdyn.f90, pwtools/q2r.f90:

	iargc explicitely declared

2004-05-27 20:26  deinzer

	* PH/phqscf.f90, PW/ccgdiagg.f90:

	Added missing use statements when compiled with -DDEBUG

2004-05-27 19:29  ballabio

	* Gamma/cg_readin.f90, PP/dos.f90, PP/projwfc.f90,
	  PWCOND/do_cond.f90:

	again more "program -in input" [Gerardo]

2004-05-27 18:54  ballabio

	* pwtools/: matdyn.f90, q2r.f90:

	more "program -in input" added [Gerardo]

2004-05-27 18:12  ballabio

	* PP/: bands.f90, chdens.f90, postproc.f90:

	Added support for "program -in input"
	where program = pp.x, chdens.x, bands.x [Gerardo]

2004-05-27 17:52  giannozz

	* PH/phq_readin.f90:

	Missing variable definition

2004-05-27 17:19  ballabio

	* PH/phq_readin.f90:

	Added support for "ph.x -in input" [Gerardo]

2004-05-27 16:36  moscac

	* PW/sgama.f90:

	minus_q = .false. in non collinear calculation case and other small
	modifications.

2004-05-27 16:14  kokalj

	* pwtools/path_int.f90:

	updating the program to new NEB restart-file format (tone)

2004-05-27 15:36  ballabio

	* Makefile:

	[no log message]

2004-05-27 14:30  deinzer

	* Makefile, makedeps.sh:

	make raman creates now the executable ram.x in directory Raman

2004-05-26 17:10  ballabio

	* include/machine.h:

	workaround for problem with MPI on the Linux cluster at Cineca
	[Gerardo]

2004-05-26 13:04  giannozz

	* CPV/cplib.f90, CPV/cprsub.f90, CPV/modules.f90,
	  CPV/read_pseudo.f90, D3/Makefile, D3/d3_init.f90,
	  D3/d3_summary.f90, Gamma/Makefile, Gamma/cg_summary.f90,
	  Modules/read_namelists.f90, Modules/uspp.f90, PH/Makefile,
	  PH/addusddens.f90, PH/addusddense.f90, PH/addusldos.f90,
	  PH/compute_qdipol.f90, PH/dvanqq.f90, PH/localdos.f90,
	  PH/newdq.f90, PH/phq_init.f90, PH/phq_summary.f90,
	  PH/set_drhoc.f90, PP/Makefile, PP/addusdens1d.f90, PP/dos.f90,
	  PP/local_dos.f90, PP/poormanwannier.f90, PP/projwfc.f90,
	  PW/Makefile, PW/addusdens.f90, PW/addusforce.f90,
	  PW/addusstress.f90, PW/allocate_nlpot.f90, PW/atomic_wfc.f90,
	  PW/bp_c_phase.f90, PW/bp_calc_btq.f90, PW/bp_qvan3.f90,
	  PW/dndepsilon.f90, PW/dndtau.f90, PW/dprojdepsilon.f90,
	  PW/dprojdtau.f90, PW/dqvan2.f90, PW/gen_at_dj.f90,
	  PW/gen_at_dy.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PW/init_at_1.f90, PW/init_us_1.f90, PW/init_us_2.f90,
	  PW/init_vloc.f90, PW/memory.f90, PW/new_ns.f90, PW/newd.f90,
	  PW/pwcom.f90, PW/qvan2.f90, PW/read_ncpp.f90, PW/readin.f90,
	  PW/readnewvan.f90, PW/readvan.f90, PW/restart.f90, PW/s_psi.f90,
	  PW/saveall.f90, PW/scale_h.f90, PW/setup.f90, PW/stres_loc.f90,
	  PW/stres_us.f90, PW/sum_band.f90, PW/summary.f90, PW/tabd.f90,
	  PW/upf_to_internal.f90, PW/vhpsi.f90, PWCOND/Makefile,
	  PWCOND/allocate_cond.f90, PWCOND/four.f90, PWCOND/init_cond.f90:

	Part of the variables for ultrasoft pseudopotentials have been moved to a
	new module uspp_param, shared between PW and CP (in file Modules/uspp.f90)
	The flag newpseudo is no longer used to decide whether states with oc=0 are
	bound or not: for those states, and only for the old RRKJ format, oc is set
	to a negative value, and this signals that they are not bound. Not elegant
	but simpler than it used to be. The converter to UPF format did not include
	those states anyway. Beware unexpected side effects!

2004-05-26 11:37  dalcorso

	* PP/postproc.f90:

	Small bug fix: kpoint was broadcasted twice, n_atom_wfc was not used.

2004-05-25 16:43  deinzer

	* Gamma/Makefile:

	added reference to PW/set_kplusb

2004-05-25 16:21  deinzer

	* PW/Makefile, PW/input.f90, PW/pwcom.f90, PW/set_kplusb.f90,
	  PW/setup.f90, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/read_namelists.f90:

	Changes in pw to calculate the Raman tensor via the 2n+1 theorem.
	A new calculation called 'raman' is now available.
	For each k point additional points at k+b will be generated and a nscf
	calculation will be performed.
	The b vectors are small vectors either in cartesian coordinates or along the
	direction along to the nearest neighbours.
	A new input card named raman is introduced.
	New variables:
	b_length:  the length of the b vectors
	lcart:     if .true. cartesian direction (default)
	           if .false. in direction to the nearest neighbours

2004-05-25 15:01  giannozz

	* PP/plot_io.f90:

	Opened file not closed

2004-05-25 08:56  giannozz

	* PW/move_ions.f90:

	Ambiguous definition of bfgs removed

2004-05-24 18:00  degironc

	* PW/: add_efield.f90, compute_dip.f90, electrons.f90, input.f90,
	  potinit.f90, restart_in_ions.f90, setlocal.f90, update_pot.f90,
	  v_of_rho.f90:

	24 May 2004   density/potential mixing procedure in presence of an electric
	              field has been changed.
	              - Density mixing is now available.
	              - Explicit mixing of the dipole moment in potential mixing has
	                been removed (in my opinion it was spurious).
	              If anybody experiences bad convergence with the present scheme
	              please let me know. (SdG)

2004-05-21 18:39  dalcorso

	* atomic_doc/pseudo-gen/reference/: OPBE.RRKJ3, Ptrel.RRKJ3.UPF,
	  as.out, o.out, pt.out:

	Updated reference output with changes due to the change of the
	orthogonalization of the wavefunctions.

2004-05-21 18:19  giannozz

	* D3/Makefile, Gamma/Makefile, Modules/functionals.f90,
	  PH/Makefile, PH/star_q.f90, PP/Makefile, PW/Makefile,
	  PW/irrek.f90, PW/kpoint_grid.f90, PW/noncol.f90,
	  PW/set_kup_and_kdw.f90, PW/setup.f90, PW/sgam_at_mag.f90,
	  PW/sgama.f90, PWCOND/Makefile, atomic/ld1.f90,
	  atomic/ld1_readin.f90, atomic/ld1_writeout.f90,
	  atomic_doc/INPUT_LD1, atomic_doc/all-electron/test.job,
	  atomic_doc/pseudo-gen/test.job, atomic_doc/pseudo-test/test.job,
	  pwtools/Makefile, pwtools/matdyn.f90:

	Merged noncolinear and colinear symmetries (routines sgama, irrek).
	Variable degspin removed, constant degspin=2 left.
	Please check for unintended effects!

2004-05-21 13:15  sbraccia

	* Modules/bfgs_module.f90, PW/electrons.f90, PW/move_ions.f90,
	  PW/output_tau.f90, PW/pwcom.f90, PW/pwscf.f90:

	A new check has been added in move_ions in the case of BFGS+LSDA: if when the convergence is achieved the absolute magnetization (computed in electrons and now saved in the module lsda_mod) is less than 1.D-8 a new scf cycle is performed starting from atomic potential and wcfs and the BFGS convergence is checked again. To be tested.
	Removed some unused variables from pwscf.
	C.S.

2004-05-21 10:09  sbraccia

	* Modules/io_routines.f90:

	Again a couple of errors highlighted by Tone in the format of the NEB restart file (file prefix.neb) at lines 369 and 377.
	C.S.

2004-05-20 17:00  sbraccia

	* Modules/io_routines.f90:

	Fixed an error highlighted by Tone in the format of the NEB restart file (file prefix.neb): ELSATIC vs ELASTIC
	C.S.

2004-05-20 15:25  giannozz

	* atomic_doc/: ChangeLog, INPUT_LD1, README, all-electron/AAREADME,
	  all-electron/ar.in, all-electron/clean.sh, all-electron/cu.in,
	  all-electron/cu1.in, all-electron/f.in, all-electron/fe.in,
	  all-electron/h.in, all-electron/he.in, all-electron/mg.in,
	  all-electron/pt.in, all-electron/test.job, all-electron/u.in,
	  all-electron/u1.in, all-electron/w.in,
	  all-electron/reference/ar.out, all-electron/reference/cu.out,
	  all-electron/reference/cu1.out, all-electron/reference/f.out,
	  all-electron/reference/fe.out, all-electron/reference/h.out,
	  all-electron/reference/he.out, all-electron/reference/mg.out,
	  all-electron/reference/pt.out, all-electron/reference/u.out,
	  all-electron/reference/u1.out, all-electron/reference/w.out,
	  pseudo-gen/AAREADME, pseudo-gen/al.in, pseudo-gen/as.in,
	  pseudo-gen/clean.sh, pseudo-gen/o.in, pseudo-gen/pt.in,
	  pseudo-gen/test.job, pseudo-gen/reference/Al.rrkj3,
	  pseudo-gen/reference/Asrel.RRKJ3.UPF,
	  pseudo-gen/reference/OPBE.RRKJ3,
	  pseudo-gen/reference/Ptrel.RRKJ3.UPF,
	  pseudo-gen/reference/al.out, pseudo-gen/reference/as.out,
	  pseudo-gen/reference/o.out, pseudo-gen/reference/pt.out,
	  pseudo-test/AAREADME, pseudo-test/Al.rrkj3,
	  pseudo-test/Asrel.RRKJ3.UPF, pseudo-test/Garel.ld1,
	  pseudo-test/NiUSPBE.RRKJ3, pseudo-test/OPBE.RRKJ3.UPF,
	  pseudo-test/RhUSPBEnlcc.RRKJ3.UPF, pseudo-test/S.gon,
	  pseudo-test/al.in, pseudo-test/as.in, pseudo-test/clean.sh,
	  pseudo-test/ga.in, pseudo-test/ni.in, pseudo-test/o.in,
	  pseudo-test/rh.in, pseudo-test/s.in, pseudo-test/test.job,
	  pseudo-test/reference/Garel.tm.UPF, pseudo-test/reference/al.out,
	  pseudo-test/reference/as.out, pseudo-test/reference/ga.out,
	  pseudo-test/reference/ni.out, pseudo-test/reference/rh.out,
	  pseudo-test/reference/s.out:

	Tests and documentation for atomic code added

2004-05-20 11:21  giannozz

	* atomic/atomic_number.f90:

	sorry...

2004-05-19 18:56  giannozz

	* configure, Modules/functionals.f90, Modules/io_routines.f90,
	  Modules/parser.f90, Modules/read_cards.f90,
	  Modules/readpseudo.f90, atomic/Makefile, atomic/capital.f90,
	  atomic/ld1_readin.f90, atomic/matches.f90, flib/Makefile,
	  flib/capital.f90, flib/matches.f90, pwtools/Makefile,
	  pwtools/path_int.f90, upftools/fpmd2upf.f90, upftools/nclib.f90:

	Functions "capital" and "matches" taken out of module "parser"
	and added to flib; duplicated routines removed. Manual update.

2004-05-19 17:08  profeta

	* flib/lapack.f:

	update lapack with routines needed by the atomic code and its dependencies:
	dgesv.f  dgetrs.f  dptsv.f  dpttrf.f  dpttrs.f  dptts2.f

2004-05-18 18:32  degironc

	* PW/restart.f90:

	 set value of gamma_only=lgamma after read_restart_header

2004-05-18 13:05  ballabio

	* atomic/Makefile:

	[no log message]

2004-05-18 12:34  ballabio

	* pwtools/path_int.f90:

	[no log message]

2004-05-18 12:32  ballabio

	* configure, configure.ac:

	removed obsoleted compiler flag -DHAS_ZHEGVX [Gerardo]

2004-05-17 13:41  sbraccia

	* Modules/formats.f90, Modules/io_files.f90,
	  Modules/io_routines.f90, Modules/minimization_routines.f90,
	  Modules/neb_base.f90, Modules/neb_variables.f90,
	  PW/compute_scf.f90:

	Several minor bugs in the NEB machinery (mainly related to the restart procedure) have been fixed: this required a partial reorganization of the restart-file (prefix.neb) that is no longer compatible with the previous one. Now the restart mechanism is much more robust.
	C.S.

2004-05-17 08:29  sbraccia

	* Modules/read_cards.f90:

	Kinds were loaded two times.
	C.S.

2004-05-17 08:28  sbraccia

	* PW/openfil.f90:

	Cleanup.
	C.S.

2004-05-17 08:27  sbraccia

	* PW/coset.f90:

	Division by zero without any check: added an error message.
	C.S.

2004-05-14 18:02  sbraccia

	* PW/restart.f90:

	Bug: unit 4 was left opened.
	WARNING: too many routines are using unit 4 without any check on the status of the unit. This is source of bugs that are not easy to find out.
	C.S.

2004-05-14 17:33  giannozz

	* Makefile, makedeps.sh, atomic/Makefile, atomic/all_electron.f90,
	  atomic/ascheq.f90, atomic/ascheqlocps.f90, atomic/ascheqps.f90,
	  atomic/capital.f90, atomic/cfdsol.f90, atomic/charge.f90,
	  atomic/chargeps.f90, atomic/compute_chi.f90,
	  atomic/compute_det.f90, atomic/compute_phi.f90,
	  atomic/compute_phipot.f90, atomic/compute_phius.f90,
	  atomic/compute_solution.f90, atomic/constants.f90,
	  atomic/date_and_tim.f90, atomic/descreening.f90,
	  atomic/dir_outward.f90, atomic/dirsol.f90, atomic/dmixp.f90,
	  atomic/do_mesh.f90, atomic/el_config.f90, atomic/elsd.f90,
	  atomic/elsdps.f90, atomic/errore.f90, atomic/esic.f90,
	  atomic/exc_t.f90, atomic/find_qi.f90, atomic/gener_pseudo.f90,
	  atomic/hartree.f90, atomic/int_0_inf_dr.f90,
	  atomic/integrate_inward.f90, atomic/integrate_outward.f90,
	  atomic/intref.f90, atomic/invmat1.f90, atomic/ld1.f90,
	  atomic/ld1_readin.f90, atomic/ld1_setup.f90,
	  atomic/ld1_writeout.f90, atomic/ld1inc.f90, atomic/lderiv.f90,
	  atomic/lderivps.f90, atomic/lschps.f90, atomic/matches.f90,
	  atomic/new_potential.f90, atomic/newd_at.f90, atomic/nodenum.f90,
	  atomic/normalize.f90, atomic/openfil.f90, atomic/parameters.f90,
	  atomic/pseudo_types.f90, atomic/pseudovloc.f90,
	  atomic/read_newpseudo.f90, atomic/read_pseudo.f90,
	  atomic/read_pseudo_module.f90, atomic/read_pseudoupf.f90,
	  atomic/run_pseudo.f90, atomic/run_test.f90, atomic/scf.f90,
	  atomic/seriebes.f90, atomic/series.f90, atomic/set_rho_core.f90,
	  atomic/sic_correction.f90, atomic/sph_besr.f90,
	  atomic/start_potps.f90, atomic/starting_potential.f90,
	  atomic/trou.f90, atomic/vext.f90, atomic/vpack.f90,
	  atomic/vxc_t.f90, atomic/vxcgc.f90, atomic/write_paw_recon.f90,
	  atomic/write_pseudo.f90, atomic/write_results.f90,
	  atomic/write_resultsps.f90, atomic/write_upf.f90:

	PP generation code added in atomic/ - still some cleanup to do
	Please do not work any longer on the old branches!!!

2004-05-14 15:08  sbraccia

	* PW/move_ions.f90:

	Bug-fix: is particular cases an empty prefix.update file was created causing a crash at the next iteration. (NOT present in the web version).
	C.S.

2004-05-14 15:06  sbraccia

	* flib/error.f90:

	Some info was written on stdout instead of "*".
	C.S.

2004-05-14 14:55  giannozz

	* Makefile, makedeps.sh, Modules/functionals.f90,
	  PW/functionals.f90, PW/lsda_functionals.f90:

	Updated functionals and installation mechanisms, ready for addition
	of atomic code. Doc update.

2004-05-13 22:50  giannozz

	* PW/: atomic_rho.f90, set_vrs.f90:

	more noncolinear merge

2004-05-13 18:56  giannozz

	* Modules/functionals.f90:

	keyword "revPBE" recognized by which_dft
	Beware: potential for trouble with PBE and the like...

2004-05-13 15:46  sbraccia

	* Modules/io_routines.f90, Modules/neb_base.f90,
	  PW/compute_scf.f90:

	Some clean-up in the NEB machinery.
	C.S.

2004-05-13 15:13  ballabio

	* PW/diis_module.f90:

	workarounds for ifort and g95 compiler bugs [Gerardo]

2004-05-13 12:04  giannozz

	* PP/pw2casino.f90:

	Calculation of E local not correct in pw2casino (noticed by Dario)

2004-05-13 11:41  sbraccia

	* PW/mix_rho.f90:

	Fixed a severe bug in the mixing of spin polarized systems with the local-TF screening (highlighted by SdG). The bug is also present in the web version.
	C.S.

2004-05-12 16:21  ballabio

	* configure, configure.ac:

	now should work also if compilers have nonstandard names (on Linux)
	[Gerardo]

2004-05-11 23:08  giannozz

	* Gamma/a_h.f90, Gamma/dvpsi_e.f90, Gamma/h_h.f90,
	  Gamma/solve_e.f90, Gamma/solve_ph.f90, PH/add_dkmds.f90,
	  PH/add_for_charges.f90, PH/add_zstar_ue_us.f90,
	  PH/allocate_phq.f90, PH/cg_psi.f90, PH/cgsolve_all.f90,
	  PH/dvkb3.f90, PH/dvpsi_e.f90, PH/h_psiq.f90, PH/localdos.f90,
	  PH/solve_e.f90, PH/solve_linter.f90, PH/zstar_eu_us.f90,
	  PP/local_dos1d.f90, PP/plan_avg.f90, PP/poormanwannier.f90,
	  PP/projwfc.f90, PP/pw2casino.f90, PW/add_vuspsi.f90,
	  PW/allocate_wfc.f90, PW/becmod.f90, PW/c_bands.f90,
	  PW/clean_pw.f90, PW/dndepsilon.f90, PW/dndtau.f90,
	  PW/force_us.f90, PW/ortho.f90, PW/orthoatwfc.f90, PW/rbecmod.f90,
	  PW/read_file.f90, PW/stres_us.f90, PW/sum_band.f90,
	  PW/wfcinit.f90:

	becp = <beta|psi> allocated only when needed (except in phonon where it is
	still allocated at the beginning) - misc cleanup

2004-05-11 10:46  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/cdiisg.f90, PWCOND/Makefile:

	Makefile and doc update

2004-05-11 10:11  sbraccia

	* PW/: Makefile, c_bands.f90, cegterg.f90, cgramg1.f90,
	  diis_module.f90, electrons.f90, g_psi.f90, g_psi_mod.f90,
	  print_clock_pw.f90, pwcom.f90, regterg.f90:

	Yet another version of the DIIS algorithm (it substitutes the previous one). This version is slower (but not dramatically) than davidson for small systems, faster for large systems (the cross-over is around 300 bands), but there is space for further improvements. A gamma-point version is also implemented (previously missing). An "holes-sniffer" is implemented to prevent holes in the eigenvalues spectrum.
	C.S.

2004-05-10 18:13  sbraccia

	* PW/gradcorr.f90:

	Added a cut-off on zeta ( ( -1.0 - 1.D-6 ) < zeta < ( 1.0 - 1.D-6 ) ) to prevent the divergences of the correlation part of the PBE potential.
	C.S.

2004-05-10 18:00  ballabio

	* pwtools/dist.f:

	fixed problem with pgi [Gerardo]

2004-05-10 16:16  giannozz

	* PH/phq_setup.f90:

	Added check (tetrahedra not allowed)

2004-05-10 15:36  giannozz

	* PW/startup.f90:

	last lost commit fixed

2004-05-10 15:18  sbraccia

	* PW/mix_rho.f90:

	Again a fix for the bug in local-TF screening (lost in the last commit).
	C.S.

2004-05-10 12:37  dalcorso

	* PW/input.f90:

	The variable lspinorb has been deleted from input.f90. Please make cvs co
	before commit.

2004-05-09 22:20  giannozz

	* PW/: force_cc.f90, force_corr.f90:

	More non-collinear cleanup

2004-05-09 19:05  giannozz

	* PW/stress.f90:

	Cleanup of duplicated or unimplemented routines in PWNC/

2004-05-08 12:24  giannozz

	* TODO, PH/addusddens.f90, PH/addusddense.f90, PH/addusldos.f90,
	  PH/dvanqq.f90, PH/newdq.f90, PP/addusdens1d.f90, PP/average.f90,
	  PP/elf.f90, PP/ggen1d.f90, PP/local_dos1d.f90, PP/plan_avg.f90,
	  PP/postproc.f90, PP/punch_plot.f90, PP/pw2wan.f90, PP/stm.f90,
	  PP/voronoy.f90, PP/work_function.f90, PW/addusdens.f90,
	  PW/addusforce.f90, PW/addusstress.f90, PW/allocate_nlpot.f90,
	  PW/clean_pw.f90, PW/init_us_1.f90, PW/newd.f90, PW/pwcom.f90:

	Cleanup: pwcom no longer used in PP/
	qgm is now a local variable as it should be

2004-05-07 19:42  giannozz

	* Gamma/Makefile:

	restart.o was loaded twice

2004-05-07 19:33  cazzato

	* PP/openfil_pp.f90:

	[no log message]

2004-05-07 19:21  cazzato

	* D3/Makefile, D3/openfild3.f90, D3/stop_d3.f90, Gamma/Makefile,
	  Gamma/cg_setup.f90, PH/Makefile, PH/openfilq.f90,
	  PH/phq_readin.f90, PH/stop_ph.f90, PP/Makefile, PP/bands.f90,
	  PP/efg.f90, PP/poormanwannier.f90, PP/postproc.f90,
	  PP/projwfc.f90, PP/pw2casino.f90, PP/pw2wan.f90, PP/stop_pp.f90,
	  PW/input.f90, PW/mix_rho.f90, PW/openfil.f90, PW/punch.f90,
	  PW/read_file.f90, PW/restart.f90, PW/restart_from_file.f90,
	  PW/startup.f90, PW/stop_pw.f90, PW/write_config_to_file.f90:

	the new punch routine, which writes on the .save file (instead of .pun),
	is now the default. Moreover, if the wf_collect flag (in the control namelist)
	is true, it collects all wave functions and store them in the same file.
	The phonon and postprocessing codes can handle this new .save file.

2004-05-07 18:47  giannozz

	* Modules/parser.f90:

	Bad format, doc update

2004-05-07 18:45  giannozz

	* flib/: blas.f, lapack.f:

	Old version of dnrm2 moved out of lapack.f and replaced (in blas.f,
	where it belongs) with a version that does not contain ASSIGN

2004-05-07 18:15  sbraccia

	* PW/mix_rho.f90:

	Fixed a very insidious bug in the local-TF screening (already present in version 1.2.0).
	C.S.

2004-05-07 17:48  sbraccia

	* PW/startup.f90:

	Variable nimage was not initialized.
	C.S.

2004-05-06 15:06  ballabio

	* configure, configure.ac, PH/addcore.f90, PH/cgsolve_all.f90,
	  PH/compute_dvloc.f90, PH/dvqpsi_us.f90, PH/dvqpsi_us_only.f90,
	  PH/psidspsi.f90, PP/plotband.f90, PW/addusforce.f90,
	  PW/cubicsym.f90, PW/dqvan2.f90, PW/functionals.f90,
	  PW/gen_us_dj.f90, PW/gen_us_dy.f90, PW/hexsym.f90,
	  PW/init_paw_2.f90, PW/init_us_2.f90, PW/lsda_functionals.f90,
	  PW/qvan2.f90, clib/cp.h, flib/erf.f90, upftools/nclib.f90:

	added support for g95
	several small fixes to get it to compile [Gerardo]

2004-05-06 14:42  dalcorso

	* Modules/read_namelists.f90:

	startingwfc should be atomic in a nscf calculation.

2004-05-06 13:18  ballabio

	* pwtools/: dist.f, ev.f:

	another small fix [Gerardo]

2004-05-06 13:00  ballabio

	* PW/: vcsubs.f90, write_ns.f90:

	small fix on some formats (1x in place of x) [Gerardo]

2004-05-05 14:32  sbraccia

	* Modules/input_parameters.f90:

	oops ...
	C.S.

2004-05-05 14:22  sbraccia

	* CPV/compute_scf.f90, Modules/input_parameters.f90,
	  PW/compute_scf.f90:

	Variable reset_vel was not declared in input_parameters.
	Some cleanup of the neb-driver for all the codes.
	C.S.

2004-05-05 11:34  ballabio

	* Modules/neb_base.f90:

	applied workaround for ifort internal compiler error [Gerardo]

2004-05-04 18:18  ballabio

	* configure, configure.ac:

	fixed --disable-parallel [Gerardo]

2004-05-04 13:05  ballabio

	* configure, configure.ac:

	[no log message]

2004-05-04 11:39  giannozz

	* upftools/cpmd2upf.f90:

	cpmdtoupf bug fixed

2004-05-03 16:23  dalcorso

	* Modules/read_namelists.f90:

	Missing changes added.

2004-05-03 13:14  sbraccia

	* Modules/input_parameters.f90, PW/input.f90:

	Fixed an error in my last commit.
	C.S.

2004-05-03 10:48  sbraccia

	* Modules/bfgs_module.f90, Modules/constants.f90,
	  Modules/input_parameters.f90, Modules/io_routines.f90,
	  Modules/neb_base.f90, Modules/neb_variables.f90,
	  Modules/read_namelists.f90, PW/input.f90:

	NEB: 1) a backup copy of the restart file is written at each iteration on the scratch
	directory.
	     2) velocities can be reset (reset_vel keyword) when restarting from file.
	Cleanup of bfgs stuff.
	C.S.

2004-05-03 10:31  dalcorso

	* PW/: sph_ind.f90, spinor.f90, upf_to_internal.f90:

	Added licence to the new routines and other small changes.

2004-05-03 10:08  dalcorso

	* Modules/parameters.f90, PW/init_us_1.f90, PW/input.f90,
	  PW/saveall.f90, PW/setup.f90, PW/summary.f90:

	Support for s.o.: changes to PW routines:
	init_us_1 : dvan coefficients are recalculated
	            qq_spinorb coefficients are defined
	setup : added code to average a s.o. pseudopotential and use it as a
	        standard pseudopotential. (Still not working with US)

2004-05-01 13:34  dalcorso

	* PW/newd.f90:

	Missing change.

2004-04-30 16:58  dalcorso

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/sph_ind.f90, PW/spinor.f90, PWCOND/Makefile:

	Added two routines for s.o.

2004-04-30 16:26  giannozz

	* configure, configure.ac, PP/projwfc.f90, include/machine.h:

	DIRECT_IO_FACTOR for intel compiler reverted to 8, compiler option used
	instead. Lowdin charges are printed for each spin component (PG)

2004-04-30 15:16  dalcorso

	* Modules/input_parameters.f90, Modules/pseudo_types.f90,
	  Modules/read_namelists.f90, Modules/readpseudo.f90, PW/input.f90,
	  PW/setup.f90, PW/upf_to_internal.f90:

	Reading of a spin-orbit (UPF?) pseudopotential written by the atomic code.
	Added the variable lspinorb in input.

2004-04-30 14:40  sbraccia

	* Modules/read_namelists.f90:

	Setting startingwfc="file" in the case of nscf calculations was a bad idea.
	I apologize.
	C.S.

2004-04-30 10:51  dalcorso

	* D3/d0rhod2v.f90, D3/d3vrho.f90, D3/dqrhod2v.f90, D3/dvdpsi.f90,
	  Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90, Gamma/rhod2vkb.f90,
	  Modules/atom.f90, PP/pw2casino.f90, PW/addusforce.f90,
	  PW/allocate_nlpot.f90, PW/clean_pw.f90, PW/init_us_1.f90,
	  PW/newd.f90, PW/pwcom.f90:

	Introduced variables for spin-orbit support. Changes on these
	routines are due to the fact that dvan becomes spin dependent and has
	an additional index.

2004-04-30 09:05  sbraccia

	* Modules/read_namelists.f90:

	Again on the default value of starting***: in the case of a non scf calculation
	they are both set to "file".
	C.S.

2004-04-29 18:55  sbraccia

	* GUI/Makefile:

	Fixed a bug concerning "make veryclean".
	C.S.

2004-04-29 17:47  cavazzon

	* Modules/read_cards.f90:

	Bug fix, reading card OCCUPATIONS

2004-04-29 12:08  sbraccia

	* Modules/neb_base.f90:

	oops ...

2004-04-29 11:43  giannozz

	* CPV/cplib.f90:

	FIxed core correction bug introduced yesterday

2004-04-29 11:26  sbraccia

	* Modules/neb_base.f90, Modules/neb_variables.f90,
	  PW/compute_scf.f90:

	NEB convergence: when the error on a image is less that 50% of the largest error, that image is "frozen".
	This procedure (suggested by Tone) saves some scf cycles and gives further stability to the optimization procedure.
	C.S.

2004-04-28 22:48  giannozz

	* PW/init_us_1.f90:

	[no log message]

2004-04-28 13:05  cavazzon

	* flib/sort_gvec.f90:

	variable declaration

2004-04-28 12:57  cavazzon

	* flib/sort_gvec.f90:

	- bug fix, use of uninitialized variable

2004-04-28 12:31  sbraccia

	* flib/error.f90:

	Fixed a bug in the sequence of MPI calls.
	C.S.

2004-04-28 12:25  giannozz

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/modules.f90,
	  CPV/read_pseudo.f90, CPV/restart.f90, D3/Makefile,
	  D3/d3_init.f90, D3/d3_setup.f90, D3/d3_summary.f90,
	  D3/drho_drc.f90, D3/dvscf.f90, Gamma/Makefile,
	  Gamma/cg_setup.f90, Gamma/dvpsi_kb.f90, Gamma/dynmatcc.f90,
	  Modules/Makefile, Modules/atom.f90, Modules/uspp.f90,
	  PH/Makefile, PH/compute_qdipol.f90, PH/dvqpsi_us.f90,
	  PH/phq_init.f90, PH/phq_setup.f90, PH/phq_summary.f90,
	  PH/set_drhoc.f90, PP/Makefile, PW/Makefile,
	  PW/allocate_nlpot.f90, PW/bp_qvan3.f90, PW/clean_pw.f90,
	  PW/dqvan2.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PW/init_us_1.f90, PW/init_us_2.f90, PW/pwcom.f90, PW/qvan2.f90,
	  PW/read_ncpp.f90, PW/readnewvan.f90, PW/readvan.f90,
	  PW/restart.f90, PW/saveall.f90, PW/setup.f90, PW/summary.f90,
	  PW/tabd.f90, PW/upf_to_internal.f90, PWCOND/Makefile,
	  PWCOND/allocate_cond.f90, PWCOND/four.f90:

	More PP cleanup

2004-04-27 18:33  profeta

	* PP/chdens.f90:

	ntypx was no more defined

2004-04-27 17:57  sbraccia

	* Modules/: minimization_routines.f90, neb_base.f90,
	  neb_variables.f90, read_cards.f90:

	Fixed some bugs in the NEB machinery. In particular the error was not properly computed so that
	it was an overestimate of the real error. Some improvements in the output format of a NEB calculation.
	C.S.

2004-04-27 17:42  giannozz

	* PW/: pwcom.f90, read_ncpp.f90:

	...oops

2004-04-27 15:44  giannozz

	* TODO, CPV/cplib.f90, CPV/cprsub.f90, CPV/read_pseudo.f90,
	  CPV/restart.f90, Modules/io_base.f90, PH/addcore.f90,
	  PW/force_cc.f90, PW/init_vloc.f90, PW/pwcom.f90,
	  PW/read_ncpp.f90, PW/read_pseudo.f90, PW/readnewvan.f90,
	  PW/readvan.f90, PW/restart.f90, PW/saveall.f90, PW/set_rhoc.f90,
	  PW/setup.f90, PW/stres_cc.f90, PW/stres_loc.f90, PW/summary.f90,
	  PW/upf_to_internal.f90:

	more pseudopotential cleanup

2004-04-27 10:43  cavazzon

	* CPV/: cplib.f90, cpr.f90, cprstart.f90:

	bug fix with the use of clocks

2004-04-26 17:02  giannozz

	* CPV/: cplib.f90, cprsub.f90, modules.f90, read_pseudo.f90:

	PP cleanup and merge: rucore => vloc_at

2004-04-26 12:53  cavazzon

	* include/machine.h:

	fix: DIRECT_IO_FACTOR properly set for linux / intel compiler

2004-04-26 11:44  ballabio

	* Makefile:

	added missing PP programs to "make links" [Gerardo]

2004-04-26 09:25  giannozz

	* PW/conv_to_num.f90:

	[no log message]

2004-04-26 09:25  giannozz

	* D3/Makefile, D3/d3_init.f90, Gamma/Makefile, Gamma/cg_setup.f90,
	  Modules/io_base.f90, PH/Makefile, PH/phq_init.f90,
	  PH/setlocq.f90, PP/Makefile, PW/Makefile, PW/dvloc_of_g.f90,
	  PW/hinit0.f90, PW/init_us_1.f90, PW/init_vloc.f90, PW/pwcom.f90,
	  PW/read_ncpp.f90, PW/read_pseudo.f90, PW/readnewvan.f90,
	  PW/readvan.f90, PW/restart.f90, PW/saveall.f90, PW/setup.f90,
	  PW/stres_loc.f90, PW/upf_to_internal.f90, PW/vloc_of_g.f90,
	  PWCOND/Makefile:

	Pseudopotential cleanup: vnl => vloc_at

2004-04-24 17:30  sbraccia

	* PW/: move_ions.f90, update_pot.f90:

	Fixed the problem in find_alpha_and_beta().
	Cleanup (in these two routines) of the references to the "fake part" of module basis:
	"use basis" replaced by "use ions_base" for nat and similar variables.
	C.S.

2004-04-24 13:58  giannozz

	* Modules/io_base.f90, PW/init_us_1.f90, PW/read_ncpp.f90,
	  PW/readnewvan.f90, PWCOND/four.f90, flib/ylmr2.f90:

	more 0:ndm => 1:ndm

2004-04-23 19:10  giannozz

	* CPV/cplib.f90, CPV/cprsub.f90, CPV/modules.f90,
	  CPV/read_pseudo.f90, Gamma/cg_setup.f90, Modules/parameters.f90,
	  Modules/pseudo_types.f90, PH/compute_qdipol.f90, PH/phq_init.f90,
	  PH/set_drhoc.f90, PW/atomic_rho.f90, PW/atomic_wfc.f90,
	  PW/bp_calc_btq.f90, PW/force_corr.f90, PW/gen_at_dj.f90,
	  PW/gen_at_dy.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PW/hinit0.f90, PW/init_at_1.f90, PW/init_paw_1.f90,
	  PW/init_us_1.f90, PW/memory.f90, PW/paw.f90, PW/pwcom.f90,
	  PW/pwscf.f90, PW/read_ncpp.f90, PW/readnewvan.f90,
	  PW/readvan.f90, PW/restart.f90, PWCOND/four.f90:

	ndm, mmaxx => ndmx ; 0:ndm => ndmx (starting from 0 no longer needed)

2004-04-23 17:54  ballabio

	* configure, configure.ac:

	added check for MKL 7.0 [Gerardo]

2004-04-22 18:04  ballabio

	* configure, configure.ac:

	Removed checks on sizes of types [Gerardo]

2004-04-22 16:41  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PWCOND/Makefile:

	sorry...

2004-04-22 16:28  giannozz

	* CPV/Makefile, CPV/cplib.f90, CPV/cprsub.f90, CPV/modules.f90,
	  CPV/read_pseudo.f90, CPV/which_dft.f90, D3/Makefile,
	  Gamma/Makefile, Modules/Makefile, Modules/functionals.f90,
	  PH/Makefile, PP/Makefile, PW/Makefile, PW/funct.f90,
	  PW/read_ncpp.f90, PW/read_pseudo.f90, PW/readvan.f90,
	  PW/upf_to_internal.f90, PW/which_dft.f90, PWCOND/Makefile:

	funct.f90 and which_dft moved to Modules/functionals.f90

2004-04-22 13:25  sbraccia

	* Modules/neb_base.f90:

	Fixed the bug spotted by Taner Yildirim (PW_FORUM).
	C.S.

2004-04-21 19:14  giannozz

	* PP/chdens.f90, PP/efg.f90, PP/pw2casino.f90, PW/add_efield.f90,
	  PW/bp_c_phase.f90, PW/compute_dip.f90, PW/electrons.f90,
	  PW/forces.f90, PW/pwcom.f90, PW/restart.f90, PW/setup.f90,
	  PW/stress.f90, PW/summary.f90, PW/upf_to_internal.f90:

	Cleanup: zv moved to module "basis"

2004-04-21 19:11  giannozz

	* CPV/: cplib.f90, cpr.f90, cprsub.f90, restart.f90:

	 L=3 sort of implemented (untested). ng0 => gstart

2004-04-21 16:51  giannozz

	* CPV/: cplib.f90, cprsub.f90:

	More cleanup. l=3 might work

2004-04-21 14:54  giannozz

	* CPV/cprsub.f90:

	cleanup

2004-04-21 12:33  giannozz

	* CPV/cplib.f90, CPV/cprsub.f90, Modules/recvec.f90:

	Derivatives of ylm merged, variable cell works again (maybe).
	Indices of gx and gxb reversed, cleanup (PG)

2004-04-20 16:44  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/dylmr2.f90, PWCOND/Makefile, flib/Makefile,
	  flib/dylmr2.f90:

	dylmr2.f90 moved to flib/

2004-04-19 22:35  giannozz

	* CPV/: cplib.f90, cprsub.f90, modules.f90:

	More USPP harmonization: aainit, spherical harmonics merged -
	derivatives of ylm NOT YET, variable cell NOT WORKING

2004-04-19 10:13  dalcorso

	* PW/iweights.f90:

	Bug fix: non-collinear code was not working with insulators and nbnd > nelec/2.

2004-04-19 09:29  cavazzon

	* CPV/input.f90:

	- SIC again
	- bug fix, allocation in CP

2004-04-15 17:11  giannozz

	* PH/elphon.f90:

	Fixed multiple writes to file in parallel execution when calculating
	electron-phonon coefficients

2004-04-14 17:20  giannozz

	* PW/random.f90, flib/inv3.f90:

	Cleanup

2004-04-14 15:48  sbraccia

	* Modules/check_stop.f90, Modules/io_files.f90,
	  Modules/neb_base.f90, PW/compute_scf.f90, PW/electrons.f90,
	  PW/input.f90:

	The exit_file is no longer a parameter (set in io_files.f90 to "EXIT"), but an internal variable
	set in input.f90 to "prefix.EXIT".
	This is necessary to allow the user to stop the "correct" job when several jobs are
	running on the same working directory.
	C.S.

2004-04-14 13:59  profeta

	* PP/efg.f90, PW/paw.f90:

	move read_recon subroutine inside paw module for future use in nmr calculation

2004-04-14 10:55  sbraccia

	* flib/error.f90:

	On parallel LINUX machines the error message is written opening the unit
	"0" on the /dev/stderr device (as is automatically done on AIX).
	C.S.

2004-04-14 10:21  sbraccia

	* Modules/bfgs_module.f90, PW/move_ions.f90:

	Fixed a couple of bugs in the lbfgs algorithm.
	As written now the fix can not be back-ported to the stable release (which has the same problem).
	Minor cleanup of the entire module.
	C.S.

2004-04-14 00:30  cavazzon

	* CPV/compute_scf.f90, CPV/cplib.f90, CPV/cpr.f90, CPV/input.f90,
	  CPV/neb_routines.f90, Modules/input_parameters.f90,
	  Modules/ions_base.f90, Modules/read_cards.f90,
	  Modules/read_namelists.f90, flib/Makefile, flib/error.f90,
	  flib/sort_gvec.f90:

	- Changes in FPMD required by SIC implementation
	- simplified ionic positions management in FPMD ( many staff moved to
	  Modules/ions_base.f90
	- sort_gvec.f90 ( a part of ggen common to FPMD and CP )

2004-04-13 23:49  giannozz

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/modules.f90,
	  CPV/restart.f90, D3/Makefile, Gamma/Makefile, Modules/Makefile,
	  Modules/bfgs_module.f90, Modules/cell_base.f90,
	  Modules/input_parameters.f90, Modules/parameters.f90,
	  Modules/uspp.f90, PH/Makefile, PH/compute_qdipol.f90,
	  PP/Makefile, PP/efg.f90, PW/Makefile, PW/aainit.f90,
	  PW/bp_calc_btq.f90, PW/bp_qvan3.f90, PW/cubicsym.f90,
	  PW/d_matrix.f90, PW/dqvan2.f90, PW/hexsym.f90, PW/init_paw_1.f90,
	  PW/init_us_1.f90, PW/invmat.f90, PW/memory.f90, PW/pwcom.f90,
	  PW/pwscf.f90, PW/qvan2.f90, PW/readvan.f90, PW/restart.f90,
	  PW/ylmr2.f90, PWCOND/Makefile, flib/Makefile, flib/invmat.f90,
	  flib/rranf.f90, flib/ylmr2.f90, pwtools/Makefile,
	  pwtools/kpoints.f, upftools/read_upf.f90:

	First steps in USPP merge between CP and PW:
	PW: nqfm => nqfx, some us variables and aainit moved to Modules/uspp.f90 (new)
	CP: lx, lqx => lqmax, lix => lmaxx+1, variables moved, aainit not yet merged
	invmat moved to flib/ and merged with invmat3 of CP/FPMD,
	rndm and ylmr2 moved to flib/ in rranf.f90

2004-04-08 17:00  profeta

	* PP/efg.f90, PW/paw.f90:

	wfc_label were initialize inside type definition which is not standard f90
	add a paw_wfc_init subroutine to do the job

2004-04-07 18:00  giannozz

	* INSTALL, configure.old, install/Make.ia64, pwtools/Makefile:

	Added support for HP Itanium machines

2004-04-07 17:42  moscac

	* PW/: functionals.f90, lsda_functionals.f90, which_dft.f90:

	relativistic exchange introduced in case of pseudo generated with
	Rel. Exch. interaction.

2004-04-06 16:38  kokalj

	* GUI/PWgui/: src/tclIndex, ChangeLog:

	[no log message]

2004-04-06 16:38  kokalj

	* GUI/PWgui/modules/pw/: pw-event.tcl, pw.tcl:

	preparing for CONSTRAINTS card (code is still commented)

2004-04-06 15:41  kokalj

	* GUI/PWgui/modules/projwfc/: commands.tcl, projwfc.tcl:

	adding the readfilter proc

2004-04-06 15:39  kokalj

	* GUI/PWgui/modules/: d3/commands.tcl, ph/commands.tcl,
	  pp/commands.tcl, pw/commands.tcl:

	improving the readfilter proc

2004-04-06 15:33  kokalj

	* GUI/PWgui/src/modutil.itcl:

	adding some readfilter utility functions for better support of the syntax-error handling mechanism for reading the input files
	+ ::pwscf::readFilter::findNamelists
	+ ::pwscf::readFilter::findCards
	+ ::pwscf::readFilter::findNamelistsAndCards

2004-04-06 15:29  kokalj

	* GUI/PWgui/src/Makefile:

	[no log message]

2004-04-06 15:24  kokalj

	* GUI/PWgui/INSTALL:

	[no log message]

2004-04-06 15:23  kokalj

	* GUI/Guib/src/: Makefile, open.itcl, tclIndex:

	+ added readFileError and readFileWrongFormat methods

2004-04-06 15:22  kokalj

	* GUI/Guib/src/moduleObj.itcl:

	+ added readFileError and readFileWrongFormat method

2004-04-06 15:21  kokalj

	* GUI/Guib/src/gui.itcl:

	added support for WRONG_FORMAT for _openInput method

2004-04-06 15:20  kokalj

	* GUI/Guib/lib/tkUtils.tcl:

	+ adding warningDialog proc
	+ adding watchExec proc

2004-04-06 15:19  kokalj

	* GUI/Guib/lib/: tclUtils.tcl, Makefile, tclIndex:

	[no log message]

2004-04-05 17:54  kokalj

	* GUI/PWgui/pwgui_vfs/: Makefile, Makefile.darwin, Makefile.linux,
	  Makefile.win32, darwin-ppc.sh, linux-x86.sh, win32.sh:

	[no log message]

2004-04-05 15:56  kokalj

	* GUI/PWgui/pwgui_vfs/: darwin-ppc.sh, linux-x86.sh, win32.sh:

	[no log message]

2004-04-05 15:45  kokalj

	* GUI/PWgui/modules/pw/pw.tcl:

	+ fixing typo minization -> minimization
	+ fixing help description of atomic_coordinates2

2004-04-05 15:45  kokalj

	* GUI/PWgui/modules/pw/pw-help.tcl:

	+ fixing typo kmin ->k_min
	+ fixing help description of atomic_coordinates2

2004-04-05 15:43  kokalj

	* GUI/PWgui/external/: lib/Makefile, src/Makefile:

	makefile includes ../../Make.include

2004-04-05 15:42  kokalj

	* GUI/PWgui/: Make.include, pwgui_vfs/Makefile, pwgui_vfs/README,
	  sys_utils/starkit.sh:

	[no log message]

2004-04-05 15:41  kokalj

	* GUI/PWgui/Makefile:

	adding pwgui-starkit-vfs target

2004-04-05 15:39  kokalj

	* GUI/Guib/src/guibKeywords.itcl:

	adding a check if help's $ident is valid (method: moduleObj::help

2004-04-05 15:38  kokalj

	* GUI/: Guib/ChangeLog, PWgui/TODO, PWgui/NEWS, PWgui/INSTALL.cvs,
	  PWgui/VERSION:

	[no log message]

2004-04-05 15:23  kokalj

	* GUI/PWgui/: INSTALL, README:

	updating the file to include the starkit/starpack description

2004-04-05 15:22  kokalj

	* GUI/PWgui/: BUGS, ChangeLog:

	[no log message]

2004-04-05 15:20  kokalj

	* GUI/Guib/src/open.itcl:

	+ adding _openSyntaxError private method for handling syntax error during the input file read
	+ adding file-header

2004-04-05 15:20  kokalj

	* GUI/Guib/src/moduleObj.itcl:

	adding _openSyntaxError private method for handling syntax error during the input file read

2004-04-05 15:18  kokalj

	* GUI/Guib/: ChangeLog, NEWS, VERSION, src/tclIndex:

	[no log message]

2004-04-03 16:42  cavazzon

	* D3/bcast_d3_input.f90, Modules/read_namelists.f90,
	  PH/bcast_ph_input.f90:

	- missing use of iverbosity
	- xlf complains for expession like: if ( logical_val == .false. )

2004-04-03 15:24  giannozz

	* TODO, configure, configure.ac, Gamma/cg_setupdgc.f90,
	  Modules/cell_base.f90, PP/average.f90, PP/chdens.f90,
	  PP/plotrho.f90, PP/work_function.f90, PW/bp_c_phase.f90,
	  PW/cft_3.f90, PW/cft_fftw.f90, PW/cfts_3.f90, PW/checkallsym.f90,
	  PW/cubicsym.f90, PW/gradcorr.f90, PW/hexsym.f90,
	  PW/lchk_tauxk.f90, PW/read_ncpp.f90, PW/readnewvan.f90,
	  PW/s_axis_to_ca.f90, PW/smallg_q.f90, PW/stres_gradcorr.f90,
	  PW/summary.f90, PW/symz.f90, PW/v_of_rho.f90, PW/vcsubs.f90,
	  PW/w0gauss.f90, PW/w1gauss.f90, PW/wgauss.f90, PW/wsweight.f90:

	Cleanup: integer conversion to real performed with "dble" everywhere
	minor things here and there

2004-04-02 18:05  degironc

	* Makefile, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PP/Makefile, PP/poormanwannier.f90,
	  PW/force_hub.f90, PW/input.f90, PW/orthoatwfc.f90, PW/pwcom.f90,
	  PW/saveall.f90, PW/stres_hub.f90:

	 2 Apr 2004   A new (experimental) feature is added to LDA+U method.
	              The +U part of the functional can be built using
	              for the projection on localized orbitals some simple
	              Wannier functions generated by the post-processing
	              code poormanwannier.f90 (pmw.x) from the LDA band
	              structure. (SdG)

2004-04-02 17:53  sbraccia

	* Modules/read_namelists.f90:

	Default value for the neb-time-step (ds) updated.
	Crrected csme other small errors in the INPUT_PW file.
	C.S.

2004-04-02 15:22  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/c_bands.f90, PW/dsum.f90, PW/irrek.f90,
	  PWCOND/Makefile, pwtools/Makefile:

	Cleanup: dsum removed

2004-04-02 15:01  sbraccia

	* PW/electrons.f90, PW/pwcom.f90, D3/d3_readin.f90,
	  D3/d3_setup.f90, D3/d3_summary.f90, D3/d3matrix.f90,
	  D3/set_d3irr.f90, Gamma/raman.f90, PH/dynmat0.f90,
	  PH/dynmatrix.f90, PH/phq_readin.f90, PH/phq_recover.f90,
	  PH/phq_setup.f90, PH/phq_summary.f90, PH/solve_e.f90,
	  PH/solve_linter.f90:

	Cleanup: all references to varie replaced by references to control_flags
	(also when varie is indirectly called by pwcom).
	Fake module varie has been removed from pwcom.
	C.S.

2004-04-02 12:30  sbraccia

	* PH/addcore.f90, PP/bands.f90, PP/chdens.f90, PP/efg.f90,
	  PP/projwfc.f90, PP/pw2casino.f90, PW/add_efield.f90,
	  PW/addusforce.f90, PW/addusstress.f90, PW/allocate_nlpot.f90,
	  PW/atomic_rho.f90, PW/atomic_wfc.f90, PW/bfgs.f90,
	  PW/bp_c_phase.f90, PW/bp_calc_btq.f90, PW/c_bands.f90,
	  PW/compute_dip.f90, PW/compute_scf.f90,
	  PW/constraints_module.f90, PW/d_matrix.f90,
	  PW/data_structure.f90, PW/dprojdepsilon.f90, PW/dprojdtau.f90,
	  PW/dynamics.f90, PW/electrons.f90, PW/ewald_dipole.f90,
	  PW/force_cc.f90, PW/force_corr.f90, PW/force_hub.f90,
	  PW/force_us.f90, PW/forces.f90, PW/gen_at_dj.f90,
	  PW/gen_at_dy.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PW/ggen.f90, PW/hinit0.f90, PW/hinit1.f90, PW/init_at_1.f90,
	  PW/init_paw_1.f90, PW/init_paw_2.f90, PW/init_us_1.f90,
	  PW/init_us_2.f90, PW/init_vloc.f90, PW/memory.f90,
	  PW/mix_rho.f90, PW/move_ions.f90, PW/newd.f90, PW/output_tau.f90,
	  PW/potinit.f90, PW/pwcom.f90, PW/read_conf_from_file.f90,
	  PW/read_file.f90, PW/restart.f90, PW/restart_in_ions.f90,
	  PW/saveall.f90, PW/scale_h.f90, PW/set_fft_dim.f90,
	  PW/set_rhoc.f90, PW/setup.f90, PW/stres_cc.f90, PW/stres_har.f90,
	  PW/stres_hub.f90, PW/stres_knl.f90, PW/stres_loc.f90,
	  PW/stress.f90, PW/sum_band.f90, PW/summary.f90,
	  PW/update_pot.f90, PW/vcsmd.f90, PW/wfcinit.f90,
	  PW/write_config_to_file.f90:

	References to brilz replaced everywhere by cell_base.
	There are still references to pwcom: please do not use pwcom in new code !!!
	C.S.

2004-04-02 11:45  sbraccia

	* Modules/formats.f90, Modules/minimization_routines.f90,
	  Modules/neb_base.f90, Modules/neb_variables.f90, PW/input.f90:

	Again an improvement of the optimization procedure in neb calculations:
	the new version of quick-min estimates the optimal time step on the basis of
	the approximate force constant along the displacement vector (this is only done
	after some optimization steps).
	In all test cases the algorithm is at least two times faster.
	Nevertheless the algorithm is not yet optimal.
	C.S.

2004-04-01 18:30  cavazzon

	* Modules/: control_flags.f90, energies.f90, input_parameters.f90,
	  ions_base.f90, read_cards.f90, read_namelists.f90:

	Self interaction correction (SIC)
	tentatively added to FPMD,
	work still in progress

2004-04-01 17:04  sbraccia

	* Modules/bfgs_module.f90:

	Fixed a bug in the preconditioning of lbfgs_update().
	The same bug is present also in the stable (web) release.
	C.S.

2004-03-31 19:06  sbraccia

	* PW/: close_files.f90, openfil.f90:

	openfil.f90: fixed a bug related to __NEW_PUNCH
	close_files.f90: fixed a bug in neb when lda_plus_u is true
	C.S.

2004-03-31 13:42  kokalj

	* GUI/Makefile:

	veryclean target improved (adding "-")

2004-03-29 11:34  sbraccia

	* Modules/parser.f90:

	Fixed a bug highlighted by P.G. with ifor.
	C.S.

2004-03-29 10:42  sbraccia

	* Modules/check_stop.f90, Modules/formats.f90,
	  Modules/io_files.f90, Modules/neb_base.f90, Modules/parser.f90,
	  PW/cdiaghg.f90, PW/compute_scf.f90, PW/input.f90,
	  PW/update_pot.f90:

	- General cleanup.
	- NEB: 1) units for activation energy and errors are printed in the output file
	       2) elastic constants are automatically rescaled so that "spring"-forces have the
	          same magnitude as "external-potential"-forces: this permits a larger time step
		  in NEB optimizations (the default will be changed later)
	       3) fixed a bug in the way istep and istep_neb were set
	- parser: the subroutine delete_if_present has a logical optional input argument to require a
	          warning message when a file is removed
	- check_stop: the function check_stop_now has an option input argument to assign an output unit
	              different from stdout
	C.S.

2004-03-28 23:44  cavazzon

	* flib/error.f90:

	-  oops!

2004-03-28 23:36  cavazzon

	* CPV/Makefile, CPV/cpflush.f90, CPV/cplib.f90, CPV/cpr.f90,
	  CPV/cprstart.f90, CPV/cprsub.f90, CPV/macdep.f90,
	  CPV/modules.f90, CPV/para.f90, D3/Makefile, Gamma/Makefile,
	  Modules/input_parameters.f90, Modules/parser.f90, PH/Makefile,
	  PP/Makefile, PW/Makefile, PW/date_and_tim.f90, PW/stop_pw.f90,
	  PWCOND/Makefile, clib/Makefile, clib/c_today.c, clib/cp.h,
	  clib/cptimer.c, clib/factor.c, clib/readocc.c, clib/round2.c,
	  flib/Makefile, flib/date_and_tim.f90, flib/rranf.f90:

	- date_and_tim moved to flib and used by all code,
	- cleanup in clib
	- tictac substituted by start_clock/stop_clock
	- other cleanup

2004-03-28 00:54  cavazzon

	* CPV/Makefile, CPV/para.f90, D3/Makefile, Gamma/Makefile,
	  Modules/io_files.f90, PH/Makefile, PP/Makefile, PW/Makefile,
	  PW/error.f90, PWCOND/Makefile, flib/Makefile, pwtools/Makefile:

	Subroutine PW/error.f90 moved to flib/ directory,
	and linked by all codes.
	Now in case of severe error, errore writes its message also to the file 'CRASH'
	that is closed before aborting, this to avoid information loss in those
	systems that do not flush open streams, when the code is stopped through
	a call to MPI_ABORT

2004-03-27 15:31  cavazzon

	* Modules/control_flags.f90:

	some FPMD cleanup

2004-03-27 15:15  cavazzon

	* CPV/neb_routines.f90, Modules/cell_base.f90,
	  Modules/input_parameters.f90, Modules/read_cards.f90:

	celldm/alat/at input parameters in FPMD/CPV read
	and set as in PW .

2004-03-26 10:26  sbraccia

	* Modules/io_routines.f90, Modules/neb_base.f90,
	  PW/compute_scf.f90:

	Cleanup. Fixed some errors in the way nstep_neb and istep_neb were initialized.
	Fixed some problems in PW/compute_scf.f90
	C.S.

2004-03-25 13:08  sbraccia

	* PW/compute_scf.f90, PW/electrons.f90, Modules/check_stop.f90:

	Tests on cpu time and soft exit adaptet to "parallel" NEB.
	C.S.

2004-03-24 18:46  sbraccia

	* PW/para.f90:

	Yet another bug in para.f90
	C.S.

2004-03-24 17:30  sbraccia

	* D3/d3_exc.f90, D3/davcio_drho2.f90, Modules/clocks.f90,
	  Modules/fft_base.f90, Modules/io_base.f90, Modules/mp_global.f90,
	  Modules/stick_base.f90, PH/davcio_drho.f90, PP/pw2wan.f90,
	  PW/cdiagh.f90, PW/cdiaghg.f90, PW/data_structure.f90,
	  PW/gweights.f90, PW/init_pool.f90, PW/io_pot.f90, PW/para.f90,
	  PW/rdiaghg.f90, PW/restart.f90:

	The array of communicators was non necessary (thanks to SdG): removed everywhere.
	Fixed a serious bug in para.f90 (introduced in the last commit).
	C.S.

2004-03-24 16:41  giannozz

	* Gamma/raman.f90, PP/plan_avg.f90:

	Minor bugs:
	  *  planar average crashed if used with a cubic system
	  *  Gamma-only phonon code not working for Raman calculations
	     in some cases

2004-03-24 10:36  sbraccia

	* D3/d3_exc.f90, D3/d3_init.f90, D3/davcio_drho2.f90,
	  D3/drho_drc.f90, D3/stop_d3.f90, Modules/check_stop.f90,
	  Modules/clocks.f90, Modules/control_flags.f90,
	  Modules/fft_base.f90, Modules/formats.f90, Modules/io_base.f90,
	  Modules/io_files.f90, Modules/io_routines.f90,
	  Modules/mp_global.f90, Modules/neb_base.f90,
	  Modules/read_namelists.f90, Modules/stick_base.f90,
	  PH/davcio_drho.f90, PP/pw2wan.f90, PW/add_efield.f90,
	  PW/cdiagh.f90, PW/cdiaghg.f90, PW/close_files.f90,
	  PW/compute_scf.f90, PW/data_structure.f90,
	  PW/divide_et_impera.f90, PW/electrons.f90, PW/error.f90,
	  PW/init_pool.f90, PW/input.f90, PW/io_pot.f90, PW/mix_rho.f90,
	  PW/move_ions.f90, PW/openfil.f90, PW/para.f90, PW/potinit.f90,
	  PW/print_clock_pw.f90, PW/pwscf.f90, PW/rdiaghg.f90,
	  PW/restart.f90, PW/restart_from_file.f90, PW/setup.f90,
	  PW/startup.f90, PW/stop_pw.f90, PW/sum_band.f90,
	  PW/update_pot.f90:

	1) An experimental parallelization of NEB images has been implemented.
	This required a deep modification of the parallelism in PWscf:
	there are two new communicators (intra_image_comm and inter_image_comm) and the
	existing "pool" communicators (intra_pool_comm and inter_pool_comm) are now vectors
	of length given by the number of parallel images. #ifdef __PARA is no longer
	needed because all "parallel" variables are always initialized for a serial run
	and all parallel routines are, in the case of a serial run, dummy routines.
	The wrappers to MPI routines used only by PWscf are in the PW/para.f90 file.
	The others (mp_***) are in the Modules/mp.f90. All explicit referencies to mpif.h
	should be replaced by an "USE parallel_include" (in a serial run parallel_include
	is simply a dummy module).

	2) The extrapolation of both potential and wavefunctions has been rewritten in
	order to be smarter than before: on the basis of the required extrapolation
	order, on the basis of the history and on the basis of which files are really
	present on the disk, the algorithm chooses the extrapolation order.
	All the algorithms in which ions are moved can use the extrapolation.

	These are both unstable features: I need the help of everybody to test them.

	C.S.

2004-03-20 16:43  sbraccia

	* Modules/read_namelists.f90:

	Fixed a couple of bugs in the way default values were set (bugs inserted by me in a previous fix).
	The same bug is present in the 2.0.1 version and in the patch-2-0p2.
	This should be the ultimate fix for defaults-related problems.
	C.S.

2004-03-19 18:24  giannozz

	* D3/bcast_d3_input.f90, PH/phq_readin.f90:

	Oops...

2004-03-19 16:01  ballabio

	* configure, configure.ac:

	added support for Itanium/Intel compiler [Gerardo]

2004-03-19 09:34  giannozz

	* PH/phq_readin.f90:

	yet another bug in phonon and k-point parallelization in
	namelist reading (phq_readin)

2004-03-17 21:36  cavazzon

	* CPV/restart.f90:

	- fix in restart for spin polarized systems

2004-03-17 18:32  profeta

	* GUI/PWgui/BUGS:

	GUI freeze with empty namelist in PW input file

2004-03-17 13:17  profeta

	* flib/lapack.f:

	rdiaghg.f90 uses dsygvx routine which was nor present in local copy of lapack
	added + all its dependancies

2004-03-17 11:11  kokalj

	* GUI/PWgui/: BUGS, ChangeLog, Makefile, TODO:

	[no log message]

2004-03-17 11:09  kokalj

	* GUI/Guib/lib/tclUtils.tcl:

	small bug in putsFlush proc

2004-03-17 10:16  sbraccia

	* PW/: cgather_sym.f90, check.f90, fft_scatter.f90, gather.f90,
	  maximum.f90, poolextreme.f90, poolrecover.f90, poolreduce.f90,
	  poolscatter.f90, reduce.f90, scatter.f90:

	Removed useless files.
	C.S.

2004-03-17 09:12  sbraccia

	* PW/forces.f90:

	A call to the subroutine check.f90 was still there.
	C.S.

2004-03-16 19:14  sbraccia

	* D3/Makefile, PH/Makefile, PH/davcio_drho.f90, PH/set_irr.f90,
	  PH/stop_ph.f90, PP/Makefile, PP/stop_pp.f90, PW/Makefile,
	  Gamma/Makefile, PWCOND/Makefile:

	All references to mpif.h and to the subroutine check.f90 removed by the PWscf and related codes.
	If noone disagrees I'll remove the routine check.f90 and all the routines moved in para.f90.
	C.S.

2004-03-16 15:47  ballabio

	* Makefile, makedeps.sh, pwtools/Makefile, upftools/Makefile:

	cleanup in Makefiles
	changed name of PWNC/pw.x to PWNC/pwnc.x [Gerardo]

2004-03-15 16:59  giannozz

	* D3/Makefile, Gamma/Makefile, PWCOND/Makefile, upftools/Makefile:

	Makefile cleanuo. In upftools executables are *.x as everywhere.

2004-03-15 16:25  sbraccia

	* Modules/neb_base.f90, PW/cdiaghg.f90, PW/compute_scf.f90,
	  PW/move_ions.f90, PW/rdiaghg.f90, PW/sum_band.f90,
	  PW/update_pot.f90, PWCOND/local.f90, PWCOND/rotproc.f90:

	Problems in parallel version of PWNC and PWCOND fixed.
	Other refernces to mpif.h removed.
	In rdiaghg and cdiaghg #ifdef HAS_ZHEGVX removed (that routine is present in all lapack distributions).
	wfcs extrapolation extended to NEB.
	C.S.

2004-03-15 16:11  giannozz

	* PH/Makefile, PP/Makefile, PW/Makefile:

	oops...missing file in parallel compilation

2004-03-15 16:04  giannozz

	* PP/Makefile:

	Cleanup

2004-03-15 15:56  giannozz

	* PH/Makefile:

	cleanup

2004-03-15 15:48  giannozz

	* PW/Makefile:

	Modules/*.o => list of used modules

2004-03-15 11:07  giannozz

	* PH/set_irr.f90, PP/efg.f90, PW/cdiagh.f90, PW/cdiaghg.f90:

	Two instances of the same variable in efg.f90 (found by Antonio Tilocca)
	Cleanup, doc, workaround for yet another ifc8 bug, no more #ifdef ZHEGVX

2004-03-15 10:43  sbraccia

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/cgather_sym.f90, PW/divide_et_impera.f90,
	  PW/fft_scatter.f90, PW/gather.f90, PW/init_pool.f90,
	  PW/init_run.f90, PW/input.f90, PW/io_pot.f90, PW/para.f90,
	  PW/poolreduce.f90, PW/poolscatter.f90, PW/reduce.f90,
	  PW/scatter.f90, PW/setup.f90, PW/startup.f90, PWCOND/Makefile:

	General cleanup of the parallelization routines of PWscf: they have all been moved in the para.f90 file.
	All explicit includes of mpif.h replaced by USE include_parallel.
	C.S.

2004-03-15 10:23  degironc

	* D3/Makefile, PH/Makefile, PP/Makefile:

	added reference to routines called by neb_base

2004-03-15 08:59  degironc

	* PH/star_q.f90, PW/eqvect.f90:

	[no log message]

2004-03-15 01:08  cavazzon

	* CPV/Makefile, CPV/compute_scf.f90, CPV/cpr.f90, CPV/cprstart.f90,
	  CPV/input.f90, CPV/neb_routines.f90, CPV/stop_pw.f90,
	  Gamma/raman.f90, Modules/Makefile, Modules/check_stop.f90,
	  Modules/control_flags.f90, Modules/io_routines.f90,
	  Modules/neb_base.f90, Modules/neb_variables.f90,
	  PH/bcast_ph_input.f90, PH/phq_readin.f90, PH/phqscf.f90,
	  PH/solve_e.f90, PH/solve_linter.f90, PW/Makefile,
	  PW/compute_scf.f90, PW/electrons.f90, PW/input.f90,
	  PW/neb_routines.f90, PW/pwcom.f90:

	- Almost all neb routines moved to Modules
	- New module check_stop used by all codes
	  to check for exit conditions ( maximum time
	  or EXIT file )

2004-03-12 19:38  giannozz

	* D3/Makefile, D3/set_efsh.f90, PH/Makefile, PH/ef_shift.f90,
	  PH/star_q.f90, PP/Makefile, PP/local_dos.f90, PP/punch_plot.f90,
	  PW/interpolate.f90, PWCOND/Makefile, pwtools/Makefile:

	More postprocessing is working at Gamma point.
	A few ifort8 compilation glitches fixed. Manual updated.

2004-03-12 18:45  sbraccia

	* Modules/read_namelists.f90:

	Fixed a problem with startingpot default value in the case of nscf and phonon calculations.
	C.S.

2004-03-12 17:30  sbraccia

	* PW/input.f90:

	Fixed a problem with a rename of an already renamed variable (ntyp_ => ntyp => nsp :  ifort complains !!!).
	C.S.

2004-03-12 11:51  sbraccia

	* Modules/read_namelists.f90, PW/input.f90:

	Fixed a bug spotted by Konstantin Kudin:
	when a calculation was restarted wfc were always read by file
	(no matter whether the startingwfc keyword was set or not).
	The same was true for the potential.
	C.S.

2004-03-11 18:05  cavazzon

	* CPV/neb_routines.f90:

	All the machinery has been ported and the
	calculation = 'neb'
	works as for PW and FPMD

2004-03-11 18:03  cavazzon

	* CPV/Makefile, CPV/cpr.f90, CPV/cprstart.f90, CPV/restart.f90,
	  clib/cp.h:

	Porting of NEB to CP

2004-03-11 13:04  ballabio

	* make.sys.in:

	fixed problem with IFLAGS [Gerardo]

2004-03-10 17:20  profeta

	* PP/efg.f90:

	forget to multiply efg correction by kpoint weight

2004-03-09 19:01  sbraccia

	* D3/d3_exc.f90:

	Again bugs in call to mp_bcast when replaced poolbcast, one should check
	that npool /= 1 (previously done in poolbcast)

2004-03-09 18:43  profeta

	* PP/efg.f90, PW/ewald_dipole.f90, PW/io_pot.f90, PW/move_ions.f90,
	  PW/poolscatter.f90, PW/sum_band.f90:

	Bugs in ewald_dipole in parallel
	Check efg in parallel
	Bugs in call to mp_bcast when replaced poolbcast, one should check
	that npool /= 1 (previously done in poolbcast

2004-03-08 18:21  sbraccia

	* D3/Makefile, D3/d3_exc.f90, Gamma/Makefile, PH/Makefile,
	  PP/Makefile, PW/Makefile, PW/broadcast.f90, PW/io_pot.f90,
	  PW/move_ions.f90, PW/poolbcast.f90, PW/poolscatter.f90,
	  PW/reduce.f90, PW/sum_band.f90, PWCOND/Makefile:

	Calls to poolbcast replaced by calls to mp_bcast(*,MPI_COMM_ROW).
	PW/broadcast.f90 PW/poolbcast.f90 removed.
	C.S.

2004-03-08 16:38  profeta

	* PP/efg.f90, PW/ewald_dipole.f90, PW/init_paw_1.f90,
	  PW/init_paw_2.f90:

	cleaning and documentations added

2004-03-08 16:30  sbraccia

	* D3/davcio_drho2.f90, PH/davcio_drho.f90, PW/cdiagh.f90,
	  PW/cdiaghg.f90, PW/move_ions.f90, PW/poolscatter.f90,
	  PW/rdiaghg.f90, PW/reduce.f90, PW/scatter.f90, PW/sum_band.f90:

	Fixed an error in the call to mp_bcast (the correct communicator was missing).
	Explicit referencces to MPI_barrier replaced with calls to mp_barrier.
	Some cleanup.
	C.S.

2004-03-08 15:00  giannozz

	* Gamma/cg_readin.f90, pwtools/Makefile:

	- Missing object in pwtools/Makefile
	- yet another call to init_pool removed
	- Changelog and BUGS updated

2004-03-08 10:49  cavazzon

	* Modules/neb_base.f90:

	Oops!
	forgotten to add neb_base.f90

2004-03-08 09:43  cavazzon

	* D3/Makefile, Gamma/Makefile, Modules/Makefile,
	  Modules/cell_base.f90, Modules/io_routines.f90,
	  Modules/ions_base.f90, Modules/supercell.f90, PH/Makefile,
	  PP/Makefile, PW/Makefile, PW/clean_pw.f90, PW/input.f90,
	  PW/io_routines.f90, PW/neb_routines.f90, PW/pwcom.f90,
	  PW/pwscf.f90, PW/supercell.f90, PWCOND/Makefile,
	  pwtools/Makefile:

	- neb basic routines moved to Modules, to be shared among codes
	- basic cell and ionic variables moved frpm pwcom to
	  cell_base and ions_base .
	  cell_base modules and ions_base modules should be initialized
	  through the use of cell_base_init and ions_base_init, this after
	  having read the namelists and the cards .
	  IN THE FUTURE NONE OF THE VARIABLES IN THE BASIC MODULES SHOULD
	  BE SET IN THE MAIN CODES, BUT THROUGH A CALL TO SOME INIT
	  FUNCTIONS CONTAINED IN THE BASIC MODULE ITSELF.
	  THE IDEA IS THAT THE BASIC VARIABLES SHOULD BE USED AS
	  READ-ONLY. UNFORTUNATELY IN F90 THERE IS NO POSSIBILITY
	  TO SET A READ ONLY ATTRIBUTE.

2004-03-07 18:18  sbraccia

	* D3/davcio_drho2.f90, PH/davcio_drho.f90, PW/bfgs.f90,
	  PW/cdiagh.f90, PW/cdiaghg.f90, PW/dynamics.f90, PW/move_ions.f90,
	  PW/poolscatter.f90, PW/rdiaghg.f90, PW/sum_band.f90,
	  PW/vcsmd.f90:

	Calls to broadcast replaced by calls to mp_bcast everywhere.
	All kinds ionic dynamics are done by a single cpu (see move_ions.f90).
	After the ions are moved the new positions (and other information) are
	broadcasted to all other cpus.
	C.S.

2004-03-07 17:37  giannozz

	* CPV/cplib.f90, CPV/cprsub.f90, CPV/wrapper.f90,
	  Modules/smallbox.f90, PW/symz.f90:

	Cleanup in CPV: no more SSUM and CSUM
	Modules/smallbox.f90 should work again

2004-03-07 14:54  giannozz

	* PP/pw2casino.f90:

	outdir was read but not used

2004-03-07 14:47  giannozz

	* D3/Makefile, D3/allocate_d3.f90, D3/ch_psi_all2.f90,
	  D3/d0rhod2v.f90, D3/d3_exc.f90, D3/d3_init.f90, D3/d3_setup.f90,
	  D3/d3_symdyn.f90, D3/d3_symdynph.f90, D3/d3_valence.f90,
	  D3/d3dyn_cc.f90, D3/d3ionq.f90, D3/d3vrho.f90,
	  D3/davcio_drho2.f90, D3/dpsidpsidv.f90, D3/dpsidvdpsi.f90,
	  D3/dqrhod2v.f90, D3/drho_cc.f90, D3/drho_drc.f90, D3/dvdpsi.f90,
	  D3/dvscf.f90, D3/incdrhoscf2.f90, D3/qstar_d3.f90,
	  D3/set_efsh.f90, D3/solve_linter_d3.f90, D3/sym_def1.f90,
	  D3/symd0rho.f90, PH/Makefile, PH/addnlcc.f90, PH/addusddense.f90,
	  PH/addusdynmat.f90, PH/ch_psi_all.f90, PH/compute_alphasum.f90,
	  PH/compute_becsum.f90, PH/compute_dvloc.f90,
	  PH/compute_nldyn.f90, PH/d2ionq.f90, PH/davcio_drho.f90,
	  PH/dgradcorr.f90, PH/dielec.f90, PH/drhodv.f90, PH/drhodvloc.f90,
	  PH/drhodvnl.f90, PH/drhodvus.f90, PH/dv_of_drho.f90,
	  PH/dvanqq.f90, PH/dvpsi_e.f90, PH/dyndia.f90, PH/dynmat_us.f90,
	  PH/dynmatcc.f90, PH/ef_shift.f90, PH/h_psiq.f90,
	  PH/incdrhoscf.f90, PH/incdrhous.f90, PH/localdos.f90,
	  PH/newdq.f90, PH/phq_recover.f90, PH/punch_plot_e.f90,
	  PH/q2qstar_ph.f90, PH/random_matrix.f90, PH/set_drhoc.f90,
	  PH/set_irr_mode.f90, PH/set_irr_nosym.f90, PH/setlocq.f90,
	  PH/setup_dgc.f90, PH/setv.f90, PH/smallgq.f90,
	  PH/sym_and_write_zue.f90, PH/sym_def.f90, PH/symdvscf.f90,
	  PH/symdynph_gq.f90, PH/syme.f90, PH/zstar_eu.f90:

	Cleanup in PH/ and D3/, setv removed (please verify collateral damages!)

2004-03-07 14:33  profeta

	* PP/pw2casino.f90:

	swap loop over spin and k-points

2004-03-05 18:42  degironc

	* D3/d3_readin.f90, PP/start_postproc.f90:

	more init_pool calls removed (already contained in startup)

2004-03-05 12:33  profeta

	* PW/supercell.f90:

	workaround for ifc7.1 (use module cell_base instead of brilz)

2004-03-05 10:16  profeta

	* PP/Makefile, PP/efg.f90, PW/ewald_dipole.f90, PW/init_paw_1.f90,
	  PW/init_paw_2.f90:

	lots of cleaning, explicit variable in use modules
	bug solved in efg

2004-03-04 11:27  giannozz

	* TODO, PP/punch_plot.f90:

	Excessive check in PP/punch_plot.f90 if gamma_only (Antonio Tilocca)
	PLEASE VERIFY!

2004-03-03 12:38  dalcorso

	* pwtools/matdyn.f90:

	More q points allowed nqx=500.

2004-03-03 12:31  degironc

	* Modules/read_namelists.f90, pwtools/ev.f:

	documentation about default value for etot_conv_thr and forc_conv_thr
	was wrong in INPUT_PW.
	more (100) energy-volume points allowed in ev.f

2004-03-01 18:13  ballabio

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PWCOND/Makefile:

	removed dependencies on ../PW/neb_variables.o [Gerardo]

2004-03-01 17:55  profeta

	* PP/efg.f90:

	Calculation of NMR parameters Cq and eta in efg
	some output formatting

2004-03-01 16:38  profeta

	* Modules/fft_base.f90, PP/Makefile:

	misplaced 'implicit none' makes ifc stop
	PP Makefile did not find neb object

2004-03-01 00:30  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/modules.f90, CPV/para.f90,
	  Modules/Makefile, Modules/fft_base.f90, Modules/ions_base.f90,
	  Modules/minimization_routines.f90, Modules/neb_variables.f90,
	  Modules/read_namelists.f90, Modules/recvec.f90,
	  Modules/smallbox.f90, Modules/wave_base.f90, PW/Makefile,
	  PW/minimization_routines.f90, PW/neb_variables.f90, PW/pwcom.f90,
	  flib/ngnr_set.f90:

	- More merging between CP and FPMD
	- some common NEB modules moved to Modules directory
	  others NEB modules will be moved soon

2004-02-28 13:35  kokalj

	* pwtools/pwo2xsf.sh:

	fixing bug for AWK test: "==" -> "=" in "if test"

2004-02-27 16:03  ballabio

	* Makefile:

	added link to PWNC/pw.x [Gerardo]

2004-02-27 11:33  sbraccia

	* pwtools/: path_int.f90, path_int.sh:

	Fixed a serious bug in the path interpolator (spotted by Nicola Bonini)
	C.S.

2004-02-27 10:08  giannozz

	* Modules/fft_scalar.f90:

	Fix for Altrix FFT

2004-02-26 17:46  ballabio

	* PH/Makefile:

	[no log message]

2004-02-26 17:26  giannozz

	* INSTALL, configure.old, CPV/cplib.f90, CPV/cpr.f90,
	  CPV/restart.f90, Modules/fft_scalar.f90, clib/cp.h,
	  clib/memstat.c, flib/indxg2l.f, flib/indxg2p.f, flib/indxl2g.f,
	  flib/infog1l.f, flib/infog2l.f, flib/npreroc.f,
	  include/machine.h.README, install/Make.origin:

	Support for SGI Altix (Martin Hilgeman) - see cpdocs/ChangeLog

2004-02-26 16:33  profeta

	* PP/Makefile, PW/Makefile, PW/paw.f90, PW/pwcom.f90:

	start adding a paw module outside pwcom

2004-02-26 16:23  sbraccia

	* Gamma/Makefile, PW/Makefile, PW/clean_pw.f90,
	  PW/constraints_module.f90, PW/input.f90, PW/move_ions.f90,
	  D3/Makefile, PP/Makefile, PWCOND/Makefile:

	oops ...

2004-02-26 15:15  ballabio

	* makedeps.sh:

	cleanup, added check for unresolved dependencies [Gerardo]

2004-02-26 14:48  sbraccia

	* Gamma/Makefile, PW/Makefile:

	Fiexd some error added in the PW/Makefile during my previous commit.
	C.S.

2004-02-26 12:51  sbraccia

	* PW/constrain.f90:

	This file is no longer needed.
	C.S.

2004-02-26 12:50  sbraccia

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/parser.f90, Modules/read_cards.f90,
	  Modules/read_namelists.f90, PW/Makefile, PW/add_vuspsi.f90,
	  PW/clean_pw.f90, PW/dynamics.f90, PW/input.f90, PW/move_ions.f90,
	  PW/update_pot.f90, PW/vcsmd.f90:

	wfc-extrapolation extended to all "relax" algorithms.
	Molecular Dynamics based algorithm partially rewritten:
	both standard and damped MD are performed with the velocity Verlet
	scheme (with or without constrains).
	Renata's subroutines are used only in the framework of variable
	cell.
	constrain.f90 file is no longer needed: cnstrains are set in the
	input file (see CONSTRAINTS CARD) with the same input format used
	in FPMD. An arbitrary number of constrains can be set.
	In the case of constrained relaxation the damped MD
	algorithm is used instead of BFGS.
	When restart_mode = "from_scratch" many reastr files are removed
	from the scratch directory.
	Several other modifications here and there. (C.S.)

2004-02-26 11:24  profeta

	* D3/Makefile, PH/Makefile, PH/setv.f90, PP/Makefile, PW/Makefile,
	  PW/setv.f90, PW/symz.f90:

	remove setv use in symz

2004-02-26 10:05  profeta

	* D3/Makefile:

	forget to update D3/Makefile
	MP

2004-02-25 16:20  profeta

	* PH/Makefile, PH/setv.f90, PH/symz.f90, PP/Makefile, PP/efg.f90,
	  PW/Makefile, PW/ewald_dipole.f90, PW/init_paw_1.f90,
	  PW/init_paw_2.f90, PW/pwcom.f90, PW/setv.f90, PW/symz.f90:

	Add electric field gradient calculation with PAW reconstruction
	move setv and symz to PW
	MP

2004-02-25 15:13  giannozz

	* PH/phq_readin.f90, clib/Makefile, clib/c_getenv.c, clib/cp.h:

	Oops, first newly introduced bug (phonon+pools again) fixed...

2004-02-25 14:59  ballabio

	* configure, configure.ac:

	Added --disable-parallel and --disable-shared flags [Gerardo]

2004-02-25 12:44  cavazzon

	* CPV/cpr.f90, Modules/Makefile, Modules/wave_base.f90,
	  flib/Makefile, flib/rranf.f90:

	merging FPMD/CPV added common subroutines
	( wave_steepest wave_verlet )
	to advance wave_functions .
	FPMD friction parameter for electrons gdelt substituted with frice

2004-02-24 18:51  kokalj

	* README:

	correcting text for GUI

2004-02-24 17:41  kokalj

	* GUI/: PWgui/ChangeLog, Guib/ChangeLog:

	[no log message]

2004-02-24 17:38  kokalj

	* GUI/PWgui/external/src/Makefile:

	adding install: target

2004-02-24 17:37  kokalj

	* GUI/PWgui/Makefile:

	improving package tarball targets

2004-02-24 17:36  kokalj

	* GUI/PWgui/INSTALL:

	adding http for Tcl-related software

2004-02-24 17:35  kokalj

	* GUI/Guib/doc/diagrams/: GUI-new.dia, GUI-new.png, Guib.dia,
	  Guib.png, myGUI.dia, myGUI.png, topng.sh:

	src-guib/ --> src/ change

2004-02-24 17:35  kokalj

	* GUI/: Guib/doc/diagrams/Makefile, PWgui/external/lib/Makefile:

	[no log message]

2004-02-24 17:35  kokalj

	* GUI/Guib/doc/diagrams/: PWgui.dia, PWgui.png, TkPWscf.dia,
	  TkPWscf.png:

	renaming TkPWscf.* --> PWgui.*

2004-02-24 17:33  kokalj

	* GUI/Guib/doc/usage.tex:

	udapting to src-guib/ to src/ change

2004-02-24 17:33  kokalj

	* GUI/Guib/doc/robodoc.rc:

	changing --src to ../src

2004-02-24 17:32  kokalj

	* GUI/Guib/doc/Makefile:

	simple enhancement

2004-02-24 17:32  kokalj

	* GUI/Guib/guib.tcl:

	setting DEBUG/DEBUG_FILE to zero

2004-02-24 17:31  kokalj

	* GUI/Guib/README:

	typo

2004-02-24 11:48  tag pw-2-0

2004-02-24 11:48  ballabio

	* Makefile:

	directory for cp.x is called CPV, not CP [Gerardo]

2004-02-24 11:41  ballabio

	* configure, configure.ac:

	small bug fix for alpha [Gerardo]

2004-02-24 11:19  giannozz

	* Makefile:

	uffa...

2004-02-24 10:48  giannozz

	* Makefile:

	Makefile goes bananas (again) if some directories are missing

2004-02-23 13:30  kokalj

	* GUI/PWgui/lib/: .dont-delete:

	[no log message]

2004-02-23 13:27  kokalj

	* GUI/PWgui/lib/.dont-delete:

	adding don't delete file, so that lib/ directory will
	be always checked-out

2004-02-23 13:19  kokalj

	* GUI/PWgui/src/: Makefile, init.itcl, tclIndex:

	[no log message]

2004-02-23 13:19  kokalj

	* GUI/PWgui/src/settings.itcl:

	changing buttonbox labels for settings dialog

2004-02-23 13:16  kokalj

	* GUI/PWgui/src/pwscf.itcl:

	adding initilaization (source init.itcl)

2004-02-23 13:15  kokalj

	* GUI/PWgui/src/modutil.itcl:

	small change

2004-02-23 13:15  kokalj

	* GUI/PWgui/src/view.itcl:

	adding defaultPager (i.e. PWgui pager)

2004-02-23 13:14  kokalj

	* GUI/PWgui/src/edit.itcl:

	adding defaultEditor (i.e. PWgui editor)

2004-02-23 13:13  kokalj

	* GUI/PWgui/make.usage:

	more target descriptions

2004-02-23 13:13  kokalj

	* GUI/PWgui/pwgui.bat:

	improving file

2004-02-23 13:12  kokalj

	* GUI/PWgui/pwgui.settings:

	adapting file for non-unix OSes

2004-02-23 13:11  kokalj

	* GUI/PWgui/: pwgui.tcl, pwgui:

	[no log message]

2004-02-23 13:08  kokalj

	* GUI/: Guib/ChangeLog, PWgui/Makefile, PWgui/INSTALL.cvs,
	  PWgui/ChangeLog, PWgui/NEWS, PWgui/VERSION:

	[no log message]

2004-02-23 13:05  kokalj

	* GUI/Guib/lib/tclUtils.tcl:

	fixing ::tclu::_tempFile_name routine to work also for MS-Windows

2004-02-23 13:04  kokalj

	* GUI/Guib/: Makefile, guib.bat:

	adding guib.bat file

2004-02-23 10:36  sbraccia

	* Modules/bfgs_module.f90:

	Last minute fix plus some minor improvements.
	C.S.

2004-02-23 10:32  kokalj

	* GUI/Guib/lib/tclUtils.tcl:

	improving tempFile routine for Windows OS

2004-02-23 10:31  kokalj

	* GUI/Guib/: ChangeLog, NEWS, VERSION:

	[no log message]

2004-02-20 16:40  giannozz

	* pwtools/dynmat.f90.verynew:

	[no log message]

2004-02-20 16:33  kokalj

	* GUI/PWgui/: .activeTclpwgui, .batpwgui, .settingspwgui,
	  .tclpwgui:

	[no log message]

2004-02-20 16:21  kokalj

	* Makefile, README, release.sh:

	adapting to tkpwscf --> pwgui change

2004-02-20 16:15  kokalj

	* GUI/: Guib/INSTALL, Guib/src/gui.itcl, Guib/doc/usage.tex,
	  Makefile, README:

	adapting to tkpwscf --> pwgui change

2004-02-20 16:12  kokalj

	* GUI/PWgui/: .activeTclpwgui, .batpwgui, .settingspwgui,
	  .tclpwgui, AUTHORS, BUGS, COPYING, COPYRIGHT, ChangeLog, INSTALL,
	  INSTALL.cvs, Makefile, NEWS, README, README.developer, THANKS,
	  TODO, VERSION, header.tcl, make.usage, pwgui, pwgui.activeTcl,
	  pwgui.bat, pwgui.settings, pwgui.tcl, pwgui_reformat,
	  pwgui_reformat.tcl, doc/pwdocs/Makefile, doc/pwdocs/htmlise.sh,
	  examples/d3/sample.d3.inp, examples/ph/sample.ph.inp,
	  examples/pp/psi2.pp.inp, examples/projwfc/sample.pr.inp,
	  examples/pw/Si_band.pw.inp, examples/pw/Si_scf.pw.inp,
	  examples/pw/al.band.in, examples/pw/al.scf.in,
	  examples/pw/atomic_positions, examples/pw/cu.band.in,
	  examples/pw/cu.scf.in, examples/pw/k_points,
	  examples/pw/ni.band.in, examples/pw/ni.scf.in,
	  examples/pw/occupations+neb.pw.inp, examples/pw/sample.pw.inp,
	  examples/pw/si.band.in, examples/pw/si.scf.in,
	  external/lib/license.terms, external/src/Makefile,
	  external/src/license.terms, external/src/tkAppInit.c,
	  images/license.terms, images/pwgui-logo-small.gif,
	  images/pwgui-logo-small.gif.old, images/pwscf3.gif,
	  modules/d3/commands.tcl, modules/d3/d3-event.tcl,
	  modules/d3/d3-help.tcl, modules/d3/d3.tcl,
	  modules/ph/commands.tcl, modules/ph/ph-event.tcl,
	  modules/ph/ph-help.tcl, modules/ph/ph.tcl,
	  modules/pp/commands.tcl, modules/pp/pp-event.tcl,
	  modules/pp/pp-help.tcl, modules/pp/pp.tcl,
	  modules/projwfc/projwfc-help.tcl, modules/projwfc/projwfc.tcl,
	  modules/pw/commands.tcl, modules/pw/pw-event.tcl,
	  modules/pw/pw-help.tcl, modules/pw/pw.tcl, src/aindex,
	  src/auxil.itcl, src/edit.itcl, src/menustate.itcl,
	  src/modutil.itcl, src/pwscf.itcl, src/pwscf.theme,
	  src/settings.itcl, src/tclIndex, src/view.itcl, sys_utils/bin.sh,
	  sys_utils/make.guib, sys_utils/repack.sh, tests/run-tests.sh:

	adapting to tkpwscf --> pwgui change

2004-02-20 10:56  giannozz

	* README, release.sh, clib/cp.h:

	More last-minute fixes...

2004-02-19 21:10  kokalj

	* Makefile:

	1. adding tar-gui target
	2. veryclean target: cleaning also the GUI

2004-02-19 21:04  kokalj

	* GUI/Makefile:

	adding file

2004-02-19 17:06  ballabio

	* configure, configure.ac:

	added settings for alpha machines, contributed by Guido Roma [Gerardo]

2004-02-19 15:51  ballabio

	* configure, configure.ac:

	bug fixed, couldn't find blas sometimes [Gerardo]

2004-02-19 14:42  profeta

	* PP/pw2casino.f90:

	bug in for nspin=2

2004-02-19 14:01  giannozz

	* Makefile:

	[no log message]

2004-02-19 12:18  kokalj

	* GUI/Guib/: guib.theme, init.tcl, src/build.itcl, src/gui.itcl:

	udapting the GUI to work with:
	   Tcl/Tk 8.4
	   Itcl/Itk 3.2
	   Iwidgets 4.0

2004-02-19 11:48  giannozz

	* PP/pw2casino.f90:

	[no log message]

2004-02-19 11:11  giannozz

	* PP/: chdens.f90, pw2casino.f90:

	More last-minute fixes - tag pw-2-0 added

2004-02-19 10:16  profeta

	* PP/pw2casino.f90:

	write to stdout.
	move reduce out of the loop
	change PARA in __PARA

2004-02-18 19:33  giannozz

	* PP/pw2casino.f90:

	pw2casino (pw2muchcasino?)

2004-02-18 18:00  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprstart.f90, CPV/cprsub.f90,
	  CPV/input.f90, CPV/restart.f90, Modules/ions_base.f90:

	more support for NEB and meta dynamics.
	I do not include NEB dynamics modules in this version,
	because I want to wait for common neb modules,
	to be built as soon as this version has been released

2004-02-18 17:38  profeta

	* PP/pw2casino.f90:

	first parallel version (npool=1)
	produce one file by processor

2004-02-18 17:14  giannozz

	* TODO, PW/bp_c_phase.f90, PW/setup.f90:

	Another fix for Berry Phase calculation with low symmetry

2004-02-18 15:28  giannozz

	* README, PW/bp_c_phase.f90, PW/input.f90:

	Berry-Phase calculation in parallel fixed for npool = 1,
	program stops if npool > 1.  Misc doc updates

2004-02-18 14:22  sbraccia

	* pwtools/path_int.f90:

	Yet another bug fixed in the path interpolator.
	C.S.

2004-02-18 12:29  kokalj

	* GUI/: README, Guib/AUTHORS, Guib/BUGS, Guib/COPYING,
	  Guib/COPYRIGHT, Guib/ChangeLog, Guib/INSTALL, Guib/Makefile,
	  Guib/NEWS, Guib/README, Guib/THANKS, Guib/TODO, Guib/VERSION,
	  Guib/guib, Guib/guib.tcl, Guib/guib.theme, Guib/header.tcl,
	  Guib/init.tcl, Guib/pkgIndex.tcl, Guib/doc/Makefile,
	  Guib/doc/robodoc.rc, Guib/doc/usage.tex,
	  Guib/doc/diagrams/GUI-new.dia, Guib/doc/diagrams/GUI-new.png,
	  Guib/doc/diagrams/GUI-open.dia, Guib/doc/diagrams/GUI-open.png,
	  Guib/doc/diagrams/Guib.dia, Guib/doc/diagrams/Guib.png,
	  Guib/doc/diagrams/TkPWscf.dia, Guib/doc/diagrams/TkPWscf.png,
	  Guib/doc/diagrams/myGUI.dia, Guib/doc/diagrams/myGUI.png,
	  Guib/doc/diagrams/myGUI.tcl, Guib/doc/diagrams/parsing.dia,
	  Guib/doc/diagrams/parsing.png, Guib/doc/diagrams/topng.sh,
	  Guib/examples/README, Guib/examples/dimension.inp,
	  Guib/examples/dimension.tcl, Guib/examples/run.sh,
	  Guib/examples/test0.inp, Guib/examples/test0.tcl,
	  Guib/examples/test1.inp, Guib/examples/test1.tcl,
	  Guib/examples/test2.inp, Guib/examples/test2.tcl,
	  Guib/examples/validate.inp, Guib/examples/validate.tcl,
	  Guib/external/lib/pkgIndex.tcl,
	  Guib/external/lib/cmdline/cmdline.tcl,
	  Guib/external/lib/cmdline/license.terms,
	  Guib/external/lib/cmdline/pkgIndex.tcl,
	  Guib/external/lib/cmdline/typedCmdline.tcl,
	  Guib/images/exit2.gif, Guib/images/fileclose2.gif,
	  Guib/images/filenew2.gif, Guib/images/fileopen2.gif,
	  Guib/images/filesave2.gif, Guib/images/filesaveas2.gif,
	  Guib/images/icons.license, Guib/lib/aindex, Guib/lib/header.tcl,
	  Guib/lib/pkgIndex.tcl, Guib/lib/tclIndex, Guib/lib/tclUtils.tcl,
	  Guib/lib/tkUtils.tcl, Guib/src/aindex, Guib/src/build.itcl,
	  Guib/src/dialogshell.itcl, Guib/src/gui.itcl,
	  Guib/src/guib-keywords-def.tcl, Guib/src/guib.itcl,
	  Guib/src/guibKeywords.itcl, Guib/src/help.itcl,
	  Guib/src/keywidgets.itcl, Guib/src/keywordObj.itcl,
	  Guib/src/moduleObj.itcl, Guib/src/open.itcl,
	  Guib/src/optionmenuhelp.itcl, Guib/src/radioboxhelp.itcl,
	  Guib/src/save.itcl, Guib/src/spininthelp.itcl,
	  Guib/src/table.itcl, Guib/src/tclIndex, Guib/src/text.itcl,
	  Guib/src/validate.itcl, Guib/src/widgets.itcl,
	  Guib/sys_utils/mgt.tabs, Guib/sys_utils/repack.sh:

	adding the GUI (to start with see the GUI/README file)

2004-02-18 11:35  ballabio

	* configure, configure.ac, make.sys.in:

	removed TOPDIR from make.sys, using .. instead [Gerardo]

2004-02-18 10:28  ballabio

	* configure, configure.ac:

	bug fix [Gerardo]

2004-02-17 15:28  ballabio

	* configure, configure.ac:

	small bug fixes [Gerardo]

2004-02-17 10:53  cavazzon

	* CPV/: cplib.f90, cpr.f90, cprstart.f90, input.f90, modules.f90,
	  read_pseudo.f90, restart.f90:

	outdir added to the path of the output and restart files,
	pseudopotential reading moved out from cprmain subroutine

2004-02-17 10:44  giannozz

	* TODO, PW/constrain.f90, PW/move_ions.f90, pwtools/dist.f:

	check_constrain weirdness fixed - maybe
	Misc documentation updates
	F77 syntax for dist.f

2004-02-16 20:00  ballabio

	* configure, configure.ac:

	This may be the final version for 2.0 [Gerardo]

2004-02-16 18:30  ballabio

	* INSTALL, configure, configure.ac:

	small enhancements [Gerardo]

2004-02-16 18:02  sbraccia

	* pwtools/path_int.sh:

	Fixed a bug in the path interpolator script (path_int.sh).
	C.S.

2004-02-16 12:47  dalcorso

	* PW/input.f90:

	Use only potential mixing with dipfield.

2004-02-16 11:58  ballabio

	* configure:

	forgot to run autoconf [Gerardo]

2004-02-16 10:52  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cpr_mod.f90, CPV/cprstart.f90,
	  CPV/cprsub.f90, CPV/crayfft.f90, CPV/fft_cp.f90, CPV/modules.f90,
	  CPV/para.f90, CPV/read_pseudo.f90, Modules/readpseudo.f90,
	  Modules/recvec.f90, Modules/wavefunctions.f90, clib/memstat.c:

	deallocation statements added to CPV
	for neb like dynamics

2004-02-15 11:29  cavazzon

	* CPV/: Makefile, cpr.f90, cprstart.f90, input.f90:

	CPV has been "subroutinized" like PW and FPMD, and is ready for
	NEB like dynamics.
	Note that iosys has been split into two subroutines:
	read_input_file and iosys.
	The first routine simply calls read_namelists
	and read_cards to read in the stdin, and do not perform any initialization.
	The second (iosys) do not read anythings but copy values from input_parameters
	to local variables.
	read_input_file is called from the new main program.
	iosys is called from the cprmain subroutine (the old main program).
	This is the scheme of FPMD.

2004-02-15 11:15  cavazzon

	* Modules/read_namelists.f90:

	some more checks when allocating large arrays,
	to know why and where the program stops
	when there is no more memory

2004-02-14 09:39  degironc

	* D3/Makefile, Gamma/Makefile, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/electrons.f90, PW/input.f90, PW/ns_adj.f90,
	  PW/pwcom.f90, PWCOND/Makefile:

	14 feb 2004  LDA+U: variable starting_ns_eigenvalue has been added in
	             order to allow to specify how to fill starting ns occupation
	             matrices. Useful when the default choice take the wrong
	             (or not desired) path.

2004-02-14 07:21  kokalj

	* pwtools/pwi2xsf.sh:

	Fixing small bug for A,B,C,COSAB,COSAC,COSBC.

2004-02-13 21:51  degironc

	* PW/: force_hub.f90, forces.f90, stres_hub.f90:

	as gamma_only is not working yet with LDA+U in forces and stress
	a call to errore is added to prevent mis-use.

2004-02-13 16:27  giannozz

	* README.configure:

	Examples and documentation updated

2004-02-13 16:07  ballabio

	* INSTALL, configure.ac:

	rewritten installation instructions [Gerardo]

2004-02-13 14:20  kokalj

	* pwtools/pwo2xsf.sh:

	Updated pwo2xsf utility, fully up-to-date with PW2.0.

2004-02-13 14:20  kokalj

	* pwtools/: pwi2xsf.f, pwi2xsf.sh, pwi2xsf_new.f, pwi2xsflib.f:

	Updated pwi2xsf utility, fully up-to-date with PW2.0.

2004-02-13 14:18  kokalj

	* pwtools/Makefile:

	Adapting Makefile to fit the updated pwi2xsf.x (PW-input to XSF conversion) utility.

2004-02-12 18:18  giannozz

	* PP/bands.f90:

	Minor things

	Tuesday morning the package will be released - please check that
	everything is in good standing

2004-02-12 15:29  dalcorso

	* Modules/pseudo_types.f90:

	Small bug fix.

2004-02-12 13:30  fabris

	* PW/: new_ns.f90, orthoatwfc.f90, wfcinit.f90, vhpsi.f90,
	  forces.f90:

	Implementation of LDA+U gamma_only calculations.

2004-02-11 18:48  fabris

	* PW/summary.f90:

	format was causing trouble with 'f' projectors

2004-02-11 17:44  sbraccia

	* Modules/bfgs_module.f90:

	The minimization procedure has been refined in order to be more robust when
	the starting configuration is close to the minimum: if (and only in this case) the trust_radius
	is too long and the step fails to reduce the energy (Enew>Eold), then the new trust_radius is
	obtained with a quadratic interpolation (line search) that is guaranteed to have a good minimum
	(previously the trust_radius was simply halved).
	For test purpose a precompiler flag (OLDRECIPE) can be defined in the file.
	C.S.

2004-02-11 15:12  profeta

	* PP/pw2casino.f90:

	Correct nonlocal energy in US case
	MP

2004-02-11 13:38  fabris

	* PW/new_ns.f90:

	Bug fix.

2004-02-11 13:30  profeta

	* PP/pw2casino.f90:

	Formatted output for G vect
	correct nonlocal energy, now correct in NC case
	MP

2004-02-11 11:50  ballabio

	* configure, configure.ac, make.sys.in:

	using LIBDIRS to search for libraries [Gerardo]

2004-02-11 11:10  giannozz

	* flib/: lapack.f, lapack_mkl.f:

	Oops, zgesvd added where it is needed (together with many other routines)
	and removed where it is not

2004-02-10 15:54  giannozz

	* PW/update_pot.f90, flib/lapack_mkl.f, include/machine.h:

	Singular Value Decomposition used in extrapolate_wfc:
	avoids numerical instabilities (Paolo Cazzato)

2004-02-10 09:43  sbraccia

	* PW/: rotate_wfc.f90, rotate_wfc_gamma.f90:

	Cleanup. Only one auxiliary vector is used (instead of both hpsi and spsi).
	C.S.

2004-02-09 15:25  sbraccia

	* pwtools/: path_int.f90, path_int.sh:

	Fixed a couple of bugs in the path interpolator tool. Manual updated.
	C.S.

2004-02-09 14:19  profeta

	* PP/pw2casino.f90:

	correct kinetic energy (tpiba2 was inside the k-loop)
	write out only G vectors uses to describe wvfn
	still not working in parallel
	MP

2004-02-09 12:15  sbraccia

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  PW/input.f90, PW/move_ions.f90, PW/pwcom.f90:

	The new bfgs minimization scheme is now the default.
	To use the old scheme the keyword ion_dynamics must be set to "old-bfgs".
	C.S.

2004-02-09 12:09  giannozz

	* pwtools/Makefile:

	compilation problem

2004-02-07 12:38  giannozz

	* PW/sum_band.f90:

	argh, there was one occurrence of IMAG instead of DIMAG ...

2004-02-06 19:29  sbraccia

	* pwtools/path_int.sh:

	Fixed a small bug in the shell script.
	C.S.

2004-02-06 14:36  ballabio

	* pwtools/Makefile:

	[no log message]

2004-02-06 13:06  sbraccia

	* pwtools/Makefile:

	again a problem in the Makefile
	C.S.

2004-02-06 13:02  sbraccia

	* Makefile:

	oops ... now it works
	C.S.

2004-02-06 12:59  sbraccia

	* Makefile, Modules/Makefile, Modules/splinelib.f90,
	  pwtools/Makefile, pwtools/path_int.f90, pwtools/path_int.sh:

	Added a tool to generate a new path (what is actually generated is the restart file) starting from an old one. The new path is obtained through interpolation (cubic splines). The new path can be discretized with a different number of images (this is its main pourpose), images are equispaced and the interpolation can be also performed on a subsection of the old path. A self explanatory shell script is also included: it permits an easier manipulation of the input file.
	C.S.

2004-02-06 12:39  sbraccia

	* Modules/bfgs_module.f90:

	Fixed a couple of bugs affecting the "reset bfgs" procedure.
	C.S.

2004-02-06 12:08  giannozz

	* PP/pw2casino.f90:

	Examples updated (again), pw2casino first fix

2004-02-06 11:37  giannozz

	* TODO, configure.old, PW/bfgs.f90:

	Examples updated, misc

2004-02-06 11:12  degironc

	* PW/stress.f90:

	atomic unit -> ryd/bohr^3 when printing out stress tensor

2004-02-05 22:13  giannozz

	* Gamma/README:

	Updated

2004-02-05 18:23  giannozz

	* include/machine.h, include/machine.h.README, install/Make.hp,
	  install/Make.hpMPI:

	Support for HP

2004-02-05 18:22  giannozz

	* Modules/: basic_algebra_routines.f90, bfgs_module.f90:

	Tabs

2004-02-05 17:41  giannozz

	* PW/: c_bands.f90, mix_rho.f90, neb_routines.f90:

	cleanup: tabulators, "oppenhimer"!!!

2004-02-05 14:18  cavazzon

	* Modules/ptoolkit.f90:

	Cray compiler directive
	!$DIRS ...
	enclosed in
	#ifdef __CRAY
	#endif

2004-02-04 16:34  sbraccia

	* PW/io_routines.f90:

	Fixed a bug in the parallel version of neb (a bcast was missing).
	This and a previos bug have also been fixed in the "FPMD" version of neb routines.
	C.S.

2004-02-04 12:06  degironc

	* D3/: allocate_d3.f90, ch_psi_all2.f90, d0rhod2v.f90, d2mxc.f90,
	  d3_exc.f90, d3_init.f90, d3_setup.f90, d3_summary.f90,
	  d3_symdyn.f90, d3_symdynph.f90, d3_valence.f90, d3dyn_cc.f90,
	  d3ionq.f90, d3matrix.f90, d3toten.f90, d3vrho.f90, dpsi_corr.f90,
	  dpsidpsidv.f90, dpsidvdpsi.f90, dqrhod2v.f90, drho_cc.f90,
	  drho_drc.f90, drhod2v.f90, dvscf.f90, gen_dpdvp.f90,
	  incdrhoscf2.f90, psymd0rho.f90, qstar_d3.f90,
	  rotate_and_add_d3.f90, set_d3irr.f90, set_efsh.f90,
	  set_sym_irr.f90, sgama_d3.f90, solve_linter_d3.f90, sym_def1.f90,
	  symd0rho.f90, trntnsc_3.f90, w_1gauss.f90, write_aux.f90,
	  write_d3dyn.f90, writed3dyn_5.f90:

	4 feb 2004    D3 code updated to work with max_irr_dim != 3, some cleanup.
	              D3example added. (Gernot Deinzer)

2004-02-03 15:55  giannozz

	* Makefile:

	More minor corrections

2004-02-03 15:12  sbraccia

	* Makefile:

	make tar was not working.
	C.S.

2004-02-03 14:50  giannozz

	* PW/output_tau.f90:

	printout of cell parameters corrected in PW/output_tau.f90,
	failed example replaced

	Qualcuno puo' girare l'esempio 12 e sostituirlo? a me non gira

2004-02-03 13:20  giannozz

	* PWCOND/Makefile:

	oops..

2004-02-03 13:08  giannozz

	* INSTALL, README, TODO, configure, configure.new, configure.old,
	  make.sys.in, D3/Makefile, Modules/version.f90, PH/Makefile,
	  PP/Makefile, PW/dynamics.f90, PW/move_ions.f90, PW/summary.f90,
	  include/machine.h.README:

	Documentation updated, some changes to output in dynamics and in summary
	as requested by Tone - examples updated with the exception of example12
	(please verify if they are ok). Version number updated to 2.0 .
	configure => configure.old, configure.new => configure

2004-02-03 12:57  ballabio

	* Gamma/Makefile:

	fixed double linking of ../PW/cdiaghg.o [Gerardo]

2004-02-03 12:25  profeta

	* PP/: Makefile, pw2casino.f90:

	Add pw2casino. A postprocess to create a file suitable for casino QMC software.
	the input nameliste should only contains prefix :
	&inputpp; prefix='al'  /
	this version should only work in serial, parallel not tested.
	MP

2004-02-03 11:22  sbraccia

	* PW/neb_routines.f90:

	Cleanup. Added some experimental stuff (not compiled if __LANGEVIN is not definded).
	C.S.

2004-02-02 18:42  sbraccia

	* Modules/Makefile:

	miscellany removed from the Makefile
	C.S.

2004-02-02 18:35  sbraccia

	* Modules/miscellany.f90:

	Cleanup: Module miscellany is no longer needed.
	C.S.

2004-02-02 18:31  sbraccia

	* PW/: input.f90, io_routines.f90, minimization_routines.f90,
	  neb_routines.f90, supercell.f90:

	Removed all references to miscellany. basic_algebra_routines and parser are used instead.
	C.S.

2004-02-02 18:25  sbraccia

	* CPV/restart.f90, Modules/parser.f90, Modules/read_cards.f90:

	Function int_to_char moved from miscellany to parser.
	C.S.

2004-02-02 11:56  degironc

	* PP/projwfc.f90:

	[no log message]

2004-02-02 11:38  sbraccia

	* PW/: c_bands.f90, sum_band.f90:

	Cleanup. Restored the check on diagonalization also at the first scf iteration.
	C.S.

2004-02-02 09:31  degironc

	* PP/projwfc.f90:

	 2 feb 2004   projwfc works also with the gamma_only version (Guido Fratesi)

2004-01-30 11:08  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PWCOND/Makefile, pwtools/Makefile:

	Makefiles updated after last changes

2004-01-29 18:10  giannozz

	* PW/: memory.f90, vcsubs.f90:

	Changes in "memory" and in "vcsubs" to prevent overflow

2004-01-29 13:32  sbraccia

	* Modules/basic_algebra_routines.f90:

	Changed some variable names to avoid ifc 8.0 complainings.
	C.S.

2004-01-29 11:03  sbraccia

	* Modules/basic_algebra_routines.f90:

	Fixed a serious bug in module basic_algebra_routines.
	Now the "BLAS" version of this module should work fine on sp4 too.
	C.S.

2004-01-28 19:14  giannozz

	* Makefile, Modules/basic_algebra_routines.f90,
	  Modules/read_cards.f90, Modules/recvec.f90,
	  Modules/wavefunctions.f90, PP/chdens.f90, PW/h_psi.f90,
	  PW/pwcom.f90, PW/s_psi.f90:

	Workaround in PW/h_psi.f90 for ifc v.8 (works, only pwcond doesn't)
	Manual updated, example6/run_example modified to prevent SP4 weirdness
	Empty workspace module removed. Misc cleanup.

2004-01-28 16:56  sbraccia

	* PW/: io_routines.f90, neb_routines.f90:

	Fixed a bug in the restart mode of neb.
	C.S.

2004-01-28 10:41  dalcorso

	* PWCOND/do_cond.f90:

	Again ionode_id correction.

2004-01-28 10:36  ballabio

	* flib/Makefile:

	flib.a is only redone when necessary [Gerardo]

2004-01-27 18:08  sbraccia

	* PW/electrons.f90:

	Call to the flush subroutine back to its place: too many "nonlocal effects" in using cpflush().
	Modification postponed.
	Note that the actual version is not compiled on sp4 when the -DFLUSH precompiler flag is used.
	stdout is flushed instead of unit 6.
	C.S.

2004-01-27 17:57  cavazzon

	* CPV/restart.f90, Modules/parser.f90, flib/Makefile,
	  flib/itoa.f90:

	function cpitoa replaced by int_to_char everywhere

2004-01-27 17:22  dalcorso

	* PWCOND/do_cond.f90:

	ionode_id defined from io_global. Fix for parallel case.

2004-01-27 16:33  sbraccia

	* PW/electrons.f90:

	The flush subroutine (Vax Lib) gives problems on sp4. Substituted with our cpflush().
	C.S.

2004-01-27 15:59  sbraccia

	* Gamma/solve_ph.f90:

	A missing IMPLICIT NONE that was causing problems:
	indeed iunres was not declared and unit -1073746312 was thus opened !!!
	C.S.

2004-01-27 15:41  giannozz

	* PW/: dynamics.f90, electrons.f90, neb_routines.f90:

	Rather serious bug in PW/dynamics.f90 (subroutine thermalize) fixed
	Misc. cleanup (PG)

2004-01-27 14:42  giannozz

	* PP/projwfc.f90:

	Recently introduced bug (interpolation table not initialized) fixed

2004-01-27 13:31  degironc

	* PP/: average.f90, chdens.f90, plot_io.f90, voronoy.f90:

	read_io_header split from plot_io in order to avoid fake allocations otherwise
	needed when calling plot_io with iflag=0

2004-01-27 10:30  sbraccia

	* PW/clean_pw.f90:

	Again an allocatable array (recently added) that is not deallocated in clean_pw.
	If it is not deallocated in clean_pw neb cannot work.
	C.S.

2004-01-26 22:36  giannozz

	* Gamma/dvpsi_kb.f90:

	fake out-of-bound error fixed

2004-01-26 17:46  sbraccia

	* PP/chdens.f90:

	Again arrays not allocated ... (note that the fix is far from being elegant)
	C.S.

2004-01-26 14:56  sbraccia

	* Makefile:

	Cleanup (all => pwall and all_ => all).
	C.S.

2004-01-26 13:28  sbraccia

	* PW/neb_routines.f90:

	Again a fix to be compatible with ifc 8.0.
	C.S.

2004-01-26 12:02  sbraccia

	* Modules/bfgs_module.f90:

	Module partially rewritten to avoid compilation problems with ifc (see some recent post in PW_forum).
	C.S.

2004-01-24 18:24  giannozz

	* PW/: init_us_1.f90, newd.f90:

	compilation glitches in parallel case

2004-01-24 16:43  giannozz

	* PW/: init_us_1.f90, init_us_2.f90, init_vloc.f90, ions.f90,
	  move_ions.f90, new_ns.f90, newd.f90, ortho.f90, orthoatwfc.f90,
	  print_clock_pw.f90, punch.f90, read_conf_from_file.f90,
	  read_file.f90, restart.f90:

	More module cleanup : pwcom no longer called in PW/

2004-01-24 16:20  degironc

	* PW/: gen_at_dj.f90, gen_at_dy.f90, init_at_1.f90:

	a few variable declarations have been fixed

2004-01-24 15:44  degironc

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/allocate_nlpot.f90, PW/atomic_wfc.f90,
	  PW/dndtau.f90, PW/dprojdepsilon.f90, PW/force_hub.f90,
	  PW/gen_at_dj.f90, PW/gen_at_dy.f90, PW/hinit0.f90,
	  PW/init_at_1.f90, PW/pwcom.f90, PW/stres_hub.f90,
	  PWCOND/Makefile:

	LDA+U forces and stress are now much faster (yet not optimal)

2004-01-24 11:01  cavazzon

	* Modules/bfgs_module.f90, PW/input.f90:

	Workaround for XLF compiler bug,
	use of renamed variables.

2004-01-23 18:00  sbraccia

	* PW/setup.f90:

	Corrected a misleading warning.
	C.S.

2004-01-23 16:32  giannozz

	* PW/io_pot.f90:

	compilation error in parallel

2004-01-23 16:08  giannozz

	* TODO, D3/d3com.f90, D3/davcio_drho2.f90, D3/set_sym_irr.f90,
	  Gamma/a_h.f90, Gamma/cg_readin.f90, Gamma/cg_setup.f90,
	  Gamma/cg_setupdgc.f90, Gamma/cgcom.f90, Gamma/cgsolve.f90,
	  Gamma/d2ion.f90, Gamma/dgcxc.f90, Gamma/dgcxc_spin.f90,
	  Gamma/dgradcorr.f90, Gamma/dmxc.f90, Gamma/dvpsi_e.f90,
	  Gamma/dvpsi_kb.f90, Gamma/dyndiar.f90,
	  Gamma/generate_dynamical_matrix.f90,
	  Gamma/generate_effective_charges.f90, Gamma/h_h.f90,
	  Gamma/pw_dot.f90, Modules/basic_algebra_routines.f90,
	  Modules/bfgs_module.f90, Modules/clocks.f90,
	  Modules/control_flags.f90, Modules/fft_base.f90,
	  Modules/fft_scalar.f90, Modules/input_parameters.f90,
	  Modules/io_base.f90, Modules/kind.f90, Modules/miscellany.f90,
	  Modules/parameters.f90, Modules/parser.f90,
	  Modules/pseudo_types.f90, Modules/pseudodata.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90,
	  Modules/wavefunctions.f90, PH/add_dkmds.f90,
	  PH/add_for_charges.f90, PH/add_zstar_ue.f90,
	  PH/add_zstar_ue_us.f90, PH/addcore.f90, PH/adddvepsi_us.f90,
	  PH/adddvscf.f90, PH/addnlcc.f90, PH/addnlcc_zstar_eu_us.f90,
	  PH/addusdbec.f90, PH/addusddens.f90, PH/addusddense.f90,
	  PH/addusdynmat.f90, PH/allocate_part.f90, PH/allocate_phq.f90,
	  PH/cg_psi.f90, PH/cgsolve_all.f90, PH/ch_psi_all.f90,
	  PH/compute_alphasum.f90, PH/compute_becalp.f90,
	  PH/compute_becsum.f90, PH/compute_drhous.f90,
	  PH/compute_dvloc.f90, PH/compute_nldyn.f90,
	  PH/compute_qdipol.f90, PH/compute_weight.f90, PH/d2ionq.f90,
	  PH/davcio_drho.f90, PH/dgcxc.f90, PH/dgcxc_spin.f90,
	  PH/dgradcorr.f90, PH/dielec.f90, PH/dmxc.f90, PH/dmxc_spin.f90,
	  PH/drho.f90, PH/drhodv.f90, PH/drhodvloc.f90, PH/drhodvnl.f90,
	  PH/drhodvus.f90, PH/dv_of_drho.f90, PH/dvanqq.f90, PH/dvkb3.f90,
	  PH/dvpsi_e.f90, PH/dvqpsi_us.f90, PH/dvqpsi_us_only.f90,
	  PH/dyndia.f90, PH/dynmat0.f90, PH/dynmat_us.f90, PH/dynmatcc.f90,
	  PH/dynmatrix.f90, PH/ef_shift.f90, PH/elph.f90, PH/elphon.f90,
	  PH/h_psiq.f90, PH/incdrhoscf.f90, PH/incdrhous.f90,
	  PH/io_pattern.f90, PH/localdos.f90, PH/newdq.f90,
	  PH/openfilq.f90, PH/phcom.f90, PH/phonon.f90, PH/phq_init.f90,
	  PH/phq_readin.f90, PH/phq_recover.f90, PH/phq_setup.f90,
	  PH/phq_summary.f90, PH/phqscf.f90, PH/print_clock_ph.f90,
	  PH/psidspsi.f90, PH/psymdvscf.f90, PH/psyme.f90,
	  PH/punch_plot_e.f90, PH/punch_plot_ph.f90, PH/q2qstar_ph.f90,
	  PH/random_matrix.f90, PH/rotate_and_add_dyn.f90,
	  PH/set_drhoc.f90, PH/set_irr.f90, PH/set_irr_mode.f90,
	  PH/set_irr_nosym.f90, PH/setlocq.f90, PH/setqmod.f90,
	  PH/setup_dgc.f90, PH/setv.f90, PH/smallgq.f90, PH/solve_e.f90,
	  PH/solve_linter.f90, PH/star_q.f90, PH/stop_ph.f90,
	  PH/sym_and_write_zue.f90, PH/sym_def.f90, PH/symdvscf.f90,
	  PH/symdyn_munu.f90, PH/symdynph_gq.f90, PH/syme.f90, PH/symz.f90,
	  PH/tra_write_matrix.f90, PH/trntnsc.f90,
	  PH/write_dyn_on_file.f90, PH/write_epsilon_and_zeu.f90,
	  PH/write_matrix.f90, PH/zstar_eu.f90, PH/zstar_eu_us.f90,
	  PP/addusdens1d.f90, PP/average.f90, PP/cft.f90, PP/cgracsc.f90,
	  PP/chdens.f90, PP/dos.f90, PP/dosg.f90, PP/dost.f90, PP/elf.f90,
	  PP/local_dos.f90, PP/plot_io.f90, PP/plot_whole_cell.f90,
	  PP/plotrho.f90, PP/projwfc.f90, PP/voronoy.f90, PP/xsf.f90,
	  PW/aainit.f90, PW/add_efield.f90, PW/add_vuspsi.f90,
	  PW/addusdens.f90, PW/addusforce.f90, PW/addusstress.f90,
	  PW/allocate_nlpot.f90, PW/atomic_rho.f90, PW/atomic_wfc.f90,
	  PW/bachel.f90, PW/becmod.f90, PW/bfgs.f90, PW/bp_c_phase.f90,
	  PW/bp_calc_btq.f90, PW/bp_qvan3.f90, PW/bp_strings.f90,
	  PW/broadcast.f90, PW/c_bands.f90, PW/ccalbec.f90,
	  PW/ccgdiagg.f90, PW/cdiagh.f90, PW/cdiaghg.f90, PW/cdiisg.f90,
	  PW/cegterg.f90, PW/cft3.f90, PW/cft3s.f90, PW/cft_3.f90,
	  PW/cft_fftw.f90, PW/cft_sgi.f90, PW/cft_sun.f90, PW/cfts_3.f90,
	  PW/cgramg1.f90, PW/check.f90, PW/checkallsym.f90,
	  PW/checksym.f90, PW/cinitcgg.f90, PW/close_files.f90,
	  PW/compute_dip.f90, PW/constrain.f90, PW/conv_to_num.f90,
	  PW/coset.f90, PW/cryst_to_car.f90, PW/cubicsym.f90,
	  PW/d_matrix.f90, PW/data_structure.f90, PW/davcio.f90,
	  PW/delta_e.f90, PW/deriv_drhoc.f90, PW/diropn.f90,
	  PW/divide_et_impera.f90, PW/dndepsilon.f90, PW/dndtau.f90,
	  PW/dprojdepsilon.f90, PW/dprojdtau.f90, PW/dqvan2.f90,
	  PW/drhoc.f90, PW/dsum.f90, PW/dvloc_of_g.f90, PW/dylmr2.f90,
	  PW/dynamics.f90, PW/efermig.f90, PW/efermit.f90,
	  PW/electrons.f90, PW/eqvect.f90, PW/error.f90, PW/estimate.f90,
	  PW/ewald.f90, PW/fft_scatter.f90, PW/force_cc.f90,
	  PW/force_corr.f90, PW/force_ew.f90, PW/force_hub.f90,
	  PW/force_lc.f90, PW/force_us.f90, PW/forces.f90,
	  PW/functionals.f90, PW/g_psi.f90, PW/g_psi_mod.f90,
	  PW/gather.f90, PW/gen_at_dj.f90, PW/gen_at_dy.f90,
	  PW/gen_us_dj.f90, PW/gen_us_dy.f90, PW/ggen.f90, PW/gk_sort.f90,
	  PW/gradcorr.f90, PW/gweights.f90, PW/h_1psi.f90, PW/h_psi.f90,
	  PW/hexsym.f90, PW/hinit0.f90, PW/hinit1.f90, PW/init_ns.f90,
	  PW/input.f90, PW/interpolate.f90, PW/invmat.f90, PW/io_pot.f90,
	  PW/io_routines.f90, PW/irrek.f90, PW/iweights.f90,
	  PW/kpoint_grid.f90, PW/lchk_tauxk.f90, PW/linmin.f90,
	  PW/lsda_functionals.f90, PW/maximum.f90, PW/memory.f90,
	  PW/minimization_routines.f90, PW/mix_pot.f90, PW/mix_rho.f90,
	  PW/mode_group.f90, PW/move_ions.f90, PW/multable.f90,
	  PW/n_plane_waves.f90, PW/neb_routines.f90, PW/neb_variables.f90,
	  PW/noncol.f90, PW/openfil.f90, PW/output_tau.f90,
	  PW/poolbcast.f90, PW/poolextreme.f90, PW/poolrecover.f90,
	  PW/poolreduce.f90, PW/poolscatter.f90, PW/potinit.f90,
	  PW/psymrho.f90, PW/punch.f90, PW/pw_gemm.f90, PW/pwcom.f90,
	  PW/pwscf.f90, PW/qvan2.f90, PW/random.f90, PW/rbecmod.f90,
	  PW/rdiaghg.f90, PW/read_file.f90, PW/read_ncpp.f90,
	  PW/readin.f90, PW/readnewvan.f90, PW/readvan.f90, PW/reduce.f90,
	  PW/regterg.f90, PW/remove_atomic_rho.f90, PW/restart.f90,
	  PW/restart_from_file.f90, PW/restart_in_electrons.f90,
	  PW/restart_in_ions.f90, PW/rgen.f90, PW/rho2zeta.f90,
	  PW/rotate_wfc.f90, PW/rotate_wfc_gamma.f90, PW/ruotaijk.f90,
	  PW/s_1psi.f90, PW/s_axis_to_ca.f90, PW/s_psi.f90,
	  PW/save_in_cbands.f90, PW/save_in_electrons.f90,
	  PW/save_in_ions.f90, PW/saveall.f90, PW/scala_cdiag.f90,
	  PW/scala_cdiaghg.f90, PW/scatter.f90, PW/scopy_t3e.f90,
	  PW/seqopn.f90, PW/set_kplusq.f90, PW/set_kup_and_kdw.f90,
	  PW/set_rhoc.f90, PW/set_vrs.f90, PW/setlocal.f90, PW/setqf.f90,
	  PW/setup.f90, PW/setupkpt.f90, PW/sgam_at.f90, PW/sgam_ph.f90,
	  PW/sgama.f90, PW/smallg_q.f90, PW/stop_pw.f90, PW/stres_cc.f90,
	  PW/stres_ewa.f90, PW/stres_gradcorr.f90, PW/stres_har.f90,
	  PW/stres_hub.f90, PW/stres_knl.f90, PW/stres_loc.f90,
	  PW/stres_us.f90, PW/stress.f90, PW/struct_fact.f90,
	  PW/sum_band.f90, PW/sumkg.f90, PW/sumkt.f90, PW/summary.f90,
	  PW/supercell.f90, PW/swap.f90, PW/symrho.f90, PW/symtns.f90,
	  PW/symvect.f90, PW/tabd.f90, PW/trntns.f90, PW/trnvecc.f90,
	  PW/trnvect.f90, PW/tweights.f90, PW/update_pot.f90,
	  PW/updathes.f90, PW/usnldiag.f90, PW/v_of_rho.f90, PW/vcsmd.f90,
	  PW/vcsubs.f90, PW/vhpsi.f90, PW/vloc_of_g.f90, PW/vloc_psi.f90,
	  PW/vpack.f90, PW/w0gauss.f90, PW/w1gauss.f90, PW/wfcinit.f90,
	  PW/wgauss.f90, PW/which_dft.f90, PW/write_config_to_file.f90,
	  PW/write_ns.f90, PW/wsweight.f90, PW/ylmr2.f90, PWCOND/bessj.f90,
	  PWCOND/compbs_2.f90, PWCOND/condcom.f90, PWCOND/eigenchnl.f90,
	  PWCOND/form_zk.f90, PWCOND/four.f90, PWCOND/gep_gep.f90,
	  PWCOND/gep_x.f90, PWCOND/gramsh.f90, PWCOND/hev_ab.f90,
	  PWCOND/integrals.f90, PWCOND/jbloch.f90, PWCOND/kbloch.f90,
	  PWCOND/rotate.f90, PWCOND/rotproc.f90, PWCOND/slabcpu.f90,
	  PWCOND/summary_tran.f90, flib/latgen.f90, flib/recips.f90,
	  flib/scnds.f90, flib/simpsn.f90, flib/sph_bes.f90,
	  flib/volume.f90, include/machine.h, include/machine.h.README,
	  pwtools/matdyn.f90:

	Extensive module cleanup: DP moved from wrong place (parameters) to the
	correct place (kinds); module "varie" replaced by "control_flags" (not
	yet in pwcom, though) - many many files changed.
	64-bit cpus (Opteron, maybe Itanium) should now work if __LINUX64 is defined

2004-01-23 14:50  sbraccia

	* Modules/formats.f90, PW/io_routines.f90, PW/neb_routines.f90,
	  PW/pwscf.f90:

	Improved the output in the case of a neb calculation.
	C.S.

2004-01-23 10:50  sbraccia

	* Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PW/c_bands.f90, PW/input.f90,
	  PW/pwcom.f90, PW/setup.f90:

	Again some problems with ethr: the diagonalization threshold can now be read by the input file (diago_thr_init).
	This value of ethr is overwritten (with a warning message) in the case of a phonon calculation (lphonon flag added). If diago_thr_init is not specified in the input file it is automatically set in setup.f90 (for example in the case of a nscf calculation ethr = tr2 / nelec).
	I hope this policy is appropriate for all kind of calculations.
	C.S.

2004-01-22 19:33  sbraccia

	* PW/: dprojdepsilon.f90, dprojdtau.f90:

	Too many references to evc !!!
	C.S.

2004-01-22 18:01  giannozz

	* TODO, PW/bfgs.f90, PW/data_structure.f90, PW/dndepsilon.f90,
	  PW/dndtau.f90, PW/dprojdepsilon.f90, PW/dprojdtau.f90,
	  PW/move_ions.f90, PW/output_tau.f90, PW/vcsmd.f90:

	Cell parameters written on output for variable-cell dynamics
	as requested by Tone - Misc cleanup

2004-01-22 17:48  ballabio

	* PW/electrons.f90:

	typo fixed [Gerardo]

2004-01-22 17:01  sbraccia

	* Modules/bfgs_module.f90, PW/move_ions.f90:

	The output of the neb-bfgs algorithm is now written in a less obscure way.
	C.S.

2004-01-22 16:07  sbraccia

	* pseudo/HUSPBE.RRKJ3:

	Added the pseudopotential for the NEBexample.
	C.S.

2004-01-22 13:48  degironc

	* PP/punch_plot.f90, PP/start_postproc.f90, PP/stm.f90,
	  PW/saveall.f90:

	stm images can be obtained from a calculation at "gamma".
	gamma_only variable is written/read by saveall.
	contributed by Guido Fratesi

2004-01-22 13:44  degironc

	* PW/gen_us_dj.f90:

	contribution to the stress from derivative of the bessel function is obtained
	form the already available interpolation table.
	non-local stress calculation is much faster

2004-01-22 13:34  degironc

	* PH/: set_irr_nosym.f90, syme.f90:

	bug fixed in phonon calculation with nosym=.true.
	minus_q and related variables where not set properly: minus_q was always
	set .false. while instead it may be .true. for some value of q (gamma
	for instance).

2004-01-22 13:01  sbraccia

	* PW/: c_bands.f90, force_us.f90, h_psi.f90, pw_gemm.f90,
	  sum_band.f90, wfcinit.f90:

	General Cleanup. Some problems related to the use of local pseudopotentials have been fixed.
	C.S.

2004-01-21 18:19  giannozz

	* PW/allocate_nlpot.f90, PW/init_us_1.f90, include/machine.h:

	machine.h: #define ZHETRD ZHETRD confuses pgi compiler
	Once again: case of local potentials only (H) fixed

2004-01-21 17:40  sbraccia

	* Modules/version.f90, PW/input.f90, PW/pwscf.f90:

	Obscure messages about gamma and noncolin modified.
	Version number updated to 1.4.0.
	C.S.

2004-01-21 16:13  sbraccia

	* PW/electrons.f90:

	I apologize for the orrible mistake in the previous commit
	C.S.

2004-01-21 15:41  sbraccia

	* PW/: bfgs.f90, c_bands.f90, dynamics.f90, electrons.f90,
	  move_ions.f90, setup.f90:

	Fixed some problems with ethr. Comments have been added here and there.
	C.S.

2004-01-21 14:32  ballabio

	* Makefile:

	removed example*/results from tar [Gerardo]

2004-01-20 16:52  sbraccia

	* TODO:

	Some new "TODO" have been added (for the pwscf code). NEB removed from the TODO list.
	C.S.

2004-01-20 13:26  sbraccia

	* PW/: c_bands.f90, cdiagh.f90, cdiisg.f90, electrons.f90,
	  g_psi.f90, input.f90, mix_rho.f90, update_pot.f90:

	General cleanup. The threshold for diagonalization (ethr) is now fixed to 1.D-5 at the first scf iteration (iter=1). A check is then performed to verify that the resulting density is adeguate (dr2/nelec > ethr). If it is not the diagonalization goes on with a smaller ethr. For iter > 1 ethr is updated with the old recipe. Also added a warning in update_pot that indicates "problems" in the wfc extrapolation. This problem has not yet been fixed.
	C.S.

2004-01-20 11:09  ballabio

	* make.sys.in:

	added -I. to $INCLUDE to prevent possible conflicts [Gerardo]

2004-01-20 11:07  ballabio

	* PW/compute_dip.f90:

	added missing "only: nrxx" [Gerardo]

2004-01-19 22:05  giannozz

	* PW/: allocate_locpot.f90, allocate_nlpot.f90, atomic_rho.f90,
	  atomic_wfc.f90, bp_c_phase.f90, bp_calc_btq.f90, bp_qvan3.f90,
	  cdiisg.f90, compute_dip.f90, d_matrix.f90:

	cleanup

2004-01-19 11:57  dalcorso

	* PW/: read_ncpp.f90, readin.f90, readnewvan.f90:

	Misleading error message corrected.

2004-01-19 11:53  dalcorso

	* PW/input.f90:

	Additional check for fixed occupations.

2004-01-17 14:44  giannozz

	* PW/: add_efield.f90, add_vuspsi.f90, addusdens.f90,
	  addusforce.f90, addusstress.f90, allocate_fft.f90, punch.f90,
	  qvan2.f90:

	cleanup

2004-01-16 14:54  cavazzon

	* PP/pw2wan.f90:

	bug fix, array dimension related to nspin variable
	carlo

2004-01-16 10:18  giannozz

	* PW/: read_ncpp.f90, read_pseudo.f90, readnewvan.f90, readvan.f90,
	  remove_atomic_rho.f90:

	cleanup

2004-01-15 16:50  giannozz

	* PP/bands.f90, PP/elf.f90, PP/local_dos.f90, PP/projwfc.f90,
	  PP/pw2wan.f90, PP/stm.f90, PW/bp_c_phase.f90,
	  PW/restart_from_file.f90, PW/restart_in_electrons.f90,
	  PW/restart_in_ions.f90, PW/s_1psi.f90, PW/save_in_cbands.f90,
	  PW/save_in_electrons.f90, PW/save_in_ions.f90, PW/scale_h.f90,
	  PW/set_fft_dim.f90, PW/set_rhoc.f90, PW/stres_cc.f90,
	  PW/stres_har.f90, PW/stres_hub.f90, PW/stres_knl.f90,
	  PW/stres_loc.f90, PW/stres_us.f90, PW/stress.f90, PW/summary.f90,
	  PW/tabd.f90, PW/upf_to_internal.f90, PW/usnldiag.f90,
	  PH/addcore.f90, PH/phq_init.f90:

	Some cleanup

2004-01-14 21:14  giannozz

	* PW/bp_ylm_q.f:

	out-of-bound error in Berry Phase calculation

2004-01-14 15:08  sbraccia

	* PW/hinit0.f90:

	npw=npwx no longer needed (line 38).
	C.S.

2004-01-14 15:03  sbraccia

	* PH/phq_init.f90, PW/gk_sort.f90:

	Again a fix for the array out-of-bounds problem.
	C.S.

2004-01-14 09:58  sbraccia

	* PW/gk_sort.f90:

	A check for out-of-bounds error on the array gk has been added.
	C.S.

2004-01-13 15:49  sbraccia

	* PW/update_pot.f90:

	Fixed a bug in the wavefunctions extrapolation.
	C.S.

2004-01-13 10:49  cavazzon

	* Modules/: read_cards.f90, read_namelists.f90:

	NEB dynamics added to the FPMD code

2004-01-13 09:47  ballabio

	* PH/punch_plot_ph.f90:

	fixed typo (0d.0 -> 0.d0) [Gerardo]

2004-01-12 13:05  sbraccia

	* Modules/: basic_algebra_routines.f90, bfgs_module.f90:

	Uninitialized variable initialized in bfgs_module.
	BLAS wrappers (basic_algebla_routines) do not work properly on ibm: temporary disabled.
	C.S.

2004-01-09 16:56  giannozz

	* PH/: addusddens.f90, drho.f90, phqscf.f90, punch_plot_ph.f90:

	Phonon did not work on 4-dim irreps

2004-01-09 15:27  ballabio

	* configure.ac, configure.new:

	[no log message]

2004-01-09 12:31  ballabio

	* configure.ac, configure.new:

	[no log message]

2004-01-09 12:10  ballabio

	* configure.ac, configure.new:

	Added support for ifort (Intel compiler 8) (not tested) [Gerardo]

2004-01-09 11:57  sbraccia

	* Modules/basic_algebra_routines.f90:

	Fixed a bug inserted in the last cleanup.
	C.S.

2004-01-09 11:20  sbraccia

	* Modules/basic_algebra_routines.f90, PW/c_bands.f90,
	  PW/rdiaghg.f90, PW/vloc_psi.f90:

	Cleanup. Minor bugs fixed.
	C.S.

2004-01-08 18:55  giannozz

	* PP/dos.f90:

	DOS in parallel execution fixed (in part: pools not implemented)

2004-01-08 18:22  cavazzon

	* PP/: Makefile, pw2wan.f90:

	- spin components extraction for pw2wan

2004-01-08 13:38  sbraccia

	* PW/neb_routines.f90:

	A bug in the computation of the error in a neb calculation has been fixed.
	C.S.

2004-01-07 23:54  cavazzon

	* Modules/Makefile, Modules/control_flags.f90,
	  Modules/fft_base.f90, Modules/formats.f90, PH/Makefile,
	  PW/Makefile, PW/formats.f90, PW/pwcom.f90, PW/supercell.f90:

	- FPMD prepared for NEB
	- variables in module pwcom/varie moved to Modules/control_flags
	- module PW/format moved to Modules/format
	- in module PW/supercell added workaround for AUTOMATIC variable and
	  AIX compilers
	- PH Makefile added rbecmod.o

2004-01-06 17:53  giannozz

	* Modules/clocks.f90, PW/electrons.f90, PW/input.f90,
	  PW/iweights.f90, PW/saveall.f90, PW/sum_band.f90:

	More uninitialized variables have been initialized

2004-01-06 11:53  giannozz

	* PP/addusdens1d.f90, PP/bands.f90, PP/elf.f90, PP/ggen1d.f90,
	  PP/local_dos.f90, PP/plot_io.f90, PP/plotrho.f90, PP/stm.f90,
	  PW/bp_c_phase.f90, PW/bp_calc_btq.f90, PW/bp_qvan3.f90,
	  PW/bp_zgedi.f, PW/bp_zgefa.f, PW/mix_rho.f90, PW/output_tau.f90,
	  PW/readin.f90, PW/vhpsi.f90, PW/write_config_to_file.f90,
	  PW/write_ns.f90, PWCOND/allocate_cond_2.f90, PWCOND/bessj.f90,
	  PWCOND/free_mem.f90, flib/avrec.f90, flib/iglocal.f90,
	  flib/itoa.f90:

	Check on undefined variables, out-of-bound arrays
	Several implicit none re-added, pwcom modules split

2004-01-05 19:11  giannozz

	* makedeps.sh, Modules/basic_algebra_routines.f90,
	  Modules/bfgs_module.f90, Modules/input_parameters.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90,
	  PP/plotrho.f90, PW/c_bands.f90, PW/init_run.f90,
	  PW/init_us_1.f90, PW/input.f90, PW/move_ions.f90, PW/pwcom.f90,
	  PW/readin.f90, PW/setup.f90, PW/wfcinit.f90:

	Tabs removed (again)
	NEB/ removed from makedeps.sh
	plotrho: added possibility to have contour lines of various type
	A few undefined variables defined (again)

2004-01-05 10:31  sbraccia

	* Gamma/: Makefile, add_vuspsi.f90, allocate_wfc.f90, c_bands.f90,
	  fake.f90, force_us.f90, h_psi.f90, pw_gemm.f90, pwscf.f90,
	  rbecmod.f90, rdiaghg.f90, regterg.f90, rotate_wfc.f90, s_psi.f90,
	  stres_us.f90, sum_band.f90, vloc_psi.f90, wfcinit.f90:

	Files no longer needed have been removed and the Makefile updated.
	In the Gamma directory are now present only those files needed for a phonon
	calculation at q=0 (phcg.x).
	C.S.

2003-12-29 12:39  degironc

	* PW/kpoint_grid.f90:

	29 Dec 2003   kpoint_grid:
	              - Bug fixed. Array wk(:) was temporarily used beyond its
	                range and in some cases, with very large number of k-points,
	                the code dumped or gave totaly wrong numbers.
	              - Symmetry k-point reduction algorithm exploits now the
	                knowledge of the ordering of points in the list. It is
	                much faster, in particular for large grids (as those
	                needed for el-ph interaction for instance).

2003-12-18 14:39  sbraccia

	* Modules/bfgs_module.f90, PW/input.f90:

	Minor bugs in BFGS structural relaxation fixed.
	C.S.

2003-12-17 18:15  sbraccia

	* Modules/basic_algebra_routines.f90:

	Cleanup of this module.
	C.S.

2003-12-17 16:38  dalcorso

	* PW/set_rhoc.f90:

	Updated the call to v_xc. If uncommented the calculation of etxcc
	is now working again.

2003-12-17 16:21  sbraccia

	* Makefile:

	NEB files removed. Now they are contained in PW.
	C.S.

2003-12-17 16:12  sbraccia

	* include/machine.h:

	Sorry, erroneous commit.
	C.S.

2003-12-17 16:07  sbraccia

	* include/machine.h:

	[no log message]

2003-12-16 16:43  sbraccia

	* PW/: input.f90, startup.f90:

	The trick suggested by Francesco Antoniella ( input from file ) is now coded
	in iosys (input.f90).
	C.S.

2003-12-16 09:31  giannozz

	* PW/: bp_c_phase.f90, bp_strings.f90, startup.f90:

	Berry-phase bugs fixed (Oswaldo)
	Added trick by Francesco Antoniella to allow reading from file

	CVr: ----------------------------------------------------------------------
	CVr: ----------------------------------------------------------------------

2003-12-11 12:10  giannozz

	* INSTALL, Makefile, README, D3/bcast_d3_input.f90,
	  D3/close_open.f90, D3/d3_readin.f90, D3/openfild3.f90,
	  Gamma/cg_setup.f90, Modules/io_files.f90, PH/bcast_ph_input.f90,
	  PH/openfilq.f90, PP/dos.f90, PW/punch.f90, PW/read_file.f90:

	Documentation updated to reflect merge of Gamma and k-point versions
	variable filpun removed everywhere

2003-12-10 17:42  sbraccia

	* D3/Makefile, PP/Makefile, PWCOND/Makefile:

	D3, PP, PWCOND Makefiles adapted to the new PW routines.
	C.S.

2003-12-10 17:26  sbraccia

	* PH/Makefile:

	PH and D3 adapted to the new PW routines.
	C.S.

2003-12-10 17:13  sbraccia

	* Gamma/: Makefile, pwscf.f90:

	Gamma adapted to the new PW routines.
	C.S.

2003-12-10 16:11  sbraccia

	* PW/Makefile:

	Makefile for unified pw.
	C.S.

2003-12-10 15:57  sbraccia

	* Modules/input_parameters.f90, PW/add_vuspsi.f90,
	  PW/allocate_wfc.f90, PW/c_bands.f90, PW/close_files.f90,
	  PW/electrons.f90, PW/force_us.f90, PW/formats.f90, PW/h_psi.f90,
	  PW/init_run.f90, PW/input.f90, PW/io_routines.f90,
	  PW/minimization_routines.f90, PW/move_ions.f90,
	  PW/neb_routines.f90, PW/neb_variables.f90, PW/openfil.f90,
	  PW/potinit.f90, PW/pw_gemm.f90, PW/pwcom.f90, PW/pwscf.f90,
	  PW/rbecmod.f90, PW/rdiaghg.f90, PW/regterg.f90,
	  PW/reset_k_points.f90, PW/rotate_wfc_gamma.f90, PW/s_psi.f90,
	  PW/setup.f90, PW/startup.f90, PW/stop_pw.f90, PW/stres_us.f90,
	  PW/sum_band.f90, PW/supercell.f90, PW/update_pot.f90,
	  PW/vloc_psi.f90, PW/wfcinit.f90:

	PW, Gamma and NEB are now unified.
	C.S.

2003-12-10 14:53  sbraccia

	* clib/c_mkdir.c:

	Againg a bug in c_mkdir (a string terminator was missing).
	This should be the final fix.
	C.S.

2003-12-09 09:16  tag pw-1-3-1

2003-12-09 09:16  sbraccia

	* Modules/read_cards.f90, PW/pwcom.f90:

	Yet another bug in CI_scheme = 'manual' (neb code).
	Cleanup.
	C.S.

2003-12-06 11:32  sbraccia

	* Modules/bfgs_module.f90, Modules/input_parameters.f90,
	  Modules/read_cards.f90, clib/c_mkdir.c:

	Several bugs fixed in neb (CI_scheme = 'manual') and in the way c_mkdir was called.
	Cleanup of bfgs_module.
	C.S.

2003-12-04 14:39  sbraccia

	* Modules/bfgs_module.f90:

	Cleanup. Source code documentation improved.
	C.S.

2003-12-04 12:41  giannozz

	* PP/chdens.f90, PW/input.f90, install/Make.beo_ifc,
	  install/Make.pc_ifc:

	NEB at gamma (NEB/pwgneb.x) is now available.
	Problem with starting_magnetization in NEB code fixed
	Misc documentation updates
	chdens : fixed XCRYSDENS output (Tone)

2003-12-04 10:51  sbraccia

	* Makefile, PW/wfcinit.f90:

	NEB at gamma (NEB/pwgneb.x) is now available.
	C.S.

2003-12-03 11:29  sbraccia

	* Modules/input_parameters.f90:

	General cleanup of pwneb code. Some unused features removed.
	C.S.

2003-12-02 17:54  sbraccia

	* PW/ions.f90:

	Fixed a bug in parallel execution of a bfgs relaxation.
	Now pwneb.x executes example3 correctly also in parallel.
	Removed a call to check() (in ions.f90) since it is no longer needed.
	C.S.

2003-12-02 16:46  ballabio

	* Makefile, configure.ac, configure.new, CPV/Makefile, D3/Makefile,
	  Gamma/Makefile, Modules/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PWCOND/Makefile, clib/Makefile, flib/Makefile,
	  install/Makefile, pwtools/Makefile, upftools/Makefile:

	Cleanup [Gerardo]

2003-12-02 15:28  giannozz

	* Modules/read_namelists.f90, PW/input.f90:

	spin-polarized calculations: at least one value for
	starting_magnetization must be explicitly set in input
	(fixed previously introduced bug).

2003-12-02 15:22  sbraccia

	* Modules/: basic_algebra_routines.f90, bfgs_module.f90:

	Fixed a problem that prevents from compiling on sp4.
	C.S.

2003-12-01 11:39  sbraccia

	* Modules/: basic_algebra_routines.f90, bfgs_module.f90,
	  io_files.f90:

	Several bugs in the new BFGS implementation have been fixed.
	A linear scaling BFGS minimization algorithm has been implemented too.
	The two test cases of example3 are optimized with a performance comparable to
	the old BFGS, but in other systems where old BFGS fails the new implementation
	has given good results. On the side of linear scaling algorithm much has still
	to be done.
	C.S.

2003-11-28 18:41  sbraccia

	* Modules/: basic_algebra_routines.f90, bfgs_module.f90:

	Cleanup of the bfgs_module. The module basic_algebra_routines has been separated
	from bfgs stuff.
	The new implementation of bfgs now seems to work reasonably good. It can be tested using
	the pwneb.x program with exactly the same input file needed by pw.x for a bfgs relaxation.
	pw.x still uses the old bfgs implementation (useful for comparison).
	C.S.

2003-11-27 16:31  sbraccia

	* Modules/bfgs_module.f90:

	The inverse BFGS hessian is saved (prefix.hess) when convergence is achieved.
	It could be useful to have a very rough estimate of the force constants.
	C.S.

2003-11-26 18:22  sbraccia

	* Modules/bfgs_module.f90:

	Again several bugs have been fixed. Note that the new bfgs scheme can start with
	a large conv_thr (~1.D-4,1.D-5), provided the upscale variable is setted in order to
	have a final conv_thr strict enough (~1.D-8). This is due to the fact that no line
	search is needed (the place where high accuracy in the forces is needed).
	C.S.

2003-11-26 10:44  sbraccia

	* Modules/bfgs_module.f90:

	Other bugs fixed. Performance is slightly better than yesterday.
	C.S.

2003-11-25 19:19  sbraccia

	* Modules/bfgs_module.f90:

	Several bugs fixed. Nevertheless performance is still poor.
	C.S.

2003-11-24 16:35  sbraccia

	* Modules/: Makefile, bfgs_module.f90:

	A module containing a new implementation of the BFGS minimization scheme has been
	added in Module. (see references in the code)
	At present it is used in the pwneb code only (see routine NEB/move_ions).
	C.S.

2003-11-24 16:24  sbraccia

	* Modules/: input_parameters.f90, read_cards.f90:

	CI_scheme = 'manual' implemented (an option for neb calculations).
	C.S.

2003-11-21 18:23  sbraccia

	* PW/bfgs.f90:

	Some unused variables removed. The local variable root has been substituted
	with ionode_id.
	C.S.

2003-11-21 17:39  ballabio

	* makedeps.sh, install/shdep:

	cleanup [Gerardo]

2003-11-21 17:09  ballabio

	* Makefile:

	small cleanup [Gerardo]

2003-11-21 16:20  giannozz

	* Modules/input_parameters.f90, Modules/read_cards.f90,
	  Modules/read_namelists.f90, PW/interpolate.f90, PW/qvan2.f90:

	Fixed bug if Gamma+doublegrid
	Misc cleanup (tabulators), doc. update

2003-11-21 15:37  ballabio

	* Makefile:

	added missing files to "make tar" [Gerardo]

2003-11-21 15:03  profeta

	* flib/lapack.f:

	add subroutines zrot, zgetrf, zgetrs, zgetf2, zlaswp to fix dependancies
	M.P.

2003-11-21 12:49  ballabio

	* Makefile:

	fixed "make veryclean"

2003-11-21 12:46  ballabio

	* pwtools/Makefile:

	[no log message]

2003-11-21 12:43  ballabio

	* Modules/Makefile:

	fixed NEB compilation problems [Gerardo]

2003-11-21 12:27  ballabio

	* CPV/cprsub.f90:

	fixed problem with ifc compiler [Gerardo]

2003-11-21 12:24  ballabio

	* CPV/cplib.f90:

	fixed problems with ifc compiler

2003-11-21 11:50  ballabio

	* configure.ac, configure.new:

	fixed problem with xlf90/xlf77 on AIX [Gerardo]

2003-11-21 11:44  ballabio

	* Makefile:

	added "all_" target for compiling really everything, useful for testing
	[Gerardo]

2003-11-21 11:39  ballabio

	* configure.ac, configure.new:

	use *xlf90* instead of *xlf* on AIX [Gerardo]

2003-11-21 11:04  sbraccia

	* Modules/miscellany.f90:

	Module miscellany moved from NEB to Modules.  C.S.

2003-11-21 10:53  ballabio

	* moduledep.sh:

	fixed problem with uppercase module names [Gerardo]

2003-11-20 18:36  ballabio

	* Makefile:

	[no log message]

2003-11-20 18:05  ballabio

	* Makefile:

	NEB/make.dep no longer needed [Gerardo]

2003-11-20 18:00  ballabio

	* makedeps.sh, install/shdep:

	generate dependencies automatically for NEB directory [Gerardo]

2003-11-20 17:55  ballabio

	* Makefile:


	fixed bug in "make tar" [Gerardo]

	CVS----------------------------------------------------------------------

2003-11-20 17:20  sbraccia

	* Makefile:

	Reference to Makefile.neb removed. C.S.

2003-11-20 14:28  ballabio

	* Makefile:

	[no log message]

2003-11-19 18:10  ballabio

	* Makefile, configure.ac, configure.new, make.sys.in:

	misc improvements in Makefile and configure.new [Gerardo]

2003-11-19 18:08  ballabio

	* clib/c_mkdir.c:

	Removed unneeded #ifdef: including <time.h> is going to work everywhere

2003-11-19 14:08  moscac

	* PW/delta_e.f90:

	[no log message]

2003-11-18 19:33  sbraccia

	* PW/qvan2.f90:

	An IF statement (line 119) that causes an array ot of bound exception on alpha
	compiler has been modified.
	C.S.

2003-11-18 13:20  sbraccia

	* Makefile:

	A link was not created in bin/ for pwneb.x
	Fixed.  C.S.

2003-11-18 11:04  sbraccia

	* Makefile:

	Added support for neb.
	C.S.

2003-11-17 12:52  sbraccia

	* Modules/: input_parameters.f90, read_cards.f90,
	  read_namelists.f90:

	Added support for neb code. C.S.

2003-11-17 10:31  sbraccia

	* Modules/io_files.f90:

	Added another unit needed by neb (and eventually by other codes)
	to terminate a simulation creating an empty file "EXIT" in the
	working directory.
	C.S.

2003-11-17 10:25  sbraccia

	* PW/mix_rho.f90:

	df_ns and dv_ns types changed from complex to real.
	C.S.

2003-11-14 15:03  giannozz

	* PW/memory.f90, configure.new:

	Cleanup

2003-11-14 15:02  giannozz

	* clib/c_mkdir.c:

	Workaround for icc incompatibility

2003-11-14 15:01  giannozz

	* CPV/modules.f90:

	Workaround for ifc 7.1 internal compiler error

2003-11-13 19:11  ballabio

	* INSTALL:

	updated INSTALL to describe the new installation procedure [Gerardo]

2003-11-13 15:18  ballabio

	* Makefile:

	remove config.log, config.status when "make veryclean" [Gerardo]

2003-11-13 14:35  ballabio

	* Makefile, config.guess, config.sub, configure.ac, configure.new,
	  install-sh, make.rules.in, make.sys.in:

	added autoconf-based configure (file "configure.new") and related files
	[Gerardo]

2003-11-13 12:40  ballabio

	* Makefile:

	modified "make tar" so that CVS directories are left out [Gerardo]

2003-11-13 10:21  ballabio

	* moduledep.sh:

	moduledep.sh: remove temporary files [Gerardo]

2003-11-12 19:46  ballabio

	* makedeps.sh, moduledep.sh:

	added shell scripts makedeps.sh, moduledep.sh to replace shdep,
	moduledep.x
	placed them in main directory because when I'm finished with
	autoconf-based configure, there'll be no need for an install directory
	any more
	[Gerardo]

2003-11-12 19:10  ballabio

	* configure:

	uncomment a few lines I had commented, didn't mean to commit that
	[Gerardo]

2003-11-12 18:54  ballabio

	* configure, flib/Makefile, install/Rules.cpp:

	fixed a typo in emptystates.f90, I wonder how could it compile at all
	[Gerardo]

2003-11-12 16:03  sbraccia

	* Modules/io_files.f90:

	Units and files needed by neb has been added.
	C.S.

2003-11-12 15:18  giannozz

	* PH/addusldos.f90, PH/drhodvus.f90, PH/dvqpsi_us.f90,
	  PH/dvqpsi_us_only.f90, PH/solve_e.f90, PH/syme.f90,
	  install/shdep:

	some pointers converted to allocatable (Michele)
	new script to find dependencies

2003-11-10 09:30  giannozz

	* Gamma/sum_band.f90, PP/bands.f90, PP/projwfc.f90,
	  PW/electrons.f90, PW/stop_pw.f90:

	Compilation problems (residual "units" modules) fixed
	Documentation and ChangeLog updated

2003-11-09 19:37  cavazzon

	* Modules/io_files.f90:

	default values for file units

2003-11-09 19:30  cavazzon

	* D3/bcast_d3_input.f90, D3/close_open.f90, D3/d0rhod2v.f90,
	  D3/d3vrho.f90, D3/dpsidvdpsi.f90, D3/dqrhod2v.f90,
	  D3/gen_dpdvp.f90, D3/openfild3.f90, D3/solve_linter_d3.f90,
	  D3/stop_d3.f90, D3/write_igk.f90, Gamma/c_bands.f90,
	  Gamma/cg_setup.f90, Gamma/force_us.f90, Gamma/raman.f90,
	  Gamma/wfcinit.f90, Modules/io_files.f90, PH/add_zstar_ue.f90,
	  PH/add_zstar_ue_us.f90, PH/compute_becalp.f90,
	  PH/compute_drhous.f90, PH/dielec.f90, PH/drhodv.f90,
	  PH/dynmat_us.f90, PH/elphon.f90, PH/localdos.f90,
	  PH/openfilq.f90, PH/phq_init.f90, PH/solve_e.f90,
	  PH/solve_linter.f90, PH/stop_ph.f90, PH/zstar_eu.f90,
	  PH/zstar_eu_us.f90, PP/average.f90, PP/elf.f90, PP/local_dos.f90,
	  PP/plan_avg.f90, PP/pw2wan.f90, PP/stm.f90, PW/bp_c_phase.f90,
	  PW/c_bands.f90, PW/electrons.f90, PW/force_hub.f90,
	  PW/force_us.f90, PW/hinit0.f90, PW/input.f90, PW/openfil.f90,
	  PW/ortho.f90, PW/orthoatwfc.f90, PW/potinit.f90, PW/punch.f90,
	  PW/pwcom.f90, PW/read_conf_from_file.f90,
	  PW/remove_atomic_rho.f90, PW/restart.f90,
	  PW/restart_from_file.f90, PW/restart_in_electrons.f90,
	  PW/restart_in_ions.f90, PW/save_in_cbands.f90,
	  PW/save_in_electrons.f90, PW/save_in_ions.f90, PW/setlocal.f90,
	  PW/stres_hub.f90, PW/stres_knl.f90, PW/sum_band.f90,
	  PW/update_pot.f90, PW/wfcinit.f90, PW/write_config_to_file.f90,
	  PWCOND/condcom.f90, PWCOND/summary_band.f90, pwtools/kpoints.f:

	- bug (alpha compiler) reported by Sergey has been fixed
	- module filnam in pwcom moved to io_files module
	- module units in pwcom moved to io_file

	From now on, all file names and their unit and attributes (i.e. reclen)
	should be defined in Modules/io_files.f90

2003-11-09 11:42  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/errore.f90,
	  CPV/input.f90, CPV/macdep.f90, CPV/modules.f90, CPV/para.f90,
	  CPV/restart.f90, CPV/which_dft.f90, CPV/wrapper.f90, D3/Makefile,
	  D3/d0rhod2v.f90, D3/d3vrho.f90, D3/dqrhod2v.f90,
	  D3/gen_dpdvp.f90, D3/incdrhoscf2.f90, D3/solve_linter_d3.f90,
	  Gamma/Makefile, Gamma/a_h.f90, Gamma/allocate_wfc.f90,
	  Gamma/c_bands.f90, Gamma/cg_setup.f90, Gamma/dvpsi_e.f90,
	  Gamma/dvpsi_kb.f90, Gamma/dynmatcc.f90, Gamma/force_us.f90,
	  Gamma/rhod2vkb.f90, Gamma/solve_e.f90, Gamma/solve_ph.f90,
	  Gamma/stres_us.f90, Gamma/sum_band.f90, Gamma/vloc_psi.f90,
	  Gamma/wfcinit.f90, Modules/Makefile, Modules/recvec.f90,
	  Modules/wavefunctions.f90, PH/Makefile, PH/add_dkmds.f90,
	  PH/add_zstar_ue.f90, PH/add_zstar_ue_us.f90, PH/addusddens.f90,
	  PH/addusldos.f90, PH/allocate_phq.f90, PH/compute_drhous.f90,
	  PH/dvkb3.f90, PH/dvpsi_e.f90, PH/dvqpsi_us.f90, PH/dynmat_us.f90,
	  PH/ef_shift.f90, PH/elphon.f90, PH/h_psiq.f90, PH/incdrhoscf.f90,
	  PH/localdos.f90, PH/phq_init.f90, PH/psidspsi.f90,
	  PH/solve_e.f90, PH/solve_linter.f90, PH/zstar_eu.f90,
	  PH/zstar_eu_us.f90, PP/Makefile, PP/average.f90, PP/bands.f90,
	  PP/chdens.f90, PP/elf.f90, PP/local_dos.f90, PP/local_dos1d.f90,
	  PP/plan_avg.f90, PP/projwfc.f90, PP/pw2wan.f90, PP/stm.f90,
	  PW/Makefile, PW/addusdens.f90, PW/allocate_fft.f90,
	  PW/allocate_wfc.f90, PW/atomic_rho.f90, PW/bp_c_phase.f90,
	  PW/c_bands.f90, PW/clean_pw.f90, PW/dndepsilon.f90,
	  PW/dndtau.f90, PW/dprojdepsilon.f90, PW/dprojdtau.f90,
	  PW/electrons.f90, PW/force_cc.f90, PW/force_corr.f90,
	  PW/force_us.f90, PW/h_psi.f90, PW/mix_rho.f90, PW/new_ns.f90,
	  PW/newd.f90, PW/ortho.f90, PW/punch.f90, PW/restart.f90,
	  PW/restart_in_electrons.f90, PW/restart_in_ions.f90,
	  PW/stres_cc.f90, PW/stres_har.f90, PW/stres_knl.f90,
	  PW/stres_loc.f90, PW/stres_us.f90, PW/sum_band.f90,
	  PW/update_pot.f90, PW/wavefunctions.f90, PW/wfcinit.f90,
	  PWCOND/Makefile, flib/lapack.f, flib/lapack_ibm.f,
	  flib/ngnr_set.f90, pseudo/Cu.pz-d-rrkjus.UPF:

	- unit 6 replaced by stdout in CPV
	- ^M removed from pseudo files
	- wavefunctions arrais moved to module
	  wavefunctions_module, common to all codes
	  this is required to reduce duplicated subroutine
	- new lapack subroutine, called from PWCOND,
	  added to lib/lapack.f lib/lapack_ibm.f

2003-11-07 16:08  giannozz

	* install/: Make.beo_ifc, Make.pc_ifc:

	Doc updated, example 5 and some Make.* files corrected

2003-11-06 18:43  cavazzon

	* PP/pw2wan.f90:

	bug fix in atomic coordinate conversion

2003-11-06 17:39  moscac

	* PW/addusforce.f90:

	file addusforce of noncolin unified with the one in collinear version.

2003-11-06 16:35  cavazzon

	* PW/: input.f90, pwcom.f90:

	ibm xlf bug workaround related to the "use only" sintax construct
	carlo

2003-11-06 14:06  sbraccia

	* D3/: d0rhod2v.f90, d3_setup.f90, d3_summary.f90, d3ionq.f90,
	  d3toten.f90, gen_dwfc.f90, incdrhoscf2.f90, print_clock_d3.f90,
	  set_efsh.f90, set_sym_irr.f90, solve_linter_d3.f90:

	Unit stdout (set in Modules/io_global.f90) is used to write on standard output
	instead of 6 or *.
	C.S.

2003-11-06 10:41  sbraccia

	* PP/: average.f90, chdens.f90, dos.f90, plot_io.f90, plotband.f90,
	  plotrho.f90, projwfc.f90, punch_plot.f90, pw2wan.f90, stm.f90,
	  voronoy.f90, work_function.f90:

	Unit stdout (set in Modules/io_global.f90) is used to write on standard output
	instead of 6 or *.
	C.S.

2003-11-05 20:01  sbraccia

	* PH/: addusddens.f90, cgsolve_all.f90, compute_alphasum.f90,
	  compute_becsum.f90, compute_qdipol.f90, compute_weight.f90,
	  d2ionq.f90, dielec.f90, drhodv.f90, drhodvus.f90, dvanqq.f90,
	  dvpsi_e.f90, dyndia.f90, dynmat_us.f90, dynmatrix.f90,
	  ef_shift.f90, incdrhoscf.f90, io_pattern.f90, localdos.f90,
	  phonon.f90, phq_init.f90, phq_recover.f90, phq_setup.f90,
	  phq_summary.f90, phqscf.f90, print_clock_ph.f90,
	  punch_plot_e.f90, punch_plot_ph.f90, set_irr.f90,
	  set_irr_mode.f90, solve_e.f90, solve_linter.f90, star_q.f90,
	  sym_and_write_zue.f90, tra_write_matrix.f90,
	  write_epsilon_and_zeu.f90, write_matrix.f90, zstar_eu.f90:

	Unit stdout (set in Modules/io_global.f90) is used to write on standard output
	instead of 6 or *.
	C.S.

2003-11-05 18:52  sbraccia

	* PW/noncol.f90:

	error in the module name fixed

2003-11-05 18:31  sbraccia

	* PW/noncol.f90:

	input modified because of a bug in mpixlf_r compiler on ibm machines

2003-11-05 18:22  moscac

	* PW/input.f90:

	input modified because of a bug in mpixlf_r compiler on ibm machines

2003-11-05 17:32  sbraccia

	* clib/: c_mkdir.c, cp.h:

	c_mkdir.c modified to be "underscore independent"
	C.S.

2003-11-05 16:56  sbraccia

	* clib/: Makefile, c_mkdir.c:

	Added a wrapper to the libc function mkdir() (clib/c_mkdir.c)
	C.S.

2003-11-05 12:35  sbraccia

	* Modules/constants.f90:

	Added eps16 (1.0D-16) and eps32 (1.0D-32).
	C.S.

2003-11-04 14:05  sbraccia

	* PW/error.f90:

	Error messages are written on unit = *.
	C.S.

2003-11-04 12:30  sbraccia

	* PWCOND/: init_cond.f90, init_gper.f90, jbloch.f90, kbloch.f90,
	  local.f90, summary_band.f90, transmit.f90:

	Unit stdout (set in Modules/io_global.f90) is used to write on standard output
	instead of 6 or *.
	C.S.

2003-11-04 11:53  sbraccia

	* Gamma/: allocate_wfc.f90, c_bands.f90, cg_summary.f90,
	  cgsolve.f90, d2ion.f90, dyndiar.f90, raman.f90, regterg.f90,
	  solve_e.f90, solve_ph.f90, stres_us.f90, sum_band.f90,
	  wfcinit.f90:

	Unit stdout (set in Modules/io_global.f90) is used to write on standard output
	instead of 6 or *.
	C.S.

2003-11-04 11:48  sbraccia

	* PW/: add_efield.f90, addusforce.f90, allocate_fft.f90,
	  allocate_wfc.f90, atomic_rho.f90, bfgs.f90, bp_c_phase.f90,
	  bp_calc_btq.f90, bp_qvan3.f90, c_bands.f90, c_gemm.f90,
	  ccgdiagg.f90, cdiisg.f90, cegterg.f90, cft_3.f90, cft_t3e.f90,
	  check.f90, compute_dip.f90, data_structure.f90, davcio.f90,
	  dprojdepsilon.f90, dynamics.f90, efermig.f90, efermit.f90,
	  electrons.f90, error.f90, ewald.f90, forces.f90, gen_at_dj.f90,
	  gen_at_dy.f90, gen_us_dy.f90, ggen.f90, init_run.f90,
	  init_us_1.f90, input.f90, linmin.f90, mix_rho.f90, move_ions.f90,
	  new_ns.f90, newd.f90, openfil.f90, orthoatwfc.f90,
	  output_tau.f90, potinit.f90, print_clock_pw.f90, punch.f90,
	  read_conf_from_file.f90, readvan.f90, remove_atomic_rho.f90,
	  restart.f90, restart_from_file.f90, restart_in_electrons.f90,
	  restart_in_ions.f90, rho2zeta.f90, s_gemm.f90, scala_cdiag.f90,
	  scala_cdiaghg.f90, scale_h.f90, set_fft_dim.f90, set_rhoc.f90,
	  setup.f90, sgam_at.f90, show_memory.f90, startup.f90,
	  stop_pw.f90, stres_hub.f90, stres_loc.f90, stres_us.f90,
	  stress.f90, sum_band.f90, summary.f90, update_pot.f90,
	  v_of_rho.f90, vcsmd.f90, vcsubs.f90, wfcinit.f90, which_dft.f90,
	  write_ns.f90:

	Unit stdout (set in Modules/io_global.f90) is used to write on standard output
	instead of 6 or *.
	C.S.

2003-11-04 11:26  sbraccia

	* Modules/: berry_phase.f90, clocks.f90, descriptors.f90,
	  energies.f90, fft_scalar.f90, fft_types.f90, io_base.f90,
	  kind.f90, mp.f90, mp_buffers.f90, mp_wave.f90, parser.f90,
	  ptoolkit.f90, read_cards.f90, readpseudo.f90, stick_base.f90:

	Unit stdout (set in io_global.f90) is used to write on standard output
	instead of 6 or *.
	C.S.

2003-11-04 10:32  sbraccia

	* Modules/version.f90:

	Version number updated to 1.3.1
	C.S.

2003-11-03 19:13  sbraccia

	* Modules/io_global.f90, PW/pwcom.f90:

	iunsdtout removed by PW/pwcom.f90. The unit for standar output (stdout)
	is contained in Modules/io_global.f90.
	C.S.

2003-11-03 17:00  sbraccia

	* PW/pwcom.f90:

	Two units have been added (iunstdout and iunneb) to rationalize the output.
	iunstdout will substitute 6 everywhere.
	C.S.

2003-10-30 14:58  moscac

	* Modules/: input_parameters.f90, read_namelists.f90:

	non collinear variables put into Modules

2003-10-30 14:56  moscac

	* PW/: Makefile, input.f90:

	non collinear input variables put into input.f90

2003-10-30 14:40  moscac

	* PW/noncol.f90:

	[no log message]

2003-10-29 19:53  tag pwsafe

2003-10-29 19:53  giannozz

	* D3/d3toten.f90, Gamma/Makefile, Gamma/addusdens.f90,
	  Gamma/allocate_fft.f90, Gamma/atomic_rho.f90, Gamma/fake.f90,
	  Gamma/gradcorr.f90, Gamma/interpolate.f90, Gamma/mix_rho.f90,
	  Gamma/set_rhoc.f90, Gamma/setlocal.f90, Gamma/v_of_rho.f90,
	  PH/phonon.f90, PP/start_postproc.f90, PW/addusdens.f90,
	  PW/allocate_fft.f90, PW/atomic_rho.f90, PW/gradcorr.f90,
	  PW/interpolate.f90, PW/mix_rho.f90, PW/set_rhoc.f90,
	  PW/setlocal.f90, PW/v_of_rho.f90:

	Several Gamma-specific routines merged into PW/

2003-10-29 19:01  giannozz

	* Gamma/gradcorr.f90:

	oops...gradient correction corrected

2003-10-29 18:45  giannozz

	* Gamma/addusdens.f90, Gamma/allocate_fft.f90,
	  Gamma/atomic_rho.f90, Gamma/gradcorr.f90, Gamma/interpolate.f90,
	  Gamma/mix_rho.f90, Gamma/pw_dot.f90, Gamma/pw_gemm.f90,
	  Gamma/set_rhoc.f90, Gamma/setlocal.f90, Gamma/v_of_rho.f90,
	  PW/gradcorr.f90, PW/mix_rho.f90, PW/v_of_rho.f90:

	More Gamma cleanup

2003-10-29 15:05  giannozz

	* Gamma/Makefile, Gamma/a_h.f90, Gamma/add_vuspsi.f90,
	  Gamma/addusdens.f90, Gamma/allocate_fft.f90,
	  Gamma/allocate_wfc.f90, Gamma/atomic_rho.f90, Gamma/c_bands.f90,
	  Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90, Gamma/force_us.f90,
	  Gamma/gamma.f90, Gamma/gradcorr.f90, Gamma/h_h.f90,
	  Gamma/interpolate.f90, Gamma/mix_rho.f90, Gamma/rbecmod.f90,
	  Gamma/rhod2vkb.f90, Gamma/set_rhoc.f90, Gamma/setlocal.f90,
	  Gamma/solve_e.f90, Gamma/solve_ph.f90, Gamma/stres_us.f90,
	  Gamma/sum_band.f90, Gamma/v_of_rho.f90, Gamma/vloc_psi.f90,
	  Gamma/wfcinit.f90, PP/bands.f90, PP/local_dos.f90:

	Gamma code cleanup: becp is allocated when used and then deallocated,
	obsolete module gamma removed

2003-10-29 14:00  sbraccia

	* PW/setup.f90:

	nbnd = NINT( nelec ) / 2.D0   =>   nbnd = NINT( nelec / 2.D0 )
	C.S.

2003-10-29 12:34  sbraccia

	* PW/setup.f90:

	USE pwcom has been splitted in several USE ..., ONLY : ...
	C.S.

2003-10-29 11:46  sbraccia

	* PW/pwcom.f90:

	LOGICAL variables lbfgs, lmd, lneb added in MODULE varie. They are
	intented to replace iswitch, at least when new code is written.
	C.S.

2003-10-29 11:41  sbraccia

	* Modules/constants.f90:

	eV_to_kelvin PARAMETER added.
	C.S.

2003-10-28 19:15  giannozz

	* TODO, PW/broadcast.f90, PW/poolbcast.f90, PW/poolrecover.f90:

	option -D__LAM was not working in same cases (Michele)

2003-10-28 16:01  giannozz

	* PW/: bfgs.f90, vcsmd.f90:

	Minor compilation problems due to formats

2003-10-28 15:17  sbraccia

	* Modules/fft_types.f90:

	In fft_types deallocation of fft_dlay_descriptor objects is done without
	checking if they are allocated or not. Fixed.
	C.S.

2003-10-28 12:46  giannozz

	* PW/data_structure.f90:

	data_structure merge with Gamma-only code completed

2003-10-28 12:23  giannozz

	* PH/dvpsi_e.f90:

	Reminder to everybody: & is needed both at end of line AND at the beginning
	of continuation line if there is a ' ' or " " spanning two lines

2003-10-28 12:16  giannozz

	* Gamma/: Makefile, allocate_fft.f90, data_structure_para.f90,
	  data_structure_scal.f90:

	[no log message]

2003-10-28 11:28  sbraccia

	* PW/: allocate_nlpot.f90, clean_pw.f90:

	In allocate_nlpot arrays ns and nsnew are allocated also when lda_plus_u = .FALSE.
	(see comment at lines 98-100 ).
	In clean_pw deallocation of g has been added.
	C.S.

2003-10-28 09:05  giannozz

	* TODO, configure, Gamma/pwscf.f90, PW/pwscf.f90:

	minor things: "external ::", examples for noncolinear case

2003-10-24 17:57  degironc

	* D3/Makefile, PH/Makefile, PH/add_dkmds.f90,
	  PH/add_for_charges.f90, PH/add_zstar_ue.f90,
	  PH/add_zstar_ue_us.f90, PH/addnlcc_zstar_eu_us.f90,
	  PH/allocate_phq.f90, PH/compute_qdipol.f90, PH/dielec.f90,
	  PH/dvkb3.f90, PH/dvpsi_e.f90, PH/dynmatrix.f90, PH/openfilq.f90,
	  PH/phcom.f90, PH/phq_init.f90, PH/print_clock_ph.f90,
	  PH/psidspsi.f90, PH/set_drhoc.f90, PH/solve_e.f90,
	  PH/stop_ph.f90, PH/zstar_eu.f90, PH/zstar_eu_us.f90:

	speed-up of z* calculation

2003-10-22 10:24  sbraccia

	* PW/electrons.f90:

	A bug that I introduced in electrons.f90 (line 145 "==" instead of ">=" ) has been fixed.
	C.S.

2003-10-21 15:37  sbraccia

	* Modules/: clocks.f90, shmem_include.f90, version.f90:

	SAVE attribute added.
	Now all modules containing global variables should have a SAVE attribute.

2003-10-21 10:56  giannozz

	* PP/projwfc.f90:

	Input documentation (sort of) for projwfc
	Added template for developers' guide - please read sec.1.1

2003-10-17 14:03  giannozz

	* Gamma/cgcom.f90, Gamma/gamma.f90, Gamma/rbecmod.f90, PH/elph.f90,
	  PH/phcom.f90, PW/becmod.f90, PW/para.f90, PW/pwcom.f90,
	  PW/wavefunctions.f90, PWCOND/condcom.f90:

	Added SAVE to all modules

2003-10-16 19:41  giannozz

	* Modules/clocks.f90, PW/electrons.f90, PW/forces.f90,
	  PW/init_run.f90:

	sp4 compilation glitches

2003-10-16 18:30  giannozz

	* TODO, Gamma/pwscf.f90, Modules/clocks.f90, PW/bfgs.f90,
	  PW/clean_pw.f90, PW/electrons.f90, PW/forces.f90,
	  PW/init_run.f90, PW/input.f90, PW/pwcom.f90, PW/pwscf.f90,
	  pseudo/Fe.pz-nd-rrkjus.UPF:

	bfgs modified to work with arbitrary components of the atomic positions
	kept fixed (Carlo Sbraccia)
	"Total force" now prints a more sensible quantity:
	\sqrt(\sum_{i,n} f_i(n)^2) instead of \sum_{i,n} |f_i(n)|
	Cleanup in several routines and in modules.

2003-10-16 16:39  degironc

	* Makefile, D3/Makefile, PH/Makefile, PH/add_dkmds.f90,
	  PH/add_for_charges.f90, PH/add_zstar_ue.f90,
	  PH/add_zstar_ue_us.f90, PH/addnlcc.f90,
	  PH/addnlcc_zstar_eu_us.f90, PH/dvpsi_e.f90, PH/dynmatrix.f90,
	  PH/openfilq.f90, PH/phcom.f90, PH/phq_init.f90,
	  PH/phq_readin.f90, PH/phqscf.f90, PH/psidspsi.f90,
	  PH/zstar_eu.f90, PH/zstar_eu_us.f90:

	16 Oct 2003   US effective charges now available in the phonon code.
	              Contributed by Gernot Deinzer

2003-10-15 16:34  giannozz

	* PWCOND/Makefile, pwtools/Makefile:

	Makefile tweaking for sp3 with old compiler

2003-10-15 13:43  degironc

	* PW/poolscatter.f90:

	poolscatter needs to distribute k-points related stuff (et and wg) with the
	correct "granularity" (kunit), otherwise an erron in the phonon code arise
	when used with pools.

	SdG

2003-10-15 13:40  giannozz

	* configure:

	[no log message]

2003-10-15 13:39  giannozz

	* PW/openfil.f90, PW/pwcom.f90, PW/stres_hub.f90,
	  PW/update_pot.f90, PH/addusdbec.f90, PH/compute_drhous.f90,
	  PH/drho.f90, PH/phq_init.f90, PH/phq_setup.f90, PH/solve_e.f90,
	  PH/solve_linter.f90, pwtools/Makefile, pwtools/matdyn.f90:

	phonon: added comments to remind why dbecsum is summed
	over processors; various calls to setv removed
	Second occurrence of wsinit and wsweight removed
	Unit number cleanup (solves problem with conflicting units)

2003-10-13 16:38  giannozz

	* pseudo/: CuUS.RRKJ3.UPF, Ni.pbe-nd-rrkjus.UPF:

	[no log message]

2003-10-08 17:55  giannozz

	* PP/bands.f90, PP/plotband.f90, PP/projwfc.f90,
	  upftools/cpmd2upf.f90:

	PW/input.f90: lattice parameter a converted to wrong units if input
	is given as a,b,c,cos(ab),cos(ac),cos(bc) instead of celldm(:)
	upftools/cpmd2upf.f90: wrong conversion due to Rydberg-Hartree mess
	Minor cleanup.  Band plotting may output data in xmgr-readable format

2003-10-06 15:21  dalcorso

	* PW/input.f90:

	Unit conversion was inconsistent with the definition in INPUT_PW.

2003-10-06 09:37  cavazzon

	* PP/bands.f90, PP/projwfc.f90, pseudo/Cu.pz-d-rrkjus.UPF:

	pseudopotential for example13 added

2003-10-03 19:30  giannozz

	* INSTALL, PW/openfil.f90, clib/cp.h, install/Make.hp,
	  install/Make.hpMPI:

	changes for HP PA-Risc

2003-10-03 18:47  giannozz

	* PP/bands.f90, PP/projwfc.f90, PW/compute_dip.f90, PW/delta_e.f90,
	  PW/gather.f90, PW/move_ions.f90, PW/print_clock_pw.f90,
	  PW/pwscf.f90, PW/read_file.f90, PW/scatter.f90, PW/setup.f90,
	  PW/sgam_at.f90, PW/symrho.f90:

	misc. cleanup, postprocessing adapted to last changes

2003-10-03 16:01  cavazzon

	* Makefile, D3/Makefile, D3/d0rhod2v.f90, D3/d3_setup.f90,
	  D3/d3vrho.f90, D3/dqrhod2v.f90, D3/gen_dpdvp.f90,
	  D3/incdrhoscf2.f90, D3/solve_linter_d3.f90, Gamma/Makefile,
	  Gamma/a_h.f90, Gamma/allocate_fft.f90, Gamma/allocate_wfc.f90,
	  Gamma/atomic_rho.f90, Gamma/c_bands.f90, Gamma/cg_setup.f90,
	  Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90, Gamma/dynmatcc.f90,
	  Gamma/force_us.f90, Gamma/rhod2vkb.f90, Gamma/solve_e.f90,
	  Gamma/solve_ph.f90, Gamma/stres_us.f90, Gamma/sum_band.f90,
	  Gamma/vloc_psi.f90, Gamma/wfcinit.f90, PH/Makefile,
	  PH/add_zstar_ue.f90, PH/addusddens.f90, PH/addusldos.f90,
	  PH/allocate_phq.f90, PH/compute_drhous.f90, PH/dvpsi_e.f90,
	  PH/dvqpsi_us.f90, PH/dynmat_us.f90, PH/ef_shift.f90,
	  PH/elphon.f90, PH/h_psiq.f90, PH/incdrhoscf.f90, PH/localdos.f90,
	  PH/phq_init.f90, PH/phq_setup.f90, PH/solve_e.f90,
	  PH/solve_linter.f90, PH/zstar_eu.f90, PP/Makefile,
	  PP/average.f90, PP/chdens.f90, PP/elf.f90, PP/local_dos.f90,
	  PP/local_dos1d.f90, PP/plan_avg.f90, PP/pw2wan.f90, PP/stm.f90,
	  PW/Makefile, PW/addusdens.f90, PW/allocate_fft.f90,
	  PW/allocate_wfc.f90, PW/atomic_rho.f90, PW/bp_c_phase.f90,
	  PW/c_bands.f90, PW/clean_pw.f90, PW/dndepsilon.f90,
	  PW/dndtau.f90, PW/dprojdepsilon.f90, PW/dprojdtau.f90,
	  PW/electrons.f90, PW/force_cc.f90, PW/force_corr.f90,
	  PW/force_us.f90, PW/h_psi.f90, PW/mix_rho.f90, PW/new_ns.f90,
	  PW/newd.f90, PW/ortho.f90, PW/punch.f90, PW/pwcom.f90,
	  PW/restart.f90, PW/restart_in_electrons.f90,
	  PW/restart_in_ions.f90, PW/stres_cc.f90, PW/stres_har.f90,
	  PW/stres_knl.f90, PW/stres_loc.f90, PW/stres_us.f90,
	  PW/sum_band.f90, PW/update_pot.f90, PW/wavefunctions.f90,
	  PW/wfcinit.f90, PWCOND/Makefile, install/shdep:

	non collinear spin version of PW,
	contributed by Adriano Mosca Conte,
	added to the repository.
	The non collinear code has required
	a new module "wavefunctions" containing
	"psic" and "evc", that no longer belong
	to pwcom.

	use: cvs update -d

	there's a new example (example13), that is not
	yet complete, I'm waiting for the appropriate
	pseudopotential from Adriano

2003-10-03 13:17  giannozz

	* PP/: Makefile, average.f90, avmain.f90, bands.f90, chdens.f90,
	  chmain.f90, do_postproc.f90, dos.f90, plotband.f90, postproc.f90,
	  projwave.f90, projwfc.f90, punch_band.f90, pw2wan.f90,
	  voromain.f90, voronoy.f90:

	Cleanup of PP routines - band plotting simplified

2003-10-02 18:55  giannozz

	* PP/plotband.f90:

	tics missing in band plot

2003-09-24 12:03  dalcorso

	* PWCOND/: Makefile, allocate_cond.f90, allocate_cond_2.f90,
	  bessj.f90, cft3sp.f90, compbs.f90, compbs_2.f90, condcom.f90,
	  condmain.f90, do_cond.f90, eigenchnl.f90, form_zk.f90, four.f90,
	  free_mem.f90, gep.f, gep_gep.f90, gep_x.f90, gramsh.f90,
	  hev_ab.f90, init_cond.f90, init_gper.f90, integrals.f90,
	  jbloch.f90, kbloch.f90, local.f90, local_set.f90, poten.f90,
	  rotate.f90, rotproc.f90, scatter_back.f90, scatter_forw.f90,
	  slabcpu.f90, summary_band.f90, summary_tran.f90, transmit.f90:

	Program for complex bands and conductance calculation.

2003-09-24 11:59  dalcorso

	* Makefile, configure, install/shdep:

	Modified files for complex band structure and conductance calculation.

2003-09-23 16:45  cavazzon

	* D3/Makefile, D3/bcast_d3_input.f90, D3/d3_readin.f90,
	  D3/d3toten.f90, Gamma/Makefile, Gamma/cg_readin.f90,
	  Gamma/cg_setup.f90, Gamma/pwscf.f90, Gamma/raman.f90,
	  Modules/io_base.f90, PH/Makefile, PH/bcast_ph_input.f90,
	  PH/openfilq.f90, PH/phonon.f90, PH/phq_readin.f90, PP/Makefile,
	  PP/average.f90, PP/do_postproc.f90, PP/dos.f90, PP/projwave.f90,
	  PP/punch_band.f90, PP/pw2wan.f90, PP/voronoy.f90, PW/Makefile,
	  PW/bfgs.f90, PW/diropn.f90, PW/dndepsilon.f90, PW/dndtau.f90,
	  PW/dprojdepsilon.f90, PW/dynamics.f90, PW/electrons.f90,
	  PW/force_hub.f90, PW/input.f90, PW/io.f90, PW/memory.f90,
	  PW/new_ns.f90, PW/openfil.f90, PW/potinit.f90, PW/punch.f90,
	  PW/pwscf.f90, PW/read_conf_from_file.f90, PW/read_file.f90,
	  PW/readin.f90, PW/restart.f90, PW/saveall.f90, PW/seqopn.f90,
	  PW/stop_pw.f90, PW/stres_hub.f90, PW/update_pot.f90,
	  PW/vcsmd.f90, PW/write_config_to_file.f90:

	different modules containing filenames and directories
	substituted by common module:
	Modules/io_files.f90

2003-09-22 19:12  giannozz

	* Modules/fft_scalar.f90:

	[no log message]

2003-09-19 20:47  giannozz

	* Modules/stick_base.f90:

	more t3e fixes

2003-09-17 23:50  giannozz

	* TODO, CPV/cpr.f90, CPV/cprsub.f90, CPV/fft_cp.f90, D3/Makefile,
	  Gamma/Makefile, Gamma/a_h.f90, Gamma/cg_setupdgc.f90,
	  Gamma/cgsolve.f90, Gamma/d2ion.f90, Gamma/dgradcorr.f90,
	  Gamma/dielec.f90, Gamma/drhodv.f90, Gamma/dvb_cc.f90,
	  Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90, Gamma/dyndiar.f90,
	  Gamma/dynmatcc.f90, Gamma/generate_effective_charges.f90,
	  Gamma/gradcorr.f90, Gamma/macro.f90, Gamma/rhod2vkb.f90,
	  Gamma/solve_e.f90, Gamma/solve_ph.f90, PH/Makefile, PH/setv.f90,
	  PP/Makefile, PW/Makefile, PW/bp_c_phase.f90, PW/setv.f90,
	  PW/startup.f90, pwtools/Makefile:

	many calls to "setv" replaced by f90 assignements

2003-09-17 10:36  giannozz

	* INSTALL, Modules/fft_scalar.f90, PW/bp_c_phase.f90, PW/cft3.f90,
	  PW/output_tau.f90, include/machine.h, install/Make.cygwin,
	  install/Make.hp:

	Wrong coordinates written if atomic_positions='crystal'
	Errors in makefiles for cygwin and hp
	Various compilation problems for t3e, alpha

2003-09-15 13:55  tag pw-1-3-0

2003-09-15 13:55  giannozz

	* configure, install/Make.hp:

	makefile for hp pa-risc added

2003-09-11 17:35  cavazzon

	* PP/pw2wan.f90:

	interface for wannier code modified
	for parallel execution

2003-09-11 10:13  cavazzon

	* Gamma/data_structure_para.f90:

	bug fix, dlay_set dimensioning

2003-09-10 09:42  giannozz

	* PW/cft_3.f90, install/Make.sxcross:

	More NEC-SX6 fixes

2003-09-09 15:35  cavazzon

	* PP/pw2wan.f90:

	interface for wannier function code

2003-09-09 12:10  giannozz

	* TODO, PW/potinit.f90, PW/readin.f90:

	Added consistency check for DFT read from PP files.

2003-09-09 11:51  dalcorso

	* PW/potinit.f90:

	Temporary bug fix with imix>0: In nscf calculation we start from the scf
	potential, not charge which is rewritten by punch.

2003-09-09 10:52  giannozz

	* CPV/: cplib.f90, read_pseudo.f90:

	Added consistency check on DFT read from PP files

2003-09-08 10:01  giannozz

	* clib/cp.h, install/Make.sxcross:

	more Nec fixes

2003-09-05 15:59  giannozz

	* PW/cft_3.f90, install/Make.sxcross:

	Fixes for NEC SX6 (Guido)

2003-09-04 17:22  degironc

	* pwtools/mv.awk:

	[no log message]

2003-09-04 10:54  giannozz

	* INSTALL:

	[no log message]

2003-09-02 16:17  giannozz

	* PW/memory.f90:

	Integer overflow in memory.x fixed (Adriano Mosca Conte)

2003-09-02 14:44  fabris

	* Modules/: input_parameters.f90, read_namelists.f90:

	[no log message]

2003-09-02 14:43  fabris

	* PW/: c_bands.f90, cdiisg.f90, input.f90, pwcom.f90, summary.f90:

	parallel and more robust version of DIIS diagonalization

2003-09-02 14:16  dalcorso

	* PH/adddvepsi_us.f90:

	Bug fix in the dielectric constant with US-PP. A factor i was not needed.
	Small differences with previous results. (Found by G. Deinzer).

2003-09-02 11:16  cavazzon

	* CPV/restart.f90, Modules/input_parameters.f90,
	  Modules/io_base.f90, Modules/read_namelists.f90, PH/openfilq.f90,
	  PH/phq_readin.f90, PW/input.f90, PW/openfil.f90, PW/restart.f90:

	io_base logic simplified even more,
	variable wf_collect added to the control namelist.
	This logical variable will be used in pw to
	collect wave funcions at the end of a parallel run.

2003-09-01 19:06  giannozz

	* TODO, pwtools/pwi2xsf.sh, pwtools/pwo2xsf.sh:

	Minor details

2003-09-01 16:01  dalcorso

	* PP/chdens.f90:

	Added output_format=5 to produce output .xsf also when e1,e2,e3 are given
	in input. (In the old version it was iflag=30)

2003-09-01 13:06  giannozz

	* configure, install/Make.cygwin, pwtools/Makefile,
	  pwtools/pwi2xsf.f, pwtools/pwi2xsf.sh, pwtools/pwi2xsf_new.f,
	  pwtools/pwi2xsflib.f, pwtools/pwo2xsf.sh:

	Example outputs updated. Manual updated.
	Added scripts from Tone, Makefile for cygwin.

2003-08-29 19:15  giannozz

	* Makefile, README.cvs, TODO, CPV/input.f90, CPV/para.f90,
	  D3/bcast_d3_input.f90, D3/d3_readin.f90, D3/d3toten.f90,
	  Gamma/pwscf.f90, Gamma/raman.f90, Modules/Makefile,
	  Modules/version.f90, PH/phonon.f90, PP/chdens.f90,
	  PP/start_postproc.f90, PW/hexsym.f90, PW/memory.f90,
	  PW/pwscf.f90, PW/startup.f90, flib/transto.f90, pwtools/Makefile,
	  pwtools/dist.f, pwtools/ev.f, pwtools/kpoints.f:

	Version number centralized in Modules/version.f90, updated to 1.3.0
	Auxiliary programs in pwtools/: equation of state (ev.x),
	distances/angles (dist.x), k-point generation (kpoints.x).
	D3 fixes (maybe). Misc cleanup.

2003-08-25 00:25  cavazzon

	* CPV/Makefile, CPV/cplib.f90, CPV/cpr.f90, CPV/errore.f90,
	  CPV/input.f90, CPV/modules.f90, CPV/restart.f90,
	  Modules/Makefile, Modules/control_flags.f90,
	  Modules/input_parameters.f90, Modules/io_base.f90,
	  Modules/io_files.f90, Modules/read_namelists.f90,
	  PW/read_file.f90, PW/restart.f90:

	- io_base logic simplified
	- substitution of USE ... with USE ... ONLY ...
	- directories and filenames moved to io_files,
	  common to all codes
	- clean up in control_flags

2003-08-21 17:14  giannozz

	* Gamma/Makefile, Gamma/atomic_rho.f90, Gamma/interpolate.f90,
	  Gamma/set_rhoc.f90, Gamma/setlocal.f90, Gamma/sum_band.f90,
	  Gamma/v_of_rho.f90, Gamma/vloc_psi.f90, PW/add_efield.f90,
	  PW/allocate_nlpot.f90, PW/input.f90, PW/v_of_rho.f90:

	sp3 fix (allocation with zero length). Manual updates.
	Gamma: fixed occupations, electric fields, cleanup.

2003-08-21 16:31  dalcorso

	* pseudo/O.pbe-rrkjus.UPF:

	Added an example of the use of occupation='from_input'.

2003-08-21 11:41  dalcorso

	* Modules/read_cards.f90, PH/phq_readin.f90, PW/input.f90,
	  PW/pwcom.f90, PW/saveall.f90, PW/setup.f90, PW/sum_band.f90:

	Very simple implementation of occupations='from_input' in pwscf.
	Useful for atomic calculations.

2003-08-20 19:05  giannozz

	* CPV/Makefile:

	Compilation problem for CP on sp4

2003-08-20 18:19  dalcorso

	* PP/plot_io.f90:

	Small change of format. Needed with large and negative atomic coordinates.

2003-08-20 18:16  giannozz

	* TODO, CPV/input.f90, Modules/input_parameters.f90,
	  Modules/read_namelists.f90, PP/punch_band.f90, PW/Makefile,
	  PW/cft_3.f90, PW/cft_fftw.f90, PW/cfts_3.f90, PW/readin.f90,
	  PW/set_fft_dim.f90, PW/summary.f90, pwtools/dist.f:

	punch_band.f90 works in parallel. Misc cleanup. "aceived" => "achieved"
	nelec, nelup, neldw may be real (PW only: CP, FPMD to be verified)

2003-08-11 19:48  giannozz

	* Gamma/c_bands.f90, PP/start_postproc.f90, PW/setup.f90:

	PP/start_postproc.f90 cleanup. Manual updated. Some error messages clarified.
	Example for Berry phase updated (BEWARE: space needed between card and option
	after last changes to input!!! K_POINT{automatic} => K_POINT {automatic} )

2003-07-31 15:24  cavazzon

	* CPV/cpr.f90, CPV/input.f90, Modules/input_parameters.f90,
	  Modules/read_cards.f90, Modules/read_namelists.f90, PW/input.f90:

	All namelists and cards moved to Modules/input_parameters.f90 .
	  From now on, all new input variables should be added
	  to this module, and then copied to the code internal
	  variables in the input.f90 subroutine
	The namelists and cards parsers are in :
	  Modules/read_namelists.f90 and Modules/read_cards.f90

	files input_parameters.f90 read_namelists.f90 read_cards.f90
	are shared by all codes, while each code has its own version
	of input.f90 ( used to copy input values into internals variables ).

	EXAMPLE:
	 suppose you need to add a new input variable called "pippo"
	 to the namelist control, then:

	1) add pippo to the input_parameters.f90 file containing the
	   namelist control

	   INTEGER :: pippo = 0
	   NAMELIST / control / ....., pippo

	   remember: always set an initialization value!

	2) add pippo to the control_default subroutine
	   ( cantained in module  read_namelists.f90 )

	   subroutine control_default( prog )
	     ...
	     IF( prog == 'PW' ) pippo = 10
	     ...
	   end subroutine

	   this routine set the default value for pippo,
	   that could vary with the code

	3) add pippo to the control_bcast subroutine
	   ( cantained in module  read_namelists.f90 )

	   subroutine control_bcast( )
	     ...
	     call mp_bcast( pippo )
	     ...
	   end subroutine

	4) add pippo to the control_checkin subroutine
	   ( cantained in module  read_namelists.f90 )

	   subroutine control_checking( prog )
	     ...
	     IF( pippo < 0 ) &
	       CALL error(' control_checkin ',' variable pippo less than 0 ', 1 )
	     ...
	   end subroutine

	5) Copy the value of pippo in the code internal variables
	   ( file input.f90 )

	   subroutine iosys()
	     use input_parameters, only: ...., pippo
	     use pwcom, only: ....., myvar
	     ...
	     call read_namelists( 'PW' )
	     ...
	     myvar =  pippo
	     ...
	   end subroutine

2003-07-31 14:54  degironc

	* Gamma/mix_rho.f90, PW/allocate_nlpot.f90, PW/dndepsilon.f90,
	  PW/dndtau.f90, PW/electrons.f90, PW/force_hub.f90,
	  PW/init_ns.f90, PW/mix_rho.f90, PW/new_ns.f90, PW/potinit.f90,
	  PW/stres_hub.f90, PW/vhpsi.f90, PW/write_ns.f90:

	30 Jul 2003  indexing of the occupation matrices (ns,nsnew, etc) used in
	             LDA+U has been redefined in a more natural order:
	             ns(na,is,ldim,ldim) -> ns(ldim,ldim,is,na)

2003-07-29 19:38  giannozz

	* TODO, PP/stm.f90:

	[no log message]

2003-07-28 19:36  giannozz

	* PP/: plotband.f90, punch_band.f90:

	punch_band did not compile
	plotband: do not stop in spline interpolation for silly reasons

2003-07-28 17:03  giannozz

	* PP/punch_band.f90, PW/gk_sort.f90, PW/input.f90:

	cell parameters in the case ibrav=0 back to previous convention
	(as documented in INPUT_PP). Misc. cleanup, manual updated

2003-07-25 14:26  cavazzon

	* PP/plotband.f90:

	Bug fix, jumps to labels inside if blocks (from outside) are not allowed!

2003-07-25 14:19  cavazzon

	* Gamma/Makefile:

	compilation fix, object PW/becmod.o added to Gamma/Makefile

2003-07-25 10:40  degironc

	* PH/: elphon.f90, phonon.f90, solve_linter.f90:

	25 Jul 2003  el-ph calculation in the US case should work properly.
	             An US term in the calculation of deltaV * psi_v needed in
	             elphon.f90 was missing. This was giving wrong number in version
	             1.2.0, while US case was not implemented in previous versions.

2003-07-23 14:18  giannozz

	* PP/punch_plot.f90, PP/stm.f90, PP/work_function.f90,
	  PW/clean_pw.f90, PW/setup.f90:

	clean_pw cleaned
	symmetries are always applied in non-scf calculations
	(with the exception of Berry-phase calculation):
	use nosym=.true. to prevent generation of additional points
	Example for STM added

2003-07-23 11:56  dalcorso

	* PP/average.f90:

	Bug fix: the call to latgen was not compatible with the new routine.

2003-07-23 11:52  dalcorso

	* PW/set_fft_dim.f90:

	Misleading error messages corrected.

2003-07-22 16:27  dalcorso

	* PW/read_file.f90:

	Mancava un'allocazione nel caso del postproc con campo E.

2003-07-22 12:02  cavazzon

	* PW/gk_sort.f90:

	"goto" substitute with "exit"
	gvectors modules are checked with the same tolerance
	as in the sorting routine.

2003-07-22 11:12  cavazzon

	* Makefile:

	Check for the presence of bin directory
	in order to avoid error messages

2003-07-22 10:48  cavazzon

	* PP/pw2wan.f90:

	small fix, use of prefix

2003-07-21 17:59  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/input.f90,
	  Modules/control_flags.f90, Modules/input_parameters.f90,
	  Modules/parameters.f90, Modules/read_namelists.f90,
	  Modules/stick_base.f90, PW/gk_sort.f90, flib/Makefile,
	  flib/ngnr_set.f90:

	FPMD:
	PRIVATE keyword added to all FPMD source files,
	variables that have to be known outside the module
	are explicitly declared as PUBLIC
	CPV:
	now CP uses the same input parser as FPMD

2003-07-21 15:35  giannozz

	* Makefile, TODO, PH/io_pattern.f90, PH/set_irr_mode.f90,
	  PH/set_irr_nosym.f90, PW/cft3s.f90, PW/output_tau.f90,
	  PW/psymrho.f90, PW/setup.f90, pwtools/dist.f:

	Fixed recently introduced memory leak, some cleanup,
	removed useless "include mpif.h"

2003-07-21 10:29  dalcorso

	* PP/chdens.f90:

	Small changes in the control flow. Dipole printed only when computed.

2003-07-11 18:47  giannozz

	* PW/which_dft.f90, pwtools/Makefile, pwtools/dist.f:

	Added yet another small utility program, more cleanup of unused routines

2003-07-11 17:16  giannozz

	* TODO, D3/Makefile, Gamma/Makefile, Modules/mp_wave.f90,
	  PH/Makefile, PP/Makefile, PW/Makefile, PW/bfgs.f90, PW/cft_3.f90,
	  PW/cryst_to_car.f90, PW/input.f90, PW/output_tau.f90,
	  PW/pencils.f90, PW/pwcom.f90, PW/set_pencils.f90, PW/vcsmd.f90:

	Atomic positions are written in a relaxation run in input units
	The unit cell can be given using crystallographic parameters a, b, c,
	(all in A), cosab cosac, cosbc .  Misc. cleanup

2003-07-10 18:59  cavazzon

	* Modules/Makefile, Modules/berry_phase.f90, Modules/mp_wave.f90,
	  Modules/recvec.f90, Modules/stick_base.f90, PW/clean_pw.f90,
	  PW/ggen.f90, PW/pwcom.f90, clib/indici.c, flib/Makefile,
	  flib/iglocal.f90, install/Make.fujitsu, install/Make.ibm,
	  install/Make.ibmsp, install/Make.sun:

	FPMD berry_phase and polarizability made shareable by other codes

2003-07-10 12:32  giannozz

	* PW/bp_c_phase.f90:

	IBM SP does not like DREAL of an integer ...

2003-07-09 11:06  giannozz

	* PP/punch_band.f90, PW/bp_c_phase.f90, flib/latgen.f90,
	  include/machine.h, include/machine.h.README,
	  install/Make.beo_ifc, install/Make.beowulf:

	Cleanup: latgen, punch_band (algorithm for band tracing improved)
	Minor changes to bp_c_phase to avoid compiler warnings
	Options for LAM MPI added (as suggested by Cangiani)

2003-07-07 23:58  cavazzon

	* CPV/cpr.f90, CPV/input.f90, Modules/read_cards.f90:

	a new iosys subroutine, called iosys2 added in CPV/input.f90 .
	This sub. share the input parsers (read_namelist and read_cards)
	with FPMD. Soon it will be possible to initialize and call all
	CP subroutines within FPMD, and viceversa.

2003-07-07 12:07  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile:

	Please update ALL Makefiles when adding new files

2003-07-06 23:47  cavazzon

	* CPV/Makefile, CPV/cell_module.f90, CPV/cplib.f90, CPV/cpr.f90,
	  CPV/cprsub.f90, CPV/input.f90, CPV/modules.f90,
	  CPV/read_pseudo.f90, CPV/restart.f90, Modules/Makefile,
	  Modules/cell_base.f90, Modules/electrons_base.f90,
	  Modules/input_parameters.f90, Modules/io_base.f90,
	  Modules/ions_base.f90, Modules/read_cards.f90,
	  Modules/read_namelists.f90:

	more merging, "only" keyword added to many "use"
	io_base: strings with the name of the data sections added to the
	restart file, this will allow R/W of data sections in any order

2003-07-04 15:09  cavazzon

	* PW/: Makefile, cfts_3.f90, clean_pw.f90, stop_pw.f90:

	New subroutine (clean_pw) that deallocate everything (in pw),
	contributed by Carlo Sbraccia

2003-07-01 17:00  giannozz

	* TODO, CPV/cplib.f90, CPV/cprsub.f90, PP/work_function.f90,
	  PW/bp_c_phase.f90:

	- CP : calls to "sph_bes" fixed, variable-cell is working again
	- PW : examples for conjugate gradient diagonalization

2003-07-01 12:11  cavazzon

	* Gamma/data_structure_para.f90, PW/cft3.f90, PW/cft3s.f90,
	  PW/data_structure.f90, PW/ggen.f90, PW/para.f90, PW/setlocal.f90:

	- arrays ipc ipcs icpl icpls substituted by
	  data structures dfftp dffts

	- small bug fixed in setlocal.f90

2003-06-30 16:30  cavazzon

	* CPV/cplib.f90, Gamma/Makefile, Gamma/gamma.f90, Gamma/ggen.f90,
	  Modules/constants.f90, Modules/io_base.f90, PW/ggen.f90,
	  PW/gk_sort.f90, PW/pwcom.f90, flib/sort.f90:

	restart file restructure started.
	new hpsort that should solve the problems with the unique
	g vectors ordering, d1, d2, d3 eliminated from ggens of all
	the codes.

2003-06-30 16:09  dalcorso

	* D3/Makefile, PH/Makefile, PP/Makefile, PP/do_postproc.f90,
	  PP/punch_plot.f90, PP/wsweight.f90, PW/Makefile,
	  PW/add_efield.f90, PW/compute_dip.f90, PW/electrons.f90,
	  PW/forces.f90, PW/input.f90, PW/pwcom.f90, PW/saveall.f90,
	  PW/setlocal.f90, PW/v_of_rho.f90, PW/wsweight.f90:

	Energy and forces with a finite electric field.
	Added the possibility to subtract the dipole field
	for slab or molecule calculation.
	(See  PRB 59, 12 301 (1999) and PRB 63, 205426 (2001).)

2003-06-30 10:11  dalcorso

	* PP/average.f90:

	Generalizzata average.f90 in modo da poter fare medie planari sui piani che si
	ottengono tenendo fisso uno qualunque degli indici della mesh di fft.

2003-06-30 09:04  dalcorso

	* PW/cdiisg.f90:

	Bug Fix: Mancava un argomento nella chiamata a rotate_wfc in cdiisg. Per favore
	controllate se la mia correzione va bene.

2003-06-30 08:58  dalcorso

	* PH/add_zstar_ue.f90:

	Bug Fix: zstar_ue non funzionava con un solo punto k e perturbazioni
	non degeneri perche' dpsi e' usata da dvpsi_e.

2003-06-25 19:29  giannozz

	* TODO, CPV/modules.f90:

	Compilation problem in CP + minor things

2003-06-25 14:43  cavazzon

	* CPV/cplib.f90, CPV/modules.f90, D3/Makefile, Gamma/Makefile,
	  Modules/Makefile, Modules/cell_base.f90, Modules/ions_base.f90,
	  PH/Makefile, PP/Makefile, PP/average.f90, PP/chdens.f90,
	  PP/voronoy.f90, PW/Makefile, PW/input.f90, PW/latgen.f90,
	  PW/volume.f90, flib/Makefile, flib/latgen.f90, flib/volume.f90,
	  install/shdep, pwtools/Makefile, pwtools/dynmat.f90,
	  pwtools/matdyn.f90, pwtools/q2r.f90:

	subroutine latgen and volume moved to flib
	and used by all codes,
	as common latgen it has been used the one contained in CPV,
	sice this version solve some problems related to left-handed cell

	new common module ions_base with ionic basic variables

2003-06-25 11:12  giannozz

	* PW/input.f90, PW/io.f90, PW/startup.f90, pwtools/Makefile:

	More files names dimensioned to 80, pwtools/Makefile fixed
	Examples updated, new example for band structure calculation added

2003-06-24 23:38  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/input.f90,
	  CPV/modules.f90, CPV/para.f90, CPV/restart.f90, D3/Makefile,
	  Gamma/Makefile, Modules/Makefile, Modules/cell_base.f90,
	  Modules/control_flags.f90, Modules/griddim.f90,
	  Modules/recvec.f90, Modules/smallbox.f90, PH/Makefile,
	  PP/Makefile, PP/punch_band.f90, PW/Makefile, PW/recips.f90,
	  PW/restart.f90, flib/Makefile, flib/recips.f90:

	More common modules for grid dimensioning,
	recips.f90 moved to flib and used by all codes

2003-06-20 17:30  giannozz

	* Makefile, TODO, CPV/input.f90, PP/Makefile, PP/bands.f90,
	  PP/do_postproc.f90, PP/plotband.f90, PP/punch_band.f90,
	  PW/startup.f90:

	PW/startup.f90: longer character variable np needed
	Band extraction moved out of PP/pp.x, into PP/bands.x
	Band plotting program (PP/plotband.f90) added
	Misc corrections

2003-06-19 18:49  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/modules.f90, Modules/recvec.f90:

	more merging in Module/recvecs
	intel compiler bug workaround: it seems that the intel compiler
	does not set the save attribute to the module variables unless
	there is an explicit initialization, this only for module not directly
	accessible to the main (if they are not in the same directory).
	The workaround is to set an initial value for all variables

2003-06-18 16:58  giannozz

	* PP/plotrho.f90, PW/readin.f90:

	Minor glitches in PW/readpp.f90, PP/plotrho.f90 fixed

2003-06-18 15:57  cavazzon

	* PP/pw2wan.f90:

	fix for new output filenames (prefix added)

2003-06-18 14:57  cavazzon

	* PP/: Makefile, pw2wan.f90:

	added interface to wannier package

2003-06-16 12:41  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/modules.f90,
	  CPV/restart.f90, Modules/cell_base.f90, Modules/constants.f90,
	  Modules/recvec.f90:

	more merging, recvecs module

2003-06-16 10:57  giannozz

	* INSTALL, configure, PP/stm.f90:

	Minor corrections

2003-06-13 18:55  giannozz

	* CPV/cplib.f90, CPV/restart.f90, D3/d3_summary.f90,
	  Modules/io_base.f90, Modules/kind.f90, PH/phq_summary.f90,
	  PH/solve_linter.f90, PW/punch.f90, PW/pwcom.f90, PW/readvan.f90,
	  PW/restart.f90, PW/startup.f90, PW/summary.f90:

	Spelling : "Informations" => "Information"

2003-06-13 15:14  giannozz

	* pseudo/: Ga.gon.UPF, O.vdb.UPF, Pb.vdb.UPF, Ti.vdb.UPF:

	Added PP for Berry phase test, removed Ga

2003-06-13 09:19  giannozz

	* TODO, PW/cinitcgg.f90:

	In cinitcgg, the array e must be dimensioned e(nbnd), not e(nstart)

2003-06-12 23:32  cavazzon

	* PW/: cdiaghg.f90, cinitcgg.f90:

	bug fix, or most likely compiler bug workaround,
	for IBM xlf 8.1.0.3

2003-06-12 18:46  cavazzon

	* Modules/fft_scalar.f90:

	fix for alpha platform and FFTW:
	 SIZE( c ) substituted with ldc * nsl

2003-06-12 13:23  giannozz

	* Modules/fft_scalar.f90, PW/bp_c_phase.f90, PW/cft3s.f90,
	  PW/cft_3.f90, clib/cp.h, clib/memstat.c, flib/scnds.f90,
	  include/machine.h, include/machine.h.README, install/Make.alpha,
	  install/Make.alphaMPI:

	Yet another line continuation problem in bp_c_phase.f90 (with ifc)
	DEC __QSW TRU64 => __ALPHA for Alpha machines (with OSF/Tru64 or
	whatever it is called now: any Alpha Linux around?)

2003-06-12 12:03  cavazzon

	* PW/bp_c_phase.f90:

	there was a comma at the end
	of a format string and the alpha compiler complained about that

2003-06-12 10:56  cavazzon

	* Modules/fft_scalar.f90, PW/bp_c_phase.f90:

	Compilation on SGI:
	 in fft_scalar.f90 there wasn't all proper #ifdef
	 bc_c_phase.f900 : when continuing a string on a new line an "&"
	  character should be added on the new line too!

2003-06-12 10:23  cavazzon

	* Modules/Makefile, Modules/recvec.f90, PW/c_bands.f90:

	merging: new module recvec.f90 will be used by all code
	 to store reciprocal vectors  dimensions

2003-06-12 09:43  giannozz

	* Makefile, D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PP/plotrho.f90, PP/start_postproc.f90, PW/input.f90,
	  PW/startup.f90, flib/blas.f, flib/lapack.f, include/machine.h,
	  install/Make.alpha, install/Make.alphaMPI, install/Make.beo_ifc,
	  install/Make.beowulf, install/Make.cp.qsw, install/Make.cp.sx5,
	  install/Make.fujitsu, install/Make.hitachi, install/Make.ibm,
	  install/Make.ibmsp, install/Make.irix, install/Make.origin,
	  install/Make.pc_abs, install/Make.pc_ifc, install/Make.pc_lahey,
	  install/Make.pc_pgi, install/Make.sun, install/Make.sunmpi,
	  install/Make.sxcross, install/Make.t3e, upftools/any2upf.f90,
	  upftools/cpmd2upf.f90, upftools/fhi2upf.f90,
	  upftools/ncpp2upf.f90, upftools/oldcp2upf.f90,
	  upftools/rrkj2upf.f90, upftools/uspp2upf.f90,
	  upftools/vdb2upf.f90:

	Installation cleanup; fftw are compiled by default
	All Makefiles updated for addition of Berry phase code
	iargc, getenv, getarg preprocessed
	Missing Blas/Lapack sources for pw added

2003-06-11 22:47  dieguez

	* PW/bp_strings.f90:

	[no log message]

2003-06-11 22:07  dieguez

	* PW/: Makefile, bp_bess.f, bp_c_phase.f90, bp_calc_btq.f90,
	  bp_dbess.f, bp_qvan3.f90, bp_radin.f, bp_ylm_q.f, bp_zgedi.f,
	  bp_zgefa.f, electrons.f90, input.f90, pwcom.f90, setup.f90:

	[no log message]

2003-06-09 23:27  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/input.f90,
	  CPV/modules.f90, Modules/Makefile, Modules/control_flags.f90,
	  Modules/descriptors.f90, Modules/energies.f90,
	  Modules/parallel_types.f90:

	More merging: modules energies and control_flags of FPMD and CPV
	  merged and moved to Modules
	Basic modules descriptors and parallel_types moved from FPMD to Modules

2003-06-03 14:44  giannozz

	* TODO, PW/memory.f90:

	Misc minor corrections

2003-06-02 22:55  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/input.f90,
	  CPV/modules.f90, Modules/cell_base.f90, Modules/constants.f90:

	- Cleanup
	- similar subroutines and variables merged together

2003-06-01 17:31  degironc

	* TODO:

	   TODO list updated

2003-05-29 18:08  giannozz

	* Makefile, TODO, configure, PW/Makefile, PW/memory.f90,
	  PW/startup.f90:

	memory estimator should work for parallel machines as well
	updates to manual

2003-05-29 11:19  giannozz

	* TODO, PW/diropn.f90, PW/seqopn.f90, PW/startup.f90:

	Bug in diropn: tmp file name too short
	startup: more general mechanism too catch npool
	(both contributed by Serguei Patchkovskii)

2003-05-28 16:53  giannozz

	* TODO, Gamma/h_psi.f90, Gamma/s_psi.f90, PP/Makefile,
	  PW/h_psi.f90, PW/pwcom.f90, PW/s_psi.f90:

	Minor cleanup

2003-05-27 00:02  cavazzon

	* CPV/cplib.f90, CPV/cprsub.f90, Modules/fft_base.f90,
	  Modules/mp_buffers.f90, flib/transto.f90:

	- common subroutine sph_bes linked to the CP in place
	  of bess
	- FPMD clean up and some performance issues

2003-05-24 18:56  cavazzon

	* Modules/fft_base.f90:

	bug fix in serial transpose (used by FPMD)

2003-05-23 11:39  cavazzon

	* Modules/: fft_base.f90, fft_scalar.f90:

	- also FPMD now is linked to the
	  same fft scalar drivers as CPV and PWSCF

2003-05-22 12:18  giannozz

	* Gamma/c_bands.f90, Gamma/h_psi.f90, Gamma/raman.f90,
	  Gamma/regterg.f90, Gamma/rotate_wfc.f90, Gamma/s_psi.f90,
	  Gamma/wfcinit.f90, PW/c_bands.f90, PW/cegterg.f90, PW/h_1psi.f90,
	  PW/h_psi.f90, PW/hinit1.f90, PW/input.f90, PW/memory.f90,
	  PW/print_clock_pw.f90, PW/pwcom.f90, PW/rotate_wfc.f90,
	  PW/s_psi.f90, PW/wfcinit.f90:

	Davidson modified to use less memory in non-US calculations
	(involves changes in several routines)
	Option "nooverlap" for Davidson removed

2003-05-19 19:46  giannozz

	* TODO, CPV/cplib.f90, CPV/input.f90, PW/c_bands.f90,
	  PW/cinitcgg.f90, PW/electrons.f90, PW/print_clock_pw.f90:

	CP:  some cleanup for occupancy and empty state calculation
	PW:  some cleanup in c_bands, timing, documentation
	     removed obsolete "scf in/out correction"

2003-05-19 11:26  fabris

	* PW/: c_bands.f90, input.f90, pwcom.f90, setup.f90, summary.f90:

	Small changes for RMM-DIIS diagonalization

2003-05-19 11:25  fabris

	* PW/cdiisg.f90:

	Very preliminary subroutine for band-by-band RMM-DIIS diagonalization.

2003-05-14 18:09  giannozz

	* CPV/: cplib.f90, cpr.f90, input.f90:

	CP bug: namelist &ions must be read in all cases
	Write charge density (if required) only at last step
	Documentation updated

2003-05-14 13:48  giannozz

	* PP/Makefile, PP/punch_plot.f90, PP/subtract_vxc.f90,
	  PW/v_of_rho.f90:

	postprocessing cleanup

2003-05-13 09:39  giannozz

	* PP/: chdens.f90, do_postproc.f90, punch_plot.f90:

	Doc for postprocessing in a single location

2003-05-12 14:31  giannozz

	* Gamma/mix_rho.f90, PW/mix_pot.f90, PW/mix_rho.f90,
	  install/Make.beo_ifc, install/Make.pc_ifc:

	MKL problem fixed (maybe)

2003-05-08 19:02  giannozz

	* PP/chdens.f90:

	oops...

2003-05-08 17:59  giannozz

	* TODO, PP/chdens.f90, PP/xsf.f90:

	PP/chdens.f90 rewritten, different input

2003-05-07 15:05  dalcorso

	* PH/punch_plot_e.f90:

	Corretto bug nel caso parallelo.

2003-05-07 11:41  dalcorso

	* PH/punch_plot_e.f90:

	Il nome dei files aperti da questa routine fildrho//ipol coincideva con
	quelli aperti in openfilq in una macchina parallela se outdir non e' settato.

2003-05-05 18:10  giannozz

	* TODO, D3/d3toten.f90, Gamma/ggen.f90, PH/phonon.f90,
	  PP/start_postproc.f90, PW/allocate_locpot.f90, PW/ggen.f90,
	  clib/cp.h, install/Make.pc_lahey:

	Some cleanup in ggen, __OLD_GGEN stuff removed,
	same code (almost) for PW and Gamma versions
	version number updated,  manual updated
	Lahey installation

2003-05-03 17:10  tag berry

2003-05-03 17:10  cavazzon

	* Gamma/data_structure_scal.f90, Modules/fft_scalar.f90:

	bug fix, sticks and serial Gamma code. The do_fft_x and do_fft_y
	vectors was built only from half of G-space.

2003-05-03 11:48  cavazzon

	* Modules/fft_scalar.f90:

	isign convention set as in PW and CPV

2003-05-02 17:35  giannozz

	* Gamma/: Makefile, ggen.f90, read_file.f90:

	[no log message]

2003-05-02 15:23  giannozz

	* D3/Makefile, Gamma/Makefile, Gamma/electrons.f90,
	  Gamma/pwscf.f90, PH/Makefile, PP/Makefile, PW/electrons.f90,
	  PW/pwscf.f90:

	Makefiles updated, Gamma updated, misc

2003-05-02 00:47  cavazzon

	* Gamma/Makefile, Modules/fft_scalar.f90, Modules/fft_types.f90,
	  Modules/ptoolkit.f90, PW/Makefile, PW/cft3s.f90, PW/cft_3.f90,
	  PW/data_structure.f90, clib/fft_stick.c:

	- cleanup
	- serial code sticks enabled with fftw to (then we should check when
	  it is worth to use them, in most cases seems convenient)

2003-04-30 10:42  giannozz

	* install/Make.ibm:

	removed -qnosave (problem in compilation)

2003-04-29 16:16  giannozz

	* PW/data_structure.f90:

	Misspell: nrx2 => nrx3

2003-04-29 13:20  degironc

	* PH/addusddens.f90, PH/addusldos.f90, PH/compute_alphasum.f90,
	  PH/compute_becsum.f90, PH/drho.f90, PH/dv_of_drho.f90,
	  PH/dvanqq.f90, PH/ef_shift.f90, PH/localdos.f90, PH/newdq.f90,
	  PH/phq_init.f90, PP/chdens.f90, PP/elf.f90, PP/ggen1d.f90,
	  PP/local_dos.f90, PP/local_dos1d.f90, PP/plan_avg.f90,
	  PW/addusdens.f90, PW/newd.f90, PW/print_clock_pw.f90,
	  PW/struct_fact.f90:

	more cleanup, mainly in PH dir

2003-04-29 12:09  cavazzon

	* pwtools/: Makefile, q2r.f90:

	tools fft linked to the module fft_scalar.f90

2003-04-29 11:42  cavazzon

	* PW/data_structure.f90:

	bug fix, number of sticks of the dense grid used also for smooth one

2003-04-28 12:56  degironc

	* PW/: cft3s.f90, cfts_3.f90:

	temporary fix: avoid calls to cfts_3; NOPENCILS is defined if not __PARA

2003-04-28 10:14  degironc

	* PW/cfts_3.f90:

	small fix: cfts_3 compiles also when __AIX and __SX4 are not defined.

2003-04-28 09:23  cavazzon

	* D3/d3toten.f90, Gamma/data_structure_para.f90,
	  Gamma/data_structure_scal.f90, Gamma/gradcorr.f90,
	  Gamma/read_file.f90, Modules/fft_base.f90,
	  Modules/fft_scalar.f90, Modules/fft_types.f90,
	  Modules/stick_base.f90, PH/phonon.f90, PP/start_postproc.f90,
	  PW/allocate_fft.f90, PW/cft3.f90, PW/cft3s.f90, PW/cfts_3.f90,
	  PW/data_structure.f90, PW/init_run.f90, PW/memory.f90,
	  PW/pwcom.f90, PW/pwscf.f90, PW/read_file.f90, PW/set_pencils.f90,
	  PW/startup.f90:

	- more performance issues
	- ifdef __PARA removed from the main subroutine of PW, Gamma, D3, PP, PH
	  now startup is called both for serial and parallel codes.
	- cfts_3 included in fft_scalar ( tested for __AIX )
	- module pencils in serial executions is no more needed

2003-04-25 10:36  giannozz

	* TODO, PH/stop_ph.f90:

	More FFT restructuring (CC). Updates to manual.

2003-04-25 00:10  cavazzon

	* D3/stop_d3.f90, Gamma/pwscf.f90, Gamma/raman.f90,
	  Modules/fft_base.f90, Modules/fft_scalar.f90, Modules/mp.f90,
	  PH/stop_ph.f90, PP/stop_pp.f90, PW/cft3.f90, PW/cft3s.f90,
	  PW/startup.f90, PW/stop_pw.f90:

	Performance issues and Harware Performance Monitor
	interface for Power4 processor ( can by switched on defining __HPM )

2003-04-24 11:14  cavazzon

	* PW/: cft3.f90, cft3s.f90:

	now PW could be linked with fft_scalar fft drivers
	also on SGI machine

2003-04-24 10:21  cavazzon

	* Modules/fft_types.f90:

	Comments + cleanup

2003-04-23 12:40  cavazzon

	* Modules/fft_scalar.f90:

	tabmesh tables replaced by good_fft_order in FPMD

2003-04-23 09:53  giannozz

	* PP/Makefile, PP/addusdens1d.f90, PP/average.f90, PP/cft.f90,
	  PW/cft.f90, PW/cft_3.f90:

	cft from cernlib moved to PP, more fft cleanup

2003-04-22 23:45  cavazzon

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  PW/Makefile, PW/allowed.f90, PW/set_fft_dim.f90:

	function allowed moved to fft_scalar

2003-04-22 23:26  cavazzon

	* CPV/cplib.f90, CPV/macdep.f90, CPV/para.f90, D3/Makefile,
	  Gamma/Makefile, Gamma/data_structure_para.f90,
	  Gamma/data_structure_scal.f90, Modules/fft_scalar.f90,
	  PH/Makefile, PP/Makefile, PP/voronoy.f90, PW/Makefile,
	  PW/data_structure.f90, PW/good_fft_dimension.f90, PW/scatter.f90:

	good_fft_dimension moved to fft_scalar
	small fix (most probably a typo) in scatter.f90

2003-04-22 22:07  giannozz

	* PP/: addusdens1d.f90, average.f90:

	oops... PP/addusdens1d.f90 e PP/average.f90 usavano ancora la cernfft.
	Corretto, ma va verificato

2003-04-22 21:34  giannozz

	* TODO, D3/Makefile, Gamma/Makefile, Gamma/regterg.f90,
	  PH/Makefile, PP/Makefile, PW/Makefile, PW/allowed.f90,
	  PW/cft_3.f90, PW/cfts_3.f90, PW/memory.f90, PW/pwcom.f90,
	  install/Make.alpha, install/Make.alphaMPI, install/Make.ibmsp,
	  install/Make.sun, install/Make.sunmpi, install/Make.sxcross:

	FFT : Cern fft, option NOPENCILS removed
	Make.ibmsp modified to work without modifications for all codes
	Misc minor changes. Initialization to zero added to regterg as well

2003-04-22 18:03  degironc

	* PH/addusdbec.f90, PH/addusdynmat.f90, PH/compute_drhous.f90,
	  PH/drho.f90, PH/drhodv.f90, PH/drhodvnl.f90, PH/dvanqq.f90,
	  PH/dynmat0.f90, PH/dynmat_us.f90, PH/incdrhoscf.f90,
	  PH/incdrhous.f90, PH/phq_init.f90, PH/phq_setup.f90,
	  PH/phqscf.f90, PH/solve_e.f90, PH/solve_linter.f90,
	  PW/atomic_rho.f90, PW/cdiisg.f90, PW/cft3.f90, PW/cft3s.f90,
	  PW/constrain.f90, PW/divide.f90, PW/dndtau.f90, PW/dqvan2.f90,
	  PW/dynamics.f90, PW/electrons.f90, PW/estimate.f90,
	  PW/fft_scatter.f90, PW/force_lc.f90, PW/gradcorr.f90,
	  PW/h_psi.f90, PW/mix_rho.f90, PW/newd.f90, PW/ortho.f90,
	  PW/orthoatwfc.f90, PW/potinit.f90, PW/print_clock_pw.f90,
	  PW/read_ncpp.f90, PW/remove_atomic_rho.f90, PW/s_psi.f90,
	  PW/scala_utils.f90, PW/scatter.f90, PW/set_rhoc.f90,
	  PW/setlocal.f90, PW/setupkpt.f90, PW/smallg_q.f90,
	  PW/stres_loc.f90, PW/struct_fact.f90, PW/sum_band.f90,
	  PW/symtns.f90, PW/update_pot.f90, PW/v_of_rho.f90, PW/vcsubs.f90:

	22 apr 2003  All setv statements in PW repalaced by f90 constructs.
	             Minor changes in PW & PH (code readability).

2003-04-22 00:11  cavazzon

	* Modules/: fft_base.f90, fft_scalar.f90:

	More cleaning and updating from the IBM SP4

2003-04-21 23:29  cavazzon

	* D3/Makefile, Gamma/Makefile, Modules/fft_base.f90, PH/Makefile,
	  PP/Makefile, PW/cft3.f90, PW/cft3s.f90:

	Small fixes in Makefiles (consequence of the directory change of clocks.f90)
	..... fixed by PG few minutes ago!
	PW interfaced to Module/fft_scalar.f90 when __FFTW is defined.
	Extensive tests of parallel and serial execution for all codes,
	has been done on ALPHA system.
	In pw_examples/example6 found a problem in parallel execution with 4 procs,
	related to stdin (I've got an end of file on stdin), no problem
	for the serial execution.

2003-04-21 22:42  giannozz

	* CPV/cprsub.f90, D3/Makefile, Gamma/Makefile, PH/Makefile,
	  PP/Makefile, PW/Makefile, PW/init_run.f90, PW/memory.f90,
	  PW/mix_rho.f90, PW/setup.f90:

	Makefile fixes (PP, PH, D3, Gamma)
	Calls to allocate_fft, ggen moved out of setup.f90
	Minor change in mix_rho to reduce memory use
	CPV: Exch_corr: gradr not deallocated in some cases

2003-04-21 18:04  cavazzon

	* CPV/cplib.f90, CPV/macdep.f90, Modules/clocks.f90,
	  Modules/fft_scalar.f90:

	fft driver for SGI added

2003-04-21 12:32  cavazzon

	* Modules/fft_scalar.f90:

	fix for a weird behaviour of compact compiler (#@!$*#?@) and optional
	subroutine arguments

2003-04-21 11:58  cavazzon

	* PW/cegterg.f90:

	fix for floating point execption that happens on alpha machine
	in parallel execution, this are due to unused/unset elements
	of variables: spsi, psi, hpsi. Now after the allocation
	they are set to 0.

2003-04-21 11:45  cavazzon

	* PW/Makefile:

	scnds.f90 removed from the list of object

2003-04-21 00:22  cavazzon

	* CPV/cpr.f90, CPV/para.f90, Modules/Makefile, Modules/clocks.f90,
	  Modules/fft_base.f90, Modules/fft_scalar.f90, PW/Makefile,
	  PW/cft3.f90, PW/cft3s.f90, PW/clocks.f90, PW/fft_scatter.f90,
	  PW/scnds.f90, clib/cp.h, clib/fft_stick.c, flib/Makefile,
	  flib/scnds.f90:

	FPMD:
	  cleaning + removing of redundant files ( now in Modules )
	  now FPMD rely entirely on Module/fft_scalar and Module/fft_base

	CPV:
	  fft drivers, in the parallel case, now rely entirely on fft_scalar
	  CPV depends on FFTW only through fft_scalar which in turn calls
	  the wrappers contained in clib/fft_sticks, in other words CPV and
	  FPMD are now completely isolated from FFTW primitives.

	PW:
	  clocks.f90  moved to Modules
	  scnds.f90   moved to flib

	  When __AIX is defined PW now uses Module/fft_scalar drivers too.
	  For testing and debugging, usage of fft_scalar or
	  cft_sp drivers can be selected, for the time being, defining or undefining the
	  __FFT_MODULE_DRV macro in the cft3.f90 and cft3s.f90 files.

	  fft_scatter has been moved to Module/fft_base, file PW/fft_scatter.f90
	  is still there for testing and debugging

2003-04-19 18:39  cavazzon

	* CPV/Makefile, CPV/cplib.f90, CPV/fftw.f90, CPV/para.f90,
	  Modules/fft_scalar.f90, clib/cp.h, clib/fft_stick.c:

	All CPV and FPMD FFTW drivers moved to Modules/fft_scalars.f90

2003-04-19 09:40  cavazzon

	* CPV/Makefile, CPV/cplib.f90, CPV/fft_cp.f90, CPV/ibmfft.f90,
	  CPV/para.f90, Modules/fft_scalar.f90:

	All the fft scalar drivers for AIX moved to Module/fft_scalar.f90
	( CPV and FPMD codes )

2003-04-18 14:22  cavazzon

	* flib/: Makefile, eispack.f90, lapack_ibm.f:

	wrapper again

2003-04-18 12:52  cavazzon

	* CPV/para.f90:

	small fix, again output format descriptors

2003-04-18 12:29  cavazzon

	* flib/: eispack.f, eispack.f90:

	Eispack replaced by a wrapper to the LAPACK routines

2003-04-18 12:18  cavazzon

	* Modules/fft_scalar.f90:

	scalar driver tested and fixed for alpha systems and FFTW

2003-04-18 10:40  cavazzon

	* PW/init_run.f90:

	Small fix for SGI compiler and FORMAT descriptor within a write statement:
	 write(6, ' ( " .... ", &
	   " .... " ) ' )
	changed to
	 write(6, ' ( " .... ", &
	  &  " .... " ) ' )

	The sgi compiler is right, the descriptor is a string '( ... )'
	and a continuation is possible only if "&" is added at the beginning
	of the line

2003-04-18 10:32  cavazzon

	* CPV/para.f90:

	small fix for ifc 7.0 and FORMAT descriptor:
	'( '' string '' )' --> "( ' string ' )"

2003-04-18 10:11  cavazzon

	* install/Make.beo_ifc:

	New Machine file tested and fixed for ifc 7.0

2003-04-18 09:56  cavazzon

	* install/Make.beowulf:

	New machine file for beowulf

2003-04-18 01:02  cavazzon

	* install/: Make.alpha, Make.alphaMPI, Make.beo_ifc, Make.beowulf,
	  Make.hitachi, Make.irix, Make.origin, Make.pc_abs, Make.pc_ifc,
	  Make.pc_lahey, Make.pc_pgi:

	Variables FFTW_INC_DIR and FFTW_LIB_DIR added to many machine files,
	this will be needed to link FFTW through "C" wrappers  in /clib and
	to automatically detect the number of underscores.
	The new machine files should be checked and possibly corrected

2003-04-18 00:10  cavazzon

	* clib/: cp.h, fft_stick.c:

	modified for compatibility with other codes

2003-04-17 23:43  cavazzon

	* CPV/fft_cp.f90, Modules/Makefile, Modules/constants.f90,
	  Modules/fft_base.f90, Modules/fft_scalar.f90,
	  Modules/fft_types.f90:

	Working on FFTs, added module fft_scalar that will
	contain all scalar fft drivers

2003-04-15 19:40  giannozz

	* TODO, install/Make.beo_ifc, install/Make.pc_ifc:

	Doc and install files updated (MKL problem)

2003-04-14 22:14  giannozz

	* Modules/readpseudo.f90, PW/ggen.f90, PW/input.f90, PW/pwscf.f90,
	  PW/restart.f90, PW/restart_from_file.f90:

	rimossi alcuni write di troppo

2003-04-12 21:25  giannozz

	* INSTALL, CPV/cplib.f90, D3/close_open.f90, D3/d3com.f90,
	  D3/openfild3.f90, Gamma/cg_setup.f90, Gamma/cgcom.f90,
	  PH/io_pattern.f90, PH/openfilq.f90, PH/phcom.f90,
	  PH/punch_plot_e.f90, PH/punch_plot_ph.f90, PP/do_postproc.f90,
	  PP/dos.f90, PP/plot_io.f90, PP/plotrho.f90, PP/projwave.f90,
	  PP/punch_band.f90, PP/punch_plot.f90, PP/start_postproc.f90,
	  PP/voronoy.f90, PW/pwcom.f90, PW/saveall.f90, PW/seqopn.f90,
	  pwtools/fqha.f90, pwtools/lambda.f90, pwtools/q2r.f90:

	All filenames  => 80 char
	All directories=> 80 char
	Filenames + directories + other => 256
	---------------------------------------------------------------

2003-04-10 22:08  giannozz

	* TODO, Gamma/Makefile, Gamma/init_run.f90, Gamma/pwscf.f90,
	  Modules/parameters.f90, PH/phcom.f90, PW/init_run.f90,
	  PW/pwscf.f90:

	Minor things

2003-04-10 13:26  cavazzon

	* Modules/stick_base.f90, PW/data_structure.f90:

	Bug fix, sticks were not properly set when pool are used

2003-04-09 17:54  degironc

	* PP/projwave.f90:

	small I/O fix in projwave: ios is undefined for all nodes but the first,
	thus execute the call to errore based on ios value only for the first node.

2003-04-09 15:58  giannozz

	* Gamma/regterg.f90, PW/cegterg.f90, PW/g_psi.f90:

	Iterative diag for Gamma case updated - comments, indent etc.

2003-04-09 00:36  cavazzon

	* CPV/Makefile, CPV/cplib.f90, CPV/fft_cp.f90, CPV/para.f90,
	  Modules/Makefile, Modules/fft_base.f90, Modules/fft_types.f90:

	Work in progress with the FFTs.
	I've added a new module, fft_types, containing
	a structure for the fft data layout description, this is
	common to all cades and independent to a particular grid.
	This data structure will be used in few general high level fft drivers.
	Another module, fft_base, contains the scatter algorithms,
	and low level fft auxiliary functions.
	Test with the new data structure are being done with CP and FPMD.
	Yet another module, fft_scalar (not yet in the repository),
	will contain the scalar wrapper to the machine specific ffts

2003-04-08 09:13  giannozz

	* Gamma/allocate_wfc.f90, Gamma/read_file.f90,
	  Gamma/rotate_wfc.f90, Gamma/wfcinit.f90, PH/allocate_phq.f90,
	  PH/phcom.f90, PH/zstar_eu.f90, PW/allocate_wfc.f90,
	  PW/c_bands.f90, PW/cdiisg.f90, PW/cinitcgg.f90, PW/pwcom.f90,
	  PW/read_file.f90, PW/rotate_wfc.f90, PW/setup.f90,
	  PW/wfcinit.f90:

	evc is dimensioned (npwx, nbnd) - various routines changed
	(extensive changes to wfcinit, rotate_wfc, ccginitg).
	Residual wrong dimension et(nbndx,nkstot) removed.
	Common efield_0 in PW renamed extfield to avoid name
	clash with common efield in PH (PGI compiler)

2003-04-08 08:44  degironc

	* PW/: cegterg.f90, electrons.f90, g_psi.f90, g_psi_mod.f90:

	08 apr 2003  g_psi, g_psi_mod: new preconditioning (better behaved when
	             hdiag-e*sdiag is close to zero) used in cegterg. This
	             removes most of the warning messages when using Davidson
	             diagonalization. Although the overall performance (number of
	             h_psi performed) does not seem to change very much in small
	             tests, except pathological cases like ni.band.in in example1,
	             it should be wise to have a more stable preconditioning.
	             cegterg: use always GEMM instead of GEMV in the update.
	             electrons: in a relaxation run perform accurately the first
	             iteration after ionic move but reset the diagonalization
	             threshold according to the actual self-consistence for the
	             following ones.

2003-04-07 16:13  degironc

	* PH/: drhodvloc.f90, dynmatrix.f90, solve_linter.f90:

	solo piccole riformattazioni per aumentare la leggibilita`

2003-04-07 14:55  giannozz

	* TODO, D3/Makefile, Gamma/allocate_wfc.f90, Gamma/electrons.f90,
	  Gamma/regterg.f90, Gamma/sum_band.f90, Gamma/wfcinit.f90,
	  PH/elphon.f90, PP/dos.f90, PP/dosg.f90, PP/dost.f90,
	  PP/projwave.f90, PP/stm.f90, PW/allocate_wfc.f90, PW/cegterg.f90,
	  PW/efermig.f90, PW/efermit.f90, PW/electrons.f90,
	  PW/gweights.f90, PW/iweights.f90, PW/punch.f90, PW/sum_band.f90,
	  PW/sumkg.f90, PW/sumkt.f90, PW/tweights.f90, PW/wfcinit.f90,
	  pwtools/dynmat.f90:

	D3/Makefile : missing add_efield added
	cegterg, regterg: use GEMM instead of GEMV, do not require
	any longer evc, et to be dimensioned nbndx (et is now
	dimensioned (nbnd,nkstot)) - misc. cleanup

	Il calcolo di (H-eS)*psi ('update') nella diagonalizzazione iterativa
	prendeva un tempo esagerato. L'ho modificata in modo da usare prodotti
	matrice-matrice su tutti gli psi invece che matrice-vettore su ogni
	psi, se piu' di 1/4 dei vettori non e' a convergenza. La cosa e' fatta
	a naso e richiede ulteriori di prove, ma mi sembra che apporti dei
	miglioramenti.

	In TODO ho messo una lista di cose da fare.

2003-04-04 16:36  giannozz

	* TODO, Gamma/Makefile, Gamma/addusdens.f90, Gamma/force_us.f90,
	  Gamma/newd.f90, PW/addusdens.f90, PW/addusforce.f90,
	  PW/force_corr.f90, PW/force_us.f90, PW/forces.f90, PW/newd.f90:

	Some cleanup and marginal improvements in force calculation for US PP

2003-04-04 14:36  dalcorso

	* PW/ccgdiagg.f90:

	Piccola correzione per compilare con il flag DEBUG (Thanks to J. Tobik.)

2003-04-04 14:29  dalcorso

	* PW/saveall.f90:

	Ancora una modifica per il campo elettrico finito.

2003-04-03 17:35  dalcorso

	* PH/Makefile, PP/Makefile, PP/chdens.f90, PP/wsweight.f90,
	  PW/Makefile, PW/add_efield.f90, PW/input.f90, PW/pwcom.f90,
	  PW/setlocal.f90:

	Introdotto il calcolo del dipolo di cariche localizzate al centro della
	cella unitaria in chdens (utile solo per molecole isolate).
	Introdotta la possibilita' di aggiungere un potenziale a forma di dente
	di sega al potenziale degli ioni per simulare un campo elettrico
	finito. (by J. Tobik)

2003-04-03 16:31  dalcorso

	* Makefile:

	Il tar include anche i .h della clib.

2003-03-31 10:42  cavazzon

	* CPV/para.f90, Modules/stick_base.f90, PW/data_structure.f90:

	basic subroutines to distribute fft sticks/pencils/columns, now are
	common to all codes. Comments have not been revised yet.

2003-03-27 16:47  giannozz

	* D3/d3_readin.f90, Gamma/cg_readin.f90, PH/compute_weight.f90,
	  PH/phq_readin.f90, PP/do_postproc.f90, PP/dos.f90,
	  PP/projwave.f90, PP/punch_band.f90, PW/bfgs.f90,
	  install/Make.alphaMPI, pwtools/bs.awk, pwtools/mv.awk:

	Do not restart bfgs from previous results if restart_mode='from_scratch'
	(this time correct)
	BEWARE: tmp_dir => outdir in all namelists and examples
	misc. cleaning

2003-03-26 17:34  degironc

	* install/Make.beo_ifc:

	 minor fix to makefile

2003-03-26 10:25  cavazzon

	* Modules/mp.f90:

	IMPLICIT NONE added, undeclared variables fixed

2003-03-25 14:39  giannozz

	* PW/: bfgs.f90, input.f90, pwcom.f90:

	Do not restart bfgs from previous results if restart_mode='from_scratch'!!!

2003-03-25 13:49  giannozz

	* D3/Makefile, PH/phq_readin.f90:

	Ripristinato Makefile corretto per d3, misc. cleanup

2003-03-25 13:01  degironc

	* D3/Makefile, PW/new_ns.f90:

	 first fix needed by LDA+U calculations w/o spin

2003-03-24 16:25  giannozz

	* D3/bcast_d3_input.f90, D3/d3_recover.f90, D3/read_ef.f90,
	  Modules/mp.f90, PH/bcast_ph_input.f90, PH/bcast_ph_input1.f90,
	  PH/phonon.f90, PH/phq_readin.f90, PW/input.f90:

	calls to mpi_bcast replaced by calls to interface mp_bicast
	Electron-phonon with Vanderbilt according to MW

2003-03-21 17:20  giannozz

	* D3/set_sym_irr.f90, Gamma/cg_readin.f90, Modules/mp.f90,
	  PH/dvqpsi_us.f90, PH/elphon.f90, PH/set_irr.f90,
	  PP/local_dos.f90:

	- call to dvqpsi_us in PH/elphon.f90 updated with recent
	  recent changes (could cause core dump)
	- local_dos.f90 compilation error in parallel case
	- more mpi_bcast => mp_bcast, misc. cleaning

2003-03-20 12:21  degironc

	* Modules/parameters.f90, PW/c_bands.f90, PW/cegterg.f90,
	  PW/dndepsilon.f90, PW/dndtau.f90, PW/dynamics.f90,
	  PW/force_hub.f90, PW/init_ns.f90, PW/input.f90, PW/mix_rho.f90,
	  PW/new_ns.f90, PW/setup.f90, PW/stres_hub.f90, PW/vcsmd.f90,
	  PW/vcsubs.f90, PW/vhpsi.f90, PW/write_ns.f90,
	  upftools/read_upf.f90:

	20 mar 2003  - relaxation using damped dynamics can be used keeping fixed
	             last fixatom atoms (with the same input procedure as the bfgs
	             minimization).
	             - LDA+U part has been modified in order run also in the not
	             spin-polarized case (some testing still neeeded).
	             - Davidson diagonalization returns best estimate for
	             eigenvalues and eigenvectors also in the case that not all
	             roots have converged. This is more consistent and should
	             somehow alleviate the problem of WARNING messages in scf and
	             band structure run.
	             - Number of beta function in pseudopotentials increased to 8.

2003-03-20 11:52  dalcorso

	* PH/: punch_plot_e.f90, punch_plot_ph.f90:

	L'output di punch_plot_e e di punch_plot_ph reso di nuovo leggibile da
	chdens.

2003-03-19 19:02  dalcorso

	* PP/chdens.f90:

	Inizializzata fast3d.

2003-03-19 18:00  giannozz

	* PH/: dynmatrix.f90, star_q.f90:

	PH/star_q.f90 : wrong call to sgama fixed

2003-03-19 11:48  giannozz

	* Modules/readpseudo.f90, install/Make.pc_abs:

	fix for problem when reading local potential fixed again
	Make.pc_abs fixed, minor documentation update

2003-03-17 00:02  cavazzon

	* CPV/para.f90, Modules/stick_base.f90:

	- more common pieces of code move to stick_base

2003-03-14 18:01  cavazzon

	* Modules/Makefile, Modules/stick_base.f90, flib/Makefile,
	  flib/avrec.f90:

	- new subroutine avrec.f90 in flib to compute av(:) = alpha / v(:)
	  using, when available, fast system library (like mass)
	- new module stick_base, that will contain common subroutines
	  to compute stick distributions

2003-03-14 11:22  giannozz

	* Modules/readpseudo.f90, PP/do_postproc.f90, PP/projwave.f90,
	  PP/start_postproc.f90, PW/input.f90, PW/readin.f90:

	data for preprocessing on parallel machines can be read from standard input
	problem when reading local potential on ibm-sp3 fixed

2003-03-13 19:20  giannozz

	* CPV/para.f90, Gamma/set_rhoc.f90, PW/bfgs.f90, PW/set_rhoc.f90,
	  PW/vloc_of_g.f90:

	obsolete core-charge only term (etxcc) removed from bfgs.f90, set_rhoc.f90
	bfgs.f90:  direct calls to mpi_bcast replaced by calls to mp_bcast
	Misc. minor changes

2003-03-12 12:18  cavazzon

	* configure, CPV/Makefile, install/Make.cp.irix, install/Make.irix,
	  install/sizeof.c:

	File Make.cp.irix replaced by the common Make.irix machine file
	In CPV/Makefile FPMD/Makefile LDFLAGS now used like in PW/Makefile

2003-03-11 23:47  cavazzon

	* CPV/cpr.f90, CPV/para.f90, Modules/mp.f90, PW/startup.f90:

	- FPMD linked to sph_bes subroutine
	- Startup subroutines of all codes now calls
	  mp_start and mp_env mp module subroutines instead of
	  mpi_... directly. This is a first step in the direction
	  of hiding the communications within a few basic modules.

2003-03-10 15:49  giannozz

	* configure, PP/punch_band.f90, PW/cdiagh.f90, flib/Makefile,
	  flib/lapack_mkl.f, install/Make.beo_ifc, install/Make.fujitsu,
	  install/Make.pc_ifc, install/Make.rules_cpp,
	  install/Make.rules_nocpp, install/Make.sxcross,
	  install/Rules.cpp, install/Rules.nocpp, pwtools/band_plot.f90,
	  pwtools/rigid.f90:

	"configure" bug for pc cluster and intel 6
	Make.rules_cpp => Rules.cpp, Make.rules_nocpp => Rules.nocpp
	lapack_mkl.f added, __MKL removed
	Make.{fujutsu,sxcross}, compile error in restart.f90 (Guido)
	electrons, punch_band, plot_bands: use the same format
	for reading and writing eigenvalues

2003-03-10 11:58  degironc

	* PP/projwave.f90:

	 PDOS for l=3 are now allowed

2003-03-08 17:35  giannozz

	* D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  flib/lapack.f, install/Make.t3e:

	duplicated routines in lapack removed
	Makefile in PP, PH, D3, Gamma fixed

2003-03-08 12:06  cavazzon

	* flib/sph_bes.f90:

	- forgotten enddo when __MASS is undefined

2003-03-07 18:22  cavazzon

	* PW/Makefile, PW/sph_bes.f90, flib/Makefile, flib/lapack.f,
	  flib/lapack_ibm.f, flib/sph_bes.f90:

	- bessel functions subroutine sph_bes.f moved to flib and updated
	  with a vector mass interface.
	- lapack_ibm.f updated to be used with PW

2003-03-06 11:23  cavazzon

	* PW/restart.f90:

	- fixed bug with read_restart_wfc and 'ik' index

2003-03-03 17:30  cavazzon

	* flib/lapack_ibm.f:

	-  added file lapack_ibm.f which contains lapack routines not
	   present in essl library.
	-  __MASSLIB --> __MASS
	-  changed strings initialization not f90 compliant '' --> ' '

2003-03-03 16:25  cavazzon

	* install/: Make.alpha, Make.alphaMPI, Make.cp.alpha,
	  Make.cp.alphasc:

	 Make.cp.alpha Make.cp.alphasc merged with Make.alpha Make.alphaMPI
	 and removed

2003-03-03 12:51  degironc

	* PP/: dos.f90, projected_dos.f90, projwave.f90:

	 3 mar 2003  PP/dos.f90: density of state is written in #state/eV vs eV
	                         (it was written in #state/ryd vs eV) .
	             PP/projwave.f90: pwojwfc.x writes on standard output projections
	               on atomic states in a "human-readable" format, it writes
	               atomic-projected dos on files with self-explanatory names
	               ( such as 'prefix'.pdos_atm#1(Ni)_wfc#2(d) in example8 ).
	               A variable io_choice= {'standard' | 'files' | 'both'} in
	               the namelist specifies where output is written.
	             example8: generation of pdos added to the example.
	             example1-9:  modified so that 'cd results' statement is
	               executed before 'rm -f $TMP_DIR' one ... Otherwise defining
	               the current directory as TMP_DIR would result in removal of
	               all files in the example directory.

2003-03-03 12:49  cavazzon

	* include/machine.h:

	- lapack double to single precision subs renaming for T3E

2003-03-03 12:41  giannozz

	* PW/efermig.f90, PW/efermit.f90, PW/mix_rho.f90,
	  Gamma/mix_rho.f90:

	"external error" removed (may confuse some compilers)

2003-03-03 12:38  giannozz

	* PW/cdiaghg.f90:

	cdiaghg: error => errore

2003-03-03 11:39  giannozz

	* configure, Modules/io_base.f90, PW/diropn.f90:

	More t3e glitches

2003-03-03 00:19  cavazzon

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/input.f90,
	  CPV/modules.f90, CPV/para.f90, CPV/restart.f90, Modules/Makefile,
	  Modules/mp_buffers.f90, Modules/parameters.f90,
	  Modules/pseudo_types.f90, Modules/ptoolkit.f90, PW/pwcom.f90:

	- File mp_buffers.f90  and ptoolkit.f90 moved to Module directory
	- Some common parameters that were defined in different places for different codes,
	  has been move to  Modules/parameters

2003-03-01 17:28  giannozz

	* install/: Make.beo_ifc, Make.cp.lnx.intel, Make.cp.t3e,
	  Make.pc_ifc, Make.t3e:

	More installation tweaking

2003-03-01 16:56  cavazzon

	* PW/scnds.f90, install/Make.beowulf, install/Make.cp.lnx,
	  install/Make.pc_pgi:

	PGI --> __PGI
	Make.cp.lnx --> Make.beowulf
	essl specific dgemul replaced by dgemm

2003-03-01 11:48  cavazzon

	* install/: Make.cp.aix, Make.ibm, Make.ibmsp:

	- Flag -qfree=f90 moved from FFLAGS to F90FLAGS in Make.ibm and Make.ibmsp,
	  we still have some fixed format source file around.
	- Make.cp.aix now replaced by Make.ibm (common to all codes)

2003-02-28 18:41  cavazzon

	* configure:

	- configure updated to create file intel.pcl  in FPMD and CPV directory
	  when using machine file "pc_ifc"
	- small fix for library call in cgefa

2003-02-28 18:16  giannozz

	* Modules/io_base.f90, PW/bfgs.f90, PW/dynamics.f90,
	  PW/stop_pw.f90, PW/vcsmd.f90, clib/cp.h, clib/cptimer.c,
	  clib/memstat.c, install/Make.pc_ifc:

	File name harmonisation:
	filemd => 'prefix'.md, filebfgs => 'prefix'.bfgs
	Misc. T3E fixes (c_gemm, s_gemm; idum initialized when written)

2003-02-27 18:10  degironc

	* CPV/cplib.f90:


	minor change in formatted writing needed for cpv compilation with ifc:
	 write(6,'('' so un corno '')') => write(6,'(" so un corno ")')

	underscore characters must be prodected in manual.tex file if they should
	not be interpreted
	__FFTW  => \_\_FFTW and similia

2003-02-27 14:59  giannozz

	* Gamma/cg_readin.f90, Modules/mp.f90, PH/stop_ph.f90,
	  PP/plotrho.f90, PP/start_postproc.f90, PP/stop_pp.f90,
	  PW/c_gemm.f90, PW/cdiagh.f90, PW/cdiaghg.f90, PW/cft_3.f90,
	  PW/cft_t3e.f90, PW/diropn.f90, PW/input.f90, PW/s_gemm.f90,
	  PW/scala_cdiag.f90, PW/scala_cdiaghg.f90, PW/scala_utils.f90,
	  PW/scopy_t3e.f90, PW/setv.f90, PW/startup.f90, PW/stop_pw.f90,
	  flib/reduce.f90, include/machine.h, include/machine.h.README,
	  install/Make.beo_ifc, install/Make.beowulf, install/Make.cp.t3e,
	  install/Make.ibmsp, install/Make.pc_abs, install/Make.pc_ifc,
	  install/Make.pc_lahey, install/Make.pc_pgi, install/Make.t3e,
	  upftools/any2upf.f90, upftools/cpmd2upf.f90,
	  upftools/fhi2upf.f90, upftools/ncpp2upf.f90,
	  upftools/oldcp2upf.f90, upftools/rrkj2upf.f90,
	  upftools/uspp2upf.f90, upftools/vdb2upf.f90:

	Misc. installation and doc fixes
	T3D, T3E, __CRAY => __T3E  ; PC => __LINUX

2003-02-27 12:01  cozzini

	* configure:

	 fixed names in case construct in configure

	 (Carlo&Stefano)

2003-02-27 11:00  degironc

	* PP/projwave.f90, PW/d_matrix.f90, PW/new_ns.f90:


	27 feb 2003  Bug in PW/new_ns.f90 (Lixin He) fixed
	             Symmetrization of occupation matrix ns needed for LDA+U
	             calculations used incorrectly d2 matrices instead of their
	             transponse. Similar error corrected also in PP/projwave.f90

2003-02-26 22:25  giannozz

	* Gamma/Makefile, PW/cdiagh.f90, include/machine.h,
	  install/Make.ibmsp, install/Make.pc_ifc, pwtools/rigid.f90:

	Installation with Intel compiler merged: pc_ifc should install all codes
	PC => __INTEL , MKL => __MKL

2003-02-25 23:45  cavazzon

	* CPV/fftw.f90, Gamma/cg_readin.f90, PW/cft_3.f90, PW/cft_sgi.f90,
	  clib/memstat.c, include/machine.h, install/Make.cp.origin,
	  install/Make.origin:

	CPP macro ORIGIN and SGI changed to __ORIGIN and __SGI
	Make.origin now works for all codes, Make.cp.origin removed

2003-02-25 17:44  giannozz

	* PW/write_ns.f90:

	error => errore in write_ns

2003-02-25 14:43  degironc

	* PW/: mix_rho.f90, set_hubbard_l.f90, sgam_at.f90, tabd.f90,
	  write_ns.f90:

	minor changes in LDA+U and formatting

2003-02-25 10:45  giannozz

	* CPV/cplib.f90, CPV/cpr.f90, CPV/cprsub.f90, CPV/ibmfft.f90,
	  CPV/macdep.f90, CPV/modules.f90, CPV/restart.f90,
	  install/Make.cp.aix, install/Make.ibmsp, pwtools/Makefile:

	Misc installation problems on SP3

2003-02-24 21:53  giannozz

	* CPV/Makefile, Gamma/raman.f90, PP/punch_plot.f90,
	  PP/work_function.f90, PW/allowed.f90, install/Make.cp.aix,
	  install/Make.cp.alpha, install/Make.cp.alphasc,
	  install/Make.cp.irix, install/Make.cp.lnx,
	  install/Make.cp.lnx.intel, install/Make.cp.origin,
	  install/Make.cp.qsw, install/Make.cp.sx5, install/Make.cp.t3e,
	  upftools/Makefile:

	Bug in Gamma/raman.f90 fixed
	Bug in PP/work_function.f90 fixed (sort of)
	LIB, LIBS => LIBS in all Makefiles

2003-02-23 12:34  cavazzon

	* Gamma/rdiaghg.f90, PP/plotrho.f90, PW/allowed.f90, PW/cdiagh.f90,
	  PW/cft3s.f90, PW/cft_3.f90, PW/cft_sp.f90, PW/cfts_3.f90,
	  PW/error.f90, PW/good_fft_dimension.f90, PW/scala_cdiaghg.f90,
	  PW/scala_utils.f90, clib/cptimer.c, flib/blas.f,
	  include/machine.h, install/Make.cp.ibmsp, install/Make.ibmsp:

	- AIX changed in __AIX
	- Machine file Make.ibmsp now is common to all codes,
	  Make.cp.ibmsp removed

2003-02-21 18:21  cavazzon

	* flib/: blas.f, lapack.f:

	some blas subroutines that were included into lapack.f
	have been moved to blas.f .

2003-02-21 17:06  cavazzon

	* Modules/mp_wave.f90, flib/proc_grid.f:

	more error (subroutine)

2003-02-21 16:50  cavazzon

	* clib/cptimer.c:

	cclock patched for real time

2003-02-21 15:56  giannozz

	* configure, CPV/cplib.f90, CPV/cprsub.f90, CPV/fftw.f90,
	  CPV/ibmfft.f90, CPV/input.f90, CPV/macdep.f90, CPV/para.f90,
	  CPV/read_pseudo.f90, CPV/restart.f90, CPV/which_dft.f90,
	  D3/Makefile, D3/bcast_d3_input.f90, D3/ch_psi_all2.f90,
	  D3/close_open.f90, D3/d0rhod2v.f90, D3/d3_exc.f90,
	  D3/d3_init.f90, D3/d3_readin.f90, D3/d3_recover.f90,
	  D3/d3_setup.f90, D3/d3_symdyn.f90, D3/d3_valence.f90,
	  D3/d3dyn_cc.f90, D3/d3ionq.f90, D3/d3toten.f90, D3/d3vrho.f90,
	  D3/davcio_drho2.f90, D3/dpsidpsidv.f90, D3/dpsidvdpsi.f90,
	  D3/dqrhod2v.f90, D3/drho_drc.f90, D3/dvdpsi.f90,
	  D3/gen_dpdvp.f90, D3/gen_dwfc.f90, D3/incdrhoscf2.f90,
	  D3/openfild3.f90, D3/print_clock_d3.f90, D3/psymd0rho.f90,
	  D3/qstar_d3.f90, D3/read_ef.f90, D3/set_efsh.f90,
	  D3/set_sym_irr.f90, D3/sgama_d3.f90, D3/solve_linter_d3.f90,
	  D3/stop_d3.f90, D3/writed3dyn_5.f90, Gamma/allocate_fft.f90,
	  Gamma/atomic_rho.f90, Gamma/c_bands.f90, Gamma/cg_readin.f90,
	  Gamma/cg_setup.f90, Gamma/cgsolve.f90, Gamma/d2ion.f90,
	  Gamma/data_structure_para.f90, Gamma/dielec.f90,
	  Gamma/drhodv.f90, Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90,
	  Gamma/dynmatcc.f90, Gamma/electrons.f90, Gamma/fake.f90,
	  Gamma/force_us.f90, Gamma/ggen.f90, Gamma/mix_rho.f90,
	  Gamma/newd.f90, Gamma/pw_dot.f90, Gamma/pw_gemm.f90,
	  Gamma/pwscf.f90, Gamma/raman.f90, Gamma/rdiaghg.f90,
	  Gamma/read_file.f90, Gamma/regterg.f90, Gamma/rhod2vkb.f90,
	  Gamma/rotate_wfc.f90, Gamma/set_rhoc.f90, Gamma/solve_e.f90,
	  Gamma/solve_ph.f90, Gamma/stres_us.f90, Gamma/sum_band.f90,
	  Gamma/v_of_rho.f90, Gamma/wfcinit.f90, Modules/cell_base.f90,
	  Modules/constants.f90, Modules/io_base.f90,
	  Modules/io_global.f90, Modules/mp_wave.f90, Modules/parser.f90,
	  Modules/readpseudo.f90, PH/Makefile, PH/adddvepsi_us.f90,
	  PH/addnlcc.f90, PH/bcast_ph_input.f90, PH/bcast_ph_input1.f90,
	  PH/cgsolve_all.f90, PH/ch_psi_all.f90, PH/cinterpolate.f90,
	  PH/compute_becalp.f90, PH/compute_drhous.f90,
	  PH/compute_nldyn.f90, PH/compute_qdipol.f90, PH/d2ionq.f90,
	  PH/davcio_drho.f90, PH/dielec.f90, PH/drho.f90, PH/drhodv.f90,
	  PH/drhodvloc.f90, PH/drhodvnl.f90, PH/drhodvus.f90,
	  PH/dvanqq.f90, PH/dvpsi_e.f90, PH/dynmat_us.f90, PH/dynmatcc.f90,
	  PH/elphon.f90, PH/incdrhous.f90, PH/io_pattern.f90,
	  PH/localdos.f90, PH/newdq.f90, PH/openfilq.f90, PH/phonon.f90,
	  PH/phq_init.f90, PH/phq_readin.f90, PH/phq_recover.f90,
	  PH/phq_setup.f90, PH/print_clock_ph.f90, PH/psymdvscf.f90,
	  PH/psyme.f90, PH/punch_plot_e.f90, PH/punch_plot_ph.f90,
	  PH/q2qstar_ph.f90, PH/set_drhoc.f90, PH/set_irr.f90,
	  PH/set_irr_mode.f90, PH/set_irr_nosym.f90, PH/solve_e.f90,
	  PH/solve_linter.f90, PH/star_q.f90, PH/stop_ph.f90,
	  PH/sym_and_write_zue.f90, PH/zstar_eu.f90, PP/Makefile,
	  PP/addusdens1d.f90, PP/average.f90, PP/cgracsc.f90,
	  PP/chdens.f90, PP/do_postproc.f90, PP/dos.f90, PP/elf.f90,
	  PP/ggen1d.f90, PP/local_dos.f90, PP/plan_avg.f90, PP/plot_io.f90,
	  PP/plot_whole_cell.f90, PP/projected_dos.f90, PP/projwave.f90,
	  PP/punch_band.f90, PP/punch_plot.f90, PP/start_postproc.f90,
	  PP/stm.f90, PP/stop_pp.f90, PP/subtract_vxc.f90,
	  PP/work_function.f90, PW/aainit.f90, PW/addusforce.f90,
	  PW/allocate_fft.f90, PW/allowed.f90, PW/atomic_rho.f90,
	  PW/atomic_wfc.f90, PW/bfgs.f90, PW/broadcast.f90, PW/c_bands.f90,
	  PW/ccalbec.f90, PW/ccgdiagg.f90, PW/cdiagh.f90, PW/cdiaghg.f90,
	  PW/cdiisg.f90, PW/cegterg.f90, PW/cft3.f90, PW/cft3s.f90,
	  PW/cft_3.f90, PW/cft_fftw.f90, PW/cft_sgi.f90, PW/cft_sp.f90,
	  PW/cft_sun.f90, PW/cft_t3e.f90, PW/cfts_3.f90,
	  PW/cgather_sym.f90, PW/cgramg1.f90, PW/check.f90,
	  PW/checkallsym.f90, PW/cinitcgg.f90, PW/clocks.f90, PW/coset.f90,
	  PW/data_structure.f90, PW/davcio.f90, PW/delta_e.f90,
	  PW/diropn.f90, PW/divide.f90, PW/divide_et_impera.f90,
	  PW/dndepsilon.f90, PW/dndtau.f90, PW/dprojdepsilon.f90,
	  PW/dprojdtau.f90, PW/dqvan2.f90, PW/dynamics.f90, PW/efermig.f90,
	  PW/efermit.f90, PW/electrons.f90, PW/error.f90, PW/ewald.f90,
	  PW/fft_scatter.f90, PW/force_cc.f90, PW/force_corr.f90,
	  PW/force_ew.f90, PW/force_hub.f90, PW/force_lc.f90,
	  PW/force_us.f90, PW/forces.f90, PW/gather.f90, PW/gen_at_dj.f90,
	  PW/gen_at_dy.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PW/ggen.f90, PW/gk_sort.f90, PW/init_pool.f90, PW/init_us_1.f90,
	  PW/input.f90, PW/interpolate.f90, PW/invmat.f90, PW/io_pot.f90,
	  PW/ions.f90, PW/irrek.f90, PW/kpoint_grid.f90, PW/latgen.f90,
	  PW/linmin.f90, PW/lsda_functionals.f90, PW/maximum.f90,
	  PW/mix_pot.f90, PW/mix_rho.f90, PW/mode_group.f90,
	  PW/move_ions.f90, PW/multable.f90, PW/n_plane_waves.f90,
	  PW/new_ns.f90, PW/newd.f90, PW/orthoatwfc.f90, PW/poolbcast.f90,
	  PW/poolextreme.f90, PW/poolrecover.f90, PW/poolreduce.f90,
	  PW/poolscatter.f90, PW/potinit.f90, PW/print_clock_pw.f90,
	  PW/psymrho.f90, PW/punch.f90, PW/pwscf.f90, PW/qvan2.f90,
	  PW/random.f90, PW/read_conf_from_file.f90, PW/read_file.f90,
	  PW/read_ncpp.f90, PW/readin.f90, PW/readnewvan.f90,
	  PW/readvan.f90, PW/reduce.f90, PW/remove_atomic_rho.f90,
	  PW/restart.f90, PW/restart_from_file.f90,
	  PW/restart_in_electrons.f90, PW/restart_in_ions.f90, PW/rgen.f90,
	  PW/rho2zeta.f90, PW/rotate_wfc.f90, PW/saveall.f90,
	  PW/scala_cdiag.f90, PW/scala_cdiaghg.f90, PW/scatter.f90,
	  PW/seqopn.f90, PW/set_fft_dim.f90, PW/set_hubbard_l.f90,
	  PW/set_kplusq.f90, PW/set_kup_and_kdw.f90, PW/set_pencils.f90,
	  PW/set_rhoc.f90, PW/setup.f90, PW/setupkpt.f90, PW/sgam_at.f90,
	  PW/sgama.f90, PW/sph_bes.f90, PW/startup.f90, PW/stop_pw.f90,
	  PW/stres_cc.f90, PW/stres_ewa.f90, PW/stres_gradcorr.f90,
	  PW/stres_har.f90, PW/stres_hub.f90, PW/stres_knl.f90,
	  PW/stres_loc.f90, PW/stres_us.f90, PW/sum_band.f90, PW/sumkg.f90,
	  PW/summary.f90, PW/tabd.f90, PW/update_pot.f90, PW/v_of_rho.f90,
	  PW/vcsmd.f90, PW/vhpsi.f90, PW/vpack.f90, PW/wfcinit.f90,
	  PW/which_dft.f90, PW/ylmr2.f90, flib/inv3.f90, flib/simpsn.f90,
	  install/Make.alphaMPI, install/Make.beo_ifc,
	  install/Make.beowulf, install/Make.hitachi, install/Make.ibmsp,
	  install/Make.origin, install/Make.pc_lahey, install/Make.sunmpi,
	  install/Make.t3e, pwtools/dynmat.f90, pwtools/lambda.f90,
	  pwtools/matdyn.f90, pwtools/q2r.f90, pwtools/rigid.f90,
	  upftools/any2upf.f90, upftools/cpmd2upf.f90,
	  upftools/fhi2upf.f90, upftools/fpmd2upf.f90, upftools/nclib.f90,
	  upftools/ncpp2upf.f90, upftools/oldcp2upf.f90,
	  upftools/read_upf.f90, upftools/rrkj2upf.f90,
	  upftools/uspp2upf.f90, upftools/vanderbilt.f90,
	  upftools/vdb2upf.f90, upftools/write_upf.f90:

	Support for lahey compiler added: "error" renamed to "errore", "rnd" to "rndx"
	bug in io_base fixed
	PARA => __PARA
	cinterpolate moved into interpolate

2003-02-19 18:15  dalcorso

	* PP/: Makefile, do_postproc.f90, local_dos.f90, punch_plot.f90:

	Introduced the possibility to plot |psi|^2 * sign(psi) for real wavefunctions
	at the Gamma point.  (ADC)

2003-02-19 18:08  dalcorso

	* Makefile:

	Modificate le istruzioni del tar per includere i .f e i .c. (ADC)

2003-02-18 18:16  giannozz

	* install/: Make.hitachi, Make.sunmpi:

	Added forgotten -D__MPI

2003-02-17 22:16  giannozz

	* CPV/fftw.f90, install/Make.cp.lnx.intel:

	Same FFTW preprocessed names in CP and PW

2003-02-17 15:16  dalcorso

	* PH/: dvqpsi_us.f90, solve_linter.f90, zstar_eu.f90:

	Corrected bug: zstar_eu+ NLCC is working again. Thanks to C. Bungaro
	for noticing the problem. (ADC)

2003-02-16 16:38  cavazzon

	* flib/reduce.f90:

	include fpmd.h removed

2003-02-16 16:16  cavazzon

	* CPV/cell_module.f90, CPV/cplib.f90, CPV/cpr.f90, CPV/fftw.f90,
	  CPV/para.f90, CPV/wrapper.f90, Modules/io_global.f90,
	  clib/c_getenv.c, clib/cp.h, include/fpmd.h, include/machine.h,
	  install/Make.cp.aix, install/Make.cp.alpha,
	  install/Make.cp.alphasc, install/Make.cp.ibmsp,
	  install/Make.cp.irix, install/Make.cp.lnx,
	  install/Make.cp.lnx.intel, install/Make.cp.origin,
	  install/Make.cp.qsw, install/Make.cp.sx5, install/Make.cp.t3e:

	 fpmd.h merged with machine.h and eliminated
	 use of machine.h extended to CPV in place of compiler macro
	 other minor changes

2003-02-16 10:41  cavazzon

	* clib/Makefile, flib/Makefile, install/Make.alpha,
	  install/Make.alphaMPI, install/Make.beo_ifc,
	  install/Make.beowulf, install/Make.cp.aix, install/Make.cp.alpha,
	  install/Make.cp.alphasc, install/Make.cp.ibmsp,
	  install/Make.cp.irix, install/Make.cp.lnx,
	  install/Make.cp.lnx.intel, install/Make.cp.origin,
	  install/Make.cp.qsw, install/Make.cp.sx5, install/Make.cp.t3e,
	  install/Make.fujitsu, install/Make.hitachi, install/Make.ibm,
	  install/Make.ibmsp, install/Make.origin, install/Make.pc_abs,
	  install/Make.pc_ifc, install/Make.pc_pgi, install/Make.sun,
	  install/Make.sunmpi, install/Make.sxcross, install/Make.t3e:

	RANLIB removed, ar -> $(AR)

2003-02-15 19:03  giannozz

	* INSTALL, configure, CPV/cplib.f90, CPV/input.f90, PW/cft3s.f90,
	  PW/cft_3.f90, PW/cft_fftw.f90, PW/cft_sgi.f90, PW/cft_sp.f90,
	  PW/cft_sun.f90, PW/cft_t3e.f90, clib/fft_stick.c,
	  install/Make.alpha, install/Make.alphaMPI, install/Make.beo_ifc,
	  install/Make.beowulf, install/Make.cp.alpha,
	  install/Make.cp.alphasc, install/Make.cp.ibmsp,
	  install/Make.cp.lnx.intel, install/Make.cp.qsw,
	  install/Make.hitachi, install/Make.origin, install/Make.pc_abs,
	  install/Make.pc_ifc, install/Make.pc_pgi, install/Make.sunmpi,
	  install/Make.t3e, install/sizeof.c:

	FFTW, __FFTWDRV, __FFTW => __FFTW, piu' altre piccole modifiche

2003-02-15 00:36  cavazzon

	* CPV/Makefile, D3/Makefile, Gamma/Makefile, PH/Makefile,
	  PP/Makefile, PW/Makefile, flib/reduce.f90, include/fpmd.h,
	  install/Make.alpha, install/Make.alphaMPI, install/Make.beo_ifc,
	  install/Make.beowulf, install/Make.cp.aix, install/Make.cp.alpha,
	  install/Make.cp.alphasc, install/Make.cp.ibmsp,
	  install/Make.cp.irix, install/Make.cp.lnx,
	  install/Make.cp.lnx.intel, install/Make.cp.origin,
	  install/Make.cp.qsw, install/Make.cp.sx5, install/Make.cp.t3e,
	  install/Make.fujitsu, install/Make.hitachi, install/Make.ibm,
	  install/Make.ibmsp, install/Make.origin, install/Make.pc_abs,
	  install/Make.pc_ifc, install/Make.pc_pgi, install/Make.sun,
	  install/Make.sunmpi, install/Make.sxcross, install/Make.t3e,
	  pwtools/Makefile, upftools/Makefile:

	Makefiles and Make.sys files changed,
	now everywhere the linker is "LD" and the linker flags are "LDFLAGS"

2003-02-14 16:32  giannozz

	* CPV/fftw.f90:

	oops...

2003-02-14 16:25  giannozz

	* CPV/Makefile, CPV/cprsub.f90, CPV/crayfft.f90, CPV/fftw.f90,
	  CPV/ibmfft.f90, CPV/macdep.f90, install/Make.cp.aix,
	  install/Make.cp.alpha, install/Make.cp.alphasc,
	  install/Make.cp.ibmsp, install/Make.cp.irix, install/Make.cp.lnx,
	  install/Make.cp.lnx.intel, install/Make.cp.origin,
	  install/Make.cp.qsw:

	Compilation error in cp fixed, some installation cleanup

2003-02-14 12:05  giannozz

	* install/Make.ibmsp:

	Make.ibmsp updated

2003-02-14 11:31  cavazzon

	* install/Make.origin:

	Machine files for origin system updated

2003-02-14 10:44  giannozz

	* CPV/cplib.f90, CPV/cprsub.f90, flib/erf.f90, install/Make.cp.lnx,
	  install/Make.cp.lnx.intel, install/Make.pc_ifc:

	erf/erfc/gauss confusion hopefully solved

2003-02-14 10:09  cavazzon

	* install/: Make.cp.alphasc, Make.cp.qsw, Make.cp.t3e:

	 updated Make.sys files for alpha systems

2003-02-14 09:15  giannozz

	* Makefile, D3/Makefile, Gamma/Makefile, PH/Makefile, PP/Makefile,
	  pwtools/Makefile:

	Compilation error fixed

2003-02-14 00:15  cavazzon

	* PW/simpson.f90:

	forgot to remove simpson from PW dir

	carlo

2003-02-14 00:10  cavazzon

	* Makefile, CPV/Makefile, CPV/cplib.f90, CPV/cpr.f90,
	  CPV/cprsub.f90, CPV/macdep.f90, CPV/restart.f90, CPV/sort.f90,
	  Modules/cell_base.f90, PW/Makefile, PW/cft_3.f90, PW/erf.f90,
	  PW/hpsort.f90, clib/fft_stick.c, flib/Makefile, flib/adjef.f90,
	  flib/blas.f, flib/cgedi.f90, flib/cgefa.f90,
	  flib/cp_oneover_v.f90, flib/dgemul.f90, flib/enthropy.f90,
	  flib/erf.f90, flib/error.f90, flib/forceconv.f90,
	  flib/geninv.f90, flib/indices.f90, flib/inv3.f90, flib/lapack.f,
	  flib/miller.f90, flib/simpsn.f90, install/Make.alpha,
	  install/Make.alphaMPI, install/Make.beo_ifc,
	  install/Make.beowulf, install/Make.cp.aix, install/Make.cp.alpha,
	  install/Make.cp.alphasc, install/Make.cp.ibmsp,
	  install/Make.cp.irix, install/Make.cp.lnx.intel,
	  install/Make.fpmd.aix, install/Make.fpmd.alpha,
	  install/Make.fpmd.alphasc, install/Make.fpmd.ibmsp,
	  install/Make.fpmd.irix, install/Make.fpmd.lnx.absoft,
	  install/Make.fpmd.lnx.alpha, install/Make.fpmd.lnx.intel,
	  install/Make.fpmd.lnx.pgi, install/Make.fpmd.origin,
	  install/Make.fpmd.t3e, install/Make.fujitsu,
	  install/Make.hitachi, install/Make.ibm, install/Make.ibmsp,
	  install/Make.origin, install/Make.pc_abs, install/Make.pc_ifc,
	  install/Make.pc_pgi, install/Make.sun, install/Make.sunmpi,
	  install/Make.sxcross, install/Make.t3e:

	1) directory flib now contains only commons general pourpose subroutines,
	   all FPMD related subs moved back to FPMD directory.
	2) All Make.fpmd... merged with Make.cp... and removed.
	3) "use parameter .."  added to all cft_3 subroutines .
	4) hpsort.f90 erf.f90 simpson.f90 moved to flib .

	everything seem to compile fine,
	at least on IBM
	carlo

2003-02-13 19:03  giannozz

	* CPV/input.f90:

	calculation of empty orbitals re-added (not sure it works properly)

2003-02-13 19:01  giannozz

	* Gamma/fake.f90:

	Gamma updated to last changes

2003-02-13 18:59  giannozz

	* PH/Makefile, D3/Makefile:

	Makefile updated

2003-02-12 00:19  cavazzon

	* CPV/cell_module.f90, Modules/Makefile, Modules/cell_base.f90,
	  clib/cp.h:

	- new common module "cell_base.f90" containing basic
	  types and subroutines related to the simulation cell

	carlo

2003-02-11 22:52  giannozz

	* install/Make.sxcross:

	[no log message]

2003-02-11 22:31  giannozz

	* configure, CPV/macdep.f90, PW/cft3s.f90, PW/cft_3.f90,
	  PW/cfts_3.f90, PW/good_fft_dimension.f90, PW/input.f90,
	  clib/cp.h, include/machine.h, include/machine.h.README,
	  install/Make.cp.sx5:

	Support for nec sx6 (PW)

2003-02-11 13:48  giannozz

	* CPV/cplib.f90, CPV/input.f90, CPV/modules.f90,
	  install/Make.cp.lnx.intel:

	pseudo_dir implemented

2003-02-10 17:29  giannozz

	* pwtools/q2r.f90:

	better checks for q2r

2003-02-10 15:44  giannozz

	* CPV/cpr.f90, CPV/cprsub.f90, PH/solve_e.f90, include/machine.h,
	  install/Make.cp.lnx.intel, install/Make.sun, install/Make.sunmpi:

	Sun, intel+linux+CP, misc

2003-02-10 09:58  degironc

	* PP/projwave.f90, PW/Makefile, PW/allocate_nlpot.f90,
	  PW/d_matrix.f90, PW/dndepsilon.f90, PW/dndtau.f90,
	  PW/dprojdtau.f90, PW/electrons.f90, PW/force_hub.f90,
	  PW/init_ns.f90, PW/mix_rho.f90, PW/new_ns.f90, PW/potinit.f90,
	  PW/pwcom.f90, PW/restart.f90, PW/set_hubbard_l.f90, PW/setup.f90,
	  PW/stres_hub.f90, PW/tabd.f90, PW/vhpsi.f90:

	10 feb 2003  lda+u stuff modified in order to work also for non-d
	             localized orbitals. Hubbard_l=0,1,2,3 are now possible.
	             It has been tested that calculations done for Hubbard_l=2
	             are reproduced. More testing on non-d material needed.
	             SdG + Gabriele Balducci

2003-02-07 17:04  giannozz

	* D3/Makefile, D3/allocate_d3.f90, D3/bcast_d3_input.f90,
	  D3/ch_psi_all2.f90, D3/close_open.f90, D3/d0rhod2v.f90,
	  D3/d2mxc.f90, D3/d3_exc.f90, D3/d3_init.f90, D3/d3_readin.f90,
	  D3/d3_recover.f90, D3/d3_setup.f90, D3/d3_summary.f90,
	  D3/d3_symdyn.f90, D3/d3_symdynph.f90, D3/d3_valence.f90,
	  D3/d3com.f90, D3/d3dyn_cc.f90, D3/d3ionq.f90, D3/d3matrix.f90,
	  D3/d3toten.f90, D3/d3vrho.f90, D3/davcio_drho2.f90,
	  D3/dpsi_corr.f90, D3/dpsidpsidv.f90, D3/dpsidvdpsi.f90,
	  D3/dqrhod2v.f90, D3/drho_cc.f90, D3/drho_drc.f90, D3/drhod2v.f90,
	  D3/dvdpsi.f90, D3/dvscf.f90, D3/gen_dpdvp.f90, D3/gen_dwfc.f90,
	  D3/incdrhoscf2.f90, D3/openfild3.f90, D3/print_clock_d3.f90,
	  D3/psymd0rho.f90, D3/qstar_d3.f90, D3/read_ef.f90,
	  D3/rotate_and_add_d3.f90, D3/set_d3irr.f90, D3/set_efsh.f90,
	  D3/set_sym_irr.f90, D3/sgama_d3.f90, D3/solve_linter_d3.f90,
	  D3/stop_d3.f90, D3/sym_def1.f90, D3/symd0rho.f90,
	  D3/trntnsc_3.f90, D3/w_1gauss.f90, D3/write_aux.f90,
	  D3/write_d3dyn.f90, D3/write_igk.f90, D3/writed3dyn_5.f90,
	  Gamma/Makefile, Gamma/a_h.f90, Gamma/add_vuspsi.f90,
	  Gamma/addusdens.f90, Gamma/allocate_fft.f90,
	  Gamma/allocate_wfc.f90, Gamma/atomic_rho.f90, Gamma/c_bands.f90,
	  Gamma/cg_readin.f90, Gamma/cg_setup.f90, Gamma/cgcom.f90,
	  Gamma/cgsolve.f90, Gamma/d2ion.f90,
	  Gamma/data_structure_para.f90, Gamma/data_structure_scal.f90,
	  Gamma/dgcxc.f90, Gamma/dgcxc_spin.f90, Gamma/dgradcorr.f90,
	  Gamma/dielec.f90, Gamma/dmxc.f90, Gamma/dvpsi_e.f90,
	  Gamma/dvpsi_kb.f90, Gamma/dyndiar.f90, Gamma/dynmat_init.f90,
	  Gamma/dynmatcc.f90, Gamma/electrons.f90, Gamma/force_us.f90,
	  Gamma/generate_dynamical_matrix.f90,
	  Gamma/generate_effective_charges.f90, Gamma/ggen.f90,
	  Gamma/gradcorr.f90, Gamma/h_h.f90, Gamma/h_psi.f90,
	  Gamma/init_run.f90, Gamma/interpolate.f90, Gamma/mix_rho.f90,
	  Gamma/newd.f90, Gamma/pw_gemm.f90, Gamma/pwscf.f90,
	  Gamma/raman.f90, Gamma/rdiaghg.f90, Gamma/read_file.f90,
	  Gamma/regterg.f90, Gamma/rhod2vkb.f90, Gamma/rotate_wfc.f90,
	  Gamma/s_psi.f90, Gamma/set_rhoc.f90, Gamma/setlocal.f90,
	  Gamma/solve_e.f90, Gamma/solve_ph.f90, Gamma/stres_us.f90,
	  Gamma/sum_band.f90, Gamma/v_of_rho.f90, Gamma/vloc_psi.f90,
	  Gamma/wfcinit.f90, Gamma/writedyn.f90, PH/Makefile,
	  PH/add_zstar_ue.f90, PH/addcore.f90, PH/adddvepsi_us.f90,
	  PH/adddvscf.f90, PH/addnlcc.f90, PH/addusdbec.f90,
	  PH/addusddens.f90, PH/addusddense.f90, PH/addusdynmat.f90,
	  PH/addusldos.f90, PH/allocate_part.f90, PH/allocate_phq.f90,
	  PH/bcast_ph_input.f90, PH/bcast_ph_input1.f90, PH/cg_psi.f90,
	  PH/cgsolve_all.f90, PH/ch_psi_all.f90, PH/cinterpolate.f90,
	  PH/compute_alphasum.f90, PH/compute_becalp.f90,
	  PH/compute_becsum.f90, PH/compute_drhous.f90,
	  PH/compute_dvloc.f90, PH/compute_nldyn.f90,
	  PH/compute_qdipol.f90, PH/compute_weight.f90, PH/d2ionq.f90,
	  PH/davcio_drho.f90, PH/dgcxc.f90, PH/dgcxc_spin.f90,
	  PH/dgradcorr.f90, PH/dielec.f90, PH/dmxc.f90, PH/dmxc_spin.f90,
	  PH/drho.f90, PH/drhodv.f90, PH/drhodvloc.f90, PH/drhodvnl.f90,
	  PH/drhodvus.f90, PH/dv_of_drho.f90, PH/dvanqq.f90,
	  PH/dvpsi_e.f90, PH/dvqpsi_us.f90, PH/dvqpsi_us_only.f90,
	  PH/dyndia.f90, PH/dynmat0.f90, PH/dynmat_us.f90, PH/dynmatcc.f90,
	  PH/dynmatrix.f90, PH/ef_shift.f90, PH/elph.f90, PH/elphon.f90,
	  PH/h_psiq.f90, PH/incdrhoscf.f90, PH/incdrhous.f90,
	  PH/io_pattern.f90, PH/localdos.f90, PH/newdq.f90,
	  PH/openfilq.f90, PH/phcom.f90, PH/phonon.f90, PH/phq_init.f90,
	  PH/phq_readin.f90, PH/phq_recover.f90, PH/phq_setup.f90,
	  PH/phq_summary.f90, PH/phqscf.f90, PH/print_clock_ph.f90,
	  PH/psymdvscf.f90, PH/psyme.f90, PH/punch_plot_e.f90,
	  PH/punch_plot_ph.f90, PH/q2qstar_ph.f90, PH/random_matrix.f90,
	  PH/rotate_and_add_dyn.f90, PH/set_drhoc.f90, PH/set_irr.f90,
	  PH/set_irr_mode.f90, PH/set_irr_nosym.f90, PH/setlocq.f90,
	  PH/setqmod.f90, PH/setup_dgc.f90, PH/smallgq.f90, PH/solve_e.f90,
	  PH/solve_linter.f90, PH/star_q.f90, PH/stop_ph.f90,
	  PH/sym_and_write_zue.f90, PH/sym_def.f90, PH/symdvscf.f90,
	  PH/symdyn_munu.f90, PH/symdynph_gq.f90, PH/syme.f90, PH/symz.f90,
	  PH/tra_write_matrix.f90, PH/trntnsc.f90,
	  PH/write_dyn_on_file.f90, PH/write_epsilon_and_zeu.f90,
	  PH/write_matrix.f90, PH/zstar_eu.f90, PP/Makefile,
	  PP/addusdens1d.f90, PP/average.f90, PP/avmain.f90, PP/bands.f90,
	  PP/cgracsc.f90, PP/chdens.f90, PP/chmain.f90, PP/do_postproc.f90,
	  PP/dos.f90, PP/dosg.f90, PP/dost.f90, PP/elf.f90, PP/ggen1d.f90,
	  PP/local_dos.f90, PP/local_dos1d.f90, PP/plan_avg.f90,
	  PP/plot_io.f90, PP/plot_whole_cell.f90, PP/plotrho.f90,
	  PP/postproc.f90, PP/projected_dos.f90, PP/projwave.f90,
	  PP/projwfc.f90, PP/punch_band.f90, PP/punch_plot.f90,
	  PP/start_postproc.f90, PP/stm.f90, PP/stop_pp.f90,
	  PP/subtract_vxc.f90, PP/voromain.f90, PP/voronoy.f90,
	  PP/work_function.f90, PP/xsf.f90, PW/Makefile, PW/aainit.f90,
	  PW/add_vuspsi.f90, PW/addusdens.f90, PW/addusforce.f90,
	  PW/addusstress.f90, PW/allocate.f90, PW/allocate_fft.f90,
	  PW/allocate_locpot.f90, PW/allocate_nlpot.f90,
	  PW/allocate_wfc.f90, PW/allowed.f90, PW/atomic_rho.f90,
	  PW/atomic_wfc.f90, PW/bachel.f90, PW/bfgs.f90, PW/broadcast.f90,
	  PW/c_bands.f90, PW/c_gemm.f90, PW/ccalbec.f90, PW/ccgdiagg.f90,
	  PW/cdiagh.f90, PW/cdiaghg.f90, PW/cdiisg.f90, PW/cegterg.f90,
	  PW/cft.f90, PW/cft3.f90, PW/cft3s.f90, PW/cft_3.f90,
	  PW/cft_fftw.f90, PW/cft_sgi.f90, PW/cft_sp.f90, PW/cft_sun.f90,
	  PW/cft_t3e.f90, PW/cfts_3.f90, PW/cgather_sym.f90,
	  PW/cgramg1.f90, PW/check.f90, PW/checkallsym.f90,
	  PW/checksym.f90, PW/cinitcgg.f90, PW/clocks.f90,
	  PW/constrain.f90, PW/conv_to_num.f90, PW/coset.f90,
	  PW/cryst_to_car.f90, PW/cubicsym.f90, PW/d_matrix.f90,
	  PW/data_structure.f90, PW/date_and_tim.f90, PW/davcio.f90,
	  PW/delta_e.f90, PW/deriv_drhoc.f90, PW/diropn.f90, PW/divide.f90,
	  PW/divide_et_impera.f90, PW/dndepsilon.f90, PW/dndtau.f90,
	  PW/dprojdepsilon.f90, PW/dprojdtau.f90, PW/dqvan2.f90,
	  PW/drhoc.f90, PW/dsum.f90, PW/dvloc_of_g.f90, PW/dylmr2.f90,
	  PW/dynamics.f90, PW/efermig.f90, PW/efermit.f90,
	  PW/electrons.f90, PW/eqvect.f90, PW/erf.f90, PW/error.f90,
	  PW/error_handler.f90, PW/estimate.f90, PW/ewald.f90,
	  PW/fft_scatter.f90, PW/fftw.f90, PW/force_cc.f90,
	  PW/force_corr.f90, PW/force_ew.f90, PW/force_hub.f90,
	  PW/force_lc.f90, PW/force_us.f90, PW/forces.f90, PW/funct.f90,
	  PW/functionals.f90, PW/g_psi.f90, PW/g_psi_mod.f90,
	  PW/gather.f90, PW/gen_at_dj.f90, PW/gen_at_dy.f90,
	  PW/gen_us_dj.f90, PW/gen_us_dy.f90, PW/ggen.f90, PW/gk_sort.f90,
	  PW/good_fft_dimension.f90, PW/gradcorr.f90, PW/gweights.f90,
	  PW/h_1psi.f90, PW/h_psi.f90, PW/hexsym.f90, PW/hinit0.f90,
	  PW/hinit1.f90, PW/hpsort.f90, PW/init_ns.f90, PW/init_pool.f90,
	  PW/init_run.f90, PW/init_us_1.f90, PW/init_us_2.f90,
	  PW/init_vloc.f90, PW/input.f90, PW/interpolate.f90,
	  PW/invmat.f90, PW/io_pot.f90, PW/ions.f90, PW/irrek.f90,
	  PW/iweights.f90, PW/kpoint_grid.f90, PW/latgen.f90,
	  PW/lchk_tauxk.f90, PW/linmin.f90, PW/lsda_functionals.f90,
	  PW/maximum.f90, PW/mix_pot.f90, PW/mix_rho.f90,
	  PW/mode_group.f90, PW/move_ions.f90, PW/multable.f90,
	  PW/n_plane_waves.f90, PW/new_ns.f90, PW/newd.f90, PW/openfil.f90,
	  PW/ortho.f90, PW/orthoatwfc.f90, PW/para.f90, PW/pencils.f90,
	  PW/poolbcast.f90, PW/poolextreme.f90, PW/poolrecover.f90,
	  PW/poolreduce.f90, PW/poolscatter.f90, PW/potinit.f90,
	  PW/print_clock_pw.f90, PW/psymrho.f90, PW/punch.f90,
	  PW/pwcom.f90, PW/pwscf.f90, PW/qvan2.f90, PW/random.f90,
	  PW/read_conf_from_file.f90, PW/read_file.f90, PW/read_ncpp.f90,
	  PW/read_pseudo.f90, PW/readin.f90, PW/readnewvan.f90,
	  PW/readvan.f90, PW/recips.f90, PW/reduce.f90,
	  PW/remove_atomic_rho.f90, PW/restart.f90,
	  PW/restart_from_file.f90, PW/restart_in_electrons.f90,
	  PW/restart_in_ions.f90, PW/rgen.f90, PW/rho2zeta.f90,
	  PW/rotate_wfc.f90, PW/ruotaijk.f90, PW/s_1psi.f90,
	  PW/s_axis_to_ca.f90, PW/s_gemm.f90, PW/s_psi.f90,
	  PW/save_in_cbands.f90, PW/save_in_electrons.f90,
	  PW/save_in_ions.f90, PW/saveall.f90, PW/scala_cdiag.f90,
	  PW/scala_cdiaghg.f90, PW/scala_utils.f90, PW/scale_h.f90,
	  PW/scatter.f90, PW/scnds.f90, PW/scopy_t3e.f90, PW/seqopn.f90,
	  PW/set_fft_dim.f90, PW/set_kplusq.f90, PW/set_kup_and_kdw.f90,
	  PW/set_pencils.f90, PW/set_rhoc.f90, PW/set_vrs.f90,
	  PW/setlocal.f90, PW/setqf.f90, PW/setup.f90, PW/setupkpt.f90,
	  PW/setv.f90, PW/sgam_at.f90, PW/sgam_ph.f90, PW/sgama.f90,
	  PW/show_memory.f90, PW/simpson.f90, PW/smallg_q.f90,
	  PW/sph_bes.f90, PW/startup.f90, PW/stop_pw.f90, PW/stres_cc.f90,
	  PW/stres_ewa.f90, PW/stres_gradcorr.f90, PW/stres_har.f90,
	  PW/stres_hub.f90, PW/stres_knl.f90, PW/stres_loc.f90,
	  PW/stres_us.f90, PW/stress.f90, PW/struct_fact.f90,
	  PW/sum_band.f90, PW/sumkg.f90, PW/sumkt.f90, PW/summary.f90,
	  PW/swap.f90, PW/symrho.f90, PW/symtns.f90, PW/symvect.f90,
	  PW/tabd.f90, PW/trntns.f90, PW/trnvecc.f90, PW/trnvect.f90,
	  PW/tweights.f90, PW/update_pot.f90, PW/updathes.f90,
	  PW/upf_to_internal.f90, PW/usnldiag.f90, PW/v_of_rho.f90,
	  PW/vcsmd.f90, PW/vcsubs.f90, PW/vhpsi.f90, PW/vloc_of_g.f90,
	  PW/volume.f90, PW/vpack.f90, PW/w0gauss.f90, PW/w1gauss.f90,
	  PW/wfcinit.f90, PW/wgauss.f90, PW/which_dft.f90,
	  PW/write_config_to_file.f90, PW/write_ns.f90, PW/ylmr2.f90,
	  install/Make.beowulf, install/Make.pc_pgi, pwtools/Makefile:

	module allocate, calls to mallocate, mfree removed
	pointers replaced by allocatable whenever possible

2003-02-07 16:33  cavazzon

	* install/: Make.cp.alphasc, Make.fpmd.alphasc:

	- small changes in Machine file for AlphaSuperCluster

	carlo

2003-02-06 19:28  tag pw-1-2-0

2003-02-06 19:28  giannozz

	* D3/d3com.f90, PW/allocate_nlpot.f90, PW/pwcom.f90:

	pgi fixes, output of examples updated

2003-02-03 14:55  giannozz

	* CPV/Makefile, flib/work.pcl:

	tag pw-1-2-0 (un'altra volta...)

2003-02-03 14:48  dalcorso

	* PH/: dvpsi_e.f90, phq_setup.f90:

	Corretto un bug nella costante dielettrica con potenziali solo
	locali. (ADC)

2003-02-03 11:57  giannozz

	* PW/input.f90:

	Argh, noinv usata senza mai essere stata inizializzata...

2003-02-03 10:03  cavazzon

	* PW/punch.f90:

	- back to the previous punch
	carlo

2003-02-03 09:32  cavazzon

	* Modules/io_base.f90, PW/punch.f90, include/fpmd.h:

	- more comments, docs and examples

	carlo

2003-02-02 19:22  giannozz

	* install/: Make.cp.aix, Make.cp.alpha, Make.cp.alphasc,
	  Make.cp.ibmsp, Make.cp.irix, Make.cp.lnx, Make.cp.origin,
	  Make.cp.qsw, Make.cp.sx5, Make.cp.t3e, Make.cpv.aix,
	  Make.cpv.alpha, Make.cpv.alphasc, Make.cpv.ibmsp, Make.cpv.irix,
	  Make.cpv.lnx.absoft, Make.cpv.lnx.intel, Make.cpv.lnx.pgi,
	  Make.cpv.origin, Make.cpv.qsw, Make.cpv.sx5, Make.cpv.t3e:

	[no log message]

2003-02-02 19:13  giannozz

	* INSTALL, Makefile:

	ancora piccole correzioni

2003-02-02 18:52  giannozz

	* INSTALL, Makefile, README, configure, CPV/cplib.f90,
	  CPV/read_pseudo.f90:

	CP + UPF bug fixed, examples updated, name cpv changed to cp, etc etc

2003-02-01 13:01  giannozz

	* README, configure, CPV/modules.f90, CPV/read_pseudo.f90,
	  CPV/restart.f90, PW/dynamics.f90:

	cpv: added check on dimension of pseudopotential arrays, temporarily
	removed check on gamma_only, configure and cp_examples fixed

2003-01-29 17:28  degironc

	* PW/: input.f90, summary.f90, vcsmd.f90:

	ultime (?) modifiche ai defaul e alle scritture  vcsmd

2003-01-29 15:49  degironc

	* PW/input.f90:

	in input.f90
	use constants, only : pi

2003-01-29 15:44  degironc

	* PW/input.f90:

	default piu accurato per wmass

2003-01-29 15:32  giannozz

	* Makefile, Gamma/Makefile, Modules/Makefile:

	ancora makefiles...

2003-01-29 15:29  degironc

	* PW/: input.f90, vcsmd.f90:

	1) piu informazione scritta quando la minimizzazione con la cella arriva in fondo
	2) un default (non troppo accurato) per wmass (massa della cella) e stato introdotto

2003-01-29 15:04  giannozz

	* README, D3/d3matrix.f90, Gamma/cgsolve.f90, Gamma/d2ion.f90,
	  Gamma/dielec.f90, Gamma/dyndiar.f90, Gamma/macro.f90,
	  Gamma/raman.f90, Gamma/regterg.f90, Gamma/solve_e.f90,
	  Gamma/solve_ph.f90, Gamma/writedyn.f90, PW/check.f90,
	  PW/startup.f90:

	Le virgolette '' confondono certi compilatori ...

2003-01-29 13:33  degironc

	* Makefile, PW/vcsmd.f90, install/Make.pc_ifc:

	last (but not least) minute changes

2003-01-29 11:05  degironc

	* pwtools/rigid.f90:

	non scrive piu i commenti su Gmega e diagonal term nel programmetto delle
	costatnti interatomiche

2003-01-29 10:37  giannozz

	* README, D3/d3toten.f90, Gamma/pwscf.f90, PH/phonon.f90,
	  PP/start_postproc.f90, PW/pwscf.f90:

	Ultimi dettagli, 1.2.0

2003-01-29 09:26  degironc

	* PW/: diropn.f90, dynamics.f90, vcsmd.f90:

	qualche formattazione piu leggibile +
	nel caso a cella variabile se la simulazione comincia da
	scratch vengono cancellati eventuali files preesistenti
	(e, eal, ave, avec, p, tv) vengono cancellati emettendo
	dei warning.

	stefano

2003-01-29 09:17  degironc

	* PP/plotrho.f90:

	formattazione piu` leggibile qui e la

2003-01-29 00:25  cavazzon

	* flib/error.f90:

	- more comments
	- behaviour of some variables changed for compliance to other codes
	carlo

2003-01-28 21:21  giannozz

	* README, Gamma/cg_readin.f90, PW/restart.f90:

	Minor things

2003-01-28 19:47  giannozz

	* PP/: Makefile, chdens.f90, plot_whole_cell.f90, xsf.f90:

	New chdens from Tone

2003-01-28 13:28  giannozz

	* D3/intel.pcl, Gamma/a_h.f90, Gamma/add_vuspsi.f90,
	  Gamma/addusdens.f90, Gamma/allocate_fft.f90,
	  Gamma/allocate_wfc.f90, Gamma/atomic_rho.f90, Gamma/c_bands.f90,
	  Gamma/cg_readin.f90, Gamma/cg_setup.f90, Gamma/cg_setupdgc.f90,
	  Gamma/cg_summary.f90, Gamma/cgcom.f90, Gamma/cgsolve.f90,
	  Gamma/d2ion.f90, Gamma/data_structure_para.f90,
	  Gamma/data_structure_scal.f90, Gamma/dgcxc.f90,
	  Gamma/dgcxc_spin.f90, Gamma/dgradcorr.f90, Gamma/dielec.f90,
	  Gamma/dmxc.f90, Gamma/drhodv.f90, Gamma/dvb_cc.f90,
	  Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90, Gamma/dyndiar.f90,
	  Gamma/dynmat_init.f90, Gamma/dynmatcc.f90, Gamma/electrons.f90,
	  Gamma/fake.f90, Gamma/find_equiv_sites.f90, Gamma/force_us.f90,
	  Gamma/gamma.f90, Gamma/generate_dynamical_matrix.f90,
	  Gamma/generate_effective_charges.f90, Gamma/ggen.f90,
	  Gamma/gradcorr.f90, Gamma/h_h.f90, Gamma/h_psi.f90,
	  Gamma/init_run.f90, Gamma/intel.pcl, Gamma/interpolate.f90,
	  Gamma/macro.f90, Gamma/mix_rho.f90, Gamma/newd.f90,
	  Gamma/pw_dot.f90, Gamma/pw_gemm.f90, Gamma/pwscf.f90,
	  Gamma/raman.f90, Gamma/rbecmod.f90, Gamma/rdiaghg.f90,
	  Gamma/read_file.f90, Gamma/regterg.f90, Gamma/rhod2vkb.f90,
	  Gamma/rotate_wfc.f90, Gamma/s_psi.f90, Gamma/set_rhoc.f90,
	  Gamma/setlocal.f90, Gamma/solve_e.f90, Gamma/solve_ph.f90,
	  Gamma/stres_us.f90, Gamma/sum_band.f90, Gamma/v_of_rho.f90,
	  Gamma/vloc_psi.f90, Gamma/wfcinit.f90, Gamma/writedyn.f90,
	  Gamma/zvscal.f90, Modules/intel.pcl, PH/intel.pcl, PP/intel.pcl,
	  PW/intel.pcl, pwtools/dynmat.f90, pwtools/intel.pcl,
	  pwtools/rigid.f90:

	Manuale, dynmat.f90, copyright, misc

2003-01-28 13:27  dalcorso

	* PH/dvpsi_e.f90:

	Corretto il bug introdotto con le ultime modifiche che dava problemi con zue.
	Scusate l'inconveniente. (ADC)

2003-01-28 00:07  cavazzon

	* Makefile, CPV/Makefile, CPV/restart.f90, Modules/io_base.f90,
	  PW/restart.f90, PW/scnds.f90, clib/Makefile,
	  install/Make.fpmd.lnx.pgi, install/sizeof.c:

	- variable gamma_only added to restart file
	- Make.fpmd.lnx.pgi compatible with cpv
	- fix for PW/scnds.f90 with PGI compiler
	carlo

2003-01-27 19:05  giannozz

	* D3/Makefile, PH/Makefile, PP/Makefile, PW/Makefile,
	  pwtools/Makefile, upftools/Makefile:

	More manual updates

2003-01-27 18:06  cavazzon

	* install/Make.fpmd.lnx.pgi:

	- Settings for CINECA and ICTP Beowulfs
	carlo

2003-01-27 17:43  cavazzon

	* install/sizeof.c:

	- small fix for system with FFTW
	carlo

2003-01-27 17:42  degironc

	* PH/: allocate_phq.f90, intel.pcl, phcom.f90, phq_setup.f90,
	  set_irr.f90, set_irr_mode.f90, set_irr_nosym.f90, solve_e.f90:

	in phcom.f90 introdotta variabile max_irr_dim (diemsione massima concessa
	per le rapresentazioni irriducibili)

2003-01-26 23:39  cavazzon

	* CPV/Makefile, CPV/input.f90, CPV/restart.f90, Modules/Makefile,
	  Modules/constants.f90, PW/pwcom.f90, flib/error.f90,
	  install/Make.cpv.ibmsp, install/Make.fpmd.ibmsp,
	  pseudo/H.fpmd.UPF, pseudo/N.BLYP.UPF, pseudo/O.BLYP.UPF,
	  upftools/Makefile, upftools/fpmd2upf.f90:

	- many small changes ( comments and standartd output layout )
	- some new pseudo
	- some new cp_examples
	- NEW shared module constants, this is the merge of FPMD and PW constants module
	- NEW fpmd2upf pseudo converter (from fpmd format to upf )

	carlo

2003-01-26 19:25  giannozz

	* INSTALL, README, install/Make.ibm, install/Make.ibmsp,
	  pwtools/Makefile:

	Manual added and (partially) updated

2003-01-25 19:05  giannozz

	* INSTALL, Makefile, PROBLEMI, README, CPV/Makefile, CPV/pw2us.f90,
	  D3/Makefile, Gamma/Makefile, Modules/Makefile, PH/Makefile,
	  PP/Makefile, PW/Makefile, clib/Makefile, flib/Makefile,
	  install/Makefile, pwtools/Makefile:

	Makefiles modified to work if some directory is missing
	INSTALL file added, pwdocs/INSTALL.obsolete obsoleted,
	README worth reading, misc. cleaning

2003-01-24 19:28  giannozz

	* Makefile, PROBLEMI, configure, PW/input.f90, PW/restart.f90,
	  install/Make.alphaMPI, install/Make.beo_ifc,
	  install/Make.cpv.lnx.intel, install/Make.fujitsu,
	  install/Make.hitachi, install/Make.pc_ifc, install/Make.sun,
	  install/Make.sunmpi, install/Make.t3e, pseudo/Al.vbc.UPF,
	  pseudo/As.gon.UPF, pseudo/CUS.RRKJ3.UPF, pseudo/CuUS.RRKJ3.UPF,
	  pseudo/Ga.gon.UPF, pseudo/H.vbc.UPF, pseudo/NiUS.RRKJ3.UPF,
	  pseudo/O.LDA.US.RRKJ3.UPF, pseudo/Si.vbc.UPF, pwtools/dynmat.f90,
	  pwtools/matdyn.f90, pwtools/rigid.f90:

	Misc. changes to installation files
	small change in input.f90 to allow use of debugger
	Do not (yet) use UPF format to write PPs in restart file:
	other types of PP will not work
	Example added, example documentation and PP in UPF format updated

2003-01-24 17:55  cavazzon

	* install/moduledep.c:

	- module files self-dependencies eliminated
	carlo

2003-01-23 19:01  giannozz

	* Makefile, PP/Makefile, pwtools/Makefile:

	Ancora piccoli problemi con i Makefiles

2003-01-23 17:30  giannozz

	* D3/Makefile, Gamma/Makefile, PP/Makefile, pwtools/Makefile:

	Ancora Makefiles e affini - PG

2003-01-23 15:55  giannozz

	* PH/: addusddense.f90, compute_qdipol.f90:

	oops, ne mancavano altri due...

2003-01-23 15:51  giannozz

	* PROBLEMI, PH/adddvepsi_us.f90, install/Make.alpha:

	Makefile for alpha, missing file adddvepsi_us.f90 added to PH

2003-01-23 10:32  cavazzon

	* flib/Makefile, install/Make.fpmd.lnx.pgi:

	 - Make.fpmd.lnx.pgi (linux pgi installation) fixed for the new distribution
	carlo

2003-01-23 00:24  cavazzon

	* install/: moduledep.c, shdep:

	- new fast moduledep.c dependencies finder,
	  now it reads two list of file only once (one for the target objects and one
	  for the dependencies objects), then it generate all the dependencies
	  into memory.
	- shdep changed accordingly

	carlo

2003-01-22 17:48  giannozz

	* PW/para.f90, install/Make.origin:

	Problemi su origin + prova mailismo cvs nuovo - PG

2003-01-22 12:37  cavazzon

	* Modules/io_base.f90:

	- small bug fix

	carlo

2003-01-21 16:25  giannozz

	* configure, PH/Makefile, PH/addusdynmat.f90, PH/allocate_phq.f90,
	  PH/dielec.f90, PH/dvpsi_e.f90, PH/dynmatrix.f90, PH/newdq.f90,
	  PH/phcom.f90, PH/phq_init.f90, PH/phq_readin.f90, PH/solve_e.f90,
	  PH/solve_linter.f90, PH/zstar_eu.f90:

	20 Jan 2003  Added dielectric tensor calculation with USPP
	             (experimental) - AdC

2003-01-20 14:37  giannozz

	* README:

	[no log message]

2003-01-20 12:44  giannozz

	* install/: Make.pc_abs, Make.pc_pgi:

	Makefiles

2003-01-20 12:17  giannozz

	* install/: Make.alpha, Make.alphaMPI, Make.beowulf, Make.fujitsu,
	  Make.origin, Make.pc_abs, Make.pc_pgi, Make.sun, Make.sunmpi,
	  Make.t3e:

	[no log message]

2003-01-20 11:47  giannozz

	* install/: Make.alpha, Make.alphaMPI, Make.beo_ifc, Make.beowulf,
	  Make.fujitsu, Make.hitachi, Make.ibm, Make.ibmsp, Make.origin,
	  Make.pc_abs, Make.pc_pgi, Make.sun, Make.sunmpi, Make.t3e:

	[no log message]

2003-01-20 11:11  giannozz

	* configure, install/Make.cp90.aix, install/Make.cp90.alpha,
	  install/Make.cp90.alphasc, install/Make.cp90.ibmsp,
	  install/Make.cp90.irix, install/Make.cp90.lnx.absoft,
	  install/Make.cp90.lnx.intel, install/Make.cp90.lnx.pgi,
	  install/Make.cp90.origin, install/Make.cp90.qsw,
	  install/Make.cp90.sx5, install/Make.cp90.t3e,
	  install/Make.cpv.aix, install/Make.cpv.alpha,
	  install/Make.cpv.alphasc, install/Make.cpv.ibmsp,
	  install/Make.cpv.irix, install/Make.cpv.lnx.absoft,
	  install/Make.cpv.lnx.intel, install/Make.cpv.lnx.pgi,
	  install/Make.cpv.origin, install/Make.cpv.qsw,
	  install/Make.cpv.sx5, install/Make.cpv.t3e:

	[no log message]

2003-01-19 22:58  tag start

2003-01-19 22:58  giannozz

	* License, Makefile, PROBLEMI, README, configure,
	  CPV/cell_module.f90, CPV/cplib.f90, CPV/cpr.f90, CPV/cpr_mod.f90,
	  CPV/cprsub.f90, CPV/crayfft.f90, CPV/fftw.f90, CPV/ibmfft.f90,
	  CPV/input.f90, CPV/Makefile, CPV/cpflush.f90, CPV/macdep.f90,
	  CPV/modules.f90, CPV/para.f90, CPV/pw2us.f90,
	  CPV/read_pseudo.f90, CPV/restart.f90, CPV/sort.f90,
	  CPV/which_dft.f90, CPV/wrapper.f90, D3/Makefile,
	  D3/allocate_d3.f90, D3/bcast_d3_input.f90, D3/ch_psi_all2.f90,
	  D3/close_open.f90, D3/d0rhod2v.f90, D3/d2mxc.f90, D3/d3_exc.f90,
	  D3/d3_init.f90, D3/d3_readin.f90, D3/d3_recover.f90,
	  D3/d3_setup.f90, D3/d3_summary.f90, D3/d3_symdyn.f90,
	  D3/d3_symdynph.f90, D3/d3_valence.f90, D3/d3com.f90,
	  D3/d3dyn_cc.f90, D3/d3ionq.f90, D3/d3matrix.f90, D3/d3toten.f90,
	  D3/d3vrho.f90, D3/davcio_drho2.f90, D3/dpsi_corr.f90,
	  D3/dpsidpsidv.f90, D3/dpsidvdpsi.f90, D3/dqrhod2v.f90,
	  D3/drho_cc.f90, D3/drho_drc.f90, D3/drhod2v.f90, D3/dvdpsi.f90,
	  D3/dvscf.f90, D3/gen_dpdvp.f90, D3/gen_dwfc.f90,
	  D3/incdrhoscf2.f90, D3/intel.pcl, D3/openfild3.f90,
	  D3/print_clock_d3.f90, D3/psymd0rho.f90, D3/qstar_d3.f90,
	  D3/read_ef.f90, D3/rotate_and_add_d3.f90, D3/set_d3irr.f90,
	  D3/set_efsh.f90, D3/set_sym_irr.f90, D3/sgama_d3.f90,
	  D3/solve_linter_d3.f90, D3/stop_d3.f90, D3/sym_def1.f90,
	  D3/symd0rho.f90, D3/trntnsc_3.f90, D3/w_1gauss.f90,
	  D3/write_aux.f90, D3/write_d3dyn.f90, D3/write_igk.f90,
	  D3/writed3dyn_5.f90, Gamma/Makefile, Gamma/README, Gamma/a_h.f90,
	  Gamma/add_vuspsi.f90, Gamma/addusdens.f90,
	  Gamma/allocate_fft.f90, Gamma/allocate_wfc.f90,
	  Gamma/atomic_rho.f90, Gamma/c_bands.f90, Gamma/cg_readin.f90,
	  Gamma/cg_setup.f90, Gamma/cg_setupdgc.f90, Gamma/cg_summary.f90,
	  Gamma/cgcom.f90, Gamma/cgsolve.f90, Gamma/d2ion.f90,
	  Gamma/data_structure_para.f90, Gamma/data_structure_scal.f90,
	  Gamma/dgcxc.f90, Gamma/dgcxc_spin.f90, Gamma/dgradcorr.f90,
	  Gamma/dielec.f90, Gamma/dmxc.f90, Gamma/drhodv.f90,
	  Gamma/dvb_cc.f90, Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90,
	  Gamma/dyndiar.f90, Gamma/dynmat_init.f90, Gamma/dynmatcc.f90,
	  Gamma/electrons.f90, Gamma/fake.f90, Gamma/find_equiv_sites.f90,
	  Gamma/force_us.f90, Gamma/gamma.f90,
	  Gamma/generate_dynamical_matrix.f90,
	  Gamma/generate_effective_charges.f90, Gamma/ggen.f90,
	  Gamma/gradcorr.f90, Gamma/h_h.f90, Gamma/h_psi.f90,
	  Gamma/init_run.f90, Gamma/intel.pcl, Gamma/interpolate.f90,
	  Gamma/macro.f90, Gamma/mix_rho.f90, Gamma/newd.f90,
	  Gamma/pw_dot.f90, Gamma/pw_gemm.f90, Gamma/pwscf.f90,
	  Gamma/raman.f90, Gamma/rbecmod.f90, Gamma/rdiaghg.f90,
	  Gamma/read_file.f90, Gamma/regterg.f90, Gamma/rhod2vkb.f90,
	  Gamma/rotate_wfc.f90, Gamma/s_psi.f90, Gamma/set_rhoc.f90,
	  Gamma/setlocal.f90, Gamma/solve_e.f90, Gamma/solve_ph.f90,
	  Gamma/stres_us.f90, Gamma/sum_band.f90, Gamma/v_of_rho.f90,
	  Gamma/vloc_psi.f90, Gamma/wfcinit.f90, Gamma/writedyn.f90,
	  Gamma/zvscal.f90, Modules/Makefile, Modules/intel.pcl,
	  Modules/io_base.f90, Modules/io_global.f90, Modules/kind.f90,
	  Modules/mp.f90, Modules/mp_global.f90, Modules/mp_wave.f90,
	  Modules/parallel_include.f90, Modules/parameters.f90,
	  Modules/parser.f90, Modules/pseudo_types.f90,
	  Modules/pseudodata.f90, Modules/readpseudo.f90,
	  Modules/shmem_include.f90, PH/Makefile, PH/add_zstar_ue.f90,
	  PH/adddvscf.f90, PH/addnlcc.f90, PH/addusddens.f90,
	  PH/addusdynmat.f90, PH/addusldos.f90, PH/allocate_part.f90,
	  PH/allocate_phq.f90, PH/bcast_ph_input.f90,
	  PH/bcast_ph_input1.f90, PH/cg_psi.f90, PH/cgsolve_all.f90,
	  PH/ch_psi_all.f90, PH/cinterpolate.f90, PH/compute_becalp.f90,
	  PH/compute_becsum.f90, PH/compute_drhous.f90,
	  PH/compute_dvloc.f90, PH/compute_nldyn.f90,
	  PH/compute_weight.f90, PH/d2ionq.f90, PH/davcio_drho.f90,
	  PH/dgcxc.f90, PH/dgcxc_spin.f90, PH/dgradcorr.f90, PH/dielec.f90,
	  PH/dmxc.f90, PH/dmxc_spin.f90, PH/drho.f90, PH/drhodv.f90,
	  PH/drhodvloc.f90, PH/drhodvnl.f90, PH/drhodvus.f90,
	  PH/dv_of_drho.f90, PH/dvanqq.f90, PH/dvpsi_e.f90,
	  PH/dvqpsi_us.f90, PH/dvqpsi_us_only.f90, PH/dyndia.f90,
	  PH/dynmat0.f90, PH/dynmat_us.f90, PH/dynmatcc.f90,
	  PH/dynmatrix.f90, PH/ef_shift.f90, PH/elphon.f90, PH/h_psiq.f90,
	  PH/incdrhoscf.f90, PH/incdrhous.f90, PH/io_pattern.f90,
	  PH/localdos.f90, PH/newdq.f90, PH/openfilq.f90, PH/phonon.f90,
	  PH/phq_init.f90, PH/phq_readin.f90, PH/phq_recover.f90,
	  PH/phq_setup.f90, PH/phq_summary.f90, PH/phqscf.f90,
	  PH/print_clock_ph.f90, PH/psymdvscf.f90, PH/psyme.f90,
	  PH/punch_plot_e.f90, PH/punch_plot_ph.f90, PH/q2qstar_ph.f90,
	  PH/random_matrix.f90, PH/rotate_and_add_dyn.f90,
	  PH/set_drhoc.f90, PH/set_irr.f90, PH/set_irr_mode.f90,
	  PH/set_irr_nosym.f90, PH/setlocq.f90, PH/setup_dgc.f90,
	  PH/smallgq.f90, PH/addcore.f90, PH/addusdbec.f90,
	  PH/compute_alphasum.f90, PH/elph.f90, PH/intel.pcl, PH/phcom.f90,
	  PH/setqmod.f90, PH/solve_e.f90, PH/solve_linter.f90,
	  PH/star_q.f90, PH/stop_ph.f90, PH/sym_and_write_zue.f90,
	  PH/sym_def.f90, PH/symdvscf.f90, PH/symdyn_munu.f90,
	  PH/symdynph_gq.f90, PH/syme.f90, PH/symz.f90,
	  PH/tra_write_matrix.f90, PH/trntnsc.f90,
	  PH/write_dyn_on_file.f90, PH/write_epsilon_and_zeu.f90,
	  PH/write_matrix.f90, PH/zstar_eu.f90, PP/Makefile,
	  PP/addusdens1d.f90, PP/average.f90, PP/avmain.f90, PP/bands.f90,
	  PP/cgracsc.f90, PP/chdens.f90, PP/chmain.f90, PP/do_postproc.f90,
	  PP/dos.f90, PP/dosg.f90, PP/dost.f90, PP/elf.f90, PP/ggen1d.f90,
	  PP/intel.pcl, PP/local_dos.f90, PP/local_dos1d.f90,
	  PP/plan_avg.f90, PP/plot_io.f90, PP/plotrho.f90, PP/postproc.f90,
	  PP/projected_dos.f90, PP/projwave.f90, PP/projwfc.f90,
	  PP/punch_band.f90, PP/punch_plot.f90, PP/start_postproc.f90,
	  PP/stm.f90, PP/stop_pp.f90, PP/subtract_vxc.f90, PP/voromain.f90,
	  PP/voronoy.f90, PP/work_function.f90, PW/Makefile, PW/aainit.f90,
	  PW/add_vuspsi.f90, PW/addusdens.f90, PW/addusforce.f90,
	  PW/addusstress.f90, PW/allocate.f90, PW/allocate_fft.f90,
	  PW/allocate_locpot.f90, PW/allocate_nlpot.f90,
	  PW/allocate_wfc.f90, PW/allowed.f90, PW/atomic_rho.f90,
	  PW/atomic_wfc.f90, PW/bachel.f90, PW/becmod.f90, PW/bfgs.f90,
	  PW/c_bands.f90, PW/c_gemm.f90, PW/ccalbec.f90, PW/ccgdiagg.f90,
	  PW/cdiagh.f90, PW/cdiaghg.f90, PW/cdiisg.f90, PW/cegterg.f90,
	  PW/cft.f90, PW/cft3.f90, PW/cft3s.f90, PW/cft_3.f90,
	  PW/cfts_3.f90, PW/cgramg1.f90, PW/checkallsym.f90,
	  PW/checksym.f90, PW/cinitcgg.f90, PW/clocks.f90,
	  PW/constrain.f90, PW/conv_to_num.f90, PW/coset.f90,
	  PW/cryst_to_car.f90, PW/cubicsym.f90, PW/d_matrix.f90,
	  PW/data_structure.f90, PW/date_and_tim.f90, PW/davcio.f90,
	  PW/delta_e.f90, PW/deriv_drhoc.f90, PW/diropn.f90,
	  PW/dndepsilon.f90, PW/dndtau.f90, PW/dprojdepsilon.f90,
	  PW/dprojdtau.f90, PW/dqvan2.f90, PW/drhoc.f90, PW/dsum.f90,
	  PW/dvloc_of_g.f90, PW/dylmr2.f90, PW/efermit.f90, PW/eqvect.f90,
	  PW/erf.f90, PW/error_handler.f90, PW/estimate.f90, PW/fftw.f90,
	  PW/funct.f90, PW/functionals.f90, PW/g_psi_mod.f90,
	  PW/gk_sort.f90, PW/gweights.f90, PW/hexsym.f90, PW/hpsort.f90,
	  PW/io.f90, PW/iweights.f90, PW/latgen.f90, PW/linmin.f90,
	  PW/lsda_functionals.f90, PW/multable.f90, PW/n_plane_waves.f90,
	  PW/para.f90, PW/pencils.f90, PW/psymrho.f90, PW/pwcom.f90,
	  PW/pwscf.f90, PW/random.f90, PW/read_conf_from_file.f90,
	  PW/read_pseudo.f90, PW/recips.f90, PW/reduce.f90, PW/restart.f90,
	  PW/restart_from_file.f90, PW/restart_in_electrons.f90,
	  PW/restart_in_ions.f90, PW/rho2zeta.f90, PW/ruotaijk.f90,
	  PW/s_axis_to_ca.f90, PW/s_gemm.f90, PW/save_in_cbands.f90,
	  PW/save_in_electrons.f90, PW/save_in_ions.f90, PW/saveall.f90,
	  PW/scala_cdiag.f90, PW/scala_cdiaghg.f90, PW/scala_utils.f90,
	  PW/scatter.f90, PW/seqopn.f90, PW/set_kplusq.f90,
	  PW/set_kup_and_kdw.f90, PW/set_vrs.f90, PW/setqf.f90,
	  PW/setupkpt.f90, PW/simpson.f90, PW/sph_bes.f90, PW/startup.f90,
	  PW/sumkt.f90, PW/swap.f90, PW/trntns.f90, PW/trnvect.f90,
	  PW/tweights.f90, PW/vcsubs.f90, PW/volume.f90, PW/vpack.f90,
	  PW/w0gauss.f90, PW/w1gauss.f90, PW/wgauss.f90, PW/which_dft.f90,
	  PW/write_config_to_file.f90, PW/write_ns.f90, PW/broadcast.f90,
	  PW/cft_fftw.f90, PW/cft_sgi.f90, PW/cft_sp.f90, PW/cft_sun.f90,
	  PW/cft_t3e.f90, PW/cgather_sym.f90, PW/check.f90, PW/divide.f90,
	  PW/divide_et_impera.f90, PW/dynamics.f90, PW/efermig.f90,
	  PW/electrons.f90, PW/error.f90, PW/ewald.f90, PW/fft_scatter.f90,
	  PW/force_cc.f90, PW/force_corr.f90, PW/force_ew.f90,
	  PW/force_hub.f90, PW/force_lc.f90, PW/force_us.f90,
	  PW/forces.f90, PW/g_psi.f90, PW/gather.f90, PW/gen_at_dj.f90,
	  PW/gen_at_dy.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PW/ggen.f90, PW/good_fft_dimension.f90, PW/gradcorr.f90,
	  PW/h_1psi.f90, PW/h_psi.f90, PW/hinit0.f90, PW/hinit1.f90,
	  PW/init_ns.f90, PW/init_pool.f90, PW/init_run.f90,
	  PW/init_us_1.f90, PW/init_us_2.f90, PW/init_vloc.f90,
	  PW/input.f90, PW/intel.pcl, PW/interpolate.f90, PW/invmat.f90,
	  PW/io_pot.f90, PW/ions.f90, PW/irrek.f90, PW/kpoint_grid.f90,
	  PW/lchk_tauxk.f90, PW/maximum.f90, PW/mix_pot.f90,
	  PW/mix_rho.f90, PW/mode_group.f90, PW/move_ions.f90,
	  PW/new_ns.f90, PW/newd.f90, PW/openfil.f90, PW/ortho.f90,
	  PW/orthoatwfc.f90, PW/poolbcast.f90, PW/poolextreme.f90,
	  PW/poolrecover.f90, PW/poolreduce.f90, PW/poolscatter.f90,
	  PW/potinit.f90, PW/print_clock_pw.f90, PW/punch.f90,
	  PW/qvan2.f90, PW/read_file.f90, PW/read_ncpp.f90, PW/readin.f90,
	  PW/readnewvan.f90, PW/readvan.f90, PW/remove_atomic_rho.f90,
	  PW/rgen.f90, PW/rotate_wfc.f90, PW/s_1psi.f90, PW/s_psi.f90,
	  PW/scale_h.f90, PW/scnds.f90, PW/scopy_t3e.f90,
	  PW/set_fft_dim.f90, PW/set_pencils.f90, PW/set_rhoc.f90,
	  PW/setlocal.f90, PW/setup.f90, PW/setv.f90, PW/sgam_at.f90,
	  PW/sgam_ph.f90, PW/sgama.f90, PW/show_memory.f90,
	  PW/smallg_q.f90, PW/stop_pw.f90, PW/stres_cc.f90,
	  PW/stres_ewa.f90, PW/stres_gradcorr.f90, PW/stres_har.f90,
	  PW/stres_hub.f90, PW/stres_knl.f90, PW/stres_loc.f90,
	  PW/stres_us.f90, PW/stress.f90, PW/struct_fact.f90,
	  PW/sum_band.f90, PW/sumkg.f90, PW/summary.f90, PW/symrho.f90,
	  PW/symtns.f90, PW/symvect.f90, PW/tabd.f90, PW/trnvecc.f90,
	  PW/update_pot.f90, PW/updathes.f90, PW/upf_to_internal.f90,
	  PW/usnldiag.f90, PW/v_of_rho.f90, PW/vcsmd.f90, PW/vhpsi.f90,
	  PW/vloc_of_g.f90, PW/wfcinit.f90, PW/ylmr2.f90, clib/c_getenv.c,
	  clib/c_today.c, clib/cpflush.c, clib/cptimer.c, clib/factor.c,
	  clib/fft_stick.c, clib/Makefile, clib/config.h, clib/cp.h,
	  clib/fftw.c, clib/fftw.h, clib/indici.c, clib/konst.h,
	  clib/memstat.c, clib/qsort.c, clib/readocc.c, clib/round2.c,
	  flib/adjef.f90, flib/cgedi.f90, flib/cgefa.f90,
	  flib/cp_oneover_v.f90, flib/dgemul.f90, flib/enthropy.f90,
	  flib/erf.f90, flib/error.f90, flib/forceconv.f90,
	  flib/geninv.f90, flib/iceil.f90, flib/indices.f90, flib/inv3.f90,
	  flib/itoa.f90, flib/miller.f90, flib/simpsn.f90, flib/sort.f90,
	  flib/transto.f90, flib/Makefile, flib/blas.f, flib/blockset.f90,
	  flib/dlamch.f, flib/eispack.f, flib/gridsetup.f90,
	  flib/hangup.f90, flib/ilcm.f, flib/indxg2l.f, flib/indxg2p.f,
	  flib/indxl2g.f, flib/infog1l.f, flib/infog2l.f, flib/lapack.f,
	  flib/lapack_t3e.f, flib/localdim.f90, flib/localindex.f90,
	  flib/matmul.f90, flib/npreroc.f, flib/numroc.f, flib/ownerof.f90,
	  flib/proc_grid.f, flib/reduce.f90, flib/startup.f90,
	  flib/syncronize.f90, flib/work.pcl, include/fpmd.h,
	  include/machine.h, include/machine.h.README, include/opt_param.h,
	  install/Make.alpha, install/Make.alphaMPI, install/Make.beo_ifc,
	  install/Make.beowulf, install/Make.cp90.aix,
	  install/Make.cp90.alpha, install/Make.cp90.alphasc,
	  install/Make.cp90.ibmsp, install/Make.cp90.irix,
	  install/Make.cp90.lnx.absoft, install/Make.cp90.lnx.intel,
	  install/Make.cp90.lnx.pgi, install/Make.cp90.origin,
	  install/Make.cp90.qsw, install/Make.cp90.sx5,
	  install/Make.cp90.t3e, install/Make.fpmd.aix,
	  install/Make.fpmd.alpha, install/Make.fpmd.alphasc,
	  install/Make.fpmd.ibmsp, install/Make.fpmd.irix,
	  install/Make.fpmd.lnx.absoft, install/Make.fpmd.lnx.alpha,
	  install/Make.fpmd.lnx.intel, install/Make.fpmd.lnx.pgi,
	  install/Make.fpmd.origin, install/Make.fpmd.t3e,
	  install/Make.fujitsu, install/Make.hitachi, install/Make.ibm,
	  install/Make.ibmsp, install/Make.origin, install/Make.pc_abs,
	  install/Make.pc_ifc, install/Make.pc_pgi, install/Make.rules_cpp,
	  install/Make.rules_nocpp, install/Make.sun, install/Make.sunmpi,
	  install/Make.t3e, install/Makefile, install/moduledep.c,
	  install/shdep, install/sizeof.c, pseudo/Al.vbc.UPF,
	  pseudo/As.gon.UPF, pseudo/CUS.RRKJ3.UPF, pseudo/CuUS.RRKJ3.UPF,
	  pseudo/Ga.gon.UPF, pseudo/NiUS.RRKJ3.UPF,
	  pseudo/O.LDA.US.RRKJ3.UPF, pseudo/Si.vbc.UPF, pwtools/Makefile,
	  pwtools/band_plot.f90, pwtools/dynmat.f90,
	  pwtools/dynmat.f90.new, pwtools/dynmat.f90.verynew,
	  pwtools/fqha.f90, pwtools/intel.pcl, pwtools/lambda.f90,
	  pwtools/matdyn.f90, pwtools/q2r.f90, pwtools/rigid.f90,
	  upftools/Makefile, upftools/any2upf.f90, upftools/cpmd2upf.f90,
	  upftools/fhi2upf.f90, upftools/ncpp2upf.f90,
	  upftools/oldcp2upf.f90, upftools/UPF, upftools/nclib.f90,
	  upftools/read_upf.f90, upftools/rrkj2upf.f90,
	  upftools/uspp2upf.f90, upftools/vanderbilt.f90,
	  upftools/vdb2upf.f90, upftools/write_upf.f90:

	Initial revision

2003-01-19 22:58  giannozz

	* License, Makefile, PROBLEMI, README, configure,
	  CPV/cell_module.f90, CPV/cplib.f90, CPV/cpr.f90, CPV/cpr_mod.f90,
	  CPV/cprsub.f90, CPV/crayfft.f90, CPV/fftw.f90, CPV/ibmfft.f90,
	  CPV/input.f90, CPV/Makefile, CPV/cpflush.f90, CPV/macdep.f90,
	  CPV/modules.f90, CPV/para.f90, CPV/pw2us.f90,
	  CPV/read_pseudo.f90, CPV/restart.f90, CPV/sort.f90,
	  CPV/which_dft.f90, CPV/wrapper.f90, D3/Makefile,
	  D3/allocate_d3.f90, D3/bcast_d3_input.f90, D3/ch_psi_all2.f90,
	  D3/close_open.f90, D3/d0rhod2v.f90, D3/d2mxc.f90, D3/d3_exc.f90,
	  D3/d3_init.f90, D3/d3_readin.f90, D3/d3_recover.f90,
	  D3/d3_setup.f90, D3/d3_summary.f90, D3/d3_symdyn.f90,
	  D3/d3_symdynph.f90, D3/d3_valence.f90, D3/d3com.f90,
	  D3/d3dyn_cc.f90, D3/d3ionq.f90, D3/d3matrix.f90, D3/d3toten.f90,
	  D3/d3vrho.f90, D3/davcio_drho2.f90, D3/dpsi_corr.f90,
	  D3/dpsidpsidv.f90, D3/dpsidvdpsi.f90, D3/dqrhod2v.f90,
	  D3/drho_cc.f90, D3/drho_drc.f90, D3/drhod2v.f90, D3/dvdpsi.f90,
	  D3/dvscf.f90, D3/gen_dpdvp.f90, D3/gen_dwfc.f90,
	  D3/incdrhoscf2.f90, D3/intel.pcl, D3/openfild3.f90,
	  D3/print_clock_d3.f90, D3/psymd0rho.f90, D3/qstar_d3.f90,
	  D3/read_ef.f90, D3/rotate_and_add_d3.f90, D3/set_d3irr.f90,
	  D3/set_efsh.f90, D3/set_sym_irr.f90, D3/sgama_d3.f90,
	  D3/solve_linter_d3.f90, D3/stop_d3.f90, D3/sym_def1.f90,
	  D3/symd0rho.f90, D3/trntnsc_3.f90, D3/w_1gauss.f90,
	  D3/write_aux.f90, D3/write_d3dyn.f90, D3/write_igk.f90,
	  D3/writed3dyn_5.f90, Gamma/Makefile, Gamma/README, Gamma/a_h.f90,
	  Gamma/add_vuspsi.f90, Gamma/addusdens.f90,
	  Gamma/allocate_fft.f90, Gamma/allocate_wfc.f90,
	  Gamma/atomic_rho.f90, Gamma/c_bands.f90, Gamma/cg_readin.f90,
	  Gamma/cg_setup.f90, Gamma/cg_setupdgc.f90, Gamma/cg_summary.f90,
	  Gamma/cgcom.f90, Gamma/cgsolve.f90, Gamma/d2ion.f90,
	  Gamma/data_structure_para.f90, Gamma/data_structure_scal.f90,
	  Gamma/dgcxc.f90, Gamma/dgcxc_spin.f90, Gamma/dgradcorr.f90,
	  Gamma/dielec.f90, Gamma/dmxc.f90, Gamma/drhodv.f90,
	  Gamma/dvb_cc.f90, Gamma/dvpsi_e.f90, Gamma/dvpsi_kb.f90,
	  Gamma/dyndiar.f90, Gamma/dynmat_init.f90, Gamma/dynmatcc.f90,
	  Gamma/electrons.f90, Gamma/fake.f90, Gamma/find_equiv_sites.f90,
	  Gamma/force_us.f90, Gamma/gamma.f90,
	  Gamma/generate_dynamical_matrix.f90,
	  Gamma/generate_effective_charges.f90, Gamma/ggen.f90,
	  Gamma/gradcorr.f90, Gamma/h_h.f90, Gamma/h_psi.f90,
	  Gamma/init_run.f90, Gamma/intel.pcl, Gamma/interpolate.f90,
	  Gamma/macro.f90, Gamma/mix_rho.f90, Gamma/newd.f90,
	  Gamma/pw_dot.f90, Gamma/pw_gemm.f90, Gamma/pwscf.f90,
	  Gamma/raman.f90, Gamma/rbecmod.f90, Gamma/rdiaghg.f90,
	  Gamma/read_file.f90, Gamma/regterg.f90, Gamma/rhod2vkb.f90,
	  Gamma/rotate_wfc.f90, Gamma/s_psi.f90, Gamma/set_rhoc.f90,
	  Gamma/setlocal.f90, Gamma/solve_e.f90, Gamma/solve_ph.f90,
	  Gamma/stres_us.f90, Gamma/sum_band.f90, Gamma/v_of_rho.f90,
	  Gamma/vloc_psi.f90, Gamma/wfcinit.f90, Gamma/writedyn.f90,
	  Gamma/zvscal.f90, Modules/Makefile, Modules/intel.pcl,
	  Modules/io_base.f90, Modules/io_global.f90, Modules/kind.f90,
	  Modules/mp.f90, Modules/mp_global.f90, Modules/mp_wave.f90,
	  Modules/parallel_include.f90, Modules/parameters.f90,
	  Modules/parser.f90, Modules/pseudo_types.f90,
	  Modules/pseudodata.f90, Modules/readpseudo.f90,
	  Modules/shmem_include.f90, PH/Makefile, PH/add_zstar_ue.f90,
	  PH/adddvscf.f90, PH/addnlcc.f90, PH/addusddens.f90,
	  PH/addusdynmat.f90, PH/addusldos.f90, PH/allocate_part.f90,
	  PH/allocate_phq.f90, PH/bcast_ph_input.f90,
	  PH/bcast_ph_input1.f90, PH/cg_psi.f90, PH/cgsolve_all.f90,
	  PH/ch_psi_all.f90, PH/cinterpolate.f90, PH/compute_becalp.f90,
	  PH/compute_becsum.f90, PH/compute_drhous.f90,
	  PH/compute_dvloc.f90, PH/compute_nldyn.f90,
	  PH/compute_weight.f90, PH/d2ionq.f90, PH/davcio_drho.f90,
	  PH/dgcxc.f90, PH/dgcxc_spin.f90, PH/dgradcorr.f90, PH/dielec.f90,
	  PH/dmxc.f90, PH/dmxc_spin.f90, PH/drho.f90, PH/drhodv.f90,
	  PH/drhodvloc.f90, PH/drhodvnl.f90, PH/drhodvus.f90,
	  PH/dv_of_drho.f90, PH/dvanqq.f90, PH/dvpsi_e.f90,
	  PH/dvqpsi_us.f90, PH/dvqpsi_us_only.f90, PH/dyndia.f90,
	  PH/dynmat0.f90, PH/dynmat_us.f90, PH/dynmatcc.f90,
	  PH/dynmatrix.f90, PH/ef_shift.f90, PH/elphon.f90, PH/h_psiq.f90,
	  PH/incdrhoscf.f90, PH/incdrhous.f90, PH/io_pattern.f90,
	  PH/localdos.f90, PH/newdq.f90, PH/openfilq.f90, PH/phonon.f90,
	  PH/phq_init.f90, PH/phq_readin.f90, PH/phq_recover.f90,
	  PH/phq_setup.f90, PH/phq_summary.f90, PH/phqscf.f90,
	  PH/print_clock_ph.f90, PH/psymdvscf.f90, PH/psyme.f90,
	  PH/punch_plot_e.f90, PH/punch_plot_ph.f90, PH/q2qstar_ph.f90,
	  PH/random_matrix.f90, PH/rotate_and_add_dyn.f90,
	  PH/set_drhoc.f90, PH/set_irr.f90, PH/set_irr_mode.f90,
	  PH/set_irr_nosym.f90, PH/setlocq.f90, PH/setup_dgc.f90,
	  PH/smallgq.f90, PH/addcore.f90, PH/addusdbec.f90,
	  PH/compute_alphasum.f90, PH/elph.f90, PH/intel.pcl, PH/phcom.f90,
	  PH/setqmod.f90, PH/solve_e.f90, PH/solve_linter.f90,
	  PH/star_q.f90, PH/stop_ph.f90, PH/sym_and_write_zue.f90,
	  PH/sym_def.f90, PH/symdvscf.f90, PH/symdyn_munu.f90,
	  PH/symdynph_gq.f90, PH/syme.f90, PH/symz.f90,
	  PH/tra_write_matrix.f90, PH/trntnsc.f90,
	  PH/write_dyn_on_file.f90, PH/write_epsilon_and_zeu.f90,
	  PH/write_matrix.f90, PH/zstar_eu.f90, PP/Makefile,
	  PP/addusdens1d.f90, PP/average.f90, PP/avmain.f90, PP/bands.f90,
	  PP/cgracsc.f90, PP/chdens.f90, PP/chmain.f90, PP/do_postproc.f90,
	  PP/dos.f90, PP/dosg.f90, PP/dost.f90, PP/elf.f90, PP/ggen1d.f90,
	  PP/intel.pcl, PP/local_dos.f90, PP/local_dos1d.f90,
	  PP/plan_avg.f90, PP/plot_io.f90, PP/plotrho.f90, PP/postproc.f90,
	  PP/projected_dos.f90, PP/projwave.f90, PP/projwfc.f90,
	  PP/punch_band.f90, PP/punch_plot.f90, PP/start_postproc.f90,
	  PP/stm.f90, PP/stop_pp.f90, PP/subtract_vxc.f90, PP/voromain.f90,
	  PP/voronoy.f90, PP/work_function.f90, PW/Makefile, PW/aainit.f90,
	  PW/add_vuspsi.f90, PW/addusdens.f90, PW/addusforce.f90,
	  PW/addusstress.f90, PW/allocate.f90, PW/allocate_fft.f90,
	  PW/allocate_locpot.f90, PW/allocate_nlpot.f90,
	  PW/allocate_wfc.f90, PW/allowed.f90, PW/atomic_rho.f90,
	  PW/atomic_wfc.f90, PW/bachel.f90, PW/becmod.f90, PW/bfgs.f90,
	  PW/c_bands.f90, PW/c_gemm.f90, PW/ccalbec.f90, PW/ccgdiagg.f90,
	  PW/cdiagh.f90, PW/cdiaghg.f90, PW/cdiisg.f90, PW/cegterg.f90,
	  PW/cft.f90, PW/cft3.f90, PW/cft3s.f90, PW/cft_3.f90,
	  PW/cfts_3.f90, PW/cgramg1.f90, PW/checkallsym.f90,
	  PW/checksym.f90, PW/cinitcgg.f90, PW/clocks.f90,
	  PW/constrain.f90, PW/conv_to_num.f90, PW/coset.f90,
	  PW/cryst_to_car.f90, PW/cubicsym.f90, PW/d_matrix.f90,
	  PW/data_structure.f90, PW/date_and_tim.f90, PW/davcio.f90,
	  PW/delta_e.f90, PW/deriv_drhoc.f90, PW/diropn.f90,
	  PW/dndepsilon.f90, PW/dndtau.f90, PW/dprojdepsilon.f90,
	  PW/dprojdtau.f90, PW/dqvan2.f90, PW/drhoc.f90, PW/dsum.f90,
	  PW/dvloc_of_g.f90, PW/dylmr2.f90, PW/efermit.f90, PW/eqvect.f90,
	  PW/erf.f90, PW/error_handler.f90, PW/estimate.f90, PW/fftw.f90,
	  PW/funct.f90, PW/functionals.f90, PW/g_psi_mod.f90,
	  PW/gk_sort.f90, PW/gweights.f90, PW/hexsym.f90, PW/hpsort.f90,
	  PW/io.f90, PW/iweights.f90, PW/latgen.f90, PW/linmin.f90,
	  PW/lsda_functionals.f90, PW/multable.f90, PW/n_plane_waves.f90,
	  PW/para.f90, PW/pencils.f90, PW/psymrho.f90, PW/pwcom.f90,
	  PW/pwscf.f90, PW/random.f90, PW/read_conf_from_file.f90,
	  PW/read_pseudo.f90, PW/recips.f90, PW/reduce.f90, PW/restart.f90,
	  PW/restart_from_file.f90, PW/restart_in_electrons.f90,
	  PW/restart_in_ions.f90, PW/rho2zeta.f90, PW/ruotaijk.f90,
	  PW/s_axis_to_ca.f90, PW/s_gemm.f90, PW/save_in_cbands.f90,
	  PW/save_in_electrons.f90, PW/save_in_ions.f90, PW/saveall.f90,
	  PW/scala_cdiag.f90, PW/scala_cdiaghg.f90, PW/scala_utils.f90,
	  PW/scatter.f90, PW/seqopn.f90, PW/set_kplusq.f90,
	  PW/set_kup_and_kdw.f90, PW/set_vrs.f90, PW/setqf.f90,
	  PW/setupkpt.f90, PW/simpson.f90, PW/sph_bes.f90, PW/startup.f90,
	  PW/sumkt.f90, PW/swap.f90, PW/trntns.f90, PW/trnvect.f90,
	  PW/tweights.f90, PW/vcsubs.f90, PW/volume.f90, PW/vpack.f90,
	  PW/w0gauss.f90, PW/w1gauss.f90, PW/wgauss.f90, PW/which_dft.f90,
	  PW/write_config_to_file.f90, PW/write_ns.f90, PW/broadcast.f90,
	  PW/cft_fftw.f90, PW/cft_sgi.f90, PW/cft_sp.f90, PW/cft_sun.f90,
	  PW/cft_t3e.f90, PW/cgather_sym.f90, PW/check.f90, PW/divide.f90,
	  PW/divide_et_impera.f90, PW/dynamics.f90, PW/efermig.f90,
	  PW/electrons.f90, PW/error.f90, PW/ewald.f90, PW/fft_scatter.f90,
	  PW/force_cc.f90, PW/force_corr.f90, PW/force_ew.f90,
	  PW/force_hub.f90, PW/force_lc.f90, PW/force_us.f90,
	  PW/forces.f90, PW/g_psi.f90, PW/gather.f90, PW/gen_at_dj.f90,
	  PW/gen_at_dy.f90, PW/gen_us_dj.f90, PW/gen_us_dy.f90,
	  PW/ggen.f90, PW/good_fft_dimension.f90, PW/gradcorr.f90,
	  PW/h_1psi.f90, PW/h_psi.f90, PW/hinit0.f90, PW/hinit1.f90,
	  PW/init_ns.f90, PW/init_pool.f90, PW/init_run.f90,
	  PW/init_us_1.f90, PW/init_us_2.f90, PW/init_vloc.f90,
	  PW/input.f90, PW/intel.pcl, PW/interpolate.f90, PW/invmat.f90,
	  PW/io_pot.f90, PW/ions.f90, PW/irrek.f90, PW/kpoint_grid.f90,
	  PW/lchk_tauxk.f90, PW/maximum.f90, PW/mix_pot.f90,
	  PW/mix_rho.f90, PW/mode_group.f90, PW/move_ions.f90,
	  PW/new_ns.f90, PW/newd.f90, PW/openfil.f90, PW/ortho.f90,
	  PW/orthoatwfc.f90, PW/poolbcast.f90, PW/poolextreme.f90,
	  PW/poolrecover.f90, PW/poolreduce.f90, PW/poolscatter.f90,
	  PW/potinit.f90, PW/print_clock_pw.f90, PW/punch.f90,
	  PW/qvan2.f90, PW/read_file.f90, PW/read_ncpp.f90, PW/readin.f90,
	  PW/readnewvan.f90, PW/readvan.f90, PW/remove_atomic_rho.f90,
	  PW/rgen.f90, PW/rotate_wfc.f90, PW/s_1psi.f90, PW/s_psi.f90,
	  PW/scale_h.f90, PW/scnds.f90, PW/scopy_t3e.f90,
	  PW/set_fft_dim.f90, PW/set_pencils.f90, PW/set_rhoc.f90,
	  PW/setlocal.f90, PW/setup.f90, PW/setv.f90, PW/sgam_at.f90,
	  PW/sgam_ph.f90, PW/sgama.f90, PW/show_memory.f90,
	  PW/smallg_q.f90, PW/stop_pw.f90, PW/stres_cc.f90,
	  PW/stres_ewa.f90, PW/stres_gradcorr.f90, PW/stres_har.f90,
	  PW/stres_hub.f90, PW/stres_knl.f90, PW/stres_loc.f90,
	  PW/stres_us.f90, PW/stress.f90, PW/struct_fact.f90,
	  PW/sum_band.f90, PW/sumkg.f90, PW/summary.f90, PW/symrho.f90,
	  PW/symtns.f90, PW/symvect.f90, PW/tabd.f90, PW/trnvecc.f90,
	  PW/update_pot.f90, PW/updathes.f90, PW/upf_to_internal.f90,
	  PW/usnldiag.f90, PW/v_of_rho.f90, PW/vcsmd.f90, PW/vhpsi.f90,
	  PW/vloc_of_g.f90, PW/wfcinit.f90, PW/ylmr2.f90, clib/c_getenv.c,
	  clib/c_today.c, clib/cpflush.c, clib/cptimer.c, clib/factor.c,
	  clib/fft_stick.c, clib/Makefile, clib/config.h, clib/cp.h,
	  clib/fftw.c, clib/fftw.h, clib/indici.c, clib/konst.h,
	  clib/memstat.c, clib/qsort.c, clib/readocc.c, clib/round2.c,
	  flib/adjef.f90, flib/cgedi.f90, flib/cgefa.f90,
	  flib/cp_oneover_v.f90, flib/dgemul.f90, flib/enthropy.f90,
	  flib/erf.f90, flib/error.f90, flib/forceconv.f90,
	  flib/geninv.f90, flib/iceil.f90, flib/indices.f90, flib/inv3.f90,
	  flib/itoa.f90, flib/miller.f90, flib/simpsn.f90, flib/sort.f90,
	  flib/transto.f90, flib/Makefile, flib/blas.f, flib/blockset.f90,
	  flib/dlamch.f, flib/eispack.f, flib/gridsetup.f90,
	  flib/hangup.f90, flib/ilcm.f, flib/indxg2l.f, flib/indxg2p.f,
	  flib/indxl2g.f, flib/infog1l.f, flib/infog2l.f, flib/lapack.f,
	  flib/lapack_t3e.f, flib/localdim.f90, flib/localindex.f90,
	  flib/matmul.f90, flib/npreroc.f, flib/numroc.f, flib/ownerof.f90,
	  flib/proc_grid.f, flib/reduce.f90, flib/startup.f90,
	  flib/syncronize.f90, flib/work.pcl, include/fpmd.h,
	  include/machine.h, include/machine.h.README, include/opt_param.h,
	  install/Make.alpha, install/Make.alphaMPI, install/Make.beo_ifc,
	  install/Make.beowulf, install/Make.cp90.aix,
	  install/Make.cp90.alpha, install/Make.cp90.alphasc,
	  install/Make.cp90.ibmsp, install/Make.cp90.irix,
	  install/Make.cp90.lnx.absoft, install/Make.cp90.lnx.intel,
	  install/Make.cp90.lnx.pgi, install/Make.cp90.origin,
	  install/Make.cp90.qsw, install/Make.cp90.sx5,
	  install/Make.cp90.t3e, install/Make.fpmd.aix,
	  install/Make.fpmd.alpha, install/Make.fpmd.alphasc,
	  install/Make.fpmd.ibmsp, install/Make.fpmd.irix,
	  install/Make.fpmd.lnx.absoft, install/Make.fpmd.lnx.alpha,
	  install/Make.fpmd.lnx.intel, install/Make.fpmd.lnx.pgi,
	  install/Make.fpmd.origin, install/Make.fpmd.t3e,
	  install/Make.fujitsu, install/Make.hitachi, install/Make.ibm,
	  install/Make.ibmsp, install/Make.origin, install/Make.pc_abs,
	  install/Make.pc_ifc, install/Make.pc_pgi, install/Make.rules_cpp,
	  install/Make.rules_nocpp, install/Make.sun, install/Make.sunmpi,
	  install/Make.t3e, install/Makefile, install/moduledep.c,
	  install/shdep, install/sizeof.c, pseudo/Al.vbc.UPF,
	  pseudo/As.gon.UPF, pseudo/CUS.RRKJ3.UPF, pseudo/CuUS.RRKJ3.UPF,
	  pseudo/Ga.gon.UPF, pseudo/NiUS.RRKJ3.UPF,
	  pseudo/O.LDA.US.RRKJ3.UPF, pseudo/Si.vbc.UPF, pwtools/Makefile,
	  pwtools/band_plot.f90, pwtools/dynmat.f90,
	  pwtools/dynmat.f90.new, pwtools/dynmat.f90.verynew,
	  pwtools/fqha.f90, pwtools/intel.pcl, pwtools/lambda.f90,
	  pwtools/matdyn.f90, pwtools/q2r.f90, pwtools/rigid.f90,
	  upftools/Makefile, upftools/any2upf.f90, upftools/cpmd2upf.f90,
	  upftools/fhi2upf.f90, upftools/ncpp2upf.f90,
	  upftools/oldcp2upf.f90, upftools/UPF, upftools/nclib.f90,
	  upftools/read_upf.f90, upftools/rrkj2upf.f90,
	  upftools/uspp2upf.f90, upftools/vanderbilt.f90,
	  upftools/vdb2upf.f90, upftools/write_upf.f90:

	O-sesame

